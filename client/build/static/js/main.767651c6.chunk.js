(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var r,n,c=a(0),o=a.n(c);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var i=function(e){return o.a.createElement("svg",l({viewBox:"0 0 25.4686 20.6502"},e),r||(r=o.a.createElement("defs",null)),n||(n=o.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},o.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},o.a.createElement("path",{className:"cls-1",d:"M4.3456,9.448A8.0011,8.0011,0,0,1,18.1469,4.51"}),o.a.createElement("polygon",{className:"cls-2",points:"8.8 6.723 6.647 15.64 0 9.317 8.8 6.723"}),o.a.createElement("path",{className:"cls-3",d:"M21.122,11.1279A8.001,8.001,0,0,1,7.3673,16.1942"}),o.a.createElement("polygon",{className:"cls-4",points:"16.693 13.895 18.763 4.958 25.469 11.218 16.693 13.895"})))))};a.p},164:function(e,t,a){},167:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return s});var r=a(2),n=a(0),c=a.n(n),o=a(6),l=a.n(o),i=c.a.createContext(),s=function(e){var t=e.children,a=Object(n.useState)(),o=Object(r.a)(a,2),s=o[0],u=o[1];return Object(n.useEffect)(function(){l.a.post("/usmktpriceupdates").then(function(e){u(e.data)})},[]),c.a.createElement(i.Provider,{value:{mktpricedata:s,setMktpricedata:u}},t)}},186:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return l});var r=a(2),n=a(0),c=a.n(n),o=c.a.createContext(),l=function(e){var t=e.children,a=Object(n.useState)(!1),l=Object(r.a)(a,2),i=l[0],s=l[1];return c.a.createElement(o.Provider,{value:{updateScores:i,setUpdateScores:s}},t)}},21:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return l});var r=a(2),n=a(0),c=a.n(n),o=c.a.createContext(),l=function(e){var t=e.children,a=Object(n.useState)(!0),l=Object(r.a)(a,2),i=l[0],s=l[1],u=Object(n.useState)(!0),m=Object(r.a)(u,2),p=m[0],d=m[1];return c.a.createElement(o.Provider,{value:{posrefresh:i,togglePosrefresh:function(e){s(function(e){return!e})},QSrefresh:p,toggleQSrefresh:function(e){d(function(e){return!e})}}},t)}},289:function(e,t,a){"use strict";var r=a(1),n=a(2),c=a(0),o=a.n(c),l=a(6),i=a.n(l),s=a(4),u=a(8),m=a(138),p=a.n(m),d=(a(371),a(320),a(67)),f=a(21),h=a(90),g=a(12),b=a.n(g),y=a(25);a(293),a(506);function v(){v=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=O(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var E=function(e){var t=JSON.parse(localStorage.getItem("role")),a=(Object(c.useContext)(d.a).state,Object(c.useContext)(f.a)),l=a.QSrefresh,m=a.toggleQSrefresh,g=Object(c.useContext)(h.a),E=g.toggleQSload,O=(g.loaduser,g.QStoload,g.setFromdropdown),N=g.setQStoload,j=g.toggleDuplicate,w=JSON.parse(localStorage.getItem("accesstoken")),x=JSON.parse(localStorage.getItem("refreshtoken")),S=i.a.create({headers:{Authorization:"Bearer ".concat(w)}}),C=i.a.create({headers:{Authorization:"Bearer ".concat(x)}});S.interceptors.response.use(function(e){return e},function(){var t=Object(u.a)(v().mark(function t(a){var r;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!x||403!==a.response.status){t.next=8;break}return t.next=3,C.post("/refreshtoken");case 3:return r=t.sent,w=r.data.accesstoken,t.next=7,S.post("/sales",{userID:e.userID,limit:e.limit},{headers:{Authorization:"Bearer ".concat(w)}});case 7:return t.abrupt("return",t.sent);case 8:return t.abrupt("return",Promise.reject(a.response));case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());var D=Object(c.useState)([]),k=Object(n.a)(D,2),I=k[0],L=k[1],F=Object(c.useState)(e.config.sort||{column:"",order:""}),P=Object(n.a)(F,2),$=P[0],Q=P[1],T=Object(c.useState)([]),q=Object(n.a)(T,2),B=q[0],A=q[1];Object(c.useState)(function(){e.setColumns(e.config.columns)},[]),Object(c.useEffect)(Object(u.a)(v().mark(function t(){return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.post("/sales",{userID:e.userID,limit:e.limit}).then(function(t){L(t.data),e.columns&&A(Object.keys(e.columns))});case 2:case"end":return t.stop()}},t)})),[l,e.userID,e.limit,e.columns]);var G=function(e){var t="asc"===$.order?"headerSortAsc":"headerSortDesc";return $.column===e?t:""},_={"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t}},K=[],R={},M=/^((?:(?:[<>]=?)|==))\s?([-]?\d+(?:\.\d+)?)$/;B.forEach(function(t){var a,r=e.columns[t].filterText;if(R[t]=null,r.length>0){var n=M.exec(r);n&&3===n.length?R[t]=(a=n,function(e){if(e)return _[a[1]](e,a[2])}):R[t]=function(e){if(e)return e.toString().toLowerCase().indexOf(r.toLowerCase())>-1}}});var Y=p.a.filter(I,function(e){return p.a.every(B,function(t){return!R[t]||R[t](e[t])})}),W=p.a.sortBy(Y,$.column);"desc"===$.order&&W.reverse();W.forEach(function(e,a){var r;K.push(o.a.createElement("tr",{id:a,key:a},(r=e,B.map(function(e,t){return"quantity"===e?r[e]?o.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},r[e].toFixed(2)):o.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},"na"):"materialCost"===e||"oFreight"===e||"priceBeforeInterest"===e||"tradingProfit"===e||"tradingMargin"===e||"netback"===e?r[e]?o.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},"$"+r[e].toFixed(2)):o.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},""):"percentageMargin"===e?r[e]?o.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},r[e].toFixed(2)+"%"):o.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},""):r[e]?o.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},r[e]):o.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},"")})),o.a.createElement("div",{className:"crudbuttons"},o.a.createElement("button",{className:"editbutton",onClick:function(t){N(e.QSID),E()}},"Edit"),o.a.createElement("button",{className:"editbutton",onClick:function(t){var a;t.preventDefault(),O(!0),a=e.QSID,i.a.post("duplicateQS",{QSID:a,QSDate:b()().format("yyyy-MM-DD")}).then(function(e){m(),j()})}},"Duplicate"),1===t||2===t?o.a.createElement("button",{className:"editbutton",onClick:function(t){O(!0),Object(y.confirmAlert)({title:"Are you sure?",message:"You are about to delete QS (".concat(e.QSID,"). This deletion is irreversible. Click Delete to continue or Cancel"),buttons:[{label:"Cancel",onClick:function(){return console.log("cancelled")}},{label:"Delete",onClick:function(){var t=Object(u.a)(v().mark(function t(){return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.delete("/deleteQS",{data:{id:e.QSID}}).then(function(e){m(),j()}).catch(function(e){return console.log(e)});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}],closeOnClickOutside:!0,closeOnEscape:!0})}},"Delete"):"")))});var U=B.map(function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("th",{onClick:(a=t,function(t){var r="asc"===$.order?"desc":"asc";$.column!==a&&(r=e.columns[a].defaultSortOrder),Q({column:a,order:r})}),className:"header canceldrag "+G(t)},e.columns[t].name));var a}),z=B.map(function(t){return o.a.createElement("td",{className:"sales-filter canceldrag"},o.a.createElement("input",{type:"text",value:e.columns[t].filterText,onChange:function(a){!function(t,a){e.setColumns(Object(r.a)({},e.columns,Object(s.a)({},a,Object(r.a)({},e.columns[a],{filterText:t.target.value}))))}(a,t)}}))});return o.a.createElement("div",null,o.a.createElement("table",{cellSpacing:"0",className:"tablesorter"},o.a.createElement("thead",null,o.a.createElement("tr",null,U,o.a.createElement("th",{className:"header lastheader"})),o.a.createElement("tr",{className:"searchboxes"},z,o.a.createElement("td",null))),o.a.createElement("tbody",null,K)))},O=(a(508),a(158));t.a=function(e){var t=Object(c.useContext)(f.a).toggleQSrefresh,a=Object(c.useContext)(h.a),l=a.loaduser,s=a.setLoaduser,u=(a.QStoload,a.setFromdropdown),m=Object(c.useState)(),p=Object(n.a)(m,2),d=p[0],g=p[1],b=Object(c.useState)(l),y=Object(n.a)(b,2),v=(y[0],y[1],Object(c.useState)(300)),N=Object(n.a)(v,2),j=N[0],w=N[1],x=Object(c.useState)(),S=Object(n.a)(x,2),C=S[0],D=S[1];Object(c.useEffect)(function(){i.a.post("/traders").then(function(e){g(e.data)})},[]);return o.a.createElement("div",{className:"saleslist"},o.a.createElement("div",{className:"salestitleline"},o.a.createElement("h3",{className:"saleslisttitle"},"Sales List"),o.a.createElement("button",{className:"clearfilterbutton",onClick:function(e){D(Object(r.a)({},C,{QSDate:Object(r.a)({},C.QSDate,{filterText:""}),QSID:Object(r.a)({},C.QSID,{filterText:""}),saleType:Object(r.a)({},C.saleType,{filterText:""}),WGP:Object(r.a)({},C.WGP,{filterText:""}),WGS:Object(r.a)({},C.WGS,{filterText:""}),abbreviation:Object(r.a)({},C.abbreviation,{filterText:""}),supplier:Object(r.a)({},C.supplie,{filterText:""}),customer:Object(r.a)({},C.customer,{filterText:""}),beginning:Object(r.a)({},C.beginning,{filterText:""}),finish:Object(r.a)({},C.finish,{filterText:""}),portOfLoad:Object(r.a)({},C.portOfLoad,{filterText:""}),portOfDestination:Object(r.a)({},C.portOfDestination,{filterText:""}),quantity:Object(r.a)({},C.quantity,{filterText:""}),materialCost:Object(r.a)({},C.materialCost,{filterText:""}),oFreight:Object(r.a)({},C.oFreight,{filterText:""}),priceBeforeInterest:Object(r.a)({},C.priceBeforeInterest,{filterText:""}),tradingProfit:Object(r.a)({},C.tradingProfit,{filterText:""}),tradingMargin:Object(r.a)({},C.tradingMargin,{filterText:""}),percentageMargin:Object(r.a)({},C.percentageMargin,{filterText:""}),netback:Object(r.a)({},C.netback,{filterText:""}),saleComplete:Object(r.a)({},C.saleComplete,{filterText:""})}))}},"Clear Filters"),o.a.createElement("select",{onChange:function(e){return w(e.target.value)}},o.a.createElement("option",{value:300},"300"),o.a.createElement("option",{value:1e3},"1000"),o.a.createElement("option",{value:"no limit"},"no limit")),o.a.createElement("select",{onChange:function(e){u(!0),s(e.target.value)}},o.a.createElement("option",{value:"all"},"All"),d?d.map(function(e){return e.trader===l?o.a.createElement("option",{selected:!0,value:e.trader},e.trader):o.a.createElement("option",{value:e.trader},e.trader)}):"reload"),o.a.createElement(O.a,{className:"refreshicon",onClick:function(e){t()}})),o.a.createElement(E,{config:{sort:{column:"QSID",order:"desc"},columns:{QSDate:{name:"QSDate",filterText:"",defaultSortOrder:"asc"},QSID:{name:"QSID",filterText:"",defaultSortOrder:"asc"},saleType:{name:"SaleType",filterText:"",defaultSortOrder:"asc"},WGP:{name:"WGP",filterText:"",defaultSortOrder:"asc"},WGS:{name:"WGS",filterText:"",defaultSortOrder:"asc"},abbreviation:{name:"Product",filterText:"",defaultSortOrder:"asc"},supplier:{name:"Supplier",filterText:"",defaultSortOrder:"asc"},customer:{name:"Customer",filterText:"",defaultSortOrder:"asc"},beginning:{name:"From",filterText:"",defaultSortOrder:"asc"},finish:{name:"To",filterText:"",defaultSortOrder:"asc"},portOfLoad:{name:"POL",filterText:"",defaultSortOrder:"asc"},portOfDestination:{name:"POD",filterText:"",defaultSortOrder:"asc"},quantity:{name:"Quantity",filterText:"",defaultSortOrder:"asc"},materialCost:{name:"Cost",filterText:"",defaultSortOrder:"asc"},oFreight:{name:"Freight",filterText:"",defaultSortOrder:"asc"},priceBeforeInterest:{name:"SalesPrice",filterText:"",defaultSortOrder:"asc"},tradingProfit:{name:"Profit",filterText:"",defaultSortOrder:"asc"},tradingMargin:{name:"TotalProfit",filterText:"",defaultSortOrder:"asc"},percentageMargin:{name:"Margin",filterText:"",defaultSortOrder:"asc"},netback:{name:"Netback",filterText:"",defaultSortOrder:"asc"},saleComplete:{name:"Status",filterText:"",defaultSortOrder:"asc"}}},userID:l,limit:j,showEditModal:e.showEditModal,hideEditModal:e.hideEditModal,QSmodalState:e.QSmodalState,QStoedit:e.QStoedit,columns:C,setColumns:D}))}},290:function(e,t,a){"use strict";var r=a(2),n=a(0),c=a.n(n),o=a(6),l=a.n(o),i=a(12),s=a.n(i),u=(a(516),a(23)),m=a(90),p=function(e){var t=e.usposnumber,a=e.usposmatchnumber,o=t===a?"postooltip":"postooltip display-none",i=Object(n.useState)(),s=Object(r.a)(i,2),u=s[0],m=s[1];return Object(n.useEffect)(function(){t===a&&l.a.post("/usposmatching",{usposnumber:t}).then(function(e){m(e.data)})},[a]),c.a.createElement("span",{className:o},c.a.createElement("h4",null,"Matching Sales for Lot ",t),c.a.createElement("ul",null,c.a.createElement("li",{className:"posmatchitem"},c.a.createElement("h4",null,"WGS"),c.a.createElement("h4",null,"Trader"),c.a.createElement("h4",null,"Customer"),c.a.createElement("h4",null,"Quantity (mt)"),c.a.createElement("h4",null,"Sales Price (/mt)"),c.a.createElement("h4",null,"Profit (pmt)"),c.a.createElement("h4",null,"Shipment Date")),u?u.map(function(e){return c.a.createElement("li",{className:"posmatchitem"},c.a.createElement("p",null,e.KTS),c.a.createElement("p",null,e.tCode),c.a.createElement("p",null,e.companyCode),c.a.createElement("p",null,e.quantity),c.a.createElement("p",null,"$"+e.priceAfterInterest),c.a.createElement("p",null,"$"+e.tradingProfit),c.a.createElement("p",null,e.whexit))}):"No matching sales found"))},d=a(24),f=a(18),h=a(167),g=function(e){var t=e.usqsid,a=e.usqsidmatch,o=e.setUsqsidmatch,i=Object(n.useContext)(h.a).setMktpricedata,s=t===a?"mktpriceupdatemenu":"mktpriceupdatemenu display-none",u=Object(n.useState)(),m=Object(r.a)(u,2),p=m[0],d=m[1];return c.a.createElement("div",{className:s},c.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),l.a.post("/addusmktprice",{mktprice:p,usqsid:t}).then(function(){l.a.post("/usmktpriceupdates").then(function(e){i(e.data),o(0),d("")})})}(e)}},c.a.createElement("input",{value:p,onChange:function(e){!function(e){(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&d(e.target.value)}(e)},onDoubleClick:function(e){e.target.select()},required:!0}),c.a.createElement("button",{type:"submit"},"Update")))};t.a=function(){var e=Object(n.useContext)(m.a),t=e.setQStoload,a=e.setLoaduser,o=e.setFromdropdown,i=Object(n.useContext)(h.a).mktpricedata;Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var b=Object(n.useState)({}),y=Object(r.a)(b,2),v=y[0],E=y[1];Object(n.useEffect)(function(){l.a.post("/usapositionreport").then(function(e){var t=e.data.groupBy("productGroup");E(t)})},[]);var O=function(e,t,a,r,n,c,o){var l=s()().diff(s()(e),"days")>0?s()().diff(s()(e),"days"):0,i=l>r?l=r:0;return t/o+Math.ceil(i/n)*a*c/o},N=Object(n.useState)(0),j=Object(r.a)(N,2),w=j[0],x=j[1],S=Object(n.useState)(0),C=Object(r.a)(S,2),D=C[0],k=C[1],I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return t+" "+e.toFixed(a).replace(/\B(?=(\d{3})+(?!\d))/g,",")},L=function(e,t,a){if(i){var r=i.filter(function(t){return t.QSID===e});return r[0]?I(r[0].mktpriceupdate*t-t*Number(a.replace(/[^0-9.-]+/g,"")),"$",0):"N/A"}},F="",P={},$=0,Q=0,T=0;return c.a.createElement("div",{className:"uspositionreport"},c.a.createElement("table",{id:"uspositionreporttable"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"USWGP"),c.a.createElement("th",{className:"fig"},"Quantity"),c.a.createElement("th",{className:"fig"},"Inventory"),c.a.createElement("th",null,"Warehouse"),c.a.createElement("th",{className:"fig"},"EW Price"),c.a.createElement("th",{className:"fig"},"Storage"),c.a.createElement("th",null,"Supplier"),c.a.createElement("th",null,"From"),c.a.createElement("th",null,"To"),c.a.createElement("th",{className:"fig"},"CostValue"),c.a.createElement("th",{className:"fig"},"MktPrice"),c.a.createElement("th",{className:"fig"},"MktValue"),c.a.createElement("th",{className:"fig"},"PProfit"))),c.a.createElement("tbody",null,Object.entries(v).map(function(e,r){return F=Object.keys(v)[r],P=v[F].groupBy("product"),[c.a.createElement("tr",null,c.a.createElement("td",{className:"usprodgroup",colSpan:13},c.a.createElement("p",null,F))),Object.entries(P).map(function(e,r){return $=0,Q=0,T=0,[c.a.createElement("tr",null,c.a.createElement("td",{className:"usproduct",colSpan:13},c.a.createElement("h4",null,Object.keys(P)[r]))),e[1].map(function(e){$+=Number(e.Inventory);var r=L(e.QSID,e.Inventory,e.EWPrice);return Q+=Number(r.replace("$","").replace(",","")),T+=e.Inventory*(Number(e.EWPrice.replace(/[^0-9.-]+/g,""))+O(e.whentry,e.storagefixed,e.storagevariable,e.stggraceperiod,e.stgaccrualperiod,e.quantitypallets,e.quantity)),c.a.createElement(c.a.Fragment,null,c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("div",{className:"postooltipsource",onMouseOver:function(t){!function(e){x(e)}(e.USWGP)},onMouseLeave:function(e){x(0)}},c.a.createElement(u.b,{onClick:function(r){o(!1),t(e.QSID),a(e.tCode)},to:"/sales"},e.USWGP),c.a.createElement(p,{usposnumber:e.USWGP,usposmatchnumber:w}))),c.a.createElement("td",{className:"fig"},e.quantity.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("td",{className:"fig"},Number(e.Inventory).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("td",null,e.warehouseName),c.a.createElement("td",{className:"fig"},e.EWPrice.replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("td",null,"$"+O(e.whentry,e.storagefixed,e.storagevariable,e.stggraceperiod,e.stgaccrualperiod,e.quantitypallets,e.quantity).toFixed(2)),c.a.createElement("td",null,e.supplier),c.a.createElement("td",null,s()(e.shipmentStart).format("DD-MMM-YYYY").toString()),c.a.createElement("td",null,s()(e.shipmentEnd).format("DD-MMM-YYYY").toString()),c.a.createElement("td",{className:"fig"},"$"+(e.Inventory*(Number(e.EWPrice.replace(/[^0-9.-]+/g,""))+O(e.whentry,e.storagefixed,e.storagevariable,e.stggraceperiod,e.stgaccrualperiod,e.quantitypallets,e.quantity))).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("td",{className:"mktpriceupdate fig"},c.a.createElement(d.a,{style:{marginRight:"5px"},onClick:function(t){e.QSID===D?k(0):k(e.QSID)},name:"hi",icon:f.h}),c.a.createElement(g,{usqsid:e.QSID,usqsidmatch:D,setUsqsidmatch:k}),c.a.createElement("p",null,function(e){if(i){var t=i.filter(function(t){return t.QSID===e});return t[0]?I(t[0].mktpriceupdate):"N/A"}}(e.QSID)," ")),c.a.createElement("td",{className:"fig"},function(e,t){if(i){var a=i.filter(function(t){return t.QSID===e});return a[0]?I(a[0].mktpriceupdate*t,"$",0):"N/A"}}(e.QSID,e.Inventory)),c.a.createElement("td",{className:"fig"},L(e.QSID,e.Inventory,e.EWPrice))))}),c.a.createElement("tr",{className:"totals"},c.a.createElement("td",{colSpan:2},c.a.createElement("h4",null,"Total")),c.a.createElement("td",{className:"fig"},c.a.createElement("h4",null,$.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),c.a.createElement("td",{colSpan:6}),c.a.createElement("td",{className:"fig"},c.a.createElement("h4",null,I(T,"$",0))),c.a.createElement("td",{colSpan:2}),c.a.createElement("td",{className:"fig"},c.a.createElement("h4",null,I(Q,"$",0))))]})]}))))}},306:function(e,t,a){"use strict";var r=a(8),n=a(4),c=a(1),o=a(55),l=a(2),i=a(0),s=a.n(i),u=(a(513),a(6)),m=a.n(u),p=a(81),d=a(21),f=a(25),h=(a(293),a(12)),g=a.n(h);function b(){b=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=O(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var y=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(e){var t=e.handleClose,a=e.show,u=e.QStoedit,h=Object(i.useContext)(d.a).toggleQSrefresh,y=a?"modal QSmodal display-block":"modal QSmodal display-none",v=Object(i.useState)(),E=Object(l.a)(v,2),O=E[0],N=E[1],j=Object(i.useState)(),w=Object(l.a)(j,2),x=w[0],S=w[1],C=Object(i.useState)([]),D=Object(l.a)(C,2),k=D[0],I=D[1],L=Object(i.useState)(),F=Object(l.a)(L,2),P=F[0],$=F[1],Q=Object(i.useState)(!0),T=Object(l.a)(Q,2),q=T[0],B=T[1];Object(i.useEffect)(function(){a&&m.a.post("/QSIDList").then(function(e){var t=Object(o.a)(new Set(e.data.map(function(e){return e.QSID})));N(u.QSID),S(u.QSID),I(t),B(!q)})},[a]),Object(i.useEffect)(function(){$(k.indexOf(O))},[q]);var A={includedrate:"",includedperiod:"",quantity:"",materialcost:"",pcommission:"",pfinancecost:"",sfinancecost:"",freightpmt:"",insurancecost:"",inspectioncost:"",scommission:"",interestcost:"",legal:"",pallets:"",other:"",totalcost:"",interestrate:"",interestdays:"",pricebeforeint:"",salesinterest:"",priceafterint:""},G=Object(i.useState)(A),_=Object(l.a)(G,2),K=_[0],R=_[1],M=Object(i.useState)(null),Y=Object(l.a)(M,2),W=(Y[0],Y[1]),U=Object(i.useState)(!1),z=Object(l.a)(U,2),H=z[0],J=z[1],V=Object(i.useState)(),Z=Object(l.a)(V,2),X=Z[0],ee=Z[1],te=Object(i.useState)(),ae=Object(l.a)(te,2),re=ae[0],ne=ae[1],ce=Object(i.useState)(),oe=Object(l.a)(ce,2),le=oe[0],ie=oe[1];Object(i.useEffect)(function(){a&&O&&m.a.post("/QStoedit",{id:O}).then(function(e){R(e.data[0]),W(e.data[0]),ie(e.data[0].saleComplete),ee(Object(c.a)({},X,{totalcost:Number(e.data[0].totalcost.replace("$","").replace(",","")),interestcost:Number(e.data[0].interestcost.replace("$","").replace(",","")),salesinterest:Number(e.data[0].salesinterest.replace("$","").replace(",","")),pricebeforeint:Number(e.data[0].pricebeforeint.replace("$","").replace(",","")),priceafterint:Number(e.data[0].priceafterint.replace("$","").replace(",","")),profit:Number(e.data[0].profit.replace("$","").replace(",","")),margin:Number(e.data[0].margin.replace("$","").replace(",","")),turnover:Number(e.data[0].turnover.replace("$","").replace(",","")),pctmargin:Number(e.data[0].pctmargin.replace("%","").replace(",","")/100),netback:Number(e.data[0].netback.replace("$","").replace(",",""))}))})},[a,O]);var se=function(e){e.preventDefault(),R(Object(c.a)({},K,Object(n.a)({},e.target.name,e.target.value))),ee(Object(c.a)({},X,Object(n.a)({},e.target.name,e.target.value)))},ue=function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""==e.target.value)&&(R(Object(c.a)({},K,Object(n.a)({},e.target.name,e.target.value))),ee(Object(c.a)({},X,Object(n.a)({},e.target.name,e.target.value))))},me=function(e){e.preventDefault(),RegExp("^[0-9.,$]+$").test(e.target.value)&&(R(Object(c.a)({},K,Object(n.a)({},e.target.name,e.target.value))),ee(Object(c.a)({},X,Object(n.a)({},e.target.name,e.target.value.includes("$")?e.target.value.replace("$",""):e.target.value))))},pe=function(e){e.preventDefault(),RegExp("^[0-9.%]+$").test(e.target.value)&&(R(Object(c.a)({},K,Object(n.a)({},e.target.name,e.target.value))),ee(Object(c.a)({},X,Object(n.a)({},e.target.name,e.target.value.includes("%")?Number(e.target.value.replace("%",""))/100:Number(e.target.value)/100))))},de=function(e){var t,a;t=e.target.value,a=e.target.name,null!==t&&""!==t?t.toString().includes("$")||t.toString().includes(",")?R(Object(c.a)({},K,Object(n.a)({},a,"$"+Number(t.replace("$","").replace(",","")).toFixed(2)))):R(Object(c.a)({},K,Object(n.a)({},a,"$"+Number(t).toFixed(2)))):R(Object(c.a)({},K,Object(n.a)({},a,"$0.00")))},fe=function(e){var t,a;t=e.target.value,a=e.target.name,null!==t&&""!==t?t.toString().includes("%")?R(Object(c.a)({},K,Object(n.a)({},a,Number(t.replace("%","")).toFixed(2)+"%"))):R(Object(c.a)({},K,Object(n.a)({},a,Number(t).toFixed(2)+"%"))):R(Object(c.a)({},K,Object(n.a)({},a,"0.00%")))};Object(i.useEffect)(function(){le&&(R(Object(c.a)({},K,{saleComplete:-1})),ee(Object(c.a)({},X,{saleComplete:-1}))),le||(R(Object(c.a)({},K,{saleComplete:0})),ee(Object(c.a)({},X,{saleComplete:0})))},[le]);var he=Object(i.useState)(!1),ge=Object(l.a)(he,2),be=ge[0],ye=ge[1];Object(i.useEffect)(function(){be&&(R(Object(c.a)({},K,{finalComplete:1})),ee(Object(c.a)({},X,{finalComplete:1}))),be||(R(Object(c.a)({},K,{finalComplete:0})),ee(Object(c.a)({},X,{finalComplete:0})))},[be]),Object(i.useEffect)(function(){if(K.from&&!K.to&&(R(Object(c.a)({},K,{to:K.from})),ee(Object(c.a)({},X,{to:K.from}))),K.from&&K.to){var e=g()(K.from);g()(K.to).diff(e,"days")<0&&Object(f.confirmAlert)({title:"Check shipment dates",message:"Delivery date (to) cannot be earlier than shipment date (from)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})}},[K.from,K.to]),Object(i.useEffect)(function(){K.freightTotal&&K.payload&&Number(K.freightTotal.replace("$","").replace(",",""))>0&&Number(K.payload)>0&&(R(Object(c.a)({},K,{freightpmt:"$"+(Number(K.freightTotal.replace("$","").replace(",",""))/Number(K.payload)).toFixed(2)})),ee(Object(c.a)({},X,{freightTotal:Number(K.freightTotal.replace("$","").replace(",","")),payload:Number(K.payload),freightpmt:Number(K.freightTotal.replace("$","").replace(",",""))/Number(K.payload)})))},[K.freightTotal,K.payload]),Object(i.useEffect)(function(){R(Object(c.a)({},K,{salesinterest:"$"+(Number(K.interestrate.replace("%",""))/100*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360).toFixed(2)})),ee(Object(c.a)({},X,{salesinterest:Number(K.interestrate.replace("%",""))/100*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360}))},[K.interestdays,K.interestrate,K.pricebeforeint]),Object(i.useEffect)(function(){R(Object(c.a)({},K,{interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?"$"+(Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2)})),ee(Object(c.a)({},X,{interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0}))},[K.includedrate,K.includedperiod,K.pricebeforeint]),Object(i.useEffect)(function(){0===Number(K.interestrate.replace("%",""))||0===K.interestdays?(R(Object(c.a)({},K,{interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?"$"+(Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2),salesinterest:"$"+(Number(K.interestrate.replace("%",""))*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360/100).toFixed(2),priceafterint:"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))+Number(K.salesinterest.replace("$",""))).toFixed(2)})),ee(Object(c.a)({},X,{interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0,salesinterest:Number(K.interestrate.replace("%",""))*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360/100,priceafterint:Number(K.pricebeforeint.replace("$","").replace(",",""))+Number(K.salesinterest.replace("$",""))}))):(R(Object(c.a)({},K,{interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?"$"+(Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2),salesinterest:"$"+(Number(K.interestrate.replace("%",""))*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360/100).toFixed(2),priceafterint:"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))+Number(K.salesinterest.replace("$",""))).toFixed(2)})),ee(Object(c.a)({},X,{interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0,salesinterest:Number(K.interestrate.replace("%",""))*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360/100})))},[K.pricebeforeint]),Object(i.useEffect)(function(){R(Object(c.a)({},K,{priceafterint:"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))+Number(K.salesinterest.replace("$",""))).toFixed(2)})),ee(Object(c.a)({},X,{priceafterint:Number(K.pricebeforeint.replace("$","").replace(",",""))+Number(K.salesinterest.replace("$",""))}))},[K.salesinterest]),Object(i.useEffect)(function(){R(Object(c.a)({},K,{insurancecost:"CPT"===K.incoterms||"CFR"===K.incoterms||"DAP"===K.incoterms?"$"+(.07*Number(K.pricebeforeint.replace("$","").replace(",",""))*1.1/100).toFixed(2):"CIF"===K.incoterms||"CIP"===K.incoterms?"$"+(.14*Number(K.pricebeforeint.replace("$","").replace(",",""))*1.1/100).toFixed(2):"$0.00",inspectioncost:Number(K.quantity.replace(",",""))>0&&K.totalinspection?"$"+Number(Number(K.totalinspection.replace("$","").replace(",",""))/Number(K.quantity.replace(",",""))).toFixed(2):"$0.00",interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?"$"+(Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2),salesinterest:"$"+(Number(K.interestrate.replace("%",""))*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360/100).toFixed(2),priceafterint:"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))+Number(K.salesinterest.replace("$",""))).toFixed(2),profit:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",",""))).toFixed(2):"$0.00",margin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+((Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))*Number(K.quantity.replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",turnover:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(K.quantity.replace(",",""))*Number(K.pricebeforeint.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",pctmargin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?((Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))/Number(K.pricebeforeint.replace("$","").replace(",",""))*100).toFixed(2)+"%":"0.00%",netback:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",",""))+Number(K.materialcost.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00"})),ee(Object(c.a)({},X,{insurancecost:"CFR"===K.incoterms||"CPT"===K.incoterms||"DAP"===K.incoterms?.07*Number(K.pricebeforeint.replace("$","").replace(",",""))*1.1/100:"CIP"===K.incoterms||"CIF"===K.incoterms?.14*Number(K.pricebeforeint.replace("$","").replace(",",""))*1.1/100:0,inspectioncost:Number(K.quantity.replace(",",""))>0&&K.totalinspection?Number(Number(K.totalinspection.replace("$","").replace(",",""))/Number(K.quantity.replace(",",""))):0,interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0,salesinterest:Number(K.interestrate.replace("%",""))*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360/100,priceafterint:Number(K.pricebeforeint.replace("$","").replace(",",""))+Number(K.salesinterest.replace("$","")),profit:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")):0,margin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))*Number(K.quantity.replace(",","")):0,turnover:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?Number(K.quantity.replace(",",""))*Number(K.pricebeforeint.replace("$","").replace(",","")):0,pctmargin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))/Number(K.pricebeforeint.replace("$","").replace(",","")):0,netback:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",",""))+Number(K.materialcost.replace("$","").replace(",","")):0}))},[K.quantity,K.pricebeforeint,K.incoterms,K.totalinspection]),Object(i.useEffect)(function(){R(Object(c.a)({},K,{profit:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",",""))).toFixed(2):"$0.00",margin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+((Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))*Number(K.quantity.replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",turnover:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(K.quantity.replace(",",""))*Number(K.pricebeforeint.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",pctmargin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?((Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))/Number(K.pricebeforeint.replace("$","").replace(",",""))*100).toFixed(2)+"%":"0.00%",netback:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",",""))+Number(K.materialcost.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00"})),ee(Object(c.a)({},X,{profit:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")):0,margin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))*Number(K.quantity.replace(",","")):0,turnover:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?Number(K.quantity.replace(",",""))*Number(K.pricebeforeint.replace("$","").replace(",","")):0,pctmargin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))/Number(K.pricebeforeint.replace("$","").replace(",","")):0,netback:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",",""))+Number(K.materialcost.replace("$","").replace(",","")):0}))},[K.totalcost]),Object(i.useEffect)(function(){R(Object(c.a)({},K,{totalcost:"$"+(Number(K.materialcost.replace("$","").replace(",",""))+Number(K.pcommission.replace("$","").replace(",",""))+Number(K.pfinancecost.replace("$","").replace(",",""))+Number(K.sfinancecost.replace("$","").replace(",",""))+Number(K.freightpmt.replace("$","").replace(",",""))+Number(K.insurancecost.replace("$","").replace(",",""))+Number(K.inspectioncost.replace("$","").replace(",",""))+Number(K.scommission.replace("$","").replace(",",""))+Number(K.interestcost.replace("$","").replace(",",""))+Number(K.legal.replace("$","").replace(",",""))+Number(K.pallets.replace("$","").replace(",",""))+Number(K.other.replace("$","").replace(",",""))).toFixed(2)})),ee(Object(c.a)({},X,{totalcost:Number(K.materialcost.replace("$","").replace(",",""))+Number(K.pcommission.replace("$","").replace(",",""))+Number(K.pfinancecost.replace("$","").replace(",",""))+Number(K.sfinancecost.replace("$","").replace(",",""))+Number(K.freightpmt.replace("$","").replace(",",""))+Number(K.insurancecost.replace("$","").replace(",",""))+Number(K.inspectioncost.replace("$","").replace(",",""))+Number(K.scommission.replace("$","").replace(",",""))+Number(K.interestcost.replace("$","").replace(",",""))+Number(K.legal.replace("$","").replace(",",""))+Number(K.pallets.replace("$","").replace(",",""))+Number(K.other.replace("$","").replace(",",""))}))},[K.materialcost,K.pcommission,K.pfinancecost,K.sfinancecost,K.freightpmt,K.insurancecost,K.inspectioncost,K.scommission,K.interestcost,K.legal,K.pallets,K.other]);var ve=function(){var e=Object(r.a)(b().mark(function e(a){return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,m.a.post("/updateQS",{QSedits:X,QSID:O}).then(function(e){h(),R(A)}).catch(ee({}));case 3:return e.next=5,t();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a?s.a.createElement("div",{className:y},s.a.createElement("section",{className:"modal-main"},s.a.createElement("div",{className:"QSeditmodaltitle"},s.a.createElement("h2",null,"Edit Quotation Sheet"),s.a.createElement("div",null,s.a.createElement("button",null,"Prev"),s.a.createElement("input",{className:"QSeditmodalsearch",onKeyDown:function(e){a&&"ArrowRight"===e.key&&(e.preventDefault(),N(k[P+1]),S(k[P+1]),$(P+1)),a&&"ArrowLeft"===e.key&&(e.preventDefault(),N(k[P-1]),S(k[P-1]),$(P-1)),a&&"Enter"===e.key&&k.includes(Number(e.target.value))&&N(Number(e.target.value))},value:x&&x||"",onChange:function(e){e.preventDefault(),S(e.target.value),$(k.indexOf(Number(e.target.value)))}}),s.a.createElement("button",null,"Next"))),s.a.createElement("form",{className:"QSModalForm",action:"",onSubmit:function(e){ve(e)}},s.a.createElement("section",{id:"edtQS-1"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"QS Date:"),s.a.createElement("input",{name:"QSDate",type:"date",readOnly:!0,value:K&&K.QSDate||"",className:"canceldrag"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"WGP:"),s.a.createElement("input",{name:"KTP",placeholder:"5000...",value:K&&K.KTP||"",onChange:ue,className:"canceldrag"})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Sale Type"),s.a.createElement("div",null,s.a.createElement("input",{type:"radio",name:"saleTypeID",required:!0,checked:!(!K||1!==K.saleTypeID),onClick:function(e){R(Object(c.a)({},K,{saleTypeID:1})),ee(Object(c.a)({},X,{saleTypeID:1}))}}),s.a.createElement("label",{htmlFor:""},"Back-to-back")),s.a.createElement("div",null,s.a.createElement("input",{type:"radio",name:"saleTypeID",required:!0,checked:!(!K||2!==K.saleTypeID),onClick:function(e){R(Object(c.a)({},K,{saleTypeID:2})),ee(Object(c.a)({},X,{saleTypeID:2}))}}),s.a.createElement("label",{htmlFor:""},"Position"),K&&2===K.saleTypeID?s.a.createElement("select",{className:"WGPSelect2",onClick:function(){m.a.post("/positiondropdown").then(function(e){ne(e.data)})},onChange:function(e){return function(e){var t=re[e];console.log(t),R(Object(c.a)({},K,{KTP:t.KTP,product:t.product,supplier:t.Supplier,from:t.start,to:t.end,materialcost:t.Price})),ee(Object(c.a)({},X,{KTP:t.KTP,productID:t.productID,supplierID:t.supplierID,from:t.start,to:t.end,materialcost:t.Price.replace("$","").replace(",","")}))}(e.target.value)}},s.a.createElement("option",null,"Select..."),K&&re?re.map(function(e,t){return s.a.createElement("option",{value:t},e.KTP+" - "+e.product+" - "+e.Supplier)}):""):"")),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"General"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"QSID:"),s.a.createElement("input",{name:"QSID",type:"text",required:!0,value:K&&K.QSID||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Product:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",thirdName:"productGroup",thirdID:"prodGroupID",value:K&&K.product||"",resetfield:H,setResetfield:J,setProdSupplier:function(e,t,a,r,n,o){R(Object(c.a)({},K,{product:t,supplier:r,productgroup:o})),ee(Object(c.a)({},X,{productID:e,supplierID:a}))}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Supplier:"),s.a.createElement("input",{name:"supplier",type:"text",required:!0,value:K&&K.supplier||""})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Customer:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/customers",searchID:"customerID",searchName:"customer",value:K&&K.customer||"",resetfield:H,setResetfield:J,setProdSupplier:function(e,t){R(Object(c.a)({},K,{customer:t})),ee(Object(c.a)({},X,{customerID:e}))}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Contact:"),s.a.createElement("input",{name:"contact",type:"text"}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Packaging"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Pack Size:"),s.a.createElement("input",{name:"packsize",type:"text",required:!0,value:K&&K.packsize||"",onChange:se})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Marks:"),s.a.createElement("input",{name:"marks",type:"text",required:!0,value:K&&K.marks||"",onChange:se}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Delivery"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"From:"),s.a.createElement("input",{name:"from",type:"date",required:!0,value:K&&K.from||"",onChange:se})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"To:"),s.a.createElement("input",{name:"to",type:"date",required:!0,value:K&&K.to||"",onChange:se})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"POL:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/POLS",searchID:"POLID",searchName:"POL",value:K&&K.POL||"",resetfield:H,setResetfield:J,setProdSupplier:function(e,t){R(Object(c.a)({},K,{POL:t})),ee(Object(c.a)({},X,{POLID:e}))}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"POD:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/PODS",searchID:"PODID",searchName:"POD",value:K&&K.POD||"",resetfield:H,setResetfield:J,setProdSupplier:function(e,t){R(Object(c.a)({},K,{POD:t})),ee(Object(c.a)({},X,{PODID:e}))}})))),s.a.createElement("section",{id:"editQS-2"},s.a.createElement("div",{className:"soldcheckbox",style:{marginBottom:"1rem"}},s.a.createElement("input",{className:"canceldrag",name:"saleComplete",type:"checkbox",checked:le,onClick:function(){ie(!le)}}),s.a.createElement("label",null,"Sold")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"WGS:"),s.a.createElement("input",{name:"KTS",placeholder:"5000...",value:K&&K.KTS||"",onChange:ue,className:"canceldrag"})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"In Charge"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Trader:"),s.a.createElement("input",{name:"trader",type:"text",required:!0,value:K&&K.trader||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Traffic:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/trafficmgrs",searchID:"trafficID",searchName:"traffic",value:K&&K.traffic||"",resetfield:H,setResetfield:J,setProdSupplier:function(e,t){R(Object(c.a)({},K,{traffic:t})),ee(Object(c.a)({},X,{trafficID:e}))}}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Terms"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Incoterms:"),s.a.createElement("input",{name:"incoterms",type:"text",required:!0,value:K&&K.incoterms||"",onChange:se})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payment Terms:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/paymentterms",searchID:"paytermID",searchName:"paymentTerm",value:K&&K.paymentterms||"",resetfield:H,setResetfield:J,setProdSupplier:function(e,t){R(Object(c.a)({},K,{paymentterms:t})),ee(Object(c.a)({},X,{pTermID:e}))}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inc. Interest:"),s.a.createElement("input",{name:"includedrate",type:"text",required:!0,value:K&&K.includedrate||"",onChange:pe,onBlur:fe})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inc. Days:"),s.a.createElement("input",{name:"includedperiod",type:"text",required:!0,value:K&&K.includedperiod||"",onChange:se}))),s.a.createElement("div",{className:"shipmentType"},s.a.createElement("input",{type:"radio",name:"shipmenttype"}),s.a.createElement("label",{htmlFor:""},"Container"),s.a.createElement("input",{type:"radio",name:"shipmenttype"}),s.a.createElement("label",{htmlFor:""},"Breakbulk"),s.a.createElement("input",{type:"radio",name:"shipmenttype"}),s.a.createElement("label",{htmlFor:""},"Distribution")),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Freight"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight ID:"),s.a.createElement("input",{name:"freightID",type:"text"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight Total:"),s.a.createElement("input",{name:"freightTotal",className:"QSfig",type:"text",value:K&&K.freightTotal||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Shipping Line:"),s.a.createElement("input",{name:"shippingline",value:K&&K.shippingline||"",onChange:se,type:"text"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payload:"),s.a.createElement("input",{name:"payload",className:"QSfig",type:"text",value:K&&K.payload||"",onChange:me})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Inspection:"),s.a.createElement("input",{name:"totalinspection",type:"text",className:"QSfig",value:K&&K.totalinspection||"",onChange:me,onBlur:de}))),s.a.createElement("div",null,s.a.createElement("input",{type:"checkbox",className:"canceldrag",name:"finalComplete",checked:be,onClick:function(){ye(!be)}}),s.a.createElement("label",{htmlFor:""},"Finalized"))),s.a.createElement("section",{id:"editQS-3"},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Figures"),s.a.createElement("section",{id:"editQS-3-col1"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Quantity:"),s.a.createElement("input",{className:"QSfig",name:"quantity",type:"text",required:!0,value:K&&K.quantity||"",onChange:me})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Costs"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Material Cost:"),s.a.createElement("input",{className:"QSfig",name:"materialcost",type:"text",required:!0,value:K&&K.materialcost||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"P Commission:"),s.a.createElement("input",{className:"QSfig",name:"pcommission",type:"text",required:!0,value:K&&K.pcommission||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"P Finance Cost:"),s.a.createElement("input",{className:"QSfig",name:"pfinancecost",type:"text",required:!0,value:K&&K.pfinancecost||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"S Finance Cost:"),s.a.createElement("input",{className:"QSfig",name:"sfinancecost",type:"text",required:!0,value:K&&K.sfinancecost||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight:"),s.a.createElement("input",{className:"QSfig",name:"freightpmt",type:"text",required:!0,value:K&&K.freightpmt||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Insurance Cost:"),s.a.createElement("input",{className:"QSfig",name:"insurancecost",type:"text",required:!0,value:K&&K.insurancecost||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inspection Cost:"),s.a.createElement("input",{className:"QSfig",name:"inspectioncost",type:"text",required:!0,value:K&&K.inspectioncost||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"S Commission:"),s.a.createElement("input",{className:"QSfig",name:"scommission",type:"text",required:!0,value:K&&K.scommission||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Cost:"),s.a.createElement("input",{className:"QSfig",name:"interestcost",type:"text",required:!0,value:K&&K.interestcost||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Legal:"),s.a.createElement("input",{className:"QSfig",name:"legal",type:"text",required:!0,value:K&&K.legal||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Pallets:"),s.a.createElement("input",{className:"QSfig",name:"pallets",type:"text",required:!0,value:K&&K.pallets||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Other:"),s.a.createElement("input",{className:"QSfig",name:"other",type:"text",required:!0,value:K&&K.other||"",onChange:me,onBlur:de}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Cost:"),s.a.createElement("input",{className:"QSfig",name:"totalcost",type:"text",required:!0,readOnly:!0,value:K&&K.totalcost||"",onChange:me,onBlur:de}))),s.a.createElement("section",{id:"editQS-3-col2"},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Sales Interest"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Rate:"),s.a.createElement("input",{className:"QSfig",name:"interestrate",type:"text",required:!0,value:K&&K.interestrate||"",onChange:pe,onBlur:fe})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Days:"),s.a.createElement("input",{className:"QSfig",name:"interestdays",type:"text",required:!0,value:K&&Number(K.interestdays).toFixed(0)||"",onChange:se}))),s.a.createElement("fieldset",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Price Before Int.:"),s.a.createElement("input",{className:"QSfig",name:"pricebeforeint",type:"text",required:!0,value:K&&K.pricebeforeint||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Sales Interest:"),s.a.createElement("input",{className:"QSfig",name:"salesinterest",type:"text",required:!0,value:K&&K.salesinterest||"",readOnly:!0}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Price After Int.:"),s.a.createElement("input",{className:"QSfig",name:"priceafterint",type:"text",required:!0,value:K&&K.priceafterint||"",readOnly:!0})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Economics"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Profit:"),s.a.createElement("input",{className:"QSfig",name:"profit",type:"text",required:!0,value:K&&K.profit||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Margin:"),s.a.createElement("input",{className:"QSfig",name:"margin",type:"text",required:!0,value:K&&K.margin||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Turnover:"),s.a.createElement("input",{className:"QSfig",name:"turnover",type:"text",required:!0,value:K&&K.turnover||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"% Margin:"),s.a.createElement("input",{className:"QSfig",name:"pctmargin",type:"text",required:!0,value:K&&K.pctmargin||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Netback:"),s.a.createElement("input",{className:"QSfig",name:"netback",type:"text",required:!0,value:K&&K.netback||"",readOnly:!0}))))),s.a.createElement("div",{className:"QSedit-buttons"},s.a.createElement("button",{className:"confirmbutton",type:"submit"},"Save Edits"),s.a.createElement("button",{className:"cancelbutton",onClick:function(){R(A),t(),ee(null)}},"Cancel")))))):""}},318:function(e,t,a){},320:function(e,t,a){"use strict";var r=a(8),n=a(4),c=a(1),o=a(2),l=a(0),i=a.n(l),s=(a(501),a(6)),u=a.n(s),m=a(12),p=a.n(m),d=a(21),f=a(81);function h(){h=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=O(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(x([])));b&&b!==t&&a.call(b,n)&&(f=b);var y=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(e){var t=e.handleClose,a=e.show,s=e.positiontoedit,m=Object(l.useContext)(d.a),g=(m.posrefresh,m.togglePosrefresh),b=a?"modal display-block":"modal display-none",y=s.WGP,v=Object(l.useState)(),E=Object(o.a)(v,2),O=E[0],N=E[1],j=Object(l.useState)(),w=Object(o.a)(j,2),x=w[0],S=w[1],C=Object(l.useState)(),D=Object(o.a)(C,2),k=D[0],I=D[1],L=Object(l.useState)(!1),F=Object(o.a)(L,2),P=F[0],$=F[1];Object(l.useEffect)(function(){y&&a&&u.a.post("/positiontoedit",{id:y}).then(function(e){N(e.data[0]),S(e.data[0]),I({id:e.data[0].positionID,WGP:e.data[0].WGP})})},[a]);var Q=function(e){e.preventDefault(),N(Object(c.a)({},O,Object(n.a)({},e.target.name,e.target.value)))},T=function(e){e.preventDefault(),(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&N(Object(c.a)({},O,Object(n.a)({},e.target.name,e.target.value)))};Object(l.useEffect)(function(){O&&x&&function(e,t){for(var a=0,r=Object.keys(e);a<r.length;a++){var o=r[a];e[o]!==t[o]&&(I(Object(c.a)({},k,Object(n.a)({},o,e[o]))),console.log(k))}}(O,x)},[O]);var q=function(){var e=Object(r.a)(h().mark(function e(){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({});case 2:return e.next=4,g();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(r.a)(h().mark(function e(a){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t(a),e.next=4,u.a.post("/positionupdate",{poschanges:k}).then(function(e){return q()});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:b},i.a.createElement("section",{className:"modal-main"},i.a.createElement("form",{className:"positionModalForm",onSubmit:B},i.a.createElement("h2",null,"Edit Position"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"WGP:"),i.a.createElement("input",{name:"WGP",type:"text",value:O&&O.WGP||"",onChange:function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""===e.target.value)&&N(Object(c.a)({},O,Object(n.a)({},e.target.name,e.target.value)))},className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Product:"),i.a.createElement(f.a,{className:"searchfield canceldrag",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",thirdName:"productGroup",thirdID:"prodGroupID",resetfield:P,setResetfield:$,value:O&&O.product||"",setProdSupplier:function(e,t,a,r,n,o){N(Object(c.a)({},O,{product:t,supplier:r,productGroup:o})),I(Object(c.a)({},k,{productID:e,supplierID:a,productGroupID:n}))}})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Supplier:"),i.a.createElement("input",{name:"supplier",type:"text",value:O&&O.supplier||"",className:"canceldrag",readOnly:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"ProdGroup:"),i.a.createElement("input",{name:"productgroup",type:"text",value:O&&O.productGroup||"",className:"canceldrag",readOnly:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"QuantityL:"),i.a.createElement("input",{name:"quantityLow",type:"text",value:O&&O.quantityLow||"",onChange:T,className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"QuantityH:"),i.a.createElement("input",{name:"quantityHigh",type:"text",value:O&&O.quantityHigh||"",onChange:T,className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"FOB:"),i.a.createElement("input",{name:"FOBCost",type:"text",value:O&&O.FOBCost||"",onChange:Q,className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"From:"),i.a.createElement("input",{name:"shipmentStart",type:"date",value:O&&p()(O.shipmentStart).format("YYYY-MM-DD")||"",onChange:Q,className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"To:"),i.a.createElement("input",{name:"shipmentEnd",type:"date",value:O&&p()(O.shipmentEnd).format("YYYY-MM-DD")||"",onChange:Q,className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Notes:"),i.a.createElement("textarea",Object(n.a)({name:"notes",className:"canceldrag",value:O&&O.notes||"",onChange:Q},"className","canceldrag"))),i.a.createElement("button",{className:"confirmbutton",type:"submit"},"Save Edits"),i.a.createElement("button",{className:"cancelbutton",onClick:function(e){e.preventDefault(),t(e),I({})}},"Cancel"))))}},321:function(e,t,a){"use strict";var r=a(2),n=a(0),c=a.n(n),o=(a(544),a(6)),l=a.n(o),i=a(12),s=a.n(i);t.a=function(){var e=Object(n.useState)(),t=Object(r.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(s()().format("YYYY-1-1")),u=Object(r.a)(i,2),m=u[0],p=u[1],d=Object(n.useState)(s()().format("YYYY-M-D")),f=Object(r.a)(d,2),h=f[0],g=f[1];return Object(n.useEffect)(function(){m&&h&&l.a.post("/keyfigures",{startdate:m,enddate:h}).then(function(e){o(e.data[0])})},[m,h]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"keyfigures-buttons"},"From ",s()(m).format("MMM D YYYY")," to"," ",s()(h).format("MMM D YYYY"),":",c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){e.preventDefault(),p(s()().format("YYYY-1-1")),g(s()().format("YYYY-M-D"))}},"YTD"),c.a.createElement("button",{onClick:function(e){e.preventDefault(),p(s()().format("YYYY-M-1")),g(s()().format("YYYY-M-D"))}},"This Month"),c.a.createElement("button",{onClick:function(e){e.preventDefault();var t=s()().month()-1;console.log(t),p(s()().format("YYYY-".concat(t,"-D"))),g(s()().format("YYYY-M-D"))}},"30 days"))),c.a.createElement("div",{className:"keyfigures-list"},c.a.createElement("div",{className:"keyfigure-volume"},c.a.createElement("h1",{className:"kfig"},a?a.Sales.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"reload"),c.a.createElement("h4",null,"Volume (mt)")),c.a.createElement("div",{className:"keyfigure-revenue"},c.a.createElement("h1",{className:"kfig"},a?"$"+(a.Revenue/1e6).toFixed(2).toString()+"mio":"reload"),c.a.createElement("h4",null,"Revenue")),c.a.createElement("div",{className:"keyfigure-profit"},c.a.createElement("h1",{className:"kfig"},a?"$"+(a.Margin/1e3).toFixed(0).toString()+"K":"reload"),c.a.createElement("h4",null,"Profit")),c.a.createElement("div",{className:"keyfigure-profitpmt"},c.a.createElement("h1",{className:"kfig"},a?"$"+a.Profit.toFixed(2).toString():"reload"),c.a.createElement("h4",null,"Avg. Profit (pmt)")),c.a.createElement("div",{className:"keyfigure-profitpct"},c.a.createElement("h1",{className:"kfig"},a?(a.Margin/a.Revenue*100).toFixed(2).toString()+"%":"reload"),c.a.createElement("h4",null,"Profit (%)"))))}},323:function(e,t,a){"use strict";var r=a(8),n=a(2),c=a(6),o=a.n(c),l=a(0),i=a.n(l),s=a(292);function u(){u=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof p?t:p,c=Object.create(n.prototype),o=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=O(o,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var m={};function p(){}function d(){}function f(){}var h={};l(h,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(x([])));b&&b!==t&&a.call(b,n)&&(h=b);var y=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=f,l(y,"constructor",f),l(f,"constructor",d),d.displayName=l(f,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}t.a=function(){var e=Object(l.useState)(),t=Object(n.a)(e,2),a=t[0],c=t[1],m=Object(l.useState)(),p=Object(n.a)(m,2),d=p[0],f=p[1];return Object(l.useEffect)(Object(r.a)(u().mark(function e(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/donut").then(function(e){c(e.data)});case 2:return e.next=4,o.a.post("/donutqty").then(function(e){f(e.data)});case 4:case"end":return e.stop()}},e)})),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",{style:{display:"sticky"}},"Profit and Volume, by Trader"),i.a.createElement("div",{style:{height:"100%",display:"flex"}},a&&d?i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{data:a,margin:{top:40,right:0,bottom:40,left:20},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"blues"},valueFormat:">-$,",startAngle:-90,endAngle:270,arcLinkLabelsSkipAngle:10,sliceLabelsTextColor:"white",enableArcLabels:!1}),i.a.createElement(s.a,{data:d,margin:{top:40,right:20,bottom:40,left:0},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"yellow_orange_red"},valueFormat:">-,",startAngle:-90,endAngle:270,arcLinkLabelsSkipAngle:10,sliceLabelsTextColor:"white",enableArcLabels:!1})):""))}},325:function(e,t,a){"use strict";var r=a(8),n=a(2),c=a(6),o=a.n(c),l=a(0),i=a.n(l),s=a(292);function u(){u=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof p?t:p,c=Object.create(n.prototype),o=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=O(o,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var m={};function p(){}function d(){}function f(){}var h={};l(h,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(x([])));b&&b!==t&&a.call(b,n)&&(h=b);var y=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=f,l(y,"constructor",f),l(f,"constructor",d),d.displayName=l(f,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}t.a=function(){var e=Object(l.useState)(),t=Object(n.a)(e,2),a=t[0],c=t[1],m=Object(l.useState)(),p=Object(n.a)(m,2),d=p[0],f=p[1];return Object(l.useEffect)(Object(r.a)(u().mark(function e(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/pieprofitbycountry").then(function(e){c(e.data)});case 2:return e.next=4,o.a.post("/pievolumebycountry").then(function(e){f(e.data)});case 4:case"end":return e.stop()}},e)})),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",{style:{display:"absolute",top:0}},"Profit and Volume, by Country"),i.a.createElement("div",{style:{height:"100%",display:"flex"}},a&&d?i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{data:a,id:"country",value:"profit",margin:{top:40,right:20,bottom:40,left:40},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"blues"},valueFormat:">-$,",startAngle:-90,endAngle:270,arcLinkLabelsSkipAngle:15,sliceLabelsTextColor:"white",enableArcLabels:!1}),i.a.createElement(s.a,{data:d,id:"country",value:"quantity",margin:{top:40,right:40,bottom:40,left:0},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"yellow_orange_red"},valueFormat:">-,",startAngle:-90,endAngle:270,arcLinkLabelsSkipAngle:15,sliceLabelsTextColor:"white",enableArcLabels:!1})):""))}},362:function(e,t,a){"use strict";a(8),a(2),a(0),a(67),a(6)},371:function(e,t,a){},372:function(e,t,a){},375:function(e,t,a){"use strict";a(8),a(2),a(6),a(0),a(326),a(137)},380:function(e,t,a){"use strict";a(8),a(2),a(6),a(0),a(326)},381:function(e,t){},382:function(e,t,a){},387:function(e,t){},389:function(e,t,a){"use strict";a(8),a(2),a(6),a(0),a(137)},390:function(e,t,a){"use strict";var r=a(8),n=a(4),c=a(1),o=a(2),l=a(0),i=a.n(l),s=(a(372),a(12)),u=a.n(s),m=a(84),p=a(6),d=a.n(p),f=a(21),h=a(25);a(293);function g(){g=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=O(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,b=h&&h(h(x([])));b&&b!==t&&a.call(b,n)&&(f=b);var y=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(){var e=Object(l.useContext)(f.a).toggleQSrefresh,t={KTP:"",KTS:"",saleType:"",QSDate:u()().format("yyyy-MM-DD"),abbreviation:"",supplier:"",customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGuserID")),traffic:"",incoterms:"",CADintrate:.06,CADdays:10,paymentTerm:"",shipmentType:1,freightTotal:0,shippingline:"",payload:0,totalinspection:0,quantity:0,materialcost:0,pcommission:0,pfinancecost:0,sfinancecost:0,freightpmt:0,insurance:0,inspectionpmt:0,scommission:0,interestcost:0,legal:1,pallets:0,other:0,totalcost:0,interestrate:0,interestdays:0,pricebeforeint:0,salesinterest:0,priceafterint:0,profit:0,margin:0,turnover:0,pctmargin:0,netback:0,saleComplete:0},a={KTP:"",KTS:"",saleType:"",QSDate:u()().format("yyyy-MM-DD"),customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGusercode")),traffic:"",incoterms:"",CADintrate:"6.00%",CADdays:"10",paymentTerm:"",shipmentType:"Container",freightTotal:"0.00",shippingline:"",payload:"0.00",totalinspection:"0.00",quantity:"",materialcost:"0.00",pcommission:"0.00",pfinancecost:"0.00",sfinancecost:"0.00",freightpmt:"0.00",insurance:"0.00",inspectionpmt:"0.00",scommission:"0.00",interestcost:"0.00",legal:"1.00",pallets:"0.00",other:"0.00",totalcost:"0.00",interestrate:"0.00%",interestdays:"0",pricebeforeint:"0.00",salesinterest:"0.00",priceafterint:"0.00",profit:"0.00",margin:"0.00",turnover:"0.00",pctmargin:"0.00",netback:"0.00",saleComplete:0},s=Object(l.useState)(t),p=Object(o.a)(s,2),b=p[0],y=p[1],v=Object(l.useState)(a),E=Object(o.a)(v,2),O=E[0],N=E[1],j=Object(l.useState)(),w=Object(o.a)(j,2),x=w[0],S=w[1],C=Object(l.useState)(!1),D=Object(o.a)(C,2),k=D[0],I=D[1],L=Object(l.useState)(!1),F=Object(o.a)(L,2),P=F[0],$=F[1];Object(l.useEffect)(function(){P&&y(Object(c.a)({},b,{saleComplete:-1})),P||y(Object(c.a)({},b,{saleComplete:0}))},[P]);var Q=function(e,t,a,r,o,l){var i,s;""===t&&""===r&&""===l?(y(Object(c.a)({},b,Object(n.a)({},a,e))),N(Object(c.a)({},O,Object(n.a)({},a,o)))):(y(Object(c.a)({},b,(i={},Object(n.a)(i,a,e),Object(n.a)(i,r,t),i))),N(Object(c.a)({},O,(s={},Object(n.a)(s,a,o),Object(n.a)(s,r,l),s))))},T=function(e){y(Object(c.a)({},b,Object(n.a)({},e.target.name,e.target.value))),N(Object(c.a)({},O,Object(n.a)({},e.target.name,e.target.value)))},q=function(e){(RegExp("^[0-9.,%]+$").test(e.target.value)||""===e.target.value)&&(e.target.value.toString().includes("%")?(y(Object(c.a)({},b,Object(n.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(2)/100))),N(Object(c.a)({},O,Object(n.a)({},e.target.name,e.target.value.replace("%",""))))):(y(Object(c.a)({},b,Object(n.a)({},e.target.name,Number(e.target.value).toFixed(2)/100))),N(Object(c.a)({},O,Object(n.a)({},e.target.name,e.target.value)))))},B=function(e){N(Object(c.a)({},O,Object(n.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(2)+"%")))},A=function(e){(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&(y(Object(c.a)({},b,Object(n.a)({},e.target.name,Number(Number(e.target.value).toFixed(2))))),N(Object(c.a)({},O,Object(n.a)({},e.target.name,e.target.value))))},G=function(e){N(Object(c.a)({},O,Object(n.a)({},e.target.name,Number(e.target.value.replace(",","")).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""===e.target.value&&y(Object(c.a)({},b,Object(n.a)({},e.target.name,0)))},_=function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""==e.target.value)&&(N(Object(c.a)({},O,Object(n.a)({},e.target.name,e.target.value))),y(Object(c.a)({},b,Object(n.a)({},e.target.name,e.target.value))))};Object(l.useEffect)(function(){if(O.from&&!O.to&&(N(Object(c.a)({},O,{to:O.from})),y(Object(c.a)({},b,{to:b.from}))),O.from&&O.to){var e=u()(O.from),t=u()(O.to);console.log(t.diff(e,"days")),t.diff(e,"days")<0&&Object(h.confirmAlert)({title:"Check shipment dates",message:"Delivery date (to) cannot be earlier than shipment date (from)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})}},[O.from,O.to]),Object(l.useEffect)(function(){b.freightTotal>0&&b.payload>0&&(N(Object(c.a)({},O,{freightpmt:(b.freightTotal/b.payload).toFixed(2)})),y(Object(c.a)({},b,{freightpmt:b.freightTotal/b.payload})))},[b.freightTotal,b.payload]),Object(l.useEffect)(function(){y(Object(c.a)({},b,{salesinterest:Number((b.interestrate*Number(b.interestdays)*Number(b.pricebeforeint)/360).toFixed(4))})),N(Object(c.a)({},O,{salesinterest:Number(b.interestrate*Number(b.interestdays)*Number(b.pricebeforeint)/360).toFixed(2)}))},[b.interestdays,b.interestrate]),Object(l.useEffect)(function(){y(Object(c.a)({},b,{interestcost:Number((b.CADintrate*b.CADdays*b.pricebeforeint/360).toFixed(4))})),N(Object(c.a)({},O,{interestcost:Number(b.CADintrate*b.CADdays*b.pricebeforeint/360).toFixed(2)}))},[b.CADdays,b.CADintrate,b.pricebeforeint]),Object(l.useEffect)(function(){y(Object(c.a)({},b,{insurance:"CPT"===b.incoterms||"CFR"===b.incoterms||"DAP"===b.incoterms?Number((.07*b.pricebeforeint*1.1/100).toFixed(2)):"CIP"===b.incoterms||"CIF"===b.incoterms?Number((.14*b.pricebeforeint*1.1/100).toFixed(2)):0,inspectionpmt:b.quantity>0&&b.totalinspection?Number((b.totalinspection/b.quantity).toFixed(2)):0,interestcost:Number((b.CADintrate*b.CADdays*b.pricebeforeint/360).toFixed(4)),salesinterest:Number((Number(b.interestrate)*Number(b.interestdays)*Number(b.pricebeforeint)/360).toFixed(4)),priceafterint:Number(b.pricebeforeint)+10*Number(b.salesinterest),profit:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost).toFixed(4)):0,margin:0!==b.quantity&&0!==b.pricebeforeint?Number(((b.pricebeforeint-b.totalcost)*b.quantity).toFixed(4)):0,turnover:0!==b.quantity&&0!==b.pricebeforeint?Number((b.quantity*b.pricebeforeint).toFixed(4)):0,pctmargin:0!==b.quantity&&0!==b.pricebeforeint?Number(((b.pricebeforeint-b.totalcost)/b.pricebeforeint).toFixed(4)):0,netback:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost+b.materialcost).toFixed(4)):0})),N(Object(c.a)({},O,{insurance:"CPT"===b.incoterms||"CFR"===b.incoterms||"DAP"===b.incoterms?Number(.07*b.pricebeforeint*1.1/100).toFixed(2):"CIP"===b.incoterms||"CIF"===b.incoterms?Number(.14*b.pricebeforeint*1.1/100).toFixed(2):Number(0).toFixed(2),inspectionpmt:b.quantity>0&&b.totalinspection?Number(b.totalinspection/b.quantity).toFixed(2):"0.00",interestcost:Number(b.CADintrate*b.CADdays*b.pricebeforeint/360).toFixed(2),salesinterest:Number(Number(b.interestrate)*Number(b.interestdays)*Number(b.pricebeforeint)/360).toFixed(2),priceafterint:Number(Number(b.pricebeforeint)+10*Number(b.salesinterest)).toFixed(2),profit:0!==b.quantity&&0!==b.pricebeforeint?Number(b.pricebeforeint-b.totalcost).toFixed(2):Number(0).toFixed(2),margin:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost)*b.quantity).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),turnover:0!==b.quantity&&0!==b.pricebeforeint?Number(b.quantity*b.pricebeforeint).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),pctmargin:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost)/b.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==b.quantity&&0!==b.pricebeforeint?Number(b.pricebeforeint-b.totalcost+b.materialcost).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2)}))},[b.quantity,b.pricebeforeint,b.totalinspection,b.incoterms]),Object(l.useEffect)(function(){0!==b.quantity&&0!==b.pricebeforeint&&(y(Object(c.a)({},b,{profit:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost).toFixed(4)):0,margin:0!==b.quantity&&0!==b.pricebeforeint?Number(((b.pricebeforeint-b.totalcost)*b.quantity).toFixed(4)):0,turnover:0!==b.quantity&&0!==b.pricebeforeint?Number((b.quantity*b.pricebeforeint).toFixed(4)):0,pctmargin:0!==b.quantity&&0!==b.pricebeforeint?Number(((b.pricebeforeint-b.totalcost)/b.pricebeforeint).toFixed(4)):0,netback:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost+b.materialcost).toFixed(4)):0})),N(Object(c.a)({},O,{profit:0!==b.quantity&&0!==b.pricebeforeint?Number(b.pricebeforeint-b.totalcost).toFixed(2):Number(0).toFixed(2),margin:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost)*b.quantity).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),turnover:0!==b.quantity&&0!==b.pricebeforeint?Number(b.quantity*b.pricebeforeint).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),pctmargin:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost)/b.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==b.quantity&&0!==b.pricebeforeint?Number(b.pricebeforeint-b.totalcost+b.materialcost).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2)})))},[b.totalcost]),Object(l.useEffect)(function(){y(Object(c.a)({},b,{priceafterint:Number(b.pricebeforeint)+Number(b.salesinterest)})),N(Object(c.a)({},O,{priceafterint:Number(Number(b.pricebeforeint)+Number(b.salesinterest)).toFixed(2)}))},[b.salesinterest]),Object(l.useEffect)(function(){N(Object(c.a)({},O,{totalcost:Number(Number(b.materialcost)+b.pcommission+b.pfinancecost+b.sfinancecost+b.freightpmt+b.insurance+b.inspectionpmt+b.scommission+b.interestcost+b.legal+b.pallets+b.other).toFixed(2)})),y(Object(c.a)({},b,{totalcost:Number((Number(b.materialcost)+b.pcommission+b.pfinancecost+b.sfinancecost+b.freightpmt+b.insurance+b.inspectionpmt+b.scommission+b.interestcost+b.legal+b.pallets+b.other).toFixed(2))}))},[b.materialcost,b.pcommission,b.pfinancecost,b.sfinancecost,b.freightpmt,b.insurance,b.inspectionpmt,b.scommission,b.interestcost,b.legal,b.pallets,b.other]);var K=function(){var t=Object(r.a)(g().mark(function t(a){return g().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,d.a.post("/saveQS",{QSData:b}).then(function(t){e()});case 3:return t.next=5,R();case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),R=function(){N(a),y(t),$(!1)};return i.a.createElement("div",{className:"salesQS"},i.a.createElement("h3",{className:"saleslisttitle"},"Quotation Sheet"),i.a.createElement("form",{className:"salesQS-form",onSubmit:function(e){return K(e)}},i.a.createElement("section",{id:"salesQS-1"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"QS Date:"),i.a.createElement("input",{readOnly:!0,className:"canceldrag",value:O.QSDate,type:"date"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"WGP:"),i.a.createElement("input",{name:"KTP",placeholder:"5000...",value:O&&O.KTP||"",onChange:_,className:"canceldrag"})),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Sale Type"),i.a.createElement("div",{className:"saletype-group"},i.a.createElement("input",{name:"saletype",type:"radio",checked:!(!b||1!==b.saleType),required:!0,onClick:function(e){y(Object(c.a)({},b,{saleType:1})),N(Object(c.a)({},O,{saleType:"Back-to-back"}))}}),i.a.createElement("label",{htmlFor:""},"Back-to-back")),i.a.createElement("div",{className:"saletype-group"},i.a.createElement("input",{name:"saletype",type:"radio",checked:!(!b||2!==b.saleType),required:!0,onClick:function(e){y(Object(c.a)({},b,{saleType:2})),N(Object(c.a)({},O,{saleType:"Position"})),d.a.post("/positiondropdown").then(function(e){S(e.data)})}}),i.a.createElement("label",{htmlFor:""},"Position"),b&&2===b.saleType?i.a.createElement("select",{className:"WGPSelect",onChange:function(e){return function(e){var t=x[e];N(Object(c.a)({},O,{abbreviation:t.product,supplier:t.Supplier,from:t.start,to:t.end,KTP:t.KTP,materialcost:Number(t.Price.replace("$","").replace(",","")).toFixed(2)})),y(Object(c.a)({},b,{abbreviation:t.productID,supplier:t.supplierID,from:t.start,to:t.end,KTP:t.KTP,materialcost:Number(t.Price.replace("$","").replace(",",""))}))}(e.target.value)}},i.a.createElement("option",null,"Select..."),x?x.map(function(e,t){return i.a.createElement("option",{value:t},e.KTP+" - "+e.product+" - "+e.Supplier)}):""):"")),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"General"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Product:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",placeholder:"Product...",setQSFields:Q,value:O&&O.abbreviation||"",resetfield:k,setResetfield:I,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Supplier:"),i.a.createElement("input",{placeholder:"Supplier...",value:O.supplier,type:"text",required:!0,readOnly:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Customer:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/customers",searchName:"customer",searchID:"customerID",placeholder:"Customer...",setQSFields:Q,value:O&&O.customer||"",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Contact:"),i.a.createElement("input",{className:"canceldrag",type:"text"}))),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Packaging"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Pack Size:"),i.a.createElement("input",{value:b.packsize,onChange:T,name:"packsize",type:"text",placeholder:"9kg, 25kg, 50kg, bigbag",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Marks:"),i.a.createElement("input",{name:"marks",onChange:T,value:b.marks,type:"text",placeholder:"neutral, WG, seller, buyer",onDoubleClick:function(e){e.target.select()},className:"canceldrag"}))),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Delivery"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"From:"),i.a.createElement("input",{name:"from",onChange:T,value:b.from,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"To:"),i.a.createElement("input",{name:"to",onChange:T,value:b.to,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"POL:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/POLS",searchName:"POL",searchID:"POLID",placeholder:"POL...",setQSFields:Q,value:O&&O.POL||"",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"POD:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/PODS",searchName:"POD",searchID:"PODID",placeholder:"POD...",setQSFields:Q,value:O&&O.POD||"",required:!0})))),i.a.createElement("section",{id:"salesQS-2"},i.a.createElement("div",{className:"soldcheckbox"},i.a.createElement("input",{className:"canceldrag",name:"saleComplete",type:"checkbox",checked:P,onClick:function(){$(!P)}}),i.a.createElement("label",null,"Sold")),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"WGS:"),i.a.createElement("input",{name:"KTS",placeholder:"5000...",value:O&&O.KTS||"",onChange:_,className:"canceldrag"})),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"In Charge"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Trader:"),i.a.createElement("input",{className:"canceldrag",value:O.TIC,type:"text",readOnly:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Traffic:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/trafficmgrs",searchName:"traffic",searchID:"trafficID",placeholder:"Traffic...",setQSFields:Q,value:O&&O.traffic||""}))),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Terms"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Incoterms:"),i.a.createElement("input",{placeholder:"Incoterms...",onChange:T,name:"incoterms",value:O.incoterms,type:"text",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Payment Terms:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/paymentterms",searchName:"paymentTerm",searchID:"paytermID",placeholder:"Payment terms...",setQSFields:Q,value:O&&O.paymentTerm||"",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Inc. Interest:"),i.a.createElement("input",{value:O.CADintrate,placeholder:"Interest rate...",type:"text",name:"CADintrate",onChange:q,onBlur:B,className:"canceldrag",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Inc. Days:"),i.a.createElement("input",{value:O.CADdays,name:"CADdays",onChange:A,type:"text",placeholder:"Days...",className:"canceldrag",required:!0}))),i.a.createElement("div",{id:"shipmenttyperadio",className:"form-group"},i.a.createElement("input",{name:"shipmenttype",type:"radio",defaultChecked:!0,required:!0,onClick:function(e){y(Object(c.a)({},b,{shipmentType:1})),N(Object(c.a)({},O,{shipmentType:"Container"}))}}),i.a.createElement("label",{htmlFor:""},"Container"),i.a.createElement("input",{name:"shipmenttype",type:"radio",required:!0,onClick:function(e){y(Object(c.a)({},b,{shipmentType:2})),N(Object(c.a)({},O,{shipmentType:"Breakbulk"}))}}),i.a.createElement("label",{htmlFor:""},"Breakbulk"),i.a.createElement("input",{name:"shipmenttype",type:"radio",required:!0,onClick:function(e){y(Object(c.a)({},b,{shipmentType:3})),N(Object(c.a)({},O,{shipmentType:"Distribution"}))}}),i.a.createElement("label",{htmlFor:""},"Distribution")),b&&1===b.shipmentType?i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Freight"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Freight ID:"),i.a.createElement("input",{placeholder:"[Leave Blank]",type:"text"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Freight Total:"),i.a.createElement("input",{type:"text",name:"freightTotal",className:"QSfig2 canceldrag",value:O.freightTotal,onChange:A,onBlur:G})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Shipping Line:"),i.a.createElement("input",{className:"canceldrag",placeholder:"Shipping Line...",name:"shippingline",onChange:T,value:O&&O.shippingline||"",type:"text"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Payload:"),i.a.createElement("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:O.payload,onChange:A,onBlur:G})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Total Inspection:"),i.a.createElement("input",{name:"totalinspection",className:"QSfig2 canceldrag",value:O.totalinspection,onChange:A,onBlur:G,type:"text"}))):b&&2==b.shipmentType?"Under Construction":"Under Construction Too :)"),i.a.createElement("section",{id:"salesQS-3"},i.a.createElement("fieldset",{id:"salesQS-3-fieldset"},i.a.createElement("legend",null,"Figures"),i.a.createElement("section",{id:"salesQS-3-col1"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Quantity:"),i.a.createElement("input",{className:"QSfig2 canceldrag",name:"quantity",value:O.quantity,onChange:A,type:"text",placeholder:"MT",onBlur:G,required:!0})),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Costs"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Material Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Material Cost pmt",onChange:A,name:"materialcost",value:O.materialcost,onBlur:G,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"P Commission:"),i.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Commission pmt",name:"pcommission",value:O.pcommission,onChange:A,onBlur:G,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"P Finance Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Finance Cost pmt",name:"pfinancecost",value:O.pfinancecost,onChange:A,onBlur:G,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"S Finance Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.sfinancecost,name:"sfinancecost",placeholder:"...S Finance Cost pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Freight (pmt):"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.freightpmt,name:"freightpmt",placeholder:"...Freight pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Insurance Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.insurance,name:"insurance",placeholder:"...Insurance Cost pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Inspection Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.inspectionpmt,name:"inspectionpmt",placeholder:"...Inspection Cost pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"S Commission:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.scommission,name:"scommission",placeholder:"...S Commission pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Interest Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.interestcost,name:"interestcost",placeholder:"...Interest Cost pmt",onChange:A,onBlur:G,type:"text",required:!0,readOnly:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Legal:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.legal,name:"legal",placeholder:"...Legal Cost pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Pallets:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.pallets,name:"pallets",placeholder:"...Pallets Cost pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Other:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.other,name:"other",placeholder:"...Other Costs pmt",onChange:A,onBlur:G,type:"text",required:!0}))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Total Cost:"),i.a.createElement("input",{className:"QSfig2 canceldrag",readOnly:!0,value:O.totalcost,type:"text",required:!0}))),i.a.createElement("section",{id:"salesQS-3-col2"},i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Sales Interest"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Interest Rate:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.interestrate,placeholder:"...Interest Rate",name:"interestrate",onChange:q,onBlur:B,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Interest Days:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.interestdays,name:"interestdays",onChange:A,placeholder:"...Interest Days",type:"text",required:!0}))),i.a.createElement("fieldset",null,i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Price Before Int.:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.pricebeforeint,name:"pricebeforeint",placeholder:"...Price Before Int pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Sales Interest:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.salesinterest,readOnly:!0,type:"text",required:!0}))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Price After Int.:"),i.a.createElement("input",{readOnly:!0,className:"QSfig2 canceldrag",value:O.priceafterint,type:"text",required:!0})),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Economics"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Profit:"),i.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:O.profit,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Margin:"),i.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:O.margin,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Turnover:"),i.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:O.turnover,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"% Margin:"),i.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:O.pctmargin,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Netback:"),i.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:O.netback,type:"text",required:!0}))))),i.a.createElement("div",{id:"QSbuttons"},i.a.createElement("button",{type:"button",onClick:function(e){R()}},"Clear"),i.a.createElement("button",{type:"submit"},"Save and New")))))}},391:function(e,t,a){"use strict";(function(e){var r=a(2),n=a(4),c=a(0),o=a.n(c),l=(a(140),a(141),a(20)),i=(a(164),a(289)),s=a(732),u=a(306),m=(a(318),Object(l.WidthProvider)(l.Responsive));t.a=function(){var t=function(t,a){var r,c;r="layouts",c=a,e.localStorage&&e.localStorage.setItem("rgl-sales",JSON.stringify(Object(n.a)({},r,c))),f(a)},a=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-sales"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],md:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],sm:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],xs:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],xxs:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}]},l=Object(c.useState)(a),p=Object(r.a)(l,2),d=p[0],f=p[1],h=Object(c.useState)(!1),g=Object(r.a)(h,2),b=g[0],y=g[1],v=Object(c.useState)({}),E=Object(r.a)(v,2),O=E[0],N=E[1],j=function(){y(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"gridcontainer"},o.a.createElement(u.a,{show:b,handleClose:j,QStoedit:O}),o.a.createElement(m,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:d,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,a){t(0,a)},margin:[20,20],draggableCancel:".canceldrag"},o.a.createElement("div",{id:"sales1",key:"a"},o.a.createElement(i.a,{showEditModal:function(e,t){y(!0),N(t)},hideEditModal:j,QSmodalState:b,QStoedit:O})),o.a.createElement("div",{id:"sales2",key:"b"},o.a.createElement(s.a,null)))))}}).call(this,a(27))},394:function(e,t,a){"use strict";(function(e){var r=a(2),n=a(4),c=a(0),o=a.n(c),l=(a(140),a(141),a(20)),i=(a(164),a(362),a(736)),s=a(737),u=a(395),m=a(320),p=a(396),d=(a(318),a(147)),f=(a(538),a(158)),h=a(21),g=a(167),b=a(290),y=Object(l.WidthProvider)(l.Responsive);t.a=function(){var t=Object(c.useContext)(h.a),a=(t.posrefresh,t.togglePosrefresh),l=function(t,a){var r,c;r="layouts",c=a,e.localStorage&&e.localStorage.setItem("rgl-positions",JSON.stringify(Object(n.a)({},r,c))),j(a)},v=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-positions"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],md:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],sm:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],xs:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],xxs:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}]},E=Object(c.useState)(v),O=Object(r.a)(E,2),N=O[0],j=O[1],w=Object(c.useState)(!1),x=Object(r.a)(w,2),S=x[0],C=x[1],D=Object(c.useState)(!1),k=Object(r.a)(D,2),I=k[0],L=k[1],F=Object(c.useState)({}),P=Object(r.a)(F,2),$=P[0],Q=P[1],T=function(e){e.preventDefault(),C(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"gridcontainer"},o.a.createElement(p.a,{showAddProd:I,handleClose:function(e){e.preventDefault(),L(!1)}}),o.a.createElement(m.a,{show:S,handleClose:T,positiontoedit:$}),o.a.createElement(y,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:N,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,t){l(0,t)},margin:[20,20],draggableCancel:".canceldrag"},o.a.createElement("div",{id:"positions1",key:"a"},o.a.createElement("div",{className:"positionreporttitleline"},o.a.createElement("h3",{className:"positionreporttitle"},"Position Report"),o.a.createElement(f.a,{className:"refreshicon",onClick:function(e){a()}})),o.a.createElement(g.b,null,o.a.createElement(d.d,null,o.a.createElement(d.b,null,o.a.createElement(d.a,null,"Global"),o.a.createElement(d.a,null,"USA Distribution")),o.a.createElement(d.c,null,o.a.createElement(i.a,{key:"positionreport"})),o.a.createElement(d.c,null,o.a.createElement(b.a,{key:"usapositionreport"}))))),o.a.createElement("div",{id:"positions2",key:"b"},o.a.createElement(u.a,{key:"positionadd",showAddProd:function(e){L(!0)}})),o.a.createElement("div",{id:"positions2",key:"c"},o.a.createElement(s.a,{showEditModal:function(e,t){C(!0),Q(t)},hideEditModal:T,modalState:S,postoedit:$,key:"positions"})))))}}).call(this,a(27))},395:function(e,t,a){"use strict";var r=a(4),n=a(1),c=a(2),o=a(0),l=a.n(o),i=(a(534),a(81)),s=a(21),u=a(6),m=a.n(u);t.a=function(e){var t=e.showAddProd,a=Object(o.useContext)(s.a),u=(a.posrefresh,a.togglePosrefresh),p={WGP:"",product:"",supplier:"",productgroup:"",quantitylow:"",quantityhigh:"",FOB:"",from:"",to:"",notes:""},d={WGP:"",product:"",supplier:"",productgroup:"",quantitylow:"",quantityhigh:"",FOB:"",from:"",to:"",notes:""},f=Object(o.useState)(!0),h=Object(c.a)(f,2),g=h[0],b=h[1],y=Object(o.useState)(p),v=Object(c.a)(y,2),E=v[0],O=v[1],N=Object(o.useState)(d),j=Object(c.a)(N,2),w=j[0],x=j[1],S=Object(o.useState)({WGP:"",quantitylow:"",quantityhigh:"",to:"",general:""}),C=Object(c.a)(S,2),D=C[0],k=C[1],I=function(e){e.preventDefault(),k(Object(n.a)({},D,{WGP:"",general:""})),O(Object(n.a)({},E,Object(r.a)({},e.target.name,e.target.value)))},L=function(e){e.preventDefault(),(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&(k(Object(n.a)({},D,{WGP:"",general:""})),O(Object(n.a)({},E,Object(r.a)({},e.target.name,e.target.value))))},F=function(e){var t=e.target.name,a=e.target.value,c=RegExp("^-?[0-9][0-9,.]+$");switch(t){case"quantitylow":if(c.test(a))if(Number(E.quantityhigh)<Number(E.quantitylow))k(Object(n.a)({},D,Object(r.a)({},t,"QuantityL must be equal or smaller than QuantityH.")));else{var o;k(Object(n.a)({},D,(o={},Object(r.a)(o,t,""),Object(r.a)(o,"quantityhigh",""),o)))}else k(Object(n.a)({},D,Object(r.a)({},t,"Only numerical values.")));break;case"quantityhigh":if(c.test(a))if(Number(E.quantityhigh)<Number(E.quantitylow))k(Object(n.a)({},D,Object(r.a)({},t,"QuantityH must be larger than QuantityL.")));else{var l;k(Object(n.a)({},D,(l={},Object(r.a)(l,t,""),Object(r.a)(l,"quantitylow",""),l)))}else k(Object(n.a)({},D,Object(r.a)({},t,"Only numerical values.")))}};return l.a.createElement("div",{className:"positionadd"},l.a.createElement("h3",{className:"positionaddtitle"},"Add New Position"),l.a.createElement("form",{id:"positionaddform",onSubmit:function(e){e.preventDefault(),Object.values(D).every(function(e){return""===e})?m.a.post("/checkposition",{WGP:E.WGP}).then(function(e){"OK"===e.data.msg?m.a.post("/addposition",{posData:E}).then(function(e){return u()}):k(Object(n.a)({},D,{WGP:e.data.msg}))}).catch(function(e){console.log(e)}):k(Object(n.a)({},D,{general:"Please review items in red."})),O(p),x(d),b(!0)}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"WGP:"),l.a.createElement("input",{name:"WGP",value:E.WGP,type:"text",onChange:function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""===e.target.value)&&(k(Object(n.a)({},D,{WGP:"",general:""})),O(Object(n.a)({},E,Object(r.a)({},e.target.name,e.target.value))))},placeholder:"WGP...",required:!0,className:"canceldrag"})),l.a.createElement("span",{className:"posadderror"},D.WGP),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Product:"),l.a.createElement(i.a,{showAddProd:t,className:"searchfield canceldrag",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",thirdName:"productGroup",thirdID:"prodGroupID",placeholder:"Product...",setProdSupplier:function(e,t,a,r,c,o){O(Object(n.a)({},E,{product:e,supplier:a,productgroup:c})),x(Object(n.a)({},w,{product:t,supplier:r,productgroup:o}))},resetfield:g,setResetfield:b,value:w&&w.product||""})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Supplier:"),l.a.createElement("input",{readOnly:!0,placeholder:"Supplier...",value:w.supplier,className:"canceldrag"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"ProdGroup:"),l.a.createElement("input",{readOnly:!0,placeholder:"ProductGroup...",value:w.productgroup,className:"canceldrag"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"QuantityL:"),l.a.createElement("input",{name:"quantitylow",type:"text",placeholder:"Quantity Low...",onChange:L,value:E.quantitylow,onBlur:F,required:!0,className:"canceldrag"})),l.a.createElement("span",{className:"posadderror"},D.quantitylow),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"QuantityH:"),l.a.createElement("input",{name:"quantityhigh",type:"text",placeholder:"Quantity High...",onChange:L,value:E.quantityhigh,onBlur:F,required:!0,className:"canceldrag"})),l.a.createElement("span",{className:"posadderror"},D.quantityhigh),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"FOB:"),l.a.createElement("input",{type:"text",name:"FOB",placeholder:"FOB...",onChange:I,value:E.FOB,required:!0,className:"canceldrag"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"From:"),l.a.createElement("input",{name:"from",type:"date",placeholder:"From...",onChange:I,value:E.from,required:!0,className:"canceldrag"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"To:"),l.a.createElement("input",{name:"to",type:"date",placeholder:"To...",onChange:I,value:E.to,required:!0,className:"canceldrag"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Notes:"),l.a.createElement("textarea",{name:"notes",className:"canceldrag",onChange:I,value:E.notes})),l.a.createElement("button",null,"Add"),l.a.createElement("span",{className:"posadderror"},D.general)))}},396:function(e,t,a){"use strict";var r=a(1),n=a(2),c=a(0),o=a.n(c),l=(a(536),a(81));t.a=function(e){var t=e.handleClose,a=e.showAddProd?"modal AddProdModal display-block":"modal AddProdModal display-none",i=Object(c.useState)(!1),s=Object(n.a)(i,2),u=s[0],m=s[1],p=Object(c.useState)(),d=Object(n.a)(p,2),f=d[0],h=d[1],g=Object(c.useState)(),b=Object(n.a)(g,2),y=b[0],v=b[1];return o.a.createElement("div",{className:a},o.a.createElement("section",{className:"modal-main"},o.a.createElement("h2",null,"Add Product"),o.a.createElement("p",null,"Before adding a new product please make sure the product does not exist yet with a different name. Double adding an already existing product will severely confuse analysis statistics."),o.a.createElement("form",{className:"addproduct-form",action:""},o.a.createElement("section",{className:"addprod-1"},o.a.createElement("h3",null,"Step 1:"),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:""},"Select Product Name:"),o.a.createElement(l.a,{className:"searchfield",searchURL:"/prodnames",searchID:"prodNameID",searchName:"abbreviation",resetfield:u,setResetfield:m,setProdSupplier:function(e,t){h(Object(r.a)({},f,{prodName:t})),v(Object(r.a)({},y,{prodName:e}))}})),o.a.createElement("div",{className:"addnewprodline"},o.a.createElement("p",null,"Or"),o.a.createElement("button",null,"Add New Product Name"))),o.a.createElement("section",{className:"addprod-2"}),o.a.createElement("section",{className:"addprod-3"},o.a.createElement("button",{onClick:t},"Close")))))}},455:function(e,t,a){e.exports=a(745)},460:function(e,t,a){},462:function(e,t,a){},482:function(e,t,a){},484:function(e,t,a){"use strict";(function(e){a(2),a(4),a(0),a(140),a(141);var t=a(20);a(164),a(289),a(390),a(306),a(318),Object(t.WidthProvider)(t.Responsive)}).call(this,a(27))},501:function(e,t,a){},503:function(e,t,a){},506:function(e,t,a){},508:function(e,t,a){},511:function(e,t,a){},513:function(e,t,a){},516:function(e,t,a){},525:function(e,t,a){},527:function(e,t,a){},532:function(e,t,a){},534:function(e,t,a){},536:function(e,t,a){},540:function(e,t,a){},542:function(e,t,a){},544:function(e,t,a){},613:function(e,t,a){"use strict";(function(e){var r=a(4),n=a(8),c=a(2),o=a(0),l=a.n(o),i=(a(140),a(141),a(20)),s=a.n(i),u=(a(164),a(321)),m=(a(389),a(323)),p=(a(375),a(380),a(325)),d=a(6),f=a.n(d);a(382);function h(){h=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=O(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(x([])));b&&b!==t&&a.call(b,n)&&(f=b);var y=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(){var t=Object(o.useState)(),a=Object(c.a)(t,2),i=(a[0],a[1]),d=JSON.parse(localStorage.getItem("accesstoken")),g=JSON.parse(localStorage.getItem("refreshtoken")),b=f.a.create({headers:{Authorization:"Bearer ".concat(d)}}),y=f.a.create({headers:{Authorization:"Bearer ".concat(g)}});b.interceptors.response.use(function(e){return e},function(){var e=Object(n.a)(h().mark(function e(t){var a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!g||403!==t.response.status){e.next=8;break}return e.next=3,y.post(".refreshtoken");case 3:return a=e.sent,d=a.data.accesstoken,e.next=7,b.post("/waterfallprofit",{},{headers:{Authorization:"Bearer ".concat(d)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Object(o.useEffect)(function(){b.post("/waterfallprofit").then(function(e){i(e.data)})},[]);var v=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-mgmt"))||{}}catch(r){}return a[t]}("layout")||[{i:"a",x:2,y:0,w:28,h:4,isDraggable:!0,isResizable:!1},{i:"b",x:2,y:4,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"c",x:16,y:4,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"d",x:16,y:11,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"e",x:2,y:11,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"f",x:2,y:18,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"g",x:2,y:25,w:28,h:20,isDraggable:!0,isResizable:!1}],E=Object(o.useState)(v),O=Object(c.a)(E,2),N=O[0],j=O[1];return l.a.createElement("div",null,l.a.createElement(s.a,{className:"layout",layout:N,cols:36,rowHeight:30,width:1900,onLayoutChange:function(t){var a,n;a="layout",n=t,e.localStorage&&e.localStorage.setItem("rgl-mgmt",JSON.stringify(Object(r.a)({},a,n))),j(t)},margin:[20,20]},l.a.createElement("div",{id:"keyfigures",key:"a"},l.a.createElement(u.a,null)),l.a.createElement("div",{className:"mgmtchart",id:"graph",key:"b"},l.a.createElement(m.a,null)),l.a.createElement("div",{className:"mgmtchart",id:"graph1",key:"c"}),l.a.createElement("div",{className:"mgmtchart",id:"graph2",key:"d"}),l.a.createElement("div",{className:"mgmtchart",id:"graph3",key:"e"},l.a.createElement(p.a,null)),l.a.createElement("div",{className:"mgmtchart",id:"graph4",key:"f"},l.a.createElement("h3",null,"Profit Waterfall Chart, 2020"))))}}).call(this,a(27))},614:function(e,t,a){"use strict";(function(e){var r=a(55),n=a(4),c=a(8),o=a(2),l=a(0),i=a.n(l),s=a(6),u=a.n(s),m=(a(140),a(141),a(20)),p=(a(164),a(706),a(615)),d=(a(381),a(12)),f=a.n(d),h=a(66),g=a(616),b=a(617);function y(){y=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=O(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}function v(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return E(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,c=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw c}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var O=Object(m.WidthProvider)(m.Responsive);t.a=function(){var t=Object(l.useContext)(h.a),a=t.prdata,s=t.setPrdata,m=t.setPrcustomers,d=t.setPrcustomerfilter,E=t.prcustomerfilter,N=t.setPrcustomerchecks,j=t.setPrproducts,w=t.setPrproductfilter,x=t.prproductfilter,S=t.setPrproductchecks,C=t.setPrpgroups,D=t.setPrpgroupfilter,k=t.setPrpgroupchecks,I=t.prpgroupfilter,L=(t.setPrprodcats,t.setPrprodcatfilter,t.setPrprodcatchecks,function(e,t){var a,r=0,n=v(e);try{for(n.s();!(a=n.n()).done;){var c=a.value;E&&E.includes(c.customer)&&x&&x.includes(c.product)&&I&&I.includes(c.productGroup)&&(r+=c[t])}}catch(o){n.e(o)}finally{n.f()}return r}),F=function(e,t,a){var r,n=0,c=v(e);try{for(c.s();!(r=c.n()).done;){var o=r.value;E&&E.includes(o.customer)&&x&&x.includes(o.product)&&I&&I.includes(o.productGroup)&&(n+=o[t]*o[a])}}catch(l){c.e(l)}finally{c.f()}return n},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return t+" "+e.toFixed(a).replace(/\B(?=(\d{3})+(?!\d))/g,",")},$=Object(l.useState)(),Q=Object(o.a)($,2),T=(Q[0],Q[1]),q=JSON.parse(localStorage.getItem("accesstoken")),B=JSON.parse(localStorage.getItem("refreshtoken")),A=Object(l.useState)({quantity:0,revenue:0,profit:0,avgprofit:0,pctprofit:0}),G=Object(o.a)(A,2),_=(G[0],G[1],u.a.create({headers:{Authorization:"Bearer ".concat(q)}})),K=u.a.create({headers:{Authorization:"Bearer ".concat(B)}});_.interceptors.response.use(function(e){return e},function(){var e=Object(c.a)(y().mark(function e(t){var a;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!B||403!==t.response.status){e.next=8;break}return e.next=3,K.post(".refreshtoken");case 3:return a=e.sent,q=a.data.accesstoken,e.next=7,_.post("/waterfallprofit",{},{headers:{Authorization:"Bearer ".concat(q)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Object(l.useEffect)(function(){_.post("/waterfallprofit").then(function(e){T(e.data)})},[]);var R=function(t,a){var r,c;r="layouts",c=a,e.localStorage&&e.localStorage.setItem("rgl-profitability",JSON.stringify(Object(n.a)({},r,c))),z(a)},M=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-profitability"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],md:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],sm:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],xs:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],xxs:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}]},Y=Object(l.useState)(M),W=Object(o.a)(Y,2),U=W[0],z=W[1],H=["month","country","customer","productGroup","prodCatName","product","tCode"],J=Object(l.useState)(0),V=Object(o.a)(J,2),Z=V[0],X=V[1],ee=Object(l.useState)(0),te=Object(o.a)(ee,2),ae=te[0],re=te[1],ne=f()().format("YYYY"),ce=f()().format("MM"),oe=(f()().format("DD"),f()().format("YYYY-MM-DD"),f()().year(ne).month(Number(ce)-1).date(1).format("YYYY-MM-DD")),le=Object(l.useState)(oe),ie=Object(o.a)(le,2),se=ie[0],ue=ie[1],me=Object(l.useState)(f()().add(1,"years").format("YYYY-MM-DD")),pe=Object(o.a)(me,2),de=pe[0],fe=pe[1],he=Object(l.useState)(!1),ge=Object(o.a)(he,2),be=ge[0],ye=ge[1],ve=Object(l.useState)(!1),Ee=Object(o.a)(ve,2),Oe=Ee[0],Ne=Ee[1],je=Object(l.useState)("month"),we=Object(o.a)(je,2),xe=we[0],Se=we[1];Object(l.useEffect)(function(){u.a.post("/profitabilityreport",{reportstartdate:se,reportenddate:de}).then(function(e){s(e.data);var t=Object(r.a)(new Set(e.data.map(function(e){return e.customer}))).sort();m(t),d(t),N(new Array(t.length).fill(!0));var a=Object(r.a)(new Set(e.data.map(function(e){return e.product}))).sort();j(a),w(a),S(new Array(a.length).fill(!0));var n=Object(r.a)(new Set(e.data.map(function(e){return e.productGroup}))).sort();C(n),D(n),k(new Array(n.length).fill(!0))})},[Oe]);var Ce=Object(l.useState)(!0),De=Object(o.a)(Ce,2),ke=De[0],Ie=De[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(O,{style:{left:"2px"},className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:U,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,t){R(0,t)},margin:[20,20],draggableCancel:".canceldrag"},i.a.createElement("div",{id:"profitability",key:"h"},i.a.createElement("div",{className:"profreporttitle"},i.a.createElement("h3",null,"Profitability Report"),i.a.createElement("button",{onClick:function(e){Ie(!ke)}},ke?"Hide Detail":"Show Detail")),i.a.createElement("div",{className:"periodfilter"},i.a.createElement("div",{className:"periodfilterbuttons"},i.a.createElement("p",null,"Period:"),["This month","Last 3 months","This year","Last 12 months","Custom"].map(function(e,t){return i.a.createElement("button",{key:t,name:e,onClick:function(e){return X(a=t),0===a&&(ye(!1),ue(oe),Ne(!Oe)),1===a&&(ye(!1),ue(f()().subtract(3,"months").format("YYYY-MM-DD")),Ne(!Oe)),2===a&&(ye(!1),ue(f()().year(ne).month(0).date(1).format("YYYY-MM-DD")),Ne(!Oe)),3===a&&(ye(!1),ue(f()().subtract(12,"months").format("YYYY-MM-DD")),Ne(!Oe)),void(4===a&&ye(!0));var a},className:t===Z?"periodfilterbutton active":"periodfilterbutton"},e)})),i.a.createElement("div",{className:"customdateinputs"},be?[i.a.createElement("label",null,"From:"),i.a.createElement("input",{value:se,className:"check",type:"date",onChange:function(e){e.preventDefault(),ue(e.target.value)}}),i.a.createElement("label",null,"To:"),i.a.createElement("input",{value:de,className:"check2",type:"date",onChange:function(e){e.preventDefault(),fe(e.target.value)}}),i.a.createElement("button",{onClick:function(e){Ne(!Oe)},className:"periodfilterbutton"},"Go")]:"")),i.a.createElement("div",{className:"prgroupby"},i.a.createElement("p",null,"Group By:"),["Month","Country","Customer","Product Group","Product Category","Product","Trader"].map(function(e,t){return i.a.createElement("button",{key:t,name:H[t],onClick:function(e){return function(e,t){e.preventDefault(),re(t),Se(e.target.name),Ne(!Oe)}(e,t)},className:t===ae?"periodfilterbutton active":"periodfilterbutton"},e)})),i.a.createElement("div",{className:"prsummarystats"},i.a.createElement("div",{className:"prstatgroup"},i.a.createElement("p",null,a?P(L(a,"quantity"),"",0):""),i.a.createElement("h4",null,"Quantity")),i.a.createElement("div",{className:"prstatgroup"},i.a.createElement("p",null,a?P(F(a,"quantity","price"),"$",0):""),i.a.createElement("h4",null,"Revenue")),i.a.createElement("div",{className:"prstatgroup"},i.a.createElement("p",null,a?P(L(a,"profit"),"$",0):""),i.a.createElement("h4",null,"Profit")),i.a.createElement("div",{className:"prstatgroup"},i.a.createElement("p",null,a?P(L(a,"profit")/L(a,"quantity"),"$",2):""),i.a.createElement("h4",null,"Average Profit")),i.a.createElement("div",{className:"prstatgroup"},i.a.createElement("p",null,a?(L(a,"profit")/F(a,"quantity","price")*100).toFixed(2)+"%":""),i.a.createElement("h4",null,"Margin"))),i.a.createElement(p.a,{key:"profitabilityreport",reportstartdate:se,reportenddate:de,refreshreport:Oe,profitreportgroupby:xe,prshowdetail:ke})),i.a.createElement("div",{id:"profitabilitychart",key:"j"},i.a.createElement(g.a,{profitreportgroupby:xe,style:{size:"100%",overflow:"hidden"}})),i.a.createElement("div",{id:"profitabilitychart",key:"k"},i.a.createElement(b.a,{profitreportgroupby:xe,style:{size:"100%",overflow:"hidden"}}))))}}).call(this,a(27))},615:function(e,t,a){"use strict";var r=a(2),n=a(0),c=a.n(n),o=(a(6),a(708),a(12),a(24)),l=a(18),i=a(66);function s(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,c=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw c}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}t.a=function(e){e.reportstartdate,e.reportenddate,e.refreshreport;var t=e.profitreportgroupby,a=e.prshowdetail,u=Object(n.useContext)(i.a),m=u.prdata,p=u.prcustomers,d=(u.setPrcustomers,u.setPrcustomerfilter),f=u.prcustomerfilter,h=u.setPrcustomerchecks,g=u.prcustomerchecks,b=u.prproducts,y=(u.setPrproducts,u.setPrproductfilter),v=u.prproductfilter,E=u.setPrproductchecks,O=u.prproductchecks,N=u.prpgroupchecks,j=u.setPrpgroupchecks,w=u.prpgroups,x=u.setPrpgroupfilter,S=u.prpgroupfilter,C=Object(n.useState)(!1),D=Object(r.a)(C,2),k=D[0],I=D[1],L=Object(n.useState)(!1),F=Object(r.a)(L,2),P=F[0],$=F[1],Q=Object(n.useState)(!1),T=Object(r.a)(Q,2),q=T[0],B=T[1];Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var A=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!==a&&!1===r&&(t=g.map(function(e,t){return t===a?!e:e}),h(t)),!0===r&&(t=g.map(function(){return!0}),h(t)),null===a&&!1===r&&(t=g.map(function(){return!1}),h(t));var n=t.map(function(e,t){return!0===e?p[t]:""}).filter(function(e){return""!==e});d(n)},G=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!==a&&!1===r&&(t=O.map(function(e,t){return t===a?!e:e}),E(t)),!0===r&&(t=O.map(function(){return!0}),E(t)),null===a&&!1===r&&(t=O.map(function(){return!1}),E(t));var n=t.map(function(e,t){return!0===e?b[t]:""}).filter(function(e){return""!==e});y(n)},_=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!==a&&!1===r&&(t=N.map(function(e,t){return t===a?!e:e}),j(t)),!0===r&&(t=N.map(function(){return!0}),j(t)),null===a&&!1===r&&(t=N.map(function(){return!1}),j(t));var n=t.map(function(e,t){return!0===e?w[t]:""}).filter(function(e){return""!==e});x(n)};var K,R=Object(n.useRef)(null);K=R,Object(n.useEffect)(function(){function e(e){K.current&&!K.current.contains(e.target)&&(console.log("clicked outside"),!0===k&&I(!1))}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[K]);var M="",Y=0,W=0,U=function(e,t){var a,r=0,n=s(e);try{for(n.s();!(a=n.n()).done;){var c=a.value;f&&f.includes(c.customer)&&v&&v.includes(c.product)&&S&&S.includes(c.productGroup)&&(r+=c[t])}}catch(o){n.e(o)}finally{n.f()}return r},z=Object(n.useState)(""),H=Object(r.a)(z,2),J=H[0],V=H[1],Z=Object(n.useState)(""),X=Object(r.a)(Z,2),ee=X[0],te=X[1],ae=function(e,t){V(t),""===ee&&te("DESC"),"DESC"===ee&&te("ASC"),"ASC"===ee&&te("")},re=function(e,t){var a,r=0,n=s(e);try{for(n.s();!(a=n.n()).done;)r+=a.value[t]}catch(c){n.e(c)}finally{n.f()}return r};return c.a.createElement("div",{className:"profitabilityreport"},c.a.createElement("ul",null,c.a.createElement("li",{key:"profitabilityreportheader",className:"profitabilityreportline prheader"},c.a.createElement("p",{className:"profitabilityreportcolumn",style:{display:"flex",flexDirection:"row",alignItems:"center",flexBasis:"14%"}},"QSID"),c.a.createElement("p",{className:"profitabilityreportcolumn",style:{display:"flex",flexDirection:"row",alignItems:"center",flexBasis:"14%"}},"WGP"),c.a.createElement("p",{className:"profitabilityreportcolumn",style:{display:"flex",flexDirection:"row",alignItems:"center",flexBasis:"14%"}},"WGS"),c.a.createElement("p",{className:"profitabilityreportcolumn ",style:{display:"flex",flexDirection:"row",alignItems:"center"}},"ShipmentDate"),c.a.createElement("p",{className:"profitabilityreportcolumn "},"Country"),c.a.createElement("p",{className:"profitabilityreportcolumn ",style:{display:"flex",flexDirection:"row",alignItems:"center"}},"Customer"," ",c.a.createElement(o.a,{className:"ellipsis",key:"icon3",style:{color:"gray",marginLeft:0},icon:g&&g.filter(Boolean).length===p.length?l.c:l.d,onClick:function(e){I(!k)}}),k?c.a.createElement("div",{ref:R,className:"prfiltermenu"},c.a.createElement("p",{className:"prselect",onClick:function(e){return A(e,null,!0)}},"Select All"),c.a.createElement("p",{className:"prselect",onClick:function(e){return A(e,null,!1)}},"Clear All"),p?p.map(function(e,t){return c.a.createElement("div",{className:"prcheckgroup"},c.a.createElement("input",{type:"checkbox",id:e,name:e,value:e,checked:!g||g[t],onChange:function(e){return A(e,t)}}),c.a.createElement("label",{for:e},e))}):""):""),c.a.createElement("p",{className:"profitabilityreportcolumn"},"ProdGroup"," ",c.a.createElement(o.a,{className:"ellipsis",key:"icon3",style:{color:"gray",marginLeft:0},icon:N&&N.filter(Boolean).length===w.length?l.c:l.d,onClick:function(e){B(!q)}}),q?c.a.createElement("div",{ref:R,className:"prfiltermenu"},c.a.createElement("p",{className:"prselect",onClick:function(e){return _(e,null,!0)}},"Select All"),c.a.createElement("p",{className:"prselect",onClick:function(e){return _(e,null,!1)}},"Clear All"),w?w.map(function(e,t){return c.a.createElement("div",{className:"prcheckgroup"},c.a.createElement("input",{type:"checkbox",id:e,name:e,value:e,checked:!N||N[t],onChange:function(e){return _(e,t)}}),c.a.createElement("label",{for:e},e))}):""):""),c.a.createElement("p",{className:"profitabilityreportcolumn"},"ProdCat"),c.a.createElement("p",{className:"profitabilityreportcolumn "},"Product",c.a.createElement(o.a,{className:"ellipsis",key:"icon3",style:{color:"gray",marginLeft:0},icon:O&&O.filter(Boolean).length===b.length?l.c:l.d,onClick:function(e){$(!P)}}),P?c.a.createElement("div",{className:"prfiltermenu"},c.a.createElement("p",{className:"prselect",onClick:function(e){return G(e,null,!0)}},"Select All"),c.a.createElement("p",{className:"prselect",onClick:function(e){return G(e,null,!1)}},"Clear All"),b?b.map(function(e,t){return c.a.createElement("div",{className:"prcheckgroup"},c.a.createElement("input",{type:"checkbox",id:e,name:e,value:e,checked:!O||O[t],onChange:function(e){return G(e,t)}}),c.a.createElement("label",{for:e},e))}):""):""),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},"Quantity"," ",c.a.createElement(o.a,{className:"ellipsis",key:"icon4",style:{color:"gray",marginLeft:0},icon:"DESC"===ee&&"quantity"===J?l.j:"ASC"===ee&&"quantity"===J?l.k:l.i,onClick:function(e){ae(0,"quantity")}})),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},"Price"),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},"Profit(pmt)"),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},"Profit"," ",c.a.createElement(o.a,{className:"ellipsis",key:"icon4",style:{color:"gray",marginLeft:0},icon:"DESC"===ee&&"profit"===J?l.j:"ASC"===ee&&"profit"===J?l.k:l.i,onClick:function(e){ae(0,"profit")}}))),m?Object.entries(m.groupBy(t)).sort(function(e,t){var a=Object(r.a)(e,2)[1],n=Object(r.a)(t,2)[1];return""!==J&&"DESC"===ee?re(n,J)-re(a,J):""!==J&&"ASC"===ee?re(a,J)-re(n,J):void 0}).map(function(e,n){return M=Object.keys(Object.fromEntries(Object.entries(m.groupBy(t)).sort(function(e,t){var a=Object(r.a)(e,2)[1],n=Object(r.a)(t,2)[1];return""!==J&&"DESC"===ee?re(n,J)-re(a,J):""!==J&&"ASC"===ee?re(a,J)-re(n,J):void 0})))[n],Y=0,W=0,[c.a.createElement(c.a.Fragment,null,U(e[1],"quantity")>0?[c.a.createElement("h3",{className:"prmonth"},M)]:""),e[1].map(function(e){return f&&v&&S&&f.includes(e.customer)&&v.includes(e.product)&&S.includes(e.productGroup)&&(Y+=Number(e.profit),W+=Number(e.quantity)),c.a.createElement("li",{key:e.QSID,className:a?"profitabilityreportline":"profitabilityreportline prdisplay-none"},f&&v&&S&&f.includes(e.customer)&&v.includes(e.product)&&S.includes(e.productGroup)?[c.a.createElement("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"},e.QSID),c.a.createElement("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"},e.KTP),c.a.createElement("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"},e.KTS),c.a.createElement("p",{className:"profitabilityreportcolumn"},e.startship," - ",e.endship),c.a.createElement("p",{className:"profitabilityreportcolumn"},e.country),c.a.createElement("p",{className:"profitabilityreportcolumn"},e.customer),c.a.createElement("p",{className:"profitabilityreportcolumn"},e.productGroup),c.a.createElement("p",{className:"profitabilityreportcolumn"},e.prodCatName),c.a.createElement("p",{className:"profitabilityreportcolumn"},e.product),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},e.quantity.toFixed(2)),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},e.price.toFixed(2)),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},e?e.profitpmt.toFixed(2):""),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},e.profit?"$"+e.profit.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"")]:"")}),c.a.createElement("div",null,U(e[1],"quantity")>0?[c.a.createElement("li",{className:"profitabilityreportline"},c.a.createElement("p",{style:{display:"flex",flexBasis:"14%"},className:"profitabilityreportcolumn"}),c.a.createElement("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"}),c.a.createElement("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"}),c.a.createElement("p",{className:"profitabilityreportcolumn"}),c.a.createElement("p",{className:"profitabilityreportcolumn"}),c.a.createElement("p",{className:"profitabilityreportcolumn"}),c.a.createElement("p",{className:"profitabilityreportcolumn"}),c.a.createElement("p",{className:"profitabilityreportcolumn"}),c.a.createElement("p",{className:"profitabilityreportcolumn"}),c.a.createElement("p",{className:"profitabilityreportcolumn prfig prtotal"},W.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"}),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"}),c.a.createElement("p",{className:"profitabilityreportcolumn prfig prtotal"},"$"+Y.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")))]:"")]}):""))}},616:function(e,t,a){"use strict";var r=a(2),n=a(0),c=a.n(n),o=a(59),l=a(288),i=a(66);function s(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,c=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw c}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}o.e.register(o.d,o.i,o.b,o.n,o.o,o.g);t.a=function(e){var t=e.profitreportgroupby,a=Object(n.useContext)(i.a).prdata;Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var o=Object(n.useState)(),u=Object(r.a)(o,2),m=u[0],p=u[1],d=Object(n.useState)(),f=Object(r.a)(d,2),h=f[0],g=f[1];Object(n.useEffect)(function(){if(a){var e=a.groupBy(t);g(Object.keys(e).reverse()),p(Object.entries(e).map(function(e,t){return function(e,t){var a,r=0,n=s(e);try{for(n.s();!(a=n.n()).done;)r+=a.value[t]}catch(c){n.e(c)}finally{n.f()}return r}(e[1],"quantity")}).reverse())}},[a,t]);var b={labels:h,datasets:[{label:"Quantity (mt)",data:m,backgroundColor:"rgba(68, 65, 162, 0.7)"}]};return c.a.createElement(l.a,{options:{responsive:!0},data:b})}},617:function(e,t,a){"use strict";var r=a(2),n=a(0),c=a.n(n),o=a(59),l=a(288),i=a(66);function s(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,c=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw c}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}o.e.register(o.d,o.i,o.b,o.n,o.o,o.g);t.a=function(e){var t=e.profitreportgroupby,a=Object(n.useContext)(i.a).prdata;Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var o=Object(n.useState)(),u=Object(r.a)(o,2),m=u[0],p=u[1],d=Object(n.useState)(),f=Object(r.a)(d,2),h=f[0],g=f[1];Object(n.useEffect)(function(){if(a){var e=a.groupBy(t);g(Object.keys(e).reverse()),p(Object.entries(e).map(function(e,t){return function(e,t){var a,r=0,n=s(e);try{for(n.s();!(a=n.n()).done;)r+=a.value[t]}catch(c){n.e(c)}finally{n.f()}return r}(e[1],"profit")}).reverse())}},[a,t]);var b={labels:h,datasets:[{label:"Profit ($)",data:m,backgroundColor:"rgba(160, 182, 103, 0.7)"}]};return c.a.createElement(l.a,{options:{responsive:!0},data:b})}},618:function(e,t,a){"use strict";(function(e){var r=a(2),n=a(4),c=a(0),o=a.n(c),l=(a(140),a(141),a(20)),i=a(619),s=(a(712),a(6)),u=a.n(s),m=Object(l.WidthProvider)(l.Responsive);t.a=function(){var t=function(t,a){var r,c;r="layouts",c=a,e.localStorage&&e.localStorage.setItem("rgl-analysis",JSON.stringify(Object(n.a)({},r,c))),d(a)},a=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-analysis"))|{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"a",x:0,y:0,w:30,h:14}],md:[{i:"a",x:0,y:0,w:30,h:14}],sm:[{i:"a",x:0,y:0,w:30,h:14}],xs:[{i:"a",x:0,y:0,w:30,h:14}],xxs:[{i:"a",x:0,y:0,w:30,h:14}]},l=Object(c.useState)(a),s=Object(r.a)(l,2),p=s[0],d=s[1],f=Object(c.useState)(JSON.parse(localStorage.getItem("WGusercode"))),h=Object(r.a)(f,2),g=h[0],b=h[1],y=Object(c.useState)(),v=Object(r.a)(y,2),E=v[0],O=v[1];return Object(c.useEffect)(function(){u.a.post("/traders").then(function(e){O(e.data)})},[]),o.a.createElement("div",{className:"gridcontainer"},o.a.createElement(m,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:p,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,a){t(0,a)},margin:[20,20],draggableCancel:".canceldrag"},o.a.createElement("div",{id:"lastyearsales",key:"a"},o.a.createElement("div",{className:"lystitlesection"},o.a.createElement("h3",{className:"lystitle"},"Last Year Sales and Indications"),o.a.createElement("select",{onChange:function(e){return b(e.target.value)}},o.a.createElement("option",{value:"all"},"All"),E?E.map(function(e){return e.trader===g?o.a.createElement("option",{selected:!0,value:e.trader},e.trader):o.a.createElement("option",{value:e.trader},e.trader)}):"reload")),o.a.createElement(i.a,{userID:g}))))}}).call(this,a(27))},619:function(e,t,a){"use strict";var r=a(2),n=a(0),c=a.n(n),o=a(6),l=a.n(o),i=a(12),s=a.n(i);t.a=function(e){var t=e.userID,a=Object(n.useState)(),o=Object(r.a)(a,2),i=(o[0],o[1]),u=Object(n.useState)(),m=Object(r.a)(u,2),p=m[0],d=m[1];Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})},Object(n.useEffect)(function(){var e=Number(s()().format("YY"))-1,a=s()().format("DD"),r=Number(s()().format("MM"))-1,n=Number(s()().format("MM"))+1,c=s()(r+"-"+a+"-"+e).format("YYYY-MM"),o=s()(n+"-"+a+"-"+e).format("YYYY-MM");console.log(c),console.log(o),l.a.post("/lysales",{fromdate:c,todate:o,userID:t}).then(function(e){i(e.data);var t=e.data.groupBy("month");d(t)})},[t]);var f="";return c.a.createElement("div",{className:"lysaleslist"},c.a.createElement("ul",{className:"lysalesdata"},c.a.createElement("li",{className:"lysalesline lysalesheader"},c.a.createElement("p",{className:"lysalescolumn"},"QSDate"),c.a.createElement("p",{className:"lysalescolumn"},"QSID"),c.a.createElement("p",{className:"lysalescolumn"},"Customer"),c.a.createElement("p",{className:"lysalescolumn"},"Product"),c.a.createElement("p",{className:"lysalescolumn lysfig"},"Quantity"),c.a.createElement("p",{className:"lysalescolumn lysfig"},"Price"),c.a.createElement("p",{className:"lysalescolumn lysfig"},"Profit"),c.a.createElement("p",{className:"lysalescolumn"},"Status")),p?Object.entries(p).map(function(e,t){return f=Object.keys(p)[t],[c.a.createElement("h3",{className:"lysalesmonth"},f),e[1].map(function(e){return c.a.createElement("li",{className:"lysalesline"},c.a.createElement("p",{className:"lysalescolumn"},e.QSDate),c.a.createElement("p",{className:"lysalescolumn"},e.QSID),c.a.createElement("p",{className:"lysalescolumn"},e.customer),c.a.createElement("p",{className:"lysalescolumn"},e.abbreviation),c.a.createElement("p",{className:"lysalescolumn lysfig"},e.quantity.toFixed(2)),c.a.createElement("p",{className:"lysalescolumn lysfig"},"$ "+e.priceBeforeInterest.toFixed(2)),c.a.createElement("p",{className:"lysalescolumn lysfig"},"$ "+e.tradingProfit.toFixed(2)),c.a.createElement("p",{className:"lysalescolumn"},-1==e.saleComplete?"Sale":"Indication"))})]}):""))}},620:function(e,t,a){"use strict";(function(e){var r=a(2),n=a(4),c=a(0),o=a.n(c),l=a(20),i=(a(716),a(6)),s=a.n(i),u=a(621),m=Object(l.WidthProvider)(l.Responsive);t.a=function(){var t=function(t,a){var r,c;r="layouts",c=a,e.localStorage&&e.localStorage.setItem("rgl-matching",JSON.stringify(Object(n.a)({},r,c))),d(a)},a=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-matching"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"h",x:0,y:0,w:30,h:14}],md:[{i:"h",x:0,y:0,w:30,h:14}],sm:[{i:"h",x:0,y:0,w:30,h:14}],xs:[{i:"h",x:0,y:0,w:30,h:14}],xxs:[{i:"h",x:0,y:0,w:30,h:14}]},l=Object(c.useState)(a),i=Object(r.a)(l,2),p=i[0],d=i[1],f=Object(c.useState)(),h=Object(r.a)(f,2),g=h[0],b=h[1],y=Object(c.useState)(),v=Object(r.a)(y,2),E=v[0],O=v[1],N=Object(c.useState)(),j=Object(r.a)(N,2),w=j[0],x=j[1];return Object(c.useEffect)(function(){s.a.post("/matchingposreport").then(function(e){b(e.data),x(e.data),s.a.post("/poslist").then(function(e){console.log(e.data);var t=[];e.data.forEach(function(e){return t.push(e.USWGP)});var a=String(t);console.log(a),s.a.post("/matchingpossales",{posl1:a}).then(function(e){O(e.data)})})})},[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(m,{className:"layout",style:{left:"2px"},breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:p,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,a){t(0,a)},margin:[20,20],draggableCancel:".canceldrag"},o.a.createElement("div",{id:"matching",key:"h"},o.a.createElement("div",{className:"matchreporttitle"},o.a.createElement("h3",null,"Matching Report")),o.a.createElement(u.a,{posdata:g,filteredPosList:w,setFilteredPosList:x,matchingpossales:E}))))}}).call(this,a(27))},621:function(e,t,a){"use strict";var r=a(2),n=a(0),c=a.n(n),o=(a(718),a(720),a(65));a(6);t.a=function(e){var t=e.posdata,a=e.matchingpossales,l=e.filteredPosList,i=e.setFilteredPosList,s=Object(n.useState)(),u=Object(r.a)(s,2),m=u[0],p=u[1];return Object(n.useEffect)(function(){if(t)if(m&&""!==m){var e=t.filter(function(e){if(m&&""!==m)return e.USWGP.includes(m)});i(e)}else i(t)},[m]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"matchreport"},c.a.createElement("label",{htmlFor:""},"Search:"),c.a.createElement("input",{className:"matchsearch",value:m,onChange:function(e){p(e.target.value)}}),l?l.map(function(e){return c.a.createElement(o.a,{allowZeroExpanded:!0,className:"matchaccordion",onChange:function(t){e.USWGP}},c.a.createElement(o.b,null,c.a.createElement(o.d,null,c.a.createElement(o.c,{className:"matchaccordion_button"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("b",null,"USWGP:")," ",e.USWGP),c.a.createElement("li",null,c.a.createElement("b",null,"WGP:")," ",e.USpositionID),c.a.createElement("li",{className:"prodli"},c.a.createElement("b",null,"Product:")," ",e.abbreviation),c.a.createElement("li",null,c.a.createElement("b",null,"Quantity:")," ",e.quantity,"mt"),c.a.createElement("li",null,c.a.createElement("b",null,"Sold:")," ",e.totalSold,"mt"),c.a.createElement("li",null,c.a.createElement("b",null,"Unsold:")," ",e.inventory,"mt")))),c.a.createElement(o.e,null,c.a.createElement("ul",{className:"matchpossales"},c.a.createElement("li",{className:"matchpossalesheader"},c.a.createElement("p",null,"USWGP"),c.a.createElement("p",null,"WGS"),c.a.createElement("p",null,"Customer"),c.a.createElement("p",{className:"matchfig"},"Quantity")),a?a.map(function(t){return t.KTP===e.USWGP?c.a.createElement("li",null,c.a.createElement("p",null,t.KTP),c.a.createElement("p",null,t.KTS),c.a.createElement("p",null,t.companyCode),c.a.createElement("p",{className:"matchfig"},t.quantity)):""}):""))))}):""))}},622:function(e,t,a){"use strict";(function(e){var r=a(55),n=a(1),c=a(2),o=a(4),l=a(0),i=a.n(l),s=a(20),u=a(6),m=a.n(u),p=(a(722),a(186)),d=Object(s.WidthProvider)(s.Responsive);t.a=function(){var t=Object(l.useContext)(p.a),a=t.updateScores,s=t.setUpdateScores,u=function(t,a){var r,n;r="layouts",n=a,e.localStorage&&e.localStorage.setItem("rgl-inprogress",JSON.stringify(Object(o.a)({},r,n))),y(a)},f=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-inprogress"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"h",x:0,y:0,w:30,h:14}],md:[{i:"h",x:0,y:0,w:30,h:14}],sm:[{i:"h",x:0,y:0,w:30,h:14}],xs:[{i:"h",x:0,y:0,w:30,h:14}],xxs:[{i:"h",x:0,y:0,w:30,h:14}]},h=Object(l.useState)(f),g=Object(c.a)(h,2),b=g[0],y=g[1],v=Object(l.useState)(),E=Object(c.a)(v,2),O=E[0],N=E[1],j=Object(l.useState)(),w=Object(c.a)(j,2),x=w[0],S=w[1],C=Object(l.useState)(),D=Object(c.a)(C,2),k=D[0],I=D[1],L=Object(l.useState)([]),F=Object(c.a)(L,2),P=F[0],$=F[1],Q=Object(l.useState)([]),T=Object(c.a)(Q,2),q=(T[0],T[1],Object(l.useState)()),B=Object(c.a)(q,2),A=(B[0],B[1]),G=Object(l.useState)(!1),_=Object(c.a)(G,2),K=(_[0],_[1],Object(l.useState)(!1)),R=Object(c.a)(K,2);R[0],R[1];Object(l.useEffect)(function(){m.a.post("/trafficmgrs").then(function(e){I(e.data)})},[]),Object(l.useEffect)(function(){m.a.post("/salesinprogress").then(function(e){N(e.data)}),m.a.post("/salesinprogressassigned").then(function(e){S(e.data)})},[a]);var M=function(e,t){m.a.post("/saveassignment",{qsid:e,datapacket:P[e]}).then(function(e){A(e.data),s(!a)})},Y=Object(l.useState)([]),W=Object(c.a)(Y,2),U=W[0],z=W[1],H=function(e,t){$(Object(n.a)({},P,Object(o.a)({},t,Object(n.a)({},P[t],Object(o.a)({},e.target.name,e.target.value)))))};return i.a.createElement(d,{className:"layout",style:{left:"2px"},breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:b,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,t){u(0,t)},margin:[20,20],draggableCancel:".canceldrag"},i.a.createElement("div",{id:"inprogress",key:"h"},i.a.createElement("div",{className:"matchreporttitle"},i.a.createElement("h3",null,"Operations In Progress")),i.a.createElement("ul",{className:"inprogresslist"},i.a.createElement("h4",null,"Unassigned"),i.a.createElement("li",{className:"inprogresslist-header"},i.a.createElement("p",null,"QSID"),i.a.createElement("p",null,"Trader"),i.a.createElement("p",null,"WGS"),i.a.createElement("p",null,"WGP"),i.a.createElement("p",{className:"inprogress-lrg-p"},"Product"),i.a.createElement("p",{className:"inprogress-lrg-p"},"Customer"),i.a.createElement("p",null,"Quantity"),i.a.createElement("p",null,"P Inco"),i.a.createElement("p",null,"S Inco"),i.a.createElement("p",{className:"inprog-center"},"Inspec."),i.a.createElement("p",{className:"inprog-center"},"LC"),i.a.createElement("p",{className:"inprog-center"},"WH"),i.a.createElement("p",null,"Score"),i.a.createElement("p",null,"TMC"),U.length>0?i.a.createElement("p",{className:"inprog-center"},"Finalize"):i.a.createElement("p",null)),O?O.map(function(e){var t=0;return"CPT"===e.pincoterms||"CFR"===e.pincoterms?t+=1:"FOB"!==e.pincoterms&&"CIP"!==e.pincoterms&&"CIF"!==e.pincoterms||(t+=2),"DAP"===e.incoterms&&(t+=1),"yes"===e.hasInspection&&(t+=1),"yes"===e.hasPromisory&&(t+=1),"yes"===e.hasWH&&(t+=1),i.a.createElement("li",null,i.a.createElement("p",null,e.QSID),i.a.createElement("p",null,e.trader),U.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"KTS",type:"text",onChange:function(t){H(t,e.QSID)},value:P[e.QSID]&&P[e.QSID].KTS||P[e.QSID]&&""===P[e.QSID].KTS?P[e.QSID].KTS:e.KTS})):i.a.createElement("p",null,e.KTS),U.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"KTP",type:"text",onChange:function(t){H(t,e.QSID)},value:P[e.QSID]&&P[e.QSID].KTP||P[e.QSID]&&""===P[e.QSID].KTP?P[e.QSID].KTP:e.KTP})):i.a.createElement("p",null,e.KTP),i.a.createElement("p",{className:"inprogress-lrg-p"},e.abbreviation),i.a.createElement("p",{className:"inprogress-lrg-p"},e.companyCode),i.a.createElement("p",null,e.quantity),U.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"pincoterms",type:"text",onChange:function(t){H(t,e.QSID)},value:P[e.QSID]&&P[e.QSID].pincoterms||P[e.QSID]&&""===P[e.QSID].pincoterms?P[e.QSID].pincoterms:e.pincoterms})):i.a.createElement("p",null,e.pincoterms),U.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"incoterms",type:"text",onChange:function(t){H(t,e.QSID)},value:P[e.QSID]&&P[e.QSID].incoterms||P[e.QSID]&&""===P[e.QSID].incoterms?P[e.QSID].incoterms:e.incoterms})):i.a.createElement("p",null,e.incoterms),U.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:P[e.QSID]?P[e.QSID].hasInspectionBool:"yes"===e.hasInspection,onClick:function(t){var a,r,c,l;P[e.QSID]&&P[e.QSID].hasInspection?"yes"===P[e.QSID].hasInspection?(console.log("heyyy"),$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(a={},Object(o.a)(a,"hasInspection","no"),Object(o.a)(a,"hasInspectionBool",!1),a)))))):(console.log("hooo"),$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(r={},Object(o.a)(r,"hasInspection","yes"),Object(o.a)(r,"hasInspectionBool",!0),r)))))):"yes"===e.hasInspection?$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(c={},Object(o.a)(c,"hasInspection","no"),Object(o.a)(c,"hasInspectionBool",!1),c))))):$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(l={},Object(o.a)(l,"hasInspection","yes"),Object(o.a)(l,"hasInspectionBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasInspection),U.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:P[e.QSID]?P[e.QSID].hasPromisoryBool:"yes"===e.hasPromisory,onClick:function(t){var a,r,c,l;P[e.QSID]&&P[e.QSID].hasPromisory?"yes"===P[e.QSID].hasPromisory?$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(a={},Object(o.a)(a,"hasPromisory","no"),Object(o.a)(a,"hasPromisoryBool",!1),a))))):$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(r={},Object(o.a)(r,"hasPromisory","yes"),Object(o.a)(r,"hasPromisoryBool",!0),r))))):"yes"===e.hasPromisory?$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(c={},Object(o.a)(c,"hasPromisory","no"),Object(o.a)(c,"hasPromisoryBool",!1),c))))):$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(l={},Object(o.a)(l,"hasPromisory","yes"),Object(o.a)(l,"hasPromisoryBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasPromisory),U.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:P[e.QSID]?P[e.QSID].hasWHBool:"yes"===e.hasWH,onClick:function(t){var a,r,c,l;P[e.QSID]&&P[e.QSID].hasWH?"yes"===P[e.QSID].hasWH?(console.log("heyyy"),$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(a={},Object(o.a)(a,"hasWH","no"),Object(o.a)(a,"hasWHBool",!1),a)))))):(console.log("hooo"),$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(r={},Object(o.a)(r,"hasWH","yes"),Object(o.a)(r,"hasWHBool",!0),r)))))):"yes"===e.hasWH?$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(c={},Object(o.a)(c,"hasWH","no"),Object(o.a)(c,"hasWHBool",!1),c))))):$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(l={},Object(o.a)(l,"hasWH","yes"),Object(o.a)(l,"hasWHBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasWH),i.a.createElement("p",null,t.toFixed(1)),U.includes(String(e.QSID))?i.a.createElement("select",{name:e.QSID,onChange:function(e){$(Object(n.a)({},P,Object(o.a)({},e.target.name,Object(n.a)({},P[e.target.name],{trafficID:Number(e.target.value)}))))},value:P[e.QSID]&&P[e.QSID].trafficID||P[e.QSID]&&0===P[e.QSID].trafficID?P[e.QSID].trafficID:e.trafficID},i.a.createElement("option",null,"Select..."),k?k.map(function(e){return i.a.createElement("option",{selected:"na",value:e.trafficID},e.trafficID," - ",e.traffic)}):""):i.a.createElement("p",null,e.traffic),U.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:P[e.QSID]?P[e.QSID].finalCompleteBool:1===e.finalComplete,onClick:function(t){var a,r,c,l;P[e.QSID]&&P[e.QSID].finalComplete?1===P[e.QSID].finalComplete?$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(a={},Object(o.a)(a,"finalComplete",0),Object(o.a)(a,"finalCompleteBool",!1),a))))):$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(r={},Object(o.a)(r,"finalComplete",1),Object(o.a)(r,"finalCompleteBool",!0),r))))):1===e.finalComplete?$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(c={},Object(o.a)(c,"finalComplete",0),Object(o.a)(c,"finalCompleteBool",!1),c))))):$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(l={},Object(o.a)(l,"finalComplete",1),Object(o.a)(l,"finalCompleteBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"}),U.includes(String(e.QSID))?"":i.a.createElement("button",{name:e.QSID,onClick:function(e){U.includes(e.target.name)||z([].concat(Object(r.a)(U),[e.target.name]))}},"Edit"),U.includes(String(e.QSID))?[i.a.createElement("button",{className:"inprogsavebtn",name:e.QSID,onClick:function(e){e.preventDefault(),M(e.target.name,P[e.target.name]);var t=P;delete t[e.target.name],$(Object(n.a)({},t));var a=U.indexOf(String(e.target.name));z([].concat(Object(r.a)(U.slice(0,a)),Object(r.a)(U.slice(a+1,U.length))))}},"Save"),i.a.createElement("button",{className:"inprogcancelbtn",name:e.QSID,onClick:function(e){var t=P;delete t[e.target.name],$(Object(n.a)({},t));var a=U.indexOf(String(e.target.name));z([].concat(Object(r.a)(U.slice(0,a)),Object(r.a)(U.slice(a+1,U.length))))}},"Cancel")]:"")}):"",i.a.createElement("h4",null,"Assigned"),i.a.createElement("li",{className:"inprogresslist-header"},i.a.createElement("p",null,"QSID"),i.a.createElement("p",null,"Trader"),i.a.createElement("p",null,"WGS"),i.a.createElement("p",null,"WGP"),i.a.createElement("p",{className:"inprogress-lrg-p"},"Product"),i.a.createElement("p",{className:"inprogress-lrg-p"},"Customer"),i.a.createElement("p",null,"Quantity"),i.a.createElement("p",null,"P Inco"),i.a.createElement("p",null,"S Inco"),i.a.createElement("p",{className:"inprog-center"},"Inspec."),i.a.createElement("p",{className:"inprog-center"},"LC"),i.a.createElement("p",{className:"inprog-center"},"WH"),i.a.createElement("p",null,"Score"),i.a.createElement("p",null,"TMC"),U.length>0?i.a.createElement("p",{className:"inprog-center"},"Finalize"):i.a.createElement("p",null)),x?x.map(function(e){var t=0;return"CPT"===e.pincoterms||"CFR"===e.pincoterms?t+=1:"FOB"!==e.pincoterms&&"CIP"!==e.pincoterms&&"CIF"!==e.pincoterms||(t+=2),"DAP"===e.incoterms&&(t+=1),"yes"===e.hasInspection&&(t+=1),"yes"===e.hasPromisory&&(t+=1),"yes"===e.hasWH&&(t+=1),i.a.createElement("li",null,i.a.createElement("p",null,e.QSID),i.a.createElement("p",null,e.trader),U.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"KTS",type:"text",onChange:function(t){H(t,e.QSID)},value:P[e.QSID]&&P[e.QSID].KTS||P[e.QSID]&&""===P[e.QSID].KTS?P[e.QSID].KTS:e.KTS})):i.a.createElement("p",null,e.KTS),U.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"KTP",type:"text",onChange:function(t){H(t,e.QSID)},value:P[e.QSID]&&P[e.QSID].KTP||P[e.QSID]&&""===P[e.QSID].KTP?P[e.QSID].KTP:e.KTP})):i.a.createElement("p",null,e.KTP),i.a.createElement("p",{className:"inprogress-lrg-p"},e.abbreviation),i.a.createElement("p",{className:"inprogress-lrg-p"},e.companyCode),i.a.createElement("p",null,e.quantity),U.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"pincoterms",type:"text",onChange:function(t){H(t,e.QSID)},value:P[e.QSID]&&P[e.QSID].pincoterms||P[e.QSID]&&""===P[e.QSID].pincoterms?P[e.QSID].pincoterms:e.pincoterms})):i.a.createElement("p",null,e.pincoterms),U.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"incoterms",type:"text",onChange:function(t){H(t,e.QSID)},value:P[e.QSID]&&P[e.QSID].incoterms||P[e.QSID]&&""===P[e.QSID].incoterms?P[e.QSID].incoterms:e.incoterms})):i.a.createElement("p",null,e.incoterms),U.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:P[e.QSID]?P[e.QSID].hasInspectionBool:"yes"===e.hasInspection,onClick:function(t){var a,r,c,l;P[e.QSID]&&P[e.QSID].hasInspection?"yes"===P[e.QSID].hasInspection?(console.log("heyyy"),$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(a={},Object(o.a)(a,"hasInspection","no"),Object(o.a)(a,"hasInspectionBool",!1),a)))))):(console.log("hooo"),$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(r={},Object(o.a)(r,"hasInspection","yes"),Object(o.a)(r,"hasInspectionBool",!0),r)))))):"yes"===e.hasInspection?$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(c={},Object(o.a)(c,"hasInspection","no"),Object(o.a)(c,"hasInspectionBool",!1),c))))):$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(l={},Object(o.a)(l,"hasInspection","yes"),Object(o.a)(l,"hasInspectionBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasInspection),U.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:P[e.QSID]?P[e.QSID].hasPromisoryBool:"yes"===e.hasPromisory,onClick:function(t){var a,r,c,l;P[e.QSID]&&P[e.QSID].hasPromisory?"yes"===P[e.QSID].hasPromisory?(console.log("heyyy"),$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(a={},Object(o.a)(a,"hasPromisory","no"),Object(o.a)(a,"hasPromisoryBool",!1),a)))))):(console.log("hooo"),$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(r={},Object(o.a)(r,"hasPromisory","yes"),Object(o.a)(r,"hasPromisoryBool",!0),r)))))):"yes"===e.hasPromisory?$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(c={},Object(o.a)(c,"hasPromisory","no"),Object(o.a)(c,"hasPromisoryBool",!1),c))))):$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(l={},Object(o.a)(l,"hasPromisory","yes"),Object(o.a)(l,"hasPromisoryBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasPromisory),U.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:P[e.QSID]?P[e.QSID].hasWHBool:"yes"===e.hasWH,onClick:function(t){var a,r,c,l;P[e.QSID]&&P[e.QSID].hasWH?"yes"===P[e.QSID].hasWH?(console.log("heyyy"),$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(a={},Object(o.a)(a,"hasWH","no"),Object(o.a)(a,"hasWHBool",!1),a)))))):(console.log("hooo"),$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(r={},Object(o.a)(r,"hasWH","yes"),Object(o.a)(r,"hasWHBool",!0),r)))))):"yes"===e.hasWH?$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(c={},Object(o.a)(c,"hasWH","no"),Object(o.a)(c,"hasWHBool",!1),c))))):$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(l={},Object(o.a)(l,"hasWH","yes"),Object(o.a)(l,"hasWHBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasWH),i.a.createElement("p",null,t.toFixed(1)),U.includes(String(e.QSID))?i.a.createElement("select",{name:e.QSID,onChange:function(e){$(Object(n.a)({},P,Object(o.a)({},e.target.name,Object(n.a)({},P[e.target.name],{trafficID:Number(e.target.value)}))))},value:P[e.QSID]&&P[e.QSID].trafficID||P[e.QSID]&&0===P[e.QSID].trafficID?P[e.QSID].trafficID:e.trafficID},i.a.createElement("option",null,"Select..."),k?k.map(function(e){return i.a.createElement("option",{selected:"na",value:e.trafficID},e.trafficID," - ",e.traffic)}):""):i.a.createElement("p",null,e.traffic),U.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:P[e.QSID]?P[e.QSID].finalCompleteBool:1===e.finalComplete,onClick:function(t){var a,r,c,l;P[e.QSID]&&P[e.QSID].finalComplete?1===P[e.QSID].finalComplete?$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(a={},Object(o.a)(a,"finalComplete",0),Object(o.a)(a,"finalCompleteBool",!1),a))))):$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(r={},Object(o.a)(r,"finalComplete",1),Object(o.a)(r,"finalCompleteBool",!0),r))))):1===e.finalComplete?$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(c={},Object(o.a)(c,"finalComplete",0),Object(o.a)(c,"finalCompleteBool",!1),c))))):$(Object(n.a)({},P,Object(o.a)({},e.QSID,Object(n.a)({},P[e.QSID],(l={},Object(o.a)(l,"finalComplete",1),Object(o.a)(l,"finalCompleteBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"}),U.includes(String(e.QSID))?"":i.a.createElement("button",{name:e.QSID,onClick:function(e){return U.includes(e.target.name)?"":z([].concat(Object(r.a)(U),[e.target.name]))}},"Edit"),U.includes(String(e.QSID))?[i.a.createElement("button",{className:"inprogsavebtn",name:e.QSID,onClick:function(e){e.preventDefault(),M(e.target.name,P[e.target.name]);var t=P;delete t[e.target.name],$(Object(n.a)({},t));var a=U.indexOf(String(e.target.name));z([].concat(Object(r.a)(U.slice(0,a)),Object(r.a)(U.slice(a+1,U.length))))}},"Save"),i.a.createElement("button",{className:"inprogcancelbtn",name:e.QSID,onClick:function(e){var t=P;delete t[e.target.name],$(Object(n.a)({},t));var a=U.indexOf(String(e.target.name));z([].concat(Object(r.a)(U.slice(0,a)),Object(r.a)(U.slice(a+1,U.length))))}},"Cancel")]:"")}):"")))}}).call(this,a(27))},66:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return l});var r=a(2),n=a(0),c=a.n(n),o=c.a.createContext(),l=function(e){var t=e.children,a=Object(n.useState)(),l=Object(r.a)(a,2),i=l[0],s=l[1],u=Object(n.useState)(),m=Object(r.a)(u,2),p=m[0],d=m[1],f=Object(n.useState)(),h=Object(r.a)(f,2),g=h[0],b=h[1],y=Object(n.useState)(),v=Object(r.a)(y,2),E=v[0],O=v[1],N=Object(n.useState)(),j=Object(r.a)(N,2),w=j[0],x=j[1],S=Object(n.useState)(),C=Object(r.a)(S,2),D=C[0],k=C[1],I=Object(n.useState)(),L=Object(r.a)(I,2),F=L[0],P=L[1],$=Object(n.useState)(),Q=Object(r.a)($,2),T=Q[0],q=Q[1],B=Object(n.useState)(),A=Object(r.a)(B,2),G=A[0],_=A[1],K=Object(n.useState)(),R=Object(r.a)(K,2),M=R[0],Y=R[1],W=Object(n.useState)(),U=Object(r.a)(W,2),z=U[0],H=U[1],J=Object(n.useState)(),V=Object(r.a)(J,2),Z=V[0],X=V[1],ee=Object(n.useState)(),te=Object(r.a)(ee,2),ae=te[0],re=te[1];return c.a.createElement(o.Provider,{value:{prdata:i,setPrdata:s,prcustomers:p,setPrcustomers:d,prcustomerfilter:g,setPrcustomerfilter:b,prcustomerchecks:E,setPrcustomerchecks:O,prproducts:w,setPrproducts:x,prproductfilter:D,setPrproductfilter:k,prproductchecks:F,setPrproductchecks:P,prpgroups:T,setPrpgroups:q,prpgroupfilter:G,setPrpgroupfilter:_,prpgroupchecks:M,setPrpgroupchecks:Y,prprodcats:z,setPrprodcats:H,prprodcatfilter:Z,setPrprodcatfilter:X,prprodcatchecks:ae,setPrprodcatchecks:re}},t)}},67:function(e,t,a){"use strict";var r,n=a(2),c=a(1),o=(a(460),a(0)),l=a.n(o),i=a(23),s=a(11),u=a(4),m=(a(462),a(6)),p=a.n(m);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var f,h,g=function(e){return l.a.createElement("svg",d({version:1.1,id:"Capa_1",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"403px",height:"229px",viewBox:"0 0 403 229",enableBackground:"new 0 0 403 229",xmlSpace:"preserve"},e),r||(r=l.a.createElement("g",null,l.a.createElement("g",null,l.a.createElement("path",{fill:"#93AD3C",d:"M277.342,30.401c-6.546,0-20.163,3.273-20.897,21.889c-0.326,8.282-2.662,15.368-6.543,20.845 c-0.001,0.002-0.002,0.004-0.003,0.006c-5.947,25.626-21.224,44.279-43.731,53.633l12.057,0.169 c36.073,0.476,62.866-16.788,74.653-46.792C304.666,50.147,294.494,30.401,277.342,30.401z"}),l.a.createElement("path",{fill:"#11159A",d:"M248.394,49.114c-0.068-4.4-0.527-8.411-1.322-12.048c-0.023,0.002-0.045,0.006-0.068,0.008 c-3.46-18.081-19.68-27.903-19.68-27.903s-10.071-7.466-29.091-7.466c-13.848,0-46.946,8.647-44.84,52.173 c0.016,0.589,0.039,1.183,0.079,1.788c0.195,2.982-0.057,22.965,19.704,26.415c15.914,2.779,23.11-7.347,23.504-19.51 c0.153-4.714,0.102-7.964,0.003-8.596c0-3.773,0.183-10.357,5.357-10.909c5.52-0.588,5.513,4.643,5.529,10.528 c0,0.026,0.201,9.389-4.208,17.606c-2.736,6.024-8.522,13.264-20.684,14.941c-1.538,0.212-3.063,0.317-4.566,0.317 c-7.826,0-15.114-2.846-21.089-8.248c-6.693-5.798-10.85-14.827-11.294-26.075c-0.734-18.616-14.351-21.889-20.897-21.889 c-12.089,0-20.709,9.81-20.618,26.107c-0.009,6.895,1.549,14.965,5.082,23.959c11.787,30.004,38.58,47.268,74.653,46.792 c5.252-0.069,10.266-0.77,15.017-2.027c0.731-0.239,1.454-0.489,2.171-0.747c20.192-7.271,34.721-22.071,42.042-42.703 c0.213-0.709,0.414-1.421,0.602-2.137c0.056-0.215,0.119-0.429,0.173-0.645c2.292-7.209,3.754-14.991,4.291-23.18 c0.113-1.721,0.162-3.382,0.165-4.997c0.001-0.246,0.001-0.491,0.001-0.735C248.404,49.659,248.399,49.386,248.394,49.114z"})),l.a.createElement("g",null,l.a.createElement("path",{fill:"#11159A",d:"M4.063,152.53h8.117c0.753,0,1.506,0,2.26,0c0.753,0,1.336,0.172,1.747,0.514 c0.547,0.411,0.907,0.976,1.079,1.695c0.17,0.719,0.36,1.456,0.565,2.209c0.273,0.96,0.514,1.936,0.719,2.928 c0.205,0.994,0.445,1.97,0.719,2.928c0.136,0.344,0.205,0.634,0.205,0.873c0,0.241,0.034,0.531,0.103,0.873 c0.273,0.96,0.496,1.919,0.668,2.877c0.17,0.96,0.393,1.919,0.668,2.877c0.273,0.755,0.478,1.541,0.617,2.363 c0.136,0.822,0.308,1.644,0.514,2.466c0.684,2.26,1.249,4.556,1.695,6.884c0.444,2.329,0.976,4.624,1.593,6.884 c0.342,1.027,0.599,2.055,0.77,3.082c0.17,1.027,0.393,2.055,0.668,3.082c0.273,0.822,0.478,1.525,0.617,2.106 c0.136,0.583,0.478,1.148,1.027,1.695c0.136,0,0.221,0.018,0.257,0.051c0.034,0.035,0.119,0.018,0.257-0.051 c0.411-0.136,0.719-0.514,0.925-1.13c0.206-0.617,0.376-1.13,0.514-1.541c0.273-0.889,0.496-1.798,0.668-2.723 c0.17-0.925,0.427-1.832,0.77-2.723c0.068-0.342,0.137-0.668,0.206-0.976c0.067-0.308,0.136-0.632,0.205-0.976 c0.342-0.89,0.599-1.798,0.77-2.723c0.17-0.925,0.393-1.832,0.668-2.723c0.068-0.273,0.137-0.547,0.205-0.822 c0.068-0.273,0.137-0.581,0.206-0.924c0.205-0.617,0.375-1.249,0.514-1.901c0.136-0.65,0.308-1.284,0.514-1.901 c0.136-0.548,0.205-0.958,0.205-1.233c0.136-0.478,0.273-0.958,0.411-1.438c0.137-0.478,0.273-0.958,0.411-1.438 c0.616-1.917,1.13-3.853,1.541-5.805c0.411-1.952,0.89-3.886,1.439-5.805c0.342-0.958,0.599-1.917,0.77-2.877 c0.17-0.958,0.393-1.917,0.668-2.877c0.273-0.753,0.514-1.454,0.719-2.106c0.205-0.65,0.684-1.146,1.438-1.49 c0.478-0.136,1.027-0.205,1.644-0.205c0.617,0,1.233,0,1.849,0h6.062c0.753,0,1.454,0.018,2.106,0.052 c0.65,0.035,1.215,0.223,1.695,0.565c0.478,0.344,0.787,0.84,0.925,1.49c0.136,0.652,0.308,1.319,0.514,2.003 c0.342,1.233,0.65,2.484,0.925,3.75c0.273,1.268,0.581,2.517,0.925,3.75c0.273,0.891,0.496,1.782,0.668,2.671 c0.17,0.891,0.393,1.782,0.668,2.671c0.206,0.755,0.376,1.49,0.514,2.209c0.136,0.719,0.342,1.456,0.617,2.209 c0.753,2.535,1.403,5.121,1.952,7.757c0.548,2.638,1.198,5.224,1.952,7.757c0.342,1.027,0.599,2.09,0.771,3.185 c0.17,1.097,0.427,2.124,0.77,3.082c0.205,0.685,0.376,1.319,0.514,1.901c0.136,0.583,0.375,1.114,0.719,1.593 c0.068,0.069,0.239,0.172,0.514,0.308h0.411c0.068-0.068,0.137-0.119,0.205-0.154c0.068-0.034,0.137-0.085,0.206-0.154 c0.411-0.548,0.684-1.146,0.822-1.798c0.137-0.65,0.308-1.318,0.514-2.004c0.342-1.095,0.599-2.191,0.77-3.288 c0.17-1.095,0.427-2.191,0.77-3.288c0.89-3.013,1.627-6.027,2.209-9.042c0.581-3.014,1.318-6.027,2.209-9.042 c0.342-1.095,0.599-2.192,0.77-3.288c0.17-1.095,0.427-2.191,0.77-3.288c0.137-0.342,0.206-0.633,0.206-0.873 c0-0.239,0.034-0.53,0.103-0.874c0.273-0.958,0.514-1.917,0.719-2.877c0.205-0.958,0.444-1.917,0.719-2.877 c0.137-0.547,0.291-1.164,0.462-1.849c0.17-0.684,0.462-1.198,0.874-1.541c0.478-0.342,1.061-0.548,1.746-0.617 c0.684-0.067,1.472-0.103,2.363-0.103h5.857c0.684,0,1.352,0,2.003,0c0.65,0,1.215,0.103,1.695,0.308 c0.684,0.344,0.992,0.925,0.925,1.746c-0.069,0.822-0.205,1.577-0.411,2.261c-0.549,1.576-1.011,3.236-1.387,4.983 c-0.377,1.747-0.84,3.442-1.387,5.086c-0.138,0.411-0.241,0.806-0.308,1.181c-0.069,0.378-0.172,0.771-0.308,1.182 c-0.344,1.166-0.668,2.381-0.976,3.647c-0.308,1.268-0.634,2.484-0.976,3.647c-0.138,0.344-0.223,0.686-0.257,1.028 c-0.035,0.343-0.121,0.685-0.257,1.027c-0.344,0.891-0.601,1.782-0.77,2.671c-0.172,0.891-0.429,1.782-0.771,2.671 c-0.138,0.344-0.205,0.652-0.205,0.925c0,0.274-0.069,0.583-0.205,0.925c-0.344,0.96-0.601,1.936-0.77,2.928 c-0.172,0.994-0.429,1.97-0.771,2.928c-0.205,0.685-0.395,1.353-0.565,2.003c-0.172,0.652-0.36,1.32-0.565,2.004 c-0.822,2.604-1.525,5.24-2.106,7.911c-0.583,2.671-1.32,5.275-2.209,7.809c-0.138,0.48-0.241,0.924-0.308,1.336 c-0.069,0.411-0.172,0.857-0.308,1.336c-0.344,1.166-0.668,2.381-0.976,3.647c-0.308,1.268-0.668,2.484-1.079,3.648 c-0.274,0.891-0.514,1.713-0.719,2.466c-0.206,0.754-0.719,1.302-1.541,1.644c-0.48,0.138-1.063,0.205-1.747,0.205 c-0.685,0-1.336,0-1.952,0h-6.678c-0.755,0-1.474-0.016-2.158-0.052c-0.685-0.034-1.268-0.222-1.746-0.565 c-0.411-0.342-0.686-0.77-0.822-1.284c-0.138-0.514-0.308-1.043-0.514-1.593c-0.411-1.369-0.754-2.723-1.027-4.058 c-0.274-1.336-0.583-2.688-0.925-4.059c-0.274-0.822-0.497-1.66-0.668-2.517c-0.172-0.856-0.395-1.729-0.668-2.62 c-0.205-0.617-0.36-1.249-0.462-1.901c-0.103-0.65-0.257-1.284-0.462-1.901c-0.549-1.644-0.994-3.339-1.336-5.086 c-0.344-1.747-0.755-3.476-1.233-5.189c-0.343-0.958-0.6-1.883-0.77-2.774c-0.172-0.889-0.395-1.814-0.668-2.774 c-0.344-1.164-0.617-2.294-0.822-3.39c-0.205-1.095-0.48-2.192-0.822-3.288c-0.205-0.548-0.36-1.061-0.462-1.541 c-0.103-0.478-0.292-0.925-0.565-1.336c-0.138-0.137-0.344-0.273-0.616-0.411c-0.206-0.067-0.344-0.067-0.411,0 c-0.48,0.138-0.822,0.549-1.027,1.233c-0.205,0.685-0.377,1.268-0.514,1.746c-0.48,1.439-0.857,2.928-1.13,4.469 c-0.274,1.541-0.617,3.066-1.027,4.572c-0.891,3.082-1.662,6.165-2.312,9.247c-0.652,3.082-1.423,6.165-2.312,9.247 c-0.344,1.097-0.601,2.175-0.77,3.237c-0.172,1.063-0.429,2.142-0.771,3.236c-0.344,0.96-0.6,1.919-0.77,2.877 c-0.172,0.96-0.395,1.919-0.668,2.877c-0.205,0.686-0.395,1.302-0.565,1.849c-0.172,0.549-0.531,0.994-1.079,1.336 c-0.48,0.275-1.063,0.411-1.746,0.411c-0.686,0-1.405,0-2.158,0h-8.939c-0.48-0.136-0.891-0.221-1.233-0.257 c-0.344-0.034-0.685-0.188-1.027-0.462c-0.549-0.342-0.891-0.907-1.027-1.695c-0.138-0.787-0.308-1.557-0.514-2.312 c-0.344-1.095-0.668-2.225-0.976-3.39c-0.308-1.164-0.634-2.328-0.976-3.494c-0.138-0.411-0.223-0.804-0.257-1.181 c-0.035-0.376-0.121-0.804-0.257-1.284c-0.411-1.164-0.754-2.328-1.027-3.494c-0.274-1.164-0.583-2.328-0.925-3.493 c-0.138-0.273-0.205-0.53-0.205-0.771c0-0.239-0.035-0.496-0.103-0.77c-0.344-0.958-0.634-1.968-0.874-3.031 c-0.241-1.061-0.531-2.106-0.873-3.134c-0.069-0.205-0.103-0.411-0.103-0.617c0-0.205-0.069-0.444-0.205-0.719 c-0.344-0.959-0.601-1.935-0.771-2.928c-0.172-0.992-0.428-2.003-0.77-3.031c-0.205-0.684-0.395-1.387-0.565-2.106 c-0.172-0.719-0.36-1.421-0.565-2.106c-0.205-0.684-0.377-1.369-0.514-2.055c-0.138-0.684-0.343-1.369-0.616-2.055 c-0.617-1.986-1.148-4.007-1.593-6.062c-0.446-2.055-0.976-4.074-1.593-6.062c-0.138-0.411-0.241-0.822-0.308-1.233 c-0.069-0.411-0.172-0.822-0.308-1.233c-0.48-1.439-0.891-2.911-1.233-4.418c-0.344-1.506-0.755-3.013-1.233-4.521 c-0.138-0.478-0.326-1.198-0.565-2.158c-0.241-0.958-0.189-1.678,0.154-2.158c0.342-0.411,0.822-0.684,1.439-0.822 c0.136-0.067,0.273-0.085,0.411-0.051C3.789,152.617,3.925,152.599,4.063,152.53z"}),l.a.createElement("path",{fill:"#11159A",d:"M145.543,198.766c0.136,0.549,0.136,1.166,0,1.849c-0.138,0.685-0.377,1.13-0.719,1.336 c-0.344,0.275-0.84,0.462-1.49,0.565c-0.652,0.103-1.371,0.172-2.158,0.205c-0.788,0.035-1.576,0.035-2.363,0 c-0.788-0.034-1.49-0.051-2.106-0.051h-25.07c-0.48,0-0.942,0-1.387,0c-0.446,0-0.84,0.069-1.182,0.205 c-0.549,0.274-0.891,0.549-1.027,0.822c-0.138,0.138-0.274,0.395-0.411,0.77c-0.138,0.377-0.172,0.737-0.103,1.079 c0.136,0.411,0.221,0.806,0.257,1.181c0.034,0.377,0.119,0.771,0.257,1.182c0.548,1.644,1.215,2.997,2.004,4.059 c0.787,1.063,1.866,2.003,3.237,2.825c0.547,0.344,1.112,0.565,1.695,0.668c0.581,0.103,1.182,0.257,1.798,0.462 c0.548,0.138,1.3,0.241,2.26,0.308c0.959,0.069,1.78,0.035,2.466-0.103h0.925c0.684-0.136,1.318-0.291,1.901-0.462 c0.581-0.17,1.146-0.36,1.696-0.565c0.684-0.342,1.454-0.787,2.311-1.336c0.856-0.548,1.49-1.095,1.901-1.644 c0.342-0.478,0.701-0.941,1.079-1.387c0.376-0.444,0.838-0.77,1.387-0.976c0.684-0.342,1.557-0.496,2.62-0.462 c1.061,0.035,2.037,0.051,2.928,0.051c0.411,0,0.838-0.016,1.284-0.051c0.444-0.034,0.838,0.018,1.181,0.154h1.027 c0.684,0.138,1.164,0.308,1.439,0.514c0.273,0.138,0.427,0.446,0.462,0.925c0.034,0.48-0.018,0.891-0.154,1.233 c-0.344,0.96-0.719,1.816-1.13,2.569c-0.411,0.754-0.891,1.507-1.439,2.26c-1.507,2.26-3.22,4.076-5.137,5.446 c-1.918,1.371-4.315,2.535-7.192,3.493c-0.754,0.273-1.507,0.445-2.26,0.514c-0.755,0.067-1.541,0.205-2.363,0.411 c-0.274,0.068-0.565,0.085-0.873,0.052c-0.308-0.035-0.601-0.018-0.873,0.051h-1.13c-0.344,0.136-0.737,0.188-1.182,0.154 c-0.446-0.035-0.84-0.087-1.182-0.154c-0.549-0.069-1.027-0.069-1.438,0c-0.411,0.068-0.857,0.034-1.336-0.103 c-0.344-0.138-0.719-0.205-1.13-0.205c-0.411,0-0.788-0.069-1.13-0.205c-0.754-0.138-1.507-0.292-2.26-0.462 c-0.755-0.17-1.439-0.427-2.055-0.771c-0.755-0.273-1.456-0.53-2.106-0.77c-0.652-0.239-1.25-0.53-1.798-0.873 c-2.193-1.37-4.145-2.962-5.857-4.778c-1.713-1.814-3.118-3.92-4.212-6.319c-0.344-0.753-0.617-1.524-0.822-2.312 c-0.205-0.787-0.48-1.593-0.822-2.415c-0.069-0.273-0.103-0.53-0.103-0.77c0-0.239-0.035-0.496-0.103-0.771 c-0.274-0.822-0.446-1.711-0.514-2.671c-0.069-0.959-0.138-1.917-0.205-2.877c0-0.342-0.018-0.719-0.051-1.13 c-0.035-0.411-0.018-0.787,0.051-1.131v-1.233l0.308-2.466c0.273-1.164,0.514-2.294,0.719-3.391 c0.205-1.095,0.514-2.122,0.925-3.082c2.944-7.123,7.945-12.158,15.001-15.104c0.958-0.411,1.935-0.701,2.928-0.873 c0.992-0.17,2.037-0.394,3.133-0.668c0.548-0.067,1.061-0.103,1.541-0.103c0.478,0,0.992-0.034,1.541-0.103 c3.494-0.067,6.489,0.326,8.99,1.182c2.5,0.857,4.742,1.97,6.73,3.339c0.617,0.411,1.233,0.873,1.849,1.387 c0.617,0.514,1.164,1.045,1.644,1.593c0.205,0.344,0.478,0.616,0.822,0.822c0.547,0.754,1.061,1.525,1.541,2.311 c0.478,0.788,0.992,1.593,1.541,2.415c0.342,0.617,0.632,1.251,0.873,1.901c0.239,0.652,0.496,1.353,0.77,2.106 c0.342,0.891,0.617,1.816,0.822,2.774c0.205,0.96,0.445,1.919,0.719,2.877c0.136,0.549,0.188,1.148,0.154,1.798 c-0.035,0.652,0.016,1.251,0.154,1.798V198.766z M130.132,192.704c0.478-0.684,0.53-1.524,0.154-2.517 c-0.377-0.992-0.668-1.729-0.873-2.209c-0.96-1.849-2.227-3.27-3.802-4.264c-1.576-0.992-3.768-1.523-6.576-1.593 c-0.205,0.138-0.446,0.172-0.719,0.103c-0.274-0.067-0.514-0.067-0.719,0c-0.344,0.138-0.719,0.223-1.13,0.257 c-0.411,0.035-0.788,0.12-1.13,0.257c-3.015,0.96-5.24,2.843-6.679,5.651c-0.138,0.274-0.292,0.634-0.462,1.079 c-0.172,0.446-0.292,0.891-0.36,1.336c-0.069,0.446-0.051,0.874,0.052,1.284c0.103,0.411,0.324,0.754,0.668,1.027 c0.548,0.344,1.3,0.514,2.26,0.514c0.958,0,1.883,0,2.774,0h11.405c0.959,0,1.968-0.016,3.031-0.052 C129.086,193.543,129.788,193.253,130.132,192.704z"}),l.a.createElement("path",{fill:"#93AD3C",d:"M185.202,150.681c6.918-0.136,12.705,1.097,17.364,3.699c4.657,2.604,8.287,5.959,10.891,10.069 c1.3,2.193,2.363,4.726,3.185,7.603c0.137,0.48,0.239,1.079,0.308,1.798c0.067,0.719-0.069,1.251-0.411,1.593 c-0.344,0.48-0.822,0.755-1.438,0.822c-0.617,0.069-1.302,0.103-2.055,0.103h-6.679c-0.754,0-1.456-0.016-2.106-0.051 c-0.652-0.034-1.181-0.221-1.593-0.565c-0.616-0.411-1.045-0.992-1.284-1.747c-0.241-0.753-0.531-1.472-0.874-2.158 c-0.616-0.958-1.268-1.866-1.952-2.723c-0.685-0.856-1.507-1.626-2.466-2.311c-1.302-0.89-2.877-1.609-4.726-2.158 c-0.344-0.136-0.719-0.221-1.13-0.257c-0.411-0.034-0.788-0.085-1.13-0.154c-0.206-0.067-0.514-0.103-0.925-0.103 c-0.822-0.136-1.849-0.154-3.082-0.052c-1.233,0.103-2.193,0.223-2.877,0.36c-0.48,0.138-0.925,0.241-1.336,0.308 c-0.411,0.069-0.822,0.205-1.233,0.411c-1.782,0.754-3.374,1.644-4.778,2.672c-1.405,1.027-2.62,2.329-3.647,3.904 c-0.96,1.302-1.713,2.707-2.261,4.212c-0.549,1.507-1.063,3.118-1.541,4.829c-0.205,0.754-0.344,1.507-0.411,2.26 c-0.069,0.754-0.171,1.507-0.308,2.26v1.336c-0.138,0.411-0.189,0.857-0.154,1.336c0.034,0.48,0.051,0.96,0.051,1.438 c0,1.166,0.034,2.33,0.103,3.494c0.068,1.166,0.239,2.26,0.514,3.288c0.067,0.274,0.103,0.514,0.103,0.719 c0,0.205,0.034,0.446,0.103,0.719c0.958,3.493,2.26,6.457,3.904,8.887c1.644,2.432,4.007,4.333,7.089,5.702 c0.617,0.274,1.249,0.514,1.901,0.719c0.65,0.205,1.352,0.411,2.106,0.617c0.411,0.069,0.804,0.087,1.182,0.051 c0.375-0.034,0.735,0.018,1.079,0.154c0.411,0.138,0.925,0.205,1.541,0.205c0.616,0,1.164-0.067,1.644-0.205 c0.342-0.068,0.65-0.085,0.925-0.052c0.273,0.035,0.548,0.018,0.822-0.051c0.342-0.068,0.633-0.085,0.874-0.052 c0.239,0.035,0.496-0.016,0.77-0.154c0.958-0.273,1.849-0.53,2.671-0.771c0.822-0.239,1.609-0.565,2.363-0.976 c1.711-1.027,3.082-2.209,4.11-3.545c1.027-1.336,1.917-2.996,2.671-4.983c0.273-0.753,0.462-1.644,0.565-2.671 c0.103-1.027-0.223-1.747-0.976-2.158c-0.411-0.273-0.942-0.411-1.593-0.411c-0.652,0-1.284,0-1.901,0h-5.24 c-0.411,0-0.857,0.018-1.336,0.052c-0.48,0.035-0.925-0.016-1.336-0.154h-0.925c-0.274-0.068-0.549-0.119-0.822-0.154 c-0.275-0.034-0.514-0.119-0.719-0.257c-0.344-0.273-0.583-0.684-0.719-1.233c-0.138-0.548-0.223-1.146-0.257-1.798 c-0.035-0.65-0.035-1.336,0-2.055c0.034-0.719,0.051-1.387,0.051-2.004c0-0.547,0.016-1.061,0.052-1.541 c0.034-0.478,0.119-0.89,0.257-1.233c0.273-0.617,0.65-1.028,1.13-1.233c0.411-0.136,0.753-0.205,1.027-0.205h1.13 c0.205-0.067,0.462-0.103,0.77-0.103c0.308,0,0.599,0,0.874,0h2.98h15.001c1.164,0,2.482,0,3.956,0 c1.472,0,2.448,0.308,2.928,0.925c0.342,0.549,0.514,1.268,0.514,2.158c0,0.891,0,1.747,0,2.569v10.685v16.85 c0,1.302-0.018,2.553-0.051,3.75c-0.035,1.199-0.498,1.97-1.387,2.311c-0.411,0.206-0.909,0.308-1.49,0.308 c-0.583,0-1.148,0-1.695,0c-1.371,0-2.553-0.052-3.545-0.154c-0.994-0.103-1.696-0.632-2.106-1.593 c-0.274-0.617-0.48-1.3-0.617-2.055c-0.138-0.753-0.377-1.403-0.719-1.952c-0.138-0.136-0.308-0.291-0.514-0.462 c-0.205-0.17-0.48-0.221-0.822-0.154c-0.549,0.138-1.011,0.411-1.387,0.822c-0.377,0.411-0.77,0.788-1.181,1.13 c-0.686,0.549-1.336,1.045-1.952,1.49c-0.617,0.446-1.302,0.909-2.055,1.387c-0.891,0.549-1.833,0.994-2.826,1.336 c-0.994,0.344-2.003,0.684-3.031,1.027c-0.344,0.136-0.703,0.222-1.079,0.257c-0.377,0.034-0.737,0.085-1.079,0.154 c-0.549,0.136-1.131,0.205-1.747,0.205c-0.617,0-1.233,0.068-1.849,0.205c-0.275,0.068-0.668,0.085-1.182,0.052 c-0.514-0.035-0.873-0.087-1.079-0.154h-1.027c-0.344-0.069-0.668-0.103-0.976-0.103s-0.634-0.035-0.976-0.103h-0.822 c-0.549-0.138-1.097-0.241-1.644-0.308c-0.549-0.069-1.097-0.172-1.644-0.308c-0.48-0.138-0.96-0.257-1.439-0.36 c-0.48-0.103-0.96-0.221-1.438-0.36c-2.055-0.617-3.871-1.336-5.446-2.158c-4.042-2.123-7.33-4.64-9.864-7.552 c-2.535-2.911-4.692-6.525-6.473-10.84c-0.411-0.958-0.719-1.917-0.925-2.877c-0.205-0.958-0.48-1.917-0.822-2.877 c-0.069-0.342-0.103-0.632-0.103-0.873c0-0.239-0.069-0.53-0.205-0.873c-0.138-0.478-0.206-0.976-0.206-1.49 c0-0.514-0.069-1.044-0.205-1.593c-0.138-0.342-0.189-0.632-0.154-0.873c0.034-0.239,0.016-0.53-0.052-0.873v-1.849 c-0.138-0.342-0.205-0.874-0.205-1.593c0-0.719,0.067-1.249,0.205-1.593v-1.131c0.068-0.411,0.085-0.838,0.052-1.284 c-0.035-0.445,0.016-0.838,0.154-1.182c0.137-0.617,0.205-1.233,0.205-1.849c0-0.616,0.068-1.197,0.206-1.747 c0.205-0.753,0.375-1.49,0.514-2.209c0.137-0.719,0.342-1.455,0.617-2.209c0.342-0.958,0.668-1.901,0.976-2.825 c0.308-0.925,0.668-1.832,1.079-2.723c0.411-0.958,0.889-1.901,1.438-2.825c0.548-0.925,1.095-1.798,1.644-2.62 c2.055-2.877,4.383-5.325,6.987-7.346c2.602-2.019,5.754-3.715,9.453-5.086c0.753-0.342,1.575-0.599,2.466-0.77 c0.889-0.17,1.78-0.36,2.671-0.565c0.342-0.136,0.701-0.205,1.079-0.205c0.376,0,0.735-0.068,1.079-0.205 c0.478-0.137,0.941-0.17,1.387-0.103c0.444,0.069,0.907,0.035,1.387-0.103c0.136-0.067,0.324-0.067,0.565,0 C184.876,150.75,185.064,150.75,185.202,150.681z"}),l.a.createElement("path",{fill:"#93AD3C",d:"M258.253,171.435c0.753,0,1.421,0.069,2.003,0.206c0.581,0.138,1.044,0.446,1.387,0.924 c0.411,0.549,0.617,1.49,0.617,2.826c0,1.336,0,2.517,0,3.545c0,0.754,0.016,1.61,0.051,2.568c0.034,0.96-0.087,1.713-0.359,2.261 c-0.275,0.48-0.668,0.788-1.182,0.925c-0.514,0.138-1.097,0.205-1.747,0.205c-0.652,0-1.336-0.034-2.055-0.103 c-0.719-0.068-1.387-0.034-2.003,0.103c-0.48,0.138-0.96,0.223-1.439,0.257c-0.48,0.035-0.925,0.12-1.336,0.257 c-1.097,0.344-2.193,0.84-3.288,1.49c-1.096,0.652-1.952,1.387-2.568,2.209c-0.344,0.549-0.703,1.114-1.079,1.695 c-0.377,0.583-0.737,1.182-1.079,1.798c-0.205,0.549-0.395,1.114-0.565,1.695c-0.172,0.583-0.326,1.148-0.462,1.695 c-0.138,0.48-0.206,0.976-0.206,1.49s-0.069,1.011-0.205,1.49c-0.069,0.274-0.087,0.531-0.051,0.77 c0.034,0.241,0.016,0.462-0.052,0.668v1.644c-0.138,0.48-0.172,1.011-0.103,1.593c0.068,0.583,0.103,1.148,0.103,1.695v6.576 v8.733c0,0.891-0.035,1.713-0.103,2.466c-0.069,0.755-0.275,1.371-0.617,1.849c-0.138,0.205-0.359,0.36-0.668,0.462 c-0.308,0.103-0.634,0.189-0.976,0.257h-0.514c-0.344,0.069-0.719,0.103-1.13,0.103c-0.411,0-0.788,0-1.13,0h-4.418 c-0.411-0.067-0.84-0.103-1.284-0.103c-0.446,0-0.909,0-1.387,0c-0.344-0.136-0.686-0.257-1.027-0.36 c-0.344-0.103-0.583-0.324-0.719-0.668c-0.274-0.342-0.429-0.838-0.462-1.49c-0.035-0.65-0.051-1.318-0.051-2.004v-6.987v-28.974 V177.6c0-0.684,0-1.352,0-2.004c0-0.65,0.136-1.182,0.411-1.593c0.342-0.548,0.856-0.889,1.541-1.027 c0.684-0.136,1.506-0.205,2.466-0.205h5.24c0.822,0,1.541,0.051,2.158,0.154c0.617,0.103,1.095,0.429,1.439,0.976 c0.205,0.344,0.324,0.822,0.36,1.438c0.034,0.617,0.085,1.217,0.154,1.798c0.068,0.583,0.188,1.114,0.36,1.593 c0.17,0.48,0.496,0.719,0.976,0.719c0.136-0.136,0.273-0.205,0.411-0.205c0.137,0,0.273-0.067,0.411-0.205 c0.411-0.342,0.77-0.735,1.079-1.182c0.308-0.444,0.702-0.838,1.182-1.181c0.273-0.206,0.514-0.427,0.719-0.668 c0.205-0.239,0.444-0.462,0.719-0.668c0.617-0.411,1.249-0.822,1.901-1.233c0.65-0.411,1.318-0.787,2.003-1.13 c0.684-0.273,1.387-0.514,2.106-0.719c0.719-0.205,1.454-0.411,2.209-0.616c0.205-0.068,0.599-0.085,1.181-0.052 C257.755,171.625,258.115,171.573,258.253,171.435z"}),l.a.createElement("path",{fill:"#93AD3C",d:"M317.229,197.122c0.136,0.411,0.205,0.994,0.205,1.747c0,0.754-0.069,1.336-0.205,1.747v1.027 c-0.138,0.549-0.189,1.097-0.154,1.644c0.034,0.549-0.018,1.097-0.154,1.644c-0.138,0.48-0.241,0.925-0.309,1.336 c-0.069,0.411-0.138,0.857-0.205,1.336c-0.275,0.754-0.514,1.525-0.719,2.312c-0.205,0.788-0.48,1.525-0.822,2.209 c-1.439,3.288-3.323,5.959-5.651,8.014c-2.329,2.055-5.137,3.768-8.425,5.137c-0.822,0.344-1.662,0.599-2.517,0.771 c-0.857,0.17-1.73,0.36-2.62,0.565c-0.344,0.136-0.719,0.205-1.13,0.205c-0.411,0-0.788,0.034-1.13,0.103 c-0.205,0-0.429,0.016-0.668,0.052c-0.241,0.034-0.462,0.051-0.668,0.051c-0.344,0.068-0.891,0.119-1.644,0.154 c-0.754,0.034-1.336-0.018-1.747-0.154h-1.027c-0.344-0.069-0.703-0.087-1.079-0.051c-0.378,0.034-0.737-0.018-1.079-0.154 c-0.275-0.069-0.531-0.103-0.77-0.103c-0.241,0-0.531-0.035-0.874-0.103c-0.685-0.205-1.371-0.377-2.055-0.514 c-0.685-0.138-1.336-0.342-1.952-0.616c-0.822-0.273-1.593-0.548-2.312-0.822c-0.719-0.273-1.456-0.617-2.209-1.027 c-2.398-1.439-4.453-3.116-6.165-5.035c-1.713-1.917-3.151-4.212-4.316-6.884c-0.344-0.617-0.6-1.267-0.771-1.952 c-0.172-0.684-0.36-1.403-0.565-2.158c-0.138-0.342-0.205-0.65-0.205-0.925c0-0.273-0.069-0.581-0.206-0.925 c-0.138-0.548-0.205-1.113-0.205-1.695c0-0.581-0.069-1.146-0.205-1.696c-0.069-0.342-0.103-0.65-0.103-0.925 c0-0.273,0-0.581,0-0.924c-0.138-0.411-0.189-0.992-0.154-1.747c0.034-0.753,0.119-1.336,0.257-1.747V196.3 c0.068-0.342,0.085-0.701,0.052-1.079c-0.035-0.376,0.016-0.735,0.154-1.079c0.068-0.342,0.103-0.668,0.103-0.976 c0-0.308,0.068-0.633,0.206-0.976c0.273-0.889,0.514-1.762,0.719-2.62c0.205-0.856,0.478-1.695,0.822-2.517 c1.233-2.808,2.705-5.153,4.418-7.038c1.711-1.883,3.801-3.612,6.267-5.188c0.684-0.342,1.403-0.65,2.158-0.925 c0.753-0.273,1.506-0.581,2.26-0.925c0.89-0.342,1.814-0.581,2.774-0.719c0.958-0.136,1.952-0.342,2.98-0.616 c0.548-0.068,1.061-0.103,1.541-0.103c0.478,0,0.958-0.034,1.438-0.103c3.972-0.067,7.414,0.344,10.326,1.233 c2.911,0.891,5.497,2.124,7.757,3.699c0.753,0.549,1.524,1.148,2.312,1.798c0.787,0.652,1.454,1.353,2.004,2.106 c0.547,0.686,1.044,1.371,1.49,2.055c0.444,0.686,0.907,1.405,1.387,2.158c0.478,0.755,0.856,1.559,1.13,2.415 c0.273,0.857,0.581,1.764,0.925,2.723c0.205,0.549,0.375,1.13,0.514,1.746c0.136,0.617,0.273,1.233,0.411,1.849 c0.067,0.275,0.103,0.549,0.103,0.822c0,0.274,0.034,0.549,0.103,0.822c0.136,0.344,0.17,0.719,0.103,1.13 C317.057,196.402,317.091,196.78,317.229,197.122z M302.845,200.821c0.068-0.342,0.103-0.838,0.103-1.49 c0-0.65-0.035-1.146-0.103-1.49v-0.822c-0.138-0.342-0.205-0.719-0.205-1.13c0-0.411-0.035-0.787-0.103-1.13 c0-0.273-0.035-0.478-0.103-0.617c-0.138-0.548-0.257-1.113-0.36-1.695c-0.103-0.581-0.257-1.146-0.462-1.695 c-0.754-1.78-1.644-3.304-2.671-4.572c-1.027-1.267-2.398-2.277-4.11-3.031c-0.411-0.136-0.822-0.257-1.233-0.36 c-0.411-0.103-0.857-0.221-1.336-0.36c-0.549-0.136-1.13-0.188-1.747-0.154c-0.617,0.035-1.233,0.051-1.849,0.051 c-0.205,0.138-0.446,0.19-0.719,0.154c-0.275-0.034-0.514-0.016-0.719,0.051c-0.48,0.138-0.943,0.257-1.387,0.36 c-0.446,0.103-0.84,0.257-1.182,0.462c-1.713,0.755-3.1,1.833-4.161,3.237c-1.063,1.405-1.901,3.031-2.517,4.88 c-0.205,0.686-0.359,1.405-0.462,2.158c-0.103,0.754-0.223,1.507-0.359,2.26c-0.069,0.344-0.103,0.685-0.103,1.027 c0,0.344,0,0.685,0,1.027c-0.138,0.48-0.19,1.199-0.154,2.158c0.034,0.96,0.119,1.679,0.257,2.158v0.925 c0.136,0.549,0.239,1.079,0.308,1.593c0.067,0.514,0.17,1.045,0.308,1.593c0.684,2.055,1.421,3.716,2.209,4.983 c0.787,1.268,2.037,2.415,3.75,3.442c0.478,0.344,1.01,0.617,1.593,0.822c0.581,0.205,1.182,0.377,1.798,0.514 c0.273,0.069,0.514,0.087,0.719,0.052c0.206-0.034,0.445-0.016,0.719,0.051c0.273,0.069,0.565,0.121,0.873,0.154 c0.308,0.035,0.599,0.018,0.874-0.052h0.822c0.547-0.136,1.095-0.239,1.644-0.308c0.548-0.067,1.061-0.205,1.541-0.411 c1.78-0.684,3.219-1.609,4.315-2.774c1.095-1.164,2.02-2.602,2.774-4.315c0.273-0.684,0.478-1.37,0.617-2.055 c0.136-0.684,0.308-1.403,0.514-2.158c0.068-0.273,0.103-0.53,0.103-0.77c0-0.239,0.034-0.496,0.103-0.77c0-0.342,0-0.668,0-0.976 C302.742,201.488,302.776,201.164,302.845,200.821z"}),l.a.createElement("path",{fill:"#93AD3C",d:"M323.29,172.669h7.603c0.753,0,1.472,0.018,2.158,0.051c0.684,0.035,1.233,0.189,1.644,0.462 c0.411,0.274,0.735,0.634,0.976,1.079c0.239,0.446,0.427,0.96,0.565,1.541c0.136,0.583,0.273,1.166,0.411,1.747 c0.137,0.583,0.273,1.114,0.411,1.593c0.822,2.398,1.523,4.865,2.106,7.398c0.581,2.535,1.249,5.035,2.004,7.501 c0.136,0.411,0.239,0.806,0.308,1.182c0.068,0.377,0.17,0.77,0.308,1.181c0.342,1.027,0.632,2.073,0.873,3.134 c0.239,1.063,0.53,2.106,0.873,3.134c0.137,0.48,0.309,1.027,0.514,1.644c0.205,0.617,0.581,0.994,1.13,1.131 c0.342,0.069,0.617-0.119,0.822-0.565c0.205-0.444,0.376-0.77,0.514-0.976c0.342-0.958,0.599-1.952,0.771-2.98 c0.17-1.027,0.427-2.019,0.771-2.98c0.205-0.617,0.376-1.249,0.514-1.901c0.137-0.65,0.273-1.284,0.411-1.901 c0.478-1.644,0.907-3.321,1.284-5.035c0.375-1.711,0.804-3.39,1.284-5.035c0.206-0.753,0.376-1.472,0.514-2.158 c0.136-0.684,0.308-1.37,0.514-2.055c0.273-1.027,0.548-2.26,0.822-3.699c0.273-1.438,0.787-2.431,1.541-2.98 c0.478-0.273,1.027-0.427,1.644-0.462c0.617-0.034,1.3-0.051,2.055-0.051h5.343c0.822,0,1.575,0.035,2.26,0.103 c0.684,0.069,1.267,0.275,1.747,0.616c0.342,0.274,0.581,0.634,0.719,1.079c0.136,0.446,0.273,0.873,0.411,1.284 c0.273,0.96,0.496,1.901,0.668,2.825c0.17,0.925,0.427,1.867,0.77,2.825c0.822,2.671,1.524,5.412,2.106,8.22 c0.581,2.809,1.249,5.548,2.004,8.22c0.273,0.822,0.496,1.662,0.668,2.517c0.17,0.857,0.393,1.662,0.668,2.415 c0.273,0.96,0.548,1.679,0.822,2.158c0.067,0.069,0.154,0.12,0.257,0.154c0.103,0.035,0.188,0.12,0.257,0.257 c0.617-0.067,1.01-0.291,1.182-0.668c0.17-0.376,0.36-0.804,0.565-1.284c0.411-1.095,0.753-2.242,1.027-3.442 c0.273-1.197,0.581-2.379,0.925-3.545c0.205-0.684,0.376-1.352,0.514-2.003c0.136-0.65,0.308-1.318,0.514-2.004 c0.753-2.122,1.37-4.28,1.849-6.473c0.478-2.192,1.061-4.315,1.747-6.37c0.342-0.958,0.65-2.106,0.925-3.442 c0.273-1.336,0.719-2.243,1.336-2.723c0.478-0.342,1.027-0.547,1.644-0.616c0.616-0.068,1.3-0.103,2.055-0.103h5.445 c0.548,0,1.13,0,1.747,0c0.617,0,1.13,0.069,1.541,0.205c0.684,0.275,1.061,0.719,1.131,1.336 c0.067,0.617-0.035,1.302-0.308,2.055c-0.48,1.576-0.942,3.1-1.387,4.572c-0.446,1.474-0.942,2.998-1.49,4.572 c-1.644,5.001-3.236,10.018-4.778,15.052c-1.541,5.035-3.134,10.053-4.778,15.052c-0.344,1.097-0.668,2.175-0.976,3.236 c-0.308,1.063-0.634,2.142-0.976,3.237c-0.275,0.755-0.531,1.423-0.771,2.004c-0.241,0.583-0.703,1.011-1.387,1.284 c-0.686,0.344-1.577,0.48-2.671,0.411c-1.097-0.068-2.09-0.103-2.98-0.103c-1.096,0-2.466,0.018-4.11,0.051 c-1.644,0.035-2.81-0.119-3.494-0.462c-0.411-0.342-0.719-0.735-0.925-1.181c-0.205-0.445-0.377-0.941-0.514-1.49 c-0.344-0.958-0.601-1.901-0.77-2.826c-0.172-0.925-0.395-1.865-0.668-2.825c-0.205-0.617-0.377-1.249-0.514-1.901 c-0.138-0.65-0.344-1.318-0.617-2.004c-0.616-1.986-1.148-4.041-1.593-6.165c-0.446-2.123-1.011-4.212-1.695-6.267 c-0.411-1.233-0.754-2.533-1.027-3.904c-0.275-1.37-0.822-2.466-1.644-3.288c-0.685,0-1.114,0.257-1.284,0.771 c-0.171,0.514-0.359,1.045-0.565,1.593c-0.48,1.371-0.84,2.74-1.079,4.11c-0.241,1.371-0.601,2.74-1.079,4.11 c-0.754,2.466-1.387,4.983-1.901,7.552c-0.514,2.569-1.148,5.086-1.901,7.552c-0.138,0.48-0.275,1.027-0.411,1.644 c-0.138,0.616-0.275,1.199-0.411,1.747c-0.138,0.549-0.326,1.063-0.565,1.541c-0.241,0.48-0.531,0.857-0.874,1.13 c-0.344,0.274-0.822,0.429-1.438,0.462c-0.617,0.035-1.302,0.052-2.055,0.052h-5.446h-2.98c-0.411-0.068-0.788-0.137-1.13-0.205 c-0.344-0.068-0.652-0.17-0.925-0.308c-0.48-0.342-0.822-0.822-1.027-1.438c-0.205-0.617-0.411-1.233-0.617-1.849 c-0.343-1.027-0.685-2.089-1.027-3.185c-0.344-1.095-0.685-2.192-1.027-3.288c-1.713-5.068-3.339-10.136-4.88-15.206 c-1.541-5.068-3.134-10.136-4.778-15.206c-0.48-1.37-0.925-2.705-1.336-4.007c-0.411-1.3-0.822-2.602-1.233-3.904 c-0.138-0.411-0.292-0.976-0.462-1.695c-0.172-0.719-0.12-1.284,0.154-1.696c0.205-0.273,0.65-0.547,1.336-0.822 C322.88,172.771,323.152,172.737,323.29,172.669z"})))))},b=(a.p,a(482),function(e){var t=e.confirmPwdChange,a=e.cancelPwdChange,r=e.show,i=e.name,s=e.oldpwd,m=e.username,d=e.setCpwdsuccessmsg,f=e.accesstoken,h=e.setData,g=e.data,b={oldpassword:"",newpassword:"",cnewpassword:""},y=Object(o.useState)(b),v=Object(n.a)(y,2),E=v[0],O=v[1],N=Object(o.useState)({oldpassword:"",newpassword:"",cnewpassword:""}),j=Object(n.a)(N,2),w=j[0],x=j[1],S=r?"modal chngpwdmodal display-block":"modal chngpwdmodal display-none",C=Object(o.useCallback)(function(e){e&&r&&""===e.value&&e.focus()}),D=function(e){O(Object(c.a)({},E,Object(u.a)({},e.target.name,e.target.value)))},k=function(e){var t=e.target.name,a=e.target.value,r=RegExp("^(?=.{8,})(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[@#$%^&+=!]).*$");switch(t){case"oldpassword":x(Object(c.a)({},w,Object(u.a)({},t,a!==s?"Old password is incorrect. Please check.":"")));break;case"newpassword":x(Object(c.a)({},w,Object(u.a)({},t,r.test(a)?"":l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"must contain at least 1 lowercase"),l.a.createElement("p",null,"at least 1 uppercase"),l.a.createElement("p",null,"at least 1 numeric"),l.a.createElement("p",null,"at least one symbol @#$%^&+="),l.a.createElement("p",null," at least 8 characters long")))));break;case"cnewpassword":x(Object(c.a)({},w,Object(u.a)({},t,E.newpassword!==E.cnewpassword?"Passwords don't match":"")))}};return l.a.createElement("div",{className:S},l.a.createElement("section",{id:"chpwdmodal",className:"modal-main"},l.a.createElement("h1",null,"Welcome ",i,"!"),l.a.createElement("h2",null,"Seems like its the first time you are logging in."),l.a.createElement("p",null,"Please take a minute to change your Password"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),Object.values(w).every(function(e){return""===e})&&(p.a.post("/changepassword",{oldpassword:E.oldpassword,newpassword:E.newpassword,username:m},{headers:{Authorization:"Bearer ".concat(f)}}).then(function(e){d(l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,e.data.msg.split(".")[0]),l.a.createElement("p",null,e.data.msg.split(".")[1])))}).catch(function(e){h(Object(c.a)({},g,{errorMessage:"You took to long. Please login again with original password."}))}),t(),O(b))},className:"changePwdModalForm"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Old Password"),l.a.createElement("input",{required:!0,type:"password",name:"oldpassword",id:"oldpassword",value:E.oldpassword,onChange:D,onBlur:k,ref:C})),l.a.createElement("span",{className:"cpwdinputerror"},w.oldpassword),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"New Password"),l.a.createElement("input",{required:!0,type:"password",name:"newpassword",id:"newpassword",value:E.newpassword,onChange:D,onBlur:k})),l.a.createElement("span",{className:"cpwdinputerror"},w.newpassword),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Confirm Password"),l.a.createElement("input",{required:!0,type:"password",name:"cnewpassword",id:"cnewpassword",value:E.cnewpassword,onChange:D,onBlur:k})),l.a.createElement("span",{className:"cpwdinputerror"},w.cnewpassword),l.a.createElement("button",{type:"submit",className:"confirmbutton"},"Confirm"),l.a.createElement("button",{className:"cancelbutton",onClick:a},"Cancel"))))}),y=function(){var e=Object(o.useContext)(he).dispatch,t=Object(o.useState)(),a=Object(n.a)(t,2),r=a[0],i=a[1],s=Object(o.useState)(),m=Object(n.a)(s,2),d=m[0],f=m[1],h=Object(o.useState)(),y=Object(n.a)(h,2),v=y[0],E=y[1],O=Object(o.useState)(),N=Object(n.a)(O,2),j=N[0],w=N[1],x=Object(o.useState)({username:"",password:""}),S=Object(n.a)(x,2),C=S[0],D=S[1],k=Object(o.useState)(!1),I=Object(n.a)(k,2),L=I[0],F=I[1],P=function(e){e.preventDefault(),D(Object(c.a)({},C,Object(u.a)({},e.target.name,e.target.value)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(b,{show:L,confirmPwdChange:function(e){F(!1)},cancelPwdChange:function(e){e.preventDefault(),F(!1)},name:r,oldpwd:d,username:C.username,setCpwdsuccessmsg:E,accesstoken:j,setData:D,data:C}),l.a.createElement("div",{className:"Login"},l.a.createElement("form",{className:"LoginForm",onSubmit:function(t){t.preventDefault(),p.a.post("/login",{username:C.username,password:C.password}).then(function(t){"y"===t.data.firstlogin?(i(t.data.user),F(!0),f(C.password),w(t.data.accesstoken)):(D(Object(c.a)({},C,{errorMessage:t.data.message})),t.data.success&&e({type:"LOGIN",payload:t.data}))}).catch(function(e){console.log(e),D(Object(c.a)({},C,{password:"",errorMessage:e.message||e.statusText}))}),D(Object(c.a)({},C,{password:"",errorMessage:""})),E("")}},l.a.createElement("h2",null," Login "),l.a.createElement(g,{className:"Logo"}),l.a.createElement("input",{autoFocus:!0,type:"text",placeholder:"username",name:"username",id:"username",value:C.username,onChange:P}),l.a.createElement("input",{type:"password",placeholder:"password",name:"password",id:"password",value:C.password,onChange:P}),l.a.createElement("button",null,"Login"),C.errorMessage&&l.a.createElement("span",{className:"errormessage"},C.errorMessage),l.a.createElement("span",{className:"successmessage"},v))))},v=(a(362),a(484),a(391));a(525);function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var O=function(e){return l.a.createElement("svg",E({viewBox:"0 0 193.75 125.4086"},e),f||(f=l.a.createElement("defs",null)),h||(h=l.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},l.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},l.a.createElement("g",{id:"Layer_2-2","data-name":"Layer 2"},l.a.createElement("g",{id:"Layer_1-2-2","data-name":"Layer 1-2"},l.a.createElement("path",{className:"cls-1",d:"M173.13,28.696c-6.5459,0-20.163,3.273-20.897,21.889-.3259,8.282-2.662,15.368-6.543,20.845l-.003.006c-5.947,25.626-21.224,44.279-43.731,53.633l12.057.169c36.073.476,62.866-16.788,74.653-46.792S190.2817,28.696,173.13,28.696Z"}),l.a.createElement("path",{className:"cls-1",d:"M144.1817,47.409a60.8054,60.8054,0,0,0-1.322-12.048c-.023.002-.045.006-.068.008-3.46-18.081-19.68-27.903-19.68-27.903S113.0407,0,94.0207,0c-13.848,0-46.946,8.647-44.84,52.173.016.589.039,1.183.079,1.788.195,2.982-.057,22.965,19.704,26.415,15.914,2.779,23.11-7.347,23.504-19.51a85.874,85.874,0,0,0,.003-8.596c0-3.773.183-10.357,5.357-10.909,5.52-.588,5.513,4.643,5.529,10.528a40.0458,40.0458,0,0,1-4.208,17.606c-2.736,6.024-8.522,13.264-20.684,14.941a33.45,33.45,0,0,1-4.566.317A31.0279,31.0279,0,0,1,52.81,76.505C46.117,70.707,41.96,61.678,41.516,50.43c-.734-18.616-14.351-21.889-20.897-21.889C8.53,28.541-.09,38.351.0007,54.648c-.009,6.895,1.549,14.965,5.082,23.959,11.787,30.004,38.58,47.268,74.653,46.792a61.7314,61.7314,0,0,0,15.017-2.027q1.0965-.3585,2.171-.747c20.192-7.271,34.721-22.071,42.042-42.703q.3195-1.0635.602-2.137c.056-.215.119-.429.173-.645a97.6,97.6,0,0,0,4.291-23.18c.113-1.721.162-3.382.165-4.997q.0015-.369.001-.735Q144.1887,47.817,144.1817,47.409Z"})))))))},N=(a.p,function(){var e=l.a.useContext(he),t=e.state,a=e.dispatch;return l.a.createElement("div",{id:"navigation"},l.a.createElement("h2",null,"Dashboard"),t.isAuthenticated?l.a.createElement(l.a.Fragment,null," ",l.a.createElement("div",{className:"welcomemsg"},l.a.createElement(O,{className:"Logoheader"}),l.a.createElement("p",{className:"userwelcome"},"Welcome ",t.user)),l.a.createElement("button",{className:"logoutButton",onClick:function(e){a({type:"LOGOUT"})}},"Logout")):"")}),j=a(394),w=(a(540),a(542),function(){var e=JSON.parse(localStorage.getItem("role"));return l.a.createElement("div",{id:"navbarcontainer"},l.a.createElement("ul",{id:"navbar"},1===e||2===e?l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/management"},"Management")):"",1===e||2===e||3===e?l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/analysis"},"Analysis")):"",l.a.createElement("li",null,l.a.createElement(i.b,{exact:!0,activeClassName:"navbaractive",to:"/"},"Positions")),l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/sales"},"Sales")),l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/logistics/inprogress"},"Logistics")),1===e||2===e?l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/budget/budget2023"},"Budget")):"",1===e?l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/admin"},"Admin")):""))}),x=a(21),S=(a(140),a(141),a(20),a(164),a(321),a(389),a(323),a(375),a(380),a(325),a(381),a(382),a(612)),C=a.n(S),D=(a(704),{width:"800px"}),k=function(){Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var e={name:"Total",children:[]},t=Object(o.useState)({data:{},criteria:"quantity"}),a=Object(n.a)(t,2),r=a[0],i=a[1];return Object(o.useEffect)(function(){p.a.post("/sunburstdata").then(function(t){var a=t.data.groupBy("productGroup"),n=Object.keys(a),o=0;n.forEach(function(t){e.children.push({name:t,children:[]});var r=a[t].groupBy("prodCatName"),n=Object.keys(r),c=0;n.forEach(function(t){e.children[o].children.push({name:t,children:[]});var a=r[t].groupBy("abbreviation");Object.keys(a).forEach(function(t){e.children[o].children[c].children.push({name:t,quantity:a[t][0].quantity,profit:a[t][0].profit})}),c++}),o++}),console.log(e),i(Object(c.a)({},r,{data:e}))})},[]),l.a.createElement("div",{className:"sunburst"},l.a.createElement(C.a,{data:r.data,scale:"exponential",tooltipContent:l.a.createElement("div",{class:"sunburstTooltip",style:"position:absolute; color:black; z-index:10; background: #FFF; padding: 2px; text-align: center;"}),tooltip:!0,tooltipPosition:"right",keyId:"Sunburst",width:.9*window.innerWidth,value:r.criteria,height:.9*window.innerHeight,styles:D}))},I=a(613),L=a(614),F=a(66),P=function(){return l.a.createElement("div",{className:"mgmtcontainer"},l.a.createElement("div",{className:"mgmtnav"},l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/management/keyfigures",exact:!0},"Key Figures"),l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/management/sunburstcharts",exact:!0},"Sun Burst Charts"),l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/management/profitability",exact:!0},"Profitability")),l.a.createElement("div",{className:"gridcontainer mgmtgridcontainer"},l.a.createElement(s.a,{active:!0,path:"/management/keyfigures"},l.a.createElement(I.a,null)),l.a.createElement(s.a,{path:"/management/sunburstcharts"},l.a.createElement(k,null)),l.a.createElement(F.b,null,l.a.createElement(s.a,{path:"/management/profitability"},l.a.createElement(L.a,null)))))},$=a(8),Q=(a(710),function(e){var t=e.tCode,a=e.tName,r=e.tLastName,n=e.active,c=e.role,o=e.email,i=e.findtrader;return l.a.createElement("div",{style:{backgroundColor:"y"===n?"":"#D3D3D3"},className:"tradercard",name:t,onClick:function(){return i(t)}},l.a.createElement("h4",null,a," ",r),l.a.createElement("p",null,"y"===n?"Active":"n"===n?"Inactive":""),l.a.createElement("p",{className:"traderemail"},o),l.a.createElement("p",{className:"traderrole"},c))});function T(){T=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return x()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var q=function(e){var t=e.searchcode,a=e.setSelectedTrader,r=e.addNewTrader,c=e.updateList,i=e.setShowedit,s=e.setShowadd,u=Object(o.useState)([]),m=Object(n.a)(u,2),d=m[0],f=m[1];Object(o.useEffect)(Object($.a)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(t).then(function(e){f(e.data)});case 2:case"end":return e.stop()}},e)})),[c]);var h=function(e){a(d.find(function(t){return t.tCode===e})),i(!0),s(!1)};return l.a.createElement("div",{className:"traderlistresults"},l.a.createElement(Q,{tName:"Add New",findtrader:r}),d.map(function(e){return l.a.createElement(Q,{tName:e.tName,tLastName:e.tLastName,active:e.active,role:e.role,email:e.userName,tCode:e.tCode,findtrader:h,key:"trad"+e.traderID})}))},B=function(e){var t=e.companyName,a=e.companyCode,r=e.country,n=e.findCustomer,c=e.city,o=e.street;e.website;return l.a.createElement("div",{className:"customercard",onClick:function(){return n(a)}},l.a.createElement("div",{className:"customercardtopline"},l.a.createElement("h4",null,a," "),l.a.createElement("p",{className:"customercountry"}," ",r)),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"Name:"),l.a.createElement("p",{className:"addressfield"},t)),l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"Street:"),l.a.createElement("p",{className:"addressfield"},o)),l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"City:"),l.a.createElement("p",{className:"addressfield"},c))))};function A(){A=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return x()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var G=function(e){var t=e.searchcode,a=e.updateList,r=e.setShowaddcustomer,c=e.setShoweditcustomer,i=e.setSelectedcustomer,s=e.addNewCustomer,u=Object(o.useState)([]),m=Object(n.a)(u,2),d=m[0],f=m[1],h=Object(o.useState)([]),g=Object(n.a)(h,2),b=g[0],y=g[1],v=Object(o.useState)(),E=Object(n.a)(v,2),O=E[0],N=E[1];Object(o.useEffect)(Object($.a)(A().mark(function e(){return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(t).then(function(e){f(e.data),y(e.data)});case 2:case"end":return e.stop()}},e)})),[a]);Object(o.useEffect)(function(){if(d)if(O&&""!==O){var e=d.filter(function(e){if(O&&""!==O)return e.companyName.toLowerCase().includes(O.toLowerCase())||e.companyCode.toLowerCase().includes(O.toLowerCase())||e.country.toLowerCase().includes(O.toLowerCase())});y(e)}else y(d)},[O]);var j=function(e){i(b.find(function(t){return t.companyCode===e})),c(!0),r(!1)};return l.a.createElement("div",null,l.a.createElement("input",{className:"adminsearchbar",placeholder:"...Search",onChange:function(e){N(e.target.value)}}),l.a.createElement("div",{className:"customerlistresults"},l.a.createElement(B,{companyCode:"Add New",findCustomer:s}),b.map(function(e){return l.a.createElement(B,{companyName:e.companyName,companyCode:e.companyCode,country:e.country,street:e.streetAddress,city:e.city,website:e.website,key:"cust"+e.customerID,findCustomer:j})})))},_=function(e){var t=e.companyName,a=e.companyCode,r=e.country,n=e.findProducer,c=e.city,o=e.street;e.website;return l.a.createElement("div",{className:"customercard",onClick:function(){return n(a)}},l.a.createElement("div",{className:"customercardtopline"},l.a.createElement("h4",null,a," "),l.a.createElement("p",{className:"producercountry"}," ",r)),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"Name:"),l.a.createElement("p",{className:"addressfield"},t)),l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"Street:"),l.a.createElement("p",{className:"addressfield"},o)),l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"City:"),l.a.createElement("p",{className:"addressfield"},c))))};function K(){K=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return x()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var R=function(e){var t=e.searchcode,a=e.updateList,r=e.setShowaddproducer,c=e.setShoweditproducer,i=e.setSelectedproducer,s=e.addNewProducer,u=Object(o.useState)([]),m=Object(n.a)(u,2),d=m[0],f=m[1],h=Object(o.useState)([]),g=Object(n.a)(h,2),b=g[0],y=g[1],v=Object(o.useState)(),E=Object(n.a)(v,2),O=E[0],N=E[1];Object(o.useEffect)(Object($.a)(K().mark(function e(){return K().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(t).then(function(e){f(e.data),y(e.data)});case 2:case"end":return e.stop()}},e)})),[a]);Object(o.useEffect)(function(){if(d)if(O&&""!==O){var e=d.filter(function(e){if(O&&""!==O)return e.companyName.toLowerCase().includes(O.toLowerCase())||e.companyCode.toLowerCase().includes(O.toLowerCase())||e.country.toLowerCase().includes(O.toLowerCase())});y(e)}else y(d)},[O]);var j=function(e){i(b.find(function(t){return t.companyCode===e})),c(!0),r(!1)};return l.a.createElement("div",null,l.a.createElement("input",{className:"adminsearchbar",placeholder:"...Search",onChange:function(e){N(e.target.value)}}),l.a.createElement("div",{className:"customerlistresults"},l.a.createElement(_,{companyCode:"Add New",findProducer:s}),b.map(function(e){return l.a.createElement(_,{companyName:e.companyName,companyCode:e.companyCode,country:e.country,street:e.streetAddress,city:e.city,website:e.website,key:"prod"+e.producerID,findProducer:j})})))},M=function(e){var t=e.group,a=e.data,r=e.handleProductClick,n=e.handleProdGroupClick;return l.a.createElement("div",{className:"prodgroupcard"},l.a.createElement("h4",{onClick:function(e){e.preventDefault(),n(t)}},t),Object.entries(a).map(function(e,t){return[l.a.createElement("p",{className:"productlink",onClick:function(e){e.preventDefault(),r(Object.keys(a)[t])}},Object.keys(a)[t])]}))};function Y(){Y=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return x()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var W=function(e){var t=e.searchcode,a=e.handleProductClick,r=e.addNewProdGroup,c=e.addNewProdCatName,i=e.updateList,s=e.updateList2,u=e.handleProdGroupClick,m=Object(o.useState)([]),d=Object(n.a)(m,2),f=(d[0],d[1]);Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var h=Object(o.useState)({}),g=Object(n.a)(h,2),b=g[0],y=g[1],v="",E={};return Object(o.useEffect)(Object($.a)(Y().mark(function e(){return Y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(t).then(function(e){f(e.data);var t=e.data.groupBy("productGroup");y(t),console.log("called this too")});case 2:case"end":return e.stop()}},e)})),[i,s]),l.a.createElement("div",{className:"prodgroupcards"},Object.entries(b).map(function(e,t){return v=Object.keys(b)[t],E=b[v].groupBy("prodCatName"),[l.a.createElement(M,{group:v,data:E,handleProductClick:a,handleProdGroupClick:u})]}),l.a.createElement("div",{className:"prodgroupcard prodaddcard"},l.a.createElement("p",{onClick:r},"+ Add New Group"),l.a.createElement("p",{onClick:c},"+ Add New ProdCatName")))};function U(){U=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return x()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var z=function(e){var t=e.selectedgprods,a=e.selectedprodgroup,r=e.handleProdNameClick,c=e.updateList,i=Object(o.useState)(),s=Object(n.a)(i,2),u=s[0],m=s[1],d=Object(o.useState)(),f=Object(n.a)(d,2),h=f[0],g=f[1],b=Object(o.useState)(),y=Object(n.a)(b,2),v=y[0],E=y[1],O=Object(o.useState)(),N=Object(n.a)(O,2),j=N[0],w=N[1];Object(o.useEffect)(function(){p.a.post("/selectgroupedprods",{selectedprod:a}).then(function(e){m(e.data)})},[c,t]),Object(o.useEffect)(Object($.a)(U().mark(function e(){return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:h&&console.log(h);case 1:case"end":return e.stop()}},e)})),[h,c,t]);return l.a.createElement("div",{className:"selectedprods"},l.a.createElement("div",{className:"selectedprodgroup"},l.a.createElement("h4",null,a),u?u.map(function(e){return l.a.createElement("p",{name:e.prodNameID,className:"prodnameadmin",onClick:function(t){var a;t.preventDefault(),g(e.prodNameID),E(e.abbreviation),r(e.prodNameID),a=e.prodNameID,p.a.post("/selectproducts",{prodnameID:a}).then(function(e){w(e.data)})}},"PG: ",e.prodGroupID," - ",e.abbreviation)}):""),l.a.createElement("div",{className:"selectedproddetails"},v?[l.a.createElement("h4",null," ",v," "),l.a.createElement("h4",null," productID - supplier")]:"",j?j.map(function(e){return l.a.createElement("p",null,e.productID," - ",e.companyCode)}):""))},H=a(81);function J(){J=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return x()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var V=function(){var e=Object(o.useState)(!0),t=Object(n.a)(e,2),a=(t[0],t[1]),r=Object(o.useState)("/traderslist"),i=Object(n.a)(r,2),s=i[0],m=i[1],d=Object(o.useState)(),f=Object(n.a)(d,2),h=f[0],g=f[1],b=Object(o.useState)(),y=Object(n.a)(b,2),v=y[0],E=y[1],O=Object(o.useState)(),N=Object(n.a)(O,2),j=N[0],w=N[1],x=Object(o.useState)([]),S=Object(n.a)(x,2),C=S[0],D=S[1],k=Object(o.useState)(),I=Object(n.a)(k,2),L=I[0],F=I[1],P=Object(o.useState)(),Q=Object(n.a)(P,2),T=Q[0],B=Q[1],A=Object(o.useState)(),_=Object(n.a)(A,2),K=_[0],M=_[1],Y=Object(o.useState)([]),U=Object(n.a)(Y,2),V=U[0],Z=U[1],X=Object(o.useState)({role:"3"}),ee=Object(n.a)(X,2),te=ee[0],ae=ee[1],re=Object(o.useState)({}),ne=Object(n.a)(re,2),ce=ne[0],oe=ne[1],le=Object(o.useState)({}),ie=Object(n.a)(le,2),se=ie[0],ue=ie[1],me=Object(o.useState)(),pe=Object(n.a)(me,2),de=pe[0],fe=pe[1],he=Object(o.useState)(),ge=Object(n.a)(he,2),be=ge[0],ye=ge[1],ve=Object(o.useState)(),Ee=Object(n.a)(ve,2),Oe=Ee[0],Ne=Ee[1],je=Object(o.useState)(),we=Object(n.a)(je,2),xe=we[0],Se=we[1],Ce=Object(o.useState)(!0),De=Object(n.a)(Ce,2),ke=De[0],Ie=De[1],Le=Object(o.useState)(!0),Fe=Object(n.a)(Le,2),Pe=Fe[0],$e=Fe[1],Qe=Object(o.useState)(!0),Te=Object(n.a)(Qe,2),qe=Te[0],Be=Te[1],Ae=Object(o.useState)(!0),Ge=Object(n.a)(Ae,2),_e=Ge[0],Ke=Ge[1],Re=Object(o.useState)(!0),Me=Object(n.a)(Re,2),Ye=Me[0],We=Me[1],Ue=Object(o.useState)(!1),ze=Object(n.a)(Ue,2),He=ze[0],Je=ze[1],Ve=Object(o.useState)(!1),Ze=Object(n.a)(Ve,2),Xe=Ze[0],et=Ze[1],tt=Object(o.useState)(!1),at=Object(n.a)(tt,2),rt=at[0],nt=at[1],ct=Object(o.useState)(!1),ot=Object(n.a)(ct,2),lt=ot[0],it=ot[1],st=Object(o.useState)(!1),ut=Object(n.a)(st,2),mt=ut[0],pt=ut[1],dt=Object(o.useState)(!1),ft=Object(n.a)(dt,2),ht=ft[0],gt=ft[1],bt=Object(o.useState)(!1),yt=Object(n.a)(bt,2),vt=yt[0],Et=yt[1],Ot=Object(o.useState)(!1),Nt=Object(n.a)(Ot,2),jt=Nt[0],wt=Nt[1],xt=Object(o.useState)(!1),St=Object(n.a)(xt,2),Ct=St[0],Dt=St[1],kt=Object(o.useState)(!1),It=Object(n.a)(kt,2),Lt=It[0],Ft=It[1],Pt=Object(o.useState)(!1),$t=Object(n.a)(Pt,2),Qt=$t[0],Tt=$t[1],qt=Xe?"editTrader displayblock":"displaynone",Bt=He?"editTrader displayblock":"editTrader displaynone",At=rt?"editCustomer displayblock":"editCustomer displaynone",Gt=lt?"editCustomer displayblock":"editCustomer displaynone",_t=mt?"editCustomer displayblock":"editCustomer displaynone",Kt=ht?"editCustomer displayblock":"editCustomer displaynone",Rt=vt?"editProdGroup displayblock":"displaynone",Mt=jt?"editProdGroup displayblock":"displaynone",Yt=Lt?"editProdCatName displayblock":"displaynone",Wt=Ct?"editProdCatName displayblock":"displaynone",Ut=Qt?"editProdName displayblock":"displaynone",zt=function(e){e.preventDefault(),m("/"+e.target.name),et(!1),Je(!1),nt(!1),it(!1),pt(!1),gt(!1),Et(!1),wt(!1),Ft(!1),Dt(!1),Tt(!1)},Ht=function(e,t){e.preventDefault(),E(Object(c.a)({},v,Object(u.a)({},t,e.target.value)))},Jt=function(e,t){e.preventDefault(),w(Object(c.a)({},j,Object(u.a)({},t,e.target.value)))},Vt=function(e,t){B(Object(c.a)({},T,Object(u.a)({},t,e.target.value)))},Zt=function(e,t){Z(Object(c.a)({},V,Object(u.a)({},t,e.target.value)))},Xt=Object(o.useState)([]),ea=Object(n.a)(Xt,2),ta=ea[0],aa=ea[1];Object(o.useEffect)(function(){p.a.post("/roles").then(function(e){aa(e.data)})},[]);var ra=function(){var e=Object($.a)(J().mark(function e(t){return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/updateprodname",{selectedprodname:V}).then(function(e){console.log(e.data.message),We(!Ye)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),na=function(e){e.preventDefault(),ae(Object(c.a)({},te,Object(u.a)({},e.target.name,e.target.value)))},ca={companyCode:"",companyName:"",country:"",city:"",streetAddress:"",website:""},oa={companyCode:"",companyName:"",country:"",city:"",streetAddress:"",website:""},la=function(e){e.preventDefault(),oe(Object(c.a)({},ce,Object(u.a)({},e.target.name,e.target.value)))},ia=function(e){e.preventDefault(),ue(Object(c.a)({},se,Object(u.a)({},e.target.name,e.target.value)))},sa=function(){var e=Object($.a)(J().mark(function e(t){return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/addNewCustomer",{newcustomer:ce}).then(function(e){$e(!Pe)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ua=function(){var e=Object($.a)(J().mark(function e(t){return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/addNewProducer",{newproducer:se}).then(function(e){Be(!qe)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ma=function(){var e=Object($.a)(J().mark(function e(t){return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/addNewProdGroup",{newprodgroup:de}).then(function(e){Ke(!_e),fe("")});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),pa=function(){var e=Object($.a)(J().mark(function e(t){return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/addNewProdCatName",{newprodcatname:be}).then(function(e){Ke(!_e),ye("")});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"adminpage"},l.a.createElement("div",{className:"adminnav"},l.a.createElement("button",{name:"traderslist",onClick:zt},"Traders"),l.a.createElement("button",{name:"customerlist",onClick:zt},"Customers"),l.a.createElement("button",{name:"producerlist",onClick:zt},"Producers"),l.a.createElement("button",{name:"prodnameslist",onClick:zt},"Products")),l.a.createElement("div",{className:"adminresults"},"/traderslist"===s?l.a.createElement(q,{searchcode:"/traderslist",setSelectedTrader:g,setShowedit:Je,setShowadd:et,addNewTrader:function(){Je(!1),et(!0)},updateList:ke}):"","/customerlist"===s?l.a.createElement(G,{searchcode:"/customerlist",updateList:Pe,setShowaddcustomer:nt,setShoweditcustomer:it,setSelectedcustomer:E,addNewCustomer:function(){it(!1),nt(!0)}}):"","/producerlist"===s?l.a.createElement(R,{searchcode:"/producerlist",updateList:qe,setShowaddproducer:pt,setShoweditproducer:gt,setSelectedproducer:w,addNewProducer:function(){gt(!1),pt(!0)}}):"","/prodnameslist"===s?[l.a.createElement(W,{searchcode:"/prodnameslist",handleProductClick:function(e){F(e),Ft(!0),Dt(!1),wt(!1),Et(!1),Tt(!1),p.a.post("/selectedprodcatname",{prodcatname:e}).then(function(e){M(e.data[0])}),p.a.post("/selectgroupedprods",{selectedprod:e}).then(function(e){console.log(e),D(e.data)})},addNewProdGroup:function(){Et(!0),wt(!1),Ft(!1),Dt(!1)},addNewProdCatName:function(){Et(!1),wt(!1),Ft(!1),Dt(!0)},updateList:_e,updateList2:Ye,handleProdGroupClick:function(e){wt(!0),Et(!1),Ft(!1),Dt(!1),p.a.post("/selectprodgroup",{productGroup:e}).then(function(e){B(e.data[0]),We(!Ye),Tt(!1)})}}),l.a.createElement(z,{selectedgprods:C,selectedprodgroup:L,handleProdNameClick:function(e){wt(!1),Et(!1),Ft(!1),Dt(!1),Tt(!0),p.a.post("/selectprodname",{prodnameID:e}).then(function(e){Z(e.data[0])})},updateList:Ye})]:""),l.a.createElement("div",{className:"adminedit"},l.a.createElement("form",{className:qt,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/addNewTrader",{newtrader:te}).then(function(e){console.log(e)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add Item"),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"traderID:"),l.a.createElement("input",{placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"tCode:"),l.a.createElement("input",{placeholder:"...Three Letter Code (in CAPS)",name:"tCode",onChange:na,required:!0})),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"tName:"),l.a.createElement("input",{placeholder:"...Trader Name",name:"tName",onChange:na,required:!0})),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"tLastName:"),l.a.createElement("input",{placeholder:"...Trader Last Name",name:"tLastName",onChange:na,required:!0})),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"userName:"),l.a.createElement("input",{placeholder:"...Email (weGrow)",name:"userName",onChange:na,required:!0})),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"Active:"),l.a.createElement("input",{name:"active",className:"activeradio",type:"radio",onClick:function(e){return ae(Object(c.a)({},te,{active:"y"}))},required:!0}),l.a.createElement("label",{htmlFor:""},"Yes"),l.a.createElement("input",{name:"active",className:"activeradio",type:"radio",onClick:function(e){return ae(Object(c.a)({},te,{active:"n"}))},required:!0}),l.a.createElement("label",{htmlFor:""},"No")),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"Role:"),l.a.createElement("select",{onChange:function(e){return ae(Object(c.a)({},te,{role:e.target.value}))},required:!0},ta?ta.map(function(e,t){return"sales"===e.role?l.a.createElement("option",{selected:!0,value:t+1},e.role):l.a.createElement("option",{value:t+1},e.role)}):"")),l.a.createElement("button",{type:"submit"},"Add New Trader"))),l.a.createElement("form",{className:Bt,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/updatetrader",{selectedtrader:h}).then(function(e){Ie(!ke)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Trader Info"),h?Object.keys(h).map(function(e,t){return"traderID"===e?l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:h[e],readOnly:!0})):"active"===e?l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{name:"active",className:"activeradio",type:"radio",checked:"y"===h[e],onClick:function(t){return g(Object(c.a)({},h,Object(u.a)({},e,"y")))}}),l.a.createElement("label",{htmlFor:""},"Yes"),l.a.createElement("input",{name:"active",className:"activeradio",type:"radio",checked:"n"===h[e],onClick:function(t){return g(Object(c.a)({},h,Object(u.a)({},e,"n")))}}),l.a.createElement("label",{htmlFor:""},"No")):"role"===e?l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("select",{onChange:function(t){return g(Object(c.a)({},h,Object(u.a)({},e,t.target.value)))}},ta?ta.map(function(t,a){return t.role===h[e]?l.a.createElement("option",{selected:!0,value:a+1},t.role):l.a.createElement("option",{value:a+1},t.role)}):"")):l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:h[e],onChange:function(t){return function(e,t){e.preventDefault(),g(Object(c.a)({},h,Object(u.a)({},t,e.target.value)))}(t,e)}}))}):"",l.a.createElement("button",{type:"submit"},"Save Edits"))),l.a.createElement("form",{className:Gt,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/updatecustomer",{selectedcustomer:v}).then(function(e){$e(!Pe)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Customer Info"),v?Object.keys(v).map(function(e,t){return"customerID"===e?l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:v[e],readOnly:!0})):"companyName"===e||"streetAddress"===e?l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("textarea",{value:v[e],onChange:function(t){return Ht(t,e)},required:!0})):l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:v[e],onChange:function(t){return Ht(t,e)},required:!0}))}):"",l.a.createElement("button",{type:"submit"},"Save Edits"))),l.a.createElement("form",{className:At,onSubmit:function(e){sa(e),oe(ca)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add New Customer"),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"customerID:"),l.a.createElement("input",{placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyCode:"),l.a.createElement("input",{placeholder:"...short company name",name:"companyCode",onChange:la,value:ce.companyCode,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyName:"),l.a.createElement("textarea",{placeholder:"...full company name",name:"companyName",onChange:la,value:ce.companyName,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"country:"),l.a.createElement("input",{placeholder:"...country",name:"country",onChange:la,value:ce.country,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"city:"),l.a.createElement("input",{placeholder:"...city",name:"city",onChange:la,value:ce.city,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"streetAddress:"),l.a.createElement("textarea",{placeholder:"...street address",name:"streetAddress",onChange:la,value:ce.streetAddress,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"website:"),l.a.createElement("input",{placeholder:"...website",name:"website",onChange:la,value:ce.website,required:!0})),l.a.createElement("button",{type:"submit"},"Add New Customer"))),l.a.createElement("form",{className:Gt,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/deleteCustomer",{selectedcustomer:v}).then(function(e){console.log(e),$e(!Pe),Ne("")})}(e),it(!1)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Delete Customer"),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyCode:"),v?l.a.createElement("input",{value:v.companyCode,onChange:la,readOnly:!0}):""),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"reType:"),l.a.createElement("input",{value:Oe,placeholder:"retype company name to delete",onChange:function(e){e.preventDefault(),Ne(e.target.value)}})),v&&v.companyCode===Oe?l.a.createElement("button",{type:"submit"},"Delete Customer"):"")),l.a.createElement("form",{className:Kt,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/updateproducer",{selectedproducer:j}).then(function(e){Be(!qe)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Producer Info"),j?Object.keys(j).map(function(e,t){return"producerID"===e?l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:j[e],readOnly:!0})):"companyName"===e||"streetAddress"===e?l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("textarea",{value:j[e],onChange:function(t){return Jt(t,e)},required:!0})):l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:j[e],onChange:function(t){return Jt(t,e)},required:!0}))}):"",l.a.createElement("button",{type:"submit"},"Save Edits"))),l.a.createElement("form",{className:_t,onSubmit:function(e){ua(e),ue(oa)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add New Producer"),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"producerID:"),l.a.createElement("input",{placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyCode:"),l.a.createElement("input",{placeholder:"...short company name",name:"companyCode",onChange:ia,value:se.companyCode,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyName:"),l.a.createElement("textarea",{placeholder:"...full company name",name:"companyName",onChange:ia,value:se.companyName,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"country:"),l.a.createElement("input",{placeholder:"...country",name:"country",onChange:ia,value:se.country,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"city:"),l.a.createElement("input",{placeholder:"...city",name:"city",onChange:ia,value:se.city,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"streetAddress:"),l.a.createElement("textarea",{placeholder:"...street address",name:"streetAddress",onChange:ia,value:se.streetAddress,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"website:"),l.a.createElement("input",{placeholder:"...website",name:"website",onChange:ia,value:se.website,required:!0})),l.a.createElement("button",{type:"submit"},"Add New Producer"))),l.a.createElement("form",{className:Kt,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/deleteProducer",{selectedproducer:j}).then(function(e){console.log(e),Be(!qe),Se("")})}(e),gt(!1)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Delete Producer"),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyCode:"),j?l.a.createElement("input",{value:j.companyCode,onChange:ia,readOnly:!0}):""),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"reType:"),l.a.createElement("input",{value:xe,placeholder:"retype company name to delete",onChange:function(e){e.preventDefault(),Se(e.target.value)}})),j&&j.companyCode===xe?l.a.createElement("button",{type:"submit"},"Delete Producer"):"")),l.a.createElement("form",{className:Mt,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/updateprodgroup",{selectedprodgroup1:T}).then(function(e){Ke(!_e)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Product Group"),l.a.createElement("div",{className:"editprodgroup-form-group"},l.a.createElement("label",null,"prodGroupID:"),l.a.createElement("input",{readOnly:!0,type:"text",onChange:function(e){e.preventDefault(),Vt(e,"prodGroupID")},value:T?T.prodGroupID:""})),l.a.createElement("div",{className:"editprodgroup-form-group"},l.a.createElement("label",null,"productGroup:"),l.a.createElement("input",{value:T?T.productGroup:"",onChange:function(e){e.preventDefault(),Vt(e,"productGroup")},type:"text"})),l.a.createElement("button",{type:"submit"},"Save Edits"))),l.a.createElement("form",{className:Rt,onSubmit:function(e){ma(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add New Product Group:"),l.a.createElement("div",{className:"editprodgroup-form-group"},l.a.createElement("label",null,"prodGroupID:"),l.a.createElement("input",{type:"text",placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"editprodgroup-form-group"},l.a.createElement("label",null,"productGroup:"),l.a.createElement("input",{name:"productGroup",type:"text",placeholder:"...New Prod Group Name",value:de?de.productGroup:"",onChange:function(e){e.preventDefault(),fe(Object(c.a)({},de,Object(u.a)({},e.target.name,e.target.value)))},required:!0})),l.a.createElement("button",{type:"submit"},"Add New Product Group"))),l.a.createElement("form",{className:Yt,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/updateprodcatname",{selectedprodcatname:K}).then(function(e){Ke(!_e)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Product Category Name:"),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodCatNameID:"),l.a.createElement("input",{value:K?K.prodCatNameID:"",readOnly:!0})),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodCatName:"),l.a.createElement("input",{value:K?K.prodCatName:"",onChange:function(e){e.preventDefault(),function(e,t){M(Object(c.a)({},K,Object(u.a)({},t,e.target.value)))}(e,"prodCatName")}})),l.a.createElement("button",{type:"submit"},"Save Edits"))),l.a.createElement("form",{className:Wt,onSubmit:function(e){pa(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add New ProdCatName: "),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodCatNameID:"),l.a.createElement("input",{placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodCatName:"),l.a.createElement("input",{name:"prodCatName",placeholder:"...Type New Product Category Name",onChange:function(e){e.preventDefault(),ye(Object(c.a)({},be,Object(u.a)({},e.target.name,e.target.value)))},value:be?be.prodCatName:""})),l.a.createElement("button",{type:"submit"},"Add New Prod Cat Name"))),l.a.createElement("form",{className:Ut,onSubmit:function(e){ra(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Product Name: "),l.a.createElement("div",{className:"editprodname-form-group"},l.a.createElement("label",null,"prodNameID:"),l.a.createElement("input",{value:V.prodNameID,readOnly:!0})),l.a.createElement("div",{className:"editprodname-form-group"},l.a.createElement("label",null,"abbreviation:"),l.a.createElement("input",{value:V.abbreviation,required:!0,onChange:function(e){e.preventDefault(),Zt(e,"abbreviation")}})),l.a.createElement("div",{className:"editprodname-form-group"},l.a.createElement("label",null,"prodName:"),l.a.createElement("input",{value:V.prodName,required:!0,onChange:function(e){e.preventDefault(),Zt(e,"prodName")}})),l.a.createElement("div",{className:"editprodname-form-group"},l.a.createElement("label",null,"prodCatName:"),l.a.createElement("div",{className:"prodnamesearchv"},l.a.createElement(H.a,{searchURL:"/prodcatnameslist",searchName:"prodCatName",searchID:"prodCatNameID",setResetfield:a,value:V?V.prodCatName:"",setProdSupplier:function(e,t){Z(Object(c.a)({},V,{prodCatNameID:e,prodCatName:t}))}}))),l.a.createElement("div",{className:"editprodname-form-group"},l.a.createElement("label",null,"prodGroup:"),l.a.createElement("div",{className:"prodnamesearchv"},l.a.createElement(H.a,{searchURL:"/prodgroups",searchName:"productGroup",searchID:"prodGroupID",setResetfield:a,value:V?V.productGroup:"",setProdSupplier:function(e,t){Z(Object(c.a)({},V,{prodGroupID:e,productGroup:t}))}}))),l.a.createElement("button",{type:"submit"},"Edit Product Name Details")))))},Z=a(618),X=(a(714),a(620)),ee=a(622),te=a(186),ae=function(){var e=Object(o.useContext)(te.a).updateScores,t=Object(o.useState)(),a=Object(n.a)(t,2),r=a[0],c=a[1];return Object(o.useEffect)(function(){p.a.post("/tmcscores").then(function(e){c(e.data)})},[e]),l.a.createElement("div",{className:"logcontainer"},l.a.createElement("div",{className:"lognav"},l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/logistics/inprogress",exact:!0},"In Progress"),l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/logistics/matching",exact:!0},"Matching Report"),l.a.createElement("div",{className:"scores"},l.a.createElement("h4",{style:{marginBottom:"1rem"}},"Scores:"),r?r.map(function(e){return[l.a.createElement("div",{className:"score"},l.a.createElement("p",null,e.tCode)," ",l.a.createElement("p",null,e.totalscore.toFixed(1)))]}):"")),l.a.createElement("div",{className:"gridcontainer loggridcontainer"},l.a.createElement(s.a,{path:"/logistics/matching"},l.a.createElement(X.a,null)),l.a.createElement(s.a,{path:"/logistics/inprogress"},l.a.createElement(ee.a,null))))},re=a(90),ne=(a(724),a(55)),ce=a(287),oe=a(24),le=a(18),ie=a(65),se=a(623),ue=a(345),me=function(e){var t=e.csvData,a=e.fileName;return l.a.createElement("div",{className:"bdgtexport",onClick:function(e){return function(e,t){var a={Sheets:{data:ue.utils.json_to_sheet(e)},SheetNames:["data"]},r=ue.write(a,{bookType:"xlsx",type:"array"}),n=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});se.saveAs(n,t+".xlsx")}(t,a)}},l.a.createElement(oe.a,{style:{marginRight:"0.5rem"},icon:le.b}),"Export")};function pe(){pe=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return x()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var de=function(){var e=Object(o.useRef)(null),t=Object(o.useState)(!1),a=Object(n.a)(t,2),r=a[0],i=a[1],s=function(){Ue("")},m=Object(o.useState)(2023),d=Object(n.a)(m,2),f=d[0];d[1];Object(o.useEffect)(function(){var t=e.current;ce.a.fromTo(t,{opacity:1},{opacity:0,duration:2,ease:"power1.inOut",onComplete:s})},[r]);var h=Object(o.useState)(),g=Object(n.a)(h,2),b=g[0],y=g[1],v=Object(o.useRef)(null);Object(o.useEffect)(function(){p.a.post("/budgetprodNames").then(function(e){y(e.data),Q(e.data)})},[]);var E=Object(o.useState)(!1),O=Object(n.a)(E,2),N=O[0],j=O[1],w=function(){var e=Object($.a)(pe().mark(function e(){return pe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,t){j(!N),e()});case 2:!1===N&&v.current.focus(),I("");case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),x=[],S=[],C=Object(o.useState)(),D=Object(n.a)(C,2),k=D[0],I=D[1],L=Object(o.useState)(),F=Object(n.a)(L,2),P=F[0],Q=F[1];Object(o.useEffect)(function(){if(b)if(k&&""!==k){var e=b.filter(function(e){if(k&&""!==k)return e.abbreviation.toLowerCase().includes(k.toLowerCase())});Q(e)}else Q(b)},[k]);var T=Object(o.useState)(!1),q=Object(n.a)(T,2),B=q[0],A=q[1],G=Object(o.useState)(),_=Object(n.a)(G,2),K=_[0],R=_[1],M=Object(o.useState)(),Y=Object(n.a)(M,2),W=Y[0],U=Y[1],z=Object(o.useState)(),H=Object(n.a)(z,2),J=H[0],V=H[1],Z=Object(o.useState)(4),X=Object(n.a)(Z,2),ee=X[0],te=(X[1],Object(o.useState)(2)),ae=Object(n.a)(te,2),re=ae[0],se=(ae[1],Object(o.useState)(-1)),ue=Object(n.a)(se,2),de=ue[0],fe=ue[1],he=Object(o.useState)(-1),ge=Object(n.a)(he,2),be=ge[0],ye=ge[1],ve=Object(o.useState)(!1),Ee=Object(n.a)(ve,2),Oe=(Ee[0],Ee[1]),Ne=Object(o.useState)(!1),je=Object(n.a)(Ne,2),we=je[0],xe=je[1],Se=Object(o.useState)([]),Ce=Object(n.a)(Se,2),De=(Ce[0],Ce[1],Object(o.useRef)()),ke=Object(o.useRef)([]),Ie=Object(o.useRef)([]),Le=function(e,t,a,r,n){Ga(Object(c.a)({},Aa,Object(u.a)({},t,Object(c.a)({},Aa[t],Object(u.a)({},a,Object(c.a)({},Aa[t][a],Object(u.a)({},r,Object(c.a)({},Aa[t][a][r],Object(u.a)({},n,Number(e.target.value))))))))))},Fe=Object(o.useState)(!1),Pe=Object(n.a)(Fe,2),$e=Pe[0],Qe=Pe[1],Te=Object(o.useState)({}),qe=Object(n.a)(Te,2),Be=qe[0],Ae=qe[1],Ge=Object(o.useState)(),_e=Object(n.a)(Ge,2),Ke=_e[0],Re=_e[1];Object(o.useEffect)(function(){p.a.post("/yearbudgetdata",{year:f}).then(function(e){pr(e.data),Ae(dr(e.data))}),p.a.post("/budgetgroupbtns",{year:f}).then(function(e){R(e.data)}),p.a.post("/budgetfilterbtns",{year:f}).then(function(e){U(e.data)}),p.a.post("/bdgtregiondata",{year:f}).then(function(e){Re(e.data),Object.entries(e.data.groupBy("region")).map(function(e){return console.log(e)})})},[$e]),Object(o.useEffect)(function(){p.a.post("/budgetfilterbtns",{year:f}).then(function(e){U(e.data)})},[B]);var Me=Object(o.useState)(),Ye=Object(n.a)(Me,2),We=Ye[0],Ue=Ye[1],ze=function(e,t,a,r,n,c){var o=Number(e.target.value);o!==Number(Ra[a][r][n][c])&&o!==Number(Ua[a][r][n][c])&&p.a.post("/savebdgteconfig",{year:f,item:c,value:o,prod:ga[a],cty:pa[n]}).then(function(e){Ue(e.data.msg),za(Aa),Qe(!$e)}),o===Number(Ra[a][r][n][c])&&Number(Ua[a][r][n][c])!==Number(Ra[a][r][n][c])&&p.a.post("/savebdgteconfig",{year:f,item:c,value:o,prod:ga[a],cty:pa[n]}).then(function(e){Ue(e.data.msg),za(Aa),Qe(!$e)})},He=Object(o.useCallback)(function(e){De.current&&De.current.contains(e.target)?"cell-input"===e.target.className&&(Oe(!0),xe(!0)):Oe(!1)},[De,Oe]),Je=Object(o.useState)(!1),Ve=Object(n.a)(Je,2),Ze=Ve[0],Xe=Ve[1],et=Object(o.useState)(!1),tt=Object(n.a)(et,2),at=tt[0],rt=tt[1],nt=Object(o.useCallback)(function(e){if(Ze)switch(e.key){case"ArrowUp":de>=ee&&fe(de-ee);break;case"ArrowDown":de<ee*J-ee&&fe(de+ee);break;case"ArrowRight":de<J*ee-1&&fe(de+1);break;case"ArrowLeft":de>0&&fe(de-1)}if(at)switch(e.key){case"ArrowUp":be>=re&&ye(be-re);break;case"ArrowDown":be<re*J-re&&ye(be+re);break;case"ArrowRight":be<J*re-1&&ye(be+1);break;case"ArrowLeft":be>0&&ye(be-1)}});Object(o.useEffect)(function(){return window.addEventListener("mousedown",He),window.addEventListener("keydown",nt),function(){window.removeEventListener("mousedown",He),window.removeEventListener("keydown",nt)}},[He,nt]);var ct=Object(o.useCallback)(function(){if(de>=0&&de<J*ee){var e=ke.current[de];e&&(we?e.focus():e.blur())}},[de,we,ke,J,ee]);Object(o.useEffect)(ct,[de,ct]);var ot=Object(o.useCallback)(function(){if(be>=0&&be<J*re){var e=Ie.current[be];e&&(we?e.focus():e.blur())}},[be,we,Ie,J,re]);Object(o.useEffect)(ot,[be,ot]);var lt=Object(o.useState)(),it=Object(n.a)(lt,2),st=it[0],ut=it[1],mt=Object(o.useState)(),pt=Object(n.a)(mt,2),dt=pt[0],ft=pt[1],ht=Object(o.useState)(1),gt=Object(n.a)(ht,2),bt=gt[0],yt=gt[1],vt=Object(o.useState)(5),Et=Object(n.a)(vt,2),Ot=Et[0],Nt=Et[1],jt=Object(o.useState)(1),wt=Object(n.a)(jt,2),xt=wt[0],St=wt[1],Ct=Object(o.useState)(),Dt=Object(n.a)(Ct,2),kt=Dt[0],It=Dt[1],Lt=Object(o.useState)(),Ft=Object(n.a)(Lt,2);Ft[0],Ft[1];Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var Pt=Object(o.useState)(),$t=Object(n.a)(Pt,2),Qt=$t[0],Tt=$t[1],qt=Object(o.useState)(),Bt=Object(n.a)(qt,2),At=(Bt[0],Bt[1],Object(o.useState)()),Gt=Object(n.a)(At,2),_t=(Gt[0],Gt[1],Object(o.useState)()),Kt=Object(n.a)(_t,2),Rt=(Kt[0],Kt[1],Object(o.useState)({})),Mt=Object(n.a)(Rt,2),Yt=Mt[0],Wt=Mt[1],Ut=Object(o.useState)({}),zt=Object(n.a)(Ut,2),Ht=zt[0],Jt=zt[1],Vt=function(e){var t={},a={},r={},n={},c={},o={},l={},i={},s={},u={};return Object.entries(e.groupBy("abbreviation")).forEach(function(e){var m=e[0],p=Object.entries(e[1].groupBy("region"));u[m]=!1,p.forEach(function(e){var n=e[0];c[n]=!1,Object.entries(e[1].groupBy("country")).forEach(function(e){var r=e[0];l[r]=!1,e[1].forEach(function(e,a){t[a]=e.quantity}),a[r]=t,t={}}),o[m]=c,i[n]=l,l={},tr(o),r[n]=a,a={}}),s[m]=i,i={},c={},n[m]=r,r={}}),Wt(s),Jt(u),n},Zt=Object(o.useState)(),Xt=Object(n.a)(Zt,2),ea=Xt[0],ta=Xt[1],aa=Object(o.useState)(),ra=Object(n.a)(aa,2),na=ra[0],ca=ra[1],oa=Object(o.useState)(),la=Object(n.a)(oa,2),ia=la[0],sa=la[1],ua=Object(o.useState)(),ma=Object(n.a)(ua,2),pa=ma[0],da=ma[1],fa=Object(o.useState)(),ha=Object(n.a)(fa,2),ga=ha[0],ba=ha[1],ya=Object(o.useState)(),va=Object(n.a)(ya,2),Ea=(va[0],va[1],Object(o.useState)({})),Oa=Object(n.a)(Ea,2),Na=Oa[0],ja=Oa[1],wa=function(e){p.a.post("/addbdgtcty",{countries:Object.keys(Na[e]),pname:ga[e],pcatname:Ca,year:f}).then(function(){Fa(!La)})},xa=Object(o.useState)(),Sa=Object(n.a)(xa,2),Ca=Sa[0],Da=Sa[1],ka=Object(o.useState)(!1),Ia=Object(n.a)(ka,2),La=Ia[0],Fa=Ia[1],Pa=Object(o.useState)({}),$a=Object(n.a)(Pa,2),Qa=$a[0],Ta=$a[1],qa=Object(o.useState)({}),Ba=Object(n.a)(qa,2),Aa=Ba[0],Ga=Ba[1],_a=Object(o.useState)({}),Ka=Object(n.a)(_a,2),Ra=Ka[0],Ma=Ka[1],Ya=Object(o.useState)({}),Wa=Object(n.a)(Ya,2),Ua=Wa[0],za=Wa[1],Ha=function(e){var t={},a={},r={},n=0,c=0,o=0;return Object.entries(e.groupBy("abbreviation")).forEach(function(e){var l=e[0];Object.entries(e[1].groupBy("region")).forEach(function(e){var r=e[0];Object.entries(e[1].groupBy("country")).forEach(function(e){var a=e[0];e[1].forEach(function(e){n+=e.quantity,c+=e.quantity*e.price,o+=e.quantity*e.profit}),t[a]={price:0===n||0===c?0:c/n,profit:0===n||0===o?0:o/n,quantity:n},n=0,c=0,o=0}),a[r]=t,t={}}),r[l]=a,a={}}),r};Object(o.useEffect)(function(){Ca&&""!==Ca&&(p.a.post("/getbudgetdata",{prodcat:Ca,year:f}).then(function(e){Tt(e.data),V(e.data.length/4),ta(Vt(e.data)),ca(Vt(e.data)),sa(Vt(e.data)),function(e){var t=Object(ne.a)(new Set(e.map(function(e){return e.country}))),a=Object(ne.a)(new Set(e.map(function(e){return e.countryID}))),r={};t.forEach(function(e,t){return r[e]=a[t]}),da(r);var n=Object(ne.a)(new Set(e.map(function(e){return e.abbreviation}))),c=Object(ne.a)(new Set(e.map(function(e){return e.prodNameID}))),o={};n.forEach(function(e,t){return o[e]=c[t]}),ba(o)}(e.data),Ga(Ha(e.data)),Ma(Ha(e.data)),za(Ha(e.data))}),p.a.post("/budgetlyearsales",{year:f,prodcat:Ca}).then(function(e){Ta(function(e){var t={},a={},r={};return Object.entries(e.groupBy("abbreviation")).forEach(function(e){var n=e[0];Object.entries(e[1].groupBy("region")).forEach(function(e){var r=e[0];e[1].forEach(function(e){t[e.country]={quantity:Number(e.quantity),avgprice:Number(e.avgprice.replace(/,/g,"")),avgprofit:Number(e.avgprofit.replace(/,/g,""))}}),a[r]=t,t={}}),r[n]=a,a={}}),r}(e.data))}))},[Ca,La]);var Ja=0,Va=0,Za=Object(o.useState)(),Xa=Object(n.a)(Za,2),er=Xa[0],tr=Xa[1],ar=Object(o.useState)(),rr=Object(n.a)(ar,2),nr=rr[0],cr=rr[1],or=Object(o.useState)(),lr=Object(n.a)(or,2),ir=lr[0],sr=lr[1];Object(o.useEffect)(function(){p.a.post("/bdgtfullcountrylist").then(function(e){sr(e.data)})},[]);var ur=Object(o.useState)(),mr=Object(n.a)(ur,2),pr=(mr[0],mr[1]),dr=function(e){var t=0,a=0,r=0,n={};return Object.entries(e.groupBy("year")).forEach(function(e){var c=e[0];e[1].forEach(function(e){t+=e.quantity,a+=e.revenue,r+=e.totalprofit}),n[c]={quantity:t,revenue:a,totalprofit:r},t=0,a=0,r=0}),n},fr=Object(o.useState)("region"),hr=Object(n.a)(fr,2),gr=hr[0],br=hr[1],yr=Object(o.useState)("country"),vr=Object(n.a)(yr,2),Er=vr[0],Or=vr[1],Nr=Object(o.useState)("quantity"),jr=Object(n.a)(Nr,2),wr=jr[0],xr=jr[1];Object(o.useEffect)(function(){p.a.post("/bdgtlyearsalestotals",{year:f}).then(function(e){console.log(e)})},[]);var Sr=0,Cr=0,Dr=0,kr=0;return l.a.createElement("div",null,l.a.createElement("div",{className:"bdgttitles"},l.a.createElement("h2",{className:"bdgttitle"},f," Budget"),l.a.createElement("div",{className:"addprodgroup"},l.a.createElement("button",{className:"addprodbutton",onClick:function(e){w()}},"Add Product"),N?l.a.createElement("div",{className:"addprodpane"},l.a.createElement("input",{ref:v,value:k,onChange:function(e){I(e.target.value)},placeholder:"Search Product Name",type:"text"}),l.a.createElement("ul",null,P?P.map(function(e){return[l.a.createElement("div",{className:"addprodrow"},l.a.createElement("input",{type:"checkbox",name:e.prodNameID,id:e.prodNameID,value:e.prodNameID,onClick:function(t){if(t.target.checked)x.push(e.prodNameID),S.push(e.prodCatNameID);else for(var a=0;a<x.length;a++)x[a]===e.prodNameID&&x.splice(a,1),S[a]===e.prodCatNameID&&S.splice(a,1)}})," ",l.a.createElement("label",{for:e.prodNameID},e.abbreviation))]}):"Please add a product."),l.a.createElement("div",{className:"addprodcanceladd"},l.a.createElement("button",{className:"cancelprodbutton",onClick:function(e){j(!1),I("")}},"Cancel"),l.a.createElement("button",{onClick:function(e){p.a.post("/addprodbudget",{prodstoadd:x,prodscattoadd:S,year:f}).then(function(e){console.log(e),A(!B)}),j(!1)},className:"addprodbutton"},"Confirm"))):""),l.a.createElement(me,{csvData:Ke,fileName:"budget2023"})),l.a.createElement("div",{className:"bdgttotals"},l.a.createElement("ul",{className:"bdgttotalsul"},l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},Be&&Be[f]&&Be[f].quantity?Be[f].quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0," ","mt"),l.a.createElement("p",{className:"bdgttyearname"},"Quantity"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Actual:")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Budget:"),l.a.createElement("p",null,Be&&Be[f-1]&&Be[f-1].quantity?Be[f-1].quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0," ","mt"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},Be&&Be[f]&&Be[f].revenue?"$"+Be[f].revenue.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0),l.a.createElement("p",{className:"bdgttyearname"},"Revenue"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Actual:")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Budget:"),l.a.createElement("p",null,Be&&Be[f-1]&&Be[f-1].revenue?"$"+Be[f-1].revenue.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},Be&&Be[f]&&Be[f].totalprofit?"$"+Be[f].totalprofit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0),l.a.createElement("p",{className:"bdgttyearname"},"Profit"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Actual:")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Budget:"),l.a.createElement("p",null,Be&&Be[f-1]&&Be[f-1].totalprofit?"$"+Be[f-1].totalprofit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},Be&&Be[f]&&Be[f].totalprofit?"$"+(Be[f].totalprofit/Be[f].quantity).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0),l.a.createElement("p",{className:"bdgttyearname"},"Avg Profit"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Actual:")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Budget:"),l.a.createElement("p",null,Be&&Be[f-1]&&Be[f-1].totalprofit?"$"+(Be[f-1].totalprofit/Be[f].quantity).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},Be&&Be[f]&&Be[f].totalprofit?(Be[f].totalprofit/Be[f].revenue*100).toFixed(1)+"%":0),l.a.createElement("p",{className:"bdgttyearname"},"Margin"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Actual:")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Budget:"),l.a.createElement("p",null,Be&&Be[f-1]&&Be[f-1].totalprofit?(Be[f-1].totalprofit/Be[f].revenue*100).toFixed(1)+"%":"0.0%"))))),l.a.createElement("div",{className:"budgetfilterbuttons"},l.a.createElement("div",{className:"pgroupfbtns"},l.a.createElement("p",null,"Product Groups:"),K?K.map(function(e,t){return l.a.createElement("button",{key:t,onClick:function(a){return function(e,t,a){e.preventDefault(),ut(t),ft(a)}(a,t,e.productGroup)},className:t===st?"budgetfilterbutton budgetfilterbuttonactive":"budgetfilterbutton"},l.a.createElement("div",null,l.a.createElement("p",{className:"bdgtbtntitle"},e.productGroup),l.a.createElement("p",null,e.quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")+" mt"),l.a.createElement("p",null,"$ "+e.profit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","))))}):"Please add a product."),l.a.createElement("div",{className:"pnamefbtns"},l.a.createElement("p",null,"Product Name:"),W?W.map(function(e,t){if(e.productGroup===dt)return l.a.createElement("button",{key:t,onClick:function(a){!function(e,t,a){e.preventDefault(),It(t),Da(a.prodCatNameID)}(a,t,e)},className:t===kt?"pnamebutton pnamebuttonactive":"pnamebutton"},l.a.createElement("div",null,l.a.createElement("p",{className:"bdgtbtntitle"},e.prodCatName),l.a.createElement("p",null,e.quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")+" mt"),l.a.createElement("p",null,"$ "+e.profit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","))))}):"Please add a product.")),l.a.createElement("div",{className:"budgetprepdata"},l.a.createElement("div",{className:"budgettablesandresponse"},l.a.createElement("div",{className:"budgettables",ref:De},ea?Object.keys(ea).map(function(e,t){var a=0,n=0,o=0,s=0,m=0,d=0;return[l.a.createElement("div",{className:"bdgtpnametable"},l.a.createElement("div",{className:"bdgtpnametabletitle"},l.a.createElement("h3",null,"2023 ",e," Budget"),l.a.createElement(oe.a,{icon:le.h,onClick:function(t){Jt(Object(c.a)({},Ht,Object(u.a)({},e,!Ht[e])))}}),l.a.createElement("div",{className:Ht&&Ht[e]?"bdgtselectallcty showbdgtpane":"bdgtselectallcty hidebdgtpane"},l.a.createElement("h4",null,"Select countries to add."),l.a.createElement("div",{className:"bdgtselectctycty"},ir?ir.map(function(t){return l.a.createElement("div",{className:"addctyrow"},l.a.createElement("input",{type:"checkbox",name:t.countryID,onClick:function(a){a.target.checked&&Na?ja(Object(c.a)({},Na,Object(u.a)({},e,Object(c.a)({},Na[e],Object(u.a)({},t.countryID,t.country))))):ja(function(a){var r=Object(c.a)({},a);return delete r[e][t.countryID],r})}}),l.a.createElement("label",{for:t.countyID},t.country))}):""),l.a.createElement("div",{className:"addprodcanceladd"},l.a.createElement("button",{className:"cancelprodbutton",onClick:function(t){Jt(Object(c.a)({},Ht,Object(u.a)({},e,!1)))}},"Cancel"),l.a.createElement("button",{className:"addprodbutton",onClick:function(t){wa(e)}},"Confirm")))),l.a.createElement("div",{className:"board"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"countrycol"},"Country"),l.a.createElement("td",{className:"bdgtdatacol"},"Q1"),l.a.createElement("td",{className:"bdgtdatacol"},"Q2"),l.a.createElement("td",{className:"bdgtdatacol"},"Q3"),l.a.createElement("td",{className:"bdgtdatacol"},"Q4"),l.a.createElement("td",{className:"bdgtdatacol"},"Total"),l.a.createElement("td",{className:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgtdatacol"},"Price"),l.a.createElement("td",{className:"bdgtdatacol"},"Profit"),l.a.createElement("td",{className:"bdgtdatacol"},"Ttl Profit"),l.a.createElement("td",{className:"bdgtdatacol"},"% Mgn"))),l.a.createElement("tbody",null,Object.keys(ea[e]).map(function(t,h){var g=0,b=0,y=0,v=0,E=0,O=0;Object.keys(ea[e][t]).forEach(function(a){g+=ea[e][t][a][0],b+=ea[e][t][a][1],y+=ea[e][t][a][2],v+=ea[e][t][a][3],Aa&&Aa[e]&&Aa[e][t]&&Aa[e][t][a]&&Aa[e][t][a].price&&(E+=Aa[e][t][a].price*(ea[e][t][a][0]+ea[e][t][a][1]+ea[e][t][a][2]+ea[e][t][a][3])),Aa&&Aa[e]&&Aa[e][t]&&Aa[e][t][a]&&Aa[e][t][a].profit&&(O+=Aa[e][t][a].profit*(ea[e][t][a][0]+ea[e][t][a][1]+ea[e][t][a][2]+ea[e][t][a][3]))}),a+=g,n+=b,o+=y,s+=v;var N=0===E?0:E/(g+b+y+v),j=0===O?0:O/(g+b+y+v);return m+=E,d+=O,[l.a.createElement("tr",{className:"bdgtregionrow"},l.a.createElement("td",{className:"bdgtregioncol"},l.a.createElement(oe.a,{className:"bdgtctyrowadd",icon:le.h,onClick:function(a){tr(Object(c.a)({},er,Object(u.a)({},e,Object(c.a)({},er[e],Object(u.a)({},t,!er[e][t]))))),function(e){p.a.post("/bdgtloadregcty",{reg:e}).then(function(t){cr(Object(c.a)({},nr,Object(u.a)({},e,[t.data])))})}(t)}}),"Latin America"===t?"L. America":t,l.a.createElement("div",{className:er&&er[e]?er[e][t]?"bdgtselectcty showbdgtpane":"bdgtselectcty hidebdgtpane":""},l.a.createElement("h4",null,"Select countries to add in ",t),l.a.createElement("div",{className:"bdgtselectctycty"},nr&&nr[t]?nr[t][0].map(function(t){return l.a.createElement("div",{className:"addctyrow"},l.a.createElement("input",{type:"checkbox",name:t.countryID,value:e,onClick:function(a){a.target.checked&&Na?ja(Object(c.a)({},Na,Object(u.a)({},e,Object(c.a)({},Na[e],Object(u.a)({},t.countryID,t.country))))):ja(function(a){var r=Object(c.a)({},a);return delete r[e][t.countryID],r})}}),l.a.createElement("label",{for:t.countryID},t.country))}):""),l.a.createElement("div",{className:"addprodcanceladd"},l.a.createElement("button",{className:"cancelprodbutton",onClick:function(a){tr(Object(c.a)({},er,Object(u.a)({},e,Object(c.a)({},er[e],Object(u.a)({},t,!er[e][t])))))}},"Cancel"),l.a.createElement("button",{className:"addprodbutton",onClick:function(t){wa(e)}},"Confirm")))),l.a.createElement("td",{className:"bdgtregioncolttl"},g),l.a.createElement("td",{className:"bdgtregioncolttl"},b),l.a.createElement("td",{className:"bdgtregioncolttl"},y),l.a.createElement("td",{className:"bdgtregioncolttl"},v),l.a.createElement("td",{className:"bdgtregioncolttl"},g+b+y+v),l.a.createElement("td",{className:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgtregioncolttl"},"$"+N.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgtregioncolttl"},"$"+j.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgtregioncolttl"},"$"+(j*(g+b+y+v)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgtregioncolttl"},0===j||0===N?"0%":(j/N*100).toFixed(1)+"%")),Object.keys(ea[e][t]).map(function(a){var n=Va;return Va+=2,[l.a.createElement("tr",null,l.a.createElement("td",{className:"countrycol"},"Dominican Republic"===a?"Dom Rep":a),Object.keys(ea[e][t][a]).map(function(n){var o=Ja;return Ja+=1,[l.a.createElement("td",{className:"bdgtdatacol"},l.a.createElement("div",{className:"tile ".concat(de===o?"active":"")},l.a.createElement("input",{value:ea[e][t][a][n],onChange:function(r){!function(e,t,a,r,n){ta(Object(c.a)({},ea,Object(u.a)({},t,Object(c.a)({},ea[t],Object(u.a)({},a,Object(c.a)({},ea[t][a],Object(u.a)({},r,Object(c.a)({},ea[t][a][r],Object(u.a)({},n,Number(e.target.value))))))))))}(r,e,t,a,n)},className:"cell-input",onFocus:function(e){fe(o),e.target.select(),Xe(!0),rt(!1)},ref:function(e){return ke.current[o]=e},onBlur:function(c){!function(e,t,a,r,n,c){var o=Number(e.target.value);o!==Number(na[a][r][n][c])&&o!==Number(ia[a][r][n][c])&&p.a.post("/savebdgtqty",{newqty:o,entryID:Qt[t].budgetentryID}).then(function(e){Ue(e.data.msg),sa(ea),Qe(!$e)}),o===Number(na[a][r][n][c])&&Number(ia[a][r][n][c])!==Number(na[a][r][n][c])&&p.a.post("/savebdgtqty",{newqty:o,entryID:Qt[t].budgetentryID}).then(function(e){Ue(e.data.msg),sa(ea),Qe(!$e)})}(c,o,e,t,a,n),i(!r)}})))]}),l.a.createElement("td",{className:"bdgtcountrytotals"},ea[e][t][a][0]+ea[e][t][a][1]+ea[e][t][a][2]+ea[e][t][a][3]),l.a.createElement("td",{className:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgtctyeconomics"},l.a.createElement("input",{className:"cell-input",value:Aa&&Aa[e]&&Aa[e][t]&&Aa[e][t][a]&&null!==Aa[e][t][a].price?Aa[e][t][a].price:"na",onChange:function(r){Le(r,e,t,a,"price")},onFocus:function(e){ye(n),e.target.select(),Xe(!1),rt(!0),fe(-1)},ref:function(e){return Ie.current[n]=e},onBlur:function(n){ze(n,0,e,t,a,"price"),i(!r)}})),l.a.createElement("td",{className:"bdgtctyeconomics"},l.a.createElement("input",{className:"cell-input",value:Aa&&Aa[e]&&Aa[e][t]&&Aa[e][t][a]&&null!==Aa[e][t][a].profit?Aa[e][t][a].profit:"na",onChange:function(r){Le(r,e,t,a,"profit")},onFocus:function(e){ye(n+1),e.target.select(),Xe(!1),rt(!0),fe(-1)},ref:function(e){return Ie.current[n+1]=e},onBlur:function(n){ze(n,0,e,t,a,"profit"),i(!r)}})),l.a.createElement("td",{className:"bdgtctyeconomics"},Aa&&ea&&Aa[e]&&ea[e]&&Aa[e][t]&&ea[e][t]&&Aa[e][t][a]&&ea[e][t][a]&&null!==Aa[e][t][a].profit?(Aa[e][t][a].profit*(ea[e][t][a][0]+ea[e][t][a][1]+ea[e][t][a][2]+ea[e][t][a][3])).toFixed(0):0),l.a.createElement("td",{className:"bdgtctyeconomics"},Aa&&Aa[e]&&Aa[e][t]&&Aa[e][t][a]&&null!==Aa[e][t][a].profit&&0!==Aa[e][t][a].price?(Aa[e][t][a].profit/Aa[e][t][a].price*100).toFixed(1)+"%":"0%"),l.a.createElement(oe.a,{className:"bdgtctydelete",icon:le.g,onClick:function(r){Wt(Object(c.a)({},Yt,Object(u.a)({},e,Object(c.a)({},Yt[e],Object(u.a)({},t,Object(c.a)({},Yt[e][t],Object(u.a)({},a,!Yt[e][t][a])))))))}}),l.a.createElement("button",{className:Yt&&Yt[e]&&!0===Yt[e][t][a]?"bdgtctydeletebtn showbdgtpane":"bdgtctydeletebtn hidebdgtpane",onClick:function(t){var r,n;r=e,n=a,p.a.post("/bdgtdelctyrow",{pname:ga[r],countryid:pa[n],year:f}).then(function(e){Fa(!La)})}},"Delete"))]})]}),l.a.createElement("tr",null,l.a.createElement("td",{className:"bdgttotal"},"Total"),l.a.createElement("td",{className:"bdgttotalqty"},a),l.a.createElement("td",{className:"bdgttotalqty"},n),l.a.createElement("td",{className:"bdgttotalqty"},o),l.a.createElement("td",{className:"bdgttotalqty"},s),l.a.createElement("td",{className:"bdgttotalqty"},a+n+o+s),l.a.createElement("td",{class:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgttotalqty"},0===m||a+n+o+s===0?0:"$"+(m/(a+n+o+s)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgttotalqty"},0===d||a+n+o+s===0?0:"$"+(d/(a+n+o+s)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgttotalqty"},0===d?0:"$"+d.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgttotalqty"},0===d||0==m?0:(d/m*100).toFixed(1)+"%"))))))]}):""),l.a.createElement("span",{className:"bdgtresponsemsg",ref:e},We)),l.a.createElement("div",{className:"lyearfigures"},ea&&Qa?Object.keys(ea).map(function(e){var t=0,a=0,r=0;return[l.a.createElement("h3",null,f-1," ",e," Sales Figures"),l.a.createElement("table",{className:"lyeartable"},l.a.createElement("thead",{className:"lyearhead"},l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearcountrycol"},"Country"),l.a.createElement("td",{className:"lyeardatah"},"Qty"),l.a.createElement("td",{className:"lyeardatah"},"Price"),l.a.createElement("td",{className:"lyeardatah"},"Profit"))),l.a.createElement("tbody",null,Object.keys(ea[e]).map(function(n){var c=0,o=0,i=0;return Object.keys(ea[e][n]).forEach(function(t){Qa&&Qa[e]&&Qa[e][n]&&Qa[e][n][t]&&Qa[e][n][t].quantity&&Qa[e][n][t].avgprice&&Qa[e][n][t].avgprofit&&(c+=Qa[e][n][t].quantity,o+=Qa[e][n][t].quantity*Qa[e][n][t].avgprice,i+=Qa[e][n][t].quantity*Qa[e][n][t].avgprofit)}),[l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearregrow lyearcountrycol"},"Latin America"===n?"L. America":n),l.a.createElement("td",{className:"lyearregrowdata"},c),l.a.createElement("td",{className:"lyearregrowdata"},0===c?0:"$ "+(o/c).toFixed(0)),l.a.createElement("td",{className:"lyearregrowdata"},0===c?0:"$ "+(i/c).toFixed(0))),Object.keys(ea[e][n]).map(function(c){return Qa&&Qa[e]&&Qa[e][n]&&Qa[e][n][c]&&Qa[e][n][c].quantity&&(t+=Qa[e][n][c].quantity),Qa&&Qa[e]&&Qa[e][n]&&Qa[e][n][c]&&Qa[e][n][c].quantity&&Qa[e][n][c].avgprice&&(a+=Qa[e][n][c].avgprice*Qa[e][n][c].quantity),Qa&&Qa[e]&&Qa[e][n]&&Qa[e][n][c]&&Qa[e][n][c].quantity&&Qa[e][n][c].avgprofit&&(r+=Qa[e][n][c].avgprofit*Qa[e][n][c].quantity),[l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearcountrycol"},"Dominican Republic"===c?"Dom Rep":c),l.a.createElement("td",{className:"lyeardata"},Qa&&Qa[e]&&Qa[e][n]&&Qa[e][n][c]&&Qa[e][n][c].quantity?Qa[e][n][c].quantity:0),l.a.createElement("td",{className:"lyeardata"},Qa&&Qa[e]&&Qa[e][n]&&Qa[e][n][c]&&Qa[e][n][c].avgprice?"$ "+Qa[e][n][c].avgprice:0),l.a.createElement("td",{className:"lyeardata"},Qa&&Qa[e]&&Qa[e][n]&&Qa[e][n][c]&&Qa[e][n][c].avgprofit?"$ "+Qa[e][n][c].avgprofit:0))]})]}),l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearcountrycolttl"},"Total"),l.a.createElement("td",{className:"lyeardatattl"},t),l.a.createElement("td",{className:"lyeardatattl"},0===t?0:"$ "+(a/t).toFixed(0)),l.a.createElement("td",{className:"lyeardatattl"},0===t?0:"$ "+(r/t).toFixed(0)))))]}):""),l.a.createElement("div",{className:"budgetbyprod"},l.a.createElement("h4",null,"Budget Summary Figures 2023"),l.a.createElement("div",{className:"bdgtsummarybuttons1"},l.a.createElement("p",null,"Level 1:"),l.a.createElement("button",{onClick:function(e){br("region"),yt(1)},className:1===bt?"bdgtlvl1active":""},"Region"),l.a.createElement("button",{onClick:function(e){br("productGroup"),yt(2)},className:2===bt?"bdgtlvl1active":""},"Group"),l.a.createElement("button",{onClick:function(e){br("prodCatName"),yt(3)},className:3===bt?"bdgtlvl1active":""},"Category"),l.a.createElement("button",{onClick:function(e){br("abbreviation"),yt(4)},className:4===bt?"bdgtlvl1active":""},"Name"),l.a.createElement("button",{onClick:function(e){br("country"),yt(5)},className:5===bt?"bdgtlvl1active":""},"Country")),l.a.createElement("div",{className:"bdgtsummarybuttons2"},l.a.createElement("p",null,"Level 2:"),l.a.createElement("button",{onClick:function(e){Or("region"),Nt(1)},className:1===Ot?"bdgtlvl2active":""},"Region"),l.a.createElement("button",{onClick:function(e){Or("productGroup"),Nt(2)},className:2===Ot?"bdgtlvl2active":""},"Group"),l.a.createElement("button",{onClick:function(e){Or("prodCatName"),Nt(3)},className:3===Ot?"bdgtlvl2active":""},"Category"),l.a.createElement("button",{onClick:function(e){Or("abbreviation"),Nt(4)},className:4===Ot?"bdgtlvl2active":""},"Name"),l.a.createElement("button",{onClick:function(e){Or("country"),Nt(5)},className:5===Ot?"bdgtlvl2active":""},"Country")),l.a.createElement("div",{className:"bdgtsummarybuttons"},l.a.createElement("p",null,"Show:"),l.a.createElement("button",{onClick:function(e){xr("quantity"),St(1)},className:1===xt?"bdgtlvl3active":""},"Quantity (mt)"),l.a.createElement("button",{onClick:function(e){xr("profit"),St(2)},className:2===xt?"bdgtlvl3active":""},"Profit ($)")),l.a.createElement("ul",{className:"bdgtsummarytable"},l.a.createElement("li",{className:"stblrow stblheader"},l.a.createElement("p",{className:"stblcollarge"},"Country"),l.a.createElement("p",{className:"stblfig"},"Q1"),l.a.createElement("p",{className:"stblfig"},"Q2"),l.a.createElement("p",{className:"stblfig"},"Q3"),l.a.createElement("p",{className:"stblfig"},"Q4"),l.a.createElement("p",{className:"stblfig"},"Total")),l.a.createElement("div",{className:"bdgtsummarydata"},Ke?Object.entries(Ke.groupBy(gr)).map(function(e,t){var a=0,r=0,n=0,c=0;return e[1].forEach(function(e){1===e.quarter&&(a+=e[wr]),2===e.quarter&&(r+=e[wr]),3===e.quarter&&(n+=e[wr]),4===e.quarter&&(c+=e[wr])}),[l.a.createElement(ie.a,{className:"bdgtacc",allowZeroExpanded:!0},l.a.createElement(ie.b,{style:{border:"none"}},l.a.createElement(ie.d,null,l.a.createElement(ie.c,{className:"bsummaccordion_button"},l.a.createElement("li",{className:"stblrow"},l.a.createElement("p",{className:"stblcollarge"},"Latin America"===e[0]?"L. America":"Dominican Republic"===e[0]?"Dom Rep":e[0]),l.a.createElement("p",{className:"stblfig"},"quantity"===wr?a.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$"+a.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("p",{className:"stblfig"},"quantity"===wr?r.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+r.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("p",{className:"stblfig"},"quantity"===wr?n.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+n.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("p",{className:"stblfig"},"quantity"===wr?c.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+c.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===wr?(a+r+n+c).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+(a+r+n+c).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","))))),l.a.createElement(ie.e,{className:"bdgtaccpanel"},Object.entries(e[1].groupBy(Er)).map(function(e){var t=0,a=0,r=0,n=0;return e[1].forEach(function(e){1===e.quarter&&(t+=e[wr],Sr+=e[wr]),2===e.quarter&&(a+=e[wr],Cr+=e[wr]),3===e.quarter&&(r+=e[wr],Dr+=e[wr]),4===e.quarter&&(n+=e[wr],kr+=e[wr])}),l.a.createElement("li",{className:"stblrow"},l.a.createElement("p",{className:"stblcollarge"},e[0]),l.a.createElement("p",{className:"stblfig"}," ","quantity"===wr?t.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+t.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("p",{className:"stblfig"}," ","quantity"===wr?a.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+a.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("p",{className:"stblfig"},"quantity"===wr?r.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+r.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("p",{className:"stblfig"},"quantity"===wr?n.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+n.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===wr?(t+a+r+n).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+(t+a+r+n).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")))}))))]}):"",l.a.createElement("li",{className:"stblrow stblfooter"},l.a.createElement("p",{className:"stblcollarge  stbltotal"},"TOTAL"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===wr?Sr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Sr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===wr?Cr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Cr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===wr?Dr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Dr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===wr?kr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+kr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===wr?(Sr+Cr+Dr+kr).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+(Sr+Cr+Dr+kr).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","))))))))},fe=function(){return l.a.createElement("div",{className:"budgetcontainer"},l.a.createElement("div",{className:"budgetnav"},l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/budget/budget2023",exact:!0},"2023")),l.a.createElement("div",{className:"gridcontainer budgetgridcontainer"},l.a.createElement(s.a,{path:"/budget/budget2023"},l.a.createElement(de,null))))};a.d(t,"a",function(){return he});var he=Object(o.createContext)(),ge={isAuthenticated:JSON.parse(localStorage.getItem("isAuthenticated"))||!1,user:JSON.parse(localStorage.getItem("user"))||null,accesstoken:null,refreshtoken:JSON.parse(localStorage.getItem("refreshtoken"))||null},be=function(e,t){switch(t.type){case"LOGIN":return localStorage.setItem("user",JSON.stringify(t.payload.user)),localStorage.setItem("WGusercode",JSON.stringify(t.payload.usercode)),localStorage.setItem("WGuserID",JSON.stringify(t.payload.userID)),localStorage.setItem("refreshtoken",JSON.stringify(t.payload.refreshtoken)),localStorage.setItem("accesstoken",JSON.stringify(t.payload.accesstoken)),localStorage.setItem("isAuthenticated",!0),localStorage.setItem("role",t.payload.role),Object(c.a)({},e,{isAuthenticated:!0,user:t.payload.user,usercode:t.payload.usercode,refreshtoken:t.payload.refreshtoken,accesstoken:t.payload.accesstoken});case"LOGOUT":return localStorage.removeItem("user"),localStorage.removeItem("WGusercode"),localStorage.removeItem("WGuserID"),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("refreshtoken"),localStorage.removeItem("accesstoken"),localStorage.removeItem("role"),localStorage.removeItem("rgl-mgmt"),Object(c.a)({},e,{isAuthenticated:!1,user:null});default:return}};t.b=function(){var e=Object(o.useReducer)(be,ge),t=Object(n.a)(e,2),a=t[0],r=t[1];return l.a.createElement(re.b,null,l.a.createElement(x.b,null,l.a.createElement(he.Provider,{value:{state:a,dispatch:r}},l.a.createElement("div",{className:"App"},a.isAuthenticated?l.a.createElement(l.a.Fragment,null,l.a.createElement(N,null),l.a.createElement(i.a,null,l.a.createElement(w,null),l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/"},l.a.createElement(j.a,null)),l.a.createElement(s.a,{path:"/sales"},l.a.createElement(v.a,null)),l.a.createElement(s.a,{path:"/management"},l.a.createElement(P,null)),l.a.createElement(s.a,{path:"/admin"},l.a.createElement(V,null)),l.a.createElement(s.a,{path:"/analysis"},l.a.createElement(Z.a,null)),l.a.createElement(s.a,{path:"/logistics"},l.a.createElement(te.b,null,l.a.createElement(ae,null))),l.a.createElement(s.a,{path:"/budget"},l.a.createElement(fe,null))))):l.a.createElement(y,null)))))}},704:function(e,t,a){},706:function(e,t,a){},708:function(e,t,a){},710:function(e,t,a){},712:function(e,t,a){},714:function(e,t,a){},716:function(e,t,a){},718:function(e,t,a){},722:function(e,t,a){},724:function(e,t,a){},730:function(e,t){},732:function(e,t,a){"use strict";var r=a(4),n=a(1),c=a(8),o=a(55),l=a(2),i=a(0),s=a.n(i),u=(a(372),a(12)),m=a.n(u),p=a(84),d=a(6),f=a.n(d),h=a(21),g=a(90),b=a(25);a(293);a.p;a.p,a(290);var y=a(24),v=a(18),E=a(287);function O(){O=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(){var e=Object(i.useContext)(h.a).toggleQSrefresh,t=Object(i.useContext)(g.a),a=t.QStoload,u=t.setLoaduser,d=t.loaduser,N=t.diffQS,j=t.duplicateBoolean,w=t.fromdropdown,x=t.setFromdropdown,S=Object(i.useRef)(null),C=Object(i.useState)(!1),D=Object(l.a)(C,2),k=D[0],I=D[1],L=function(){Qa("")};Object(i.useEffect)(function(){var e=S.current;E.a.fromTo(e,{opacity:1},{opacity:0,duration:2.5,ease:"power1.inOut",onComplete:L})},[k]);var F={KTP:"",KTS:"",saleType:"",QSDate:m()().format("yyyy-MM-DD"),QSID:"",abbreviation:"",supplier:"",customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGuserID")),traffic:"",incoterms:"",CADintrate:.07,CADdays:10,paymentTerm:"",shipmentType:1,freightTotal:0,shippingline:"",payload:0,totalinspection:0,quantity:0,materialcost:0,pcommission:0,pfinancecost:0,sfinancecost:0,materialvalue:0,generalduty:0,additionalduty:0,totalduty:0,dutyfee:0,harborfeepct:0,harborfee:0,merchprocfeepct:0,merchprocfee:0,cflatfee:0,tsca:0,isf:0,totalcentryfee:0,centryfeepmt:0,inboundpmt:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,totalinbound:0,freightpmt:0,insurance:0,insurancerate:7e-4,insurancefactor:1.1,inspectionpmt:0,scommission:0,interestcost:0,warehouse:"",storagepmt:0,whentry:"",whexit:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:0,legal:1,pallets:0,other:0,totalcost:1,interestrate:0,interestdays:0,pricebeforeint:0,salesinterest:0,priceafterint:0,profit:0,margin:0,turnover:0,pctmargin:0,netback:0,saleComplete:0,finalComplete:0,outboundpmt:0,loading:0,bolcharges:0,outboundothers:0,totaloutbound:0},P={KTP:"",KTS:"",saleType:"",QSDate:m()().format("yyyy-MM-DD"),QSID:"",abbreviation:"",supplier:"",customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGusercode")),traffic:"",incoterms:"",CADintrate:"7.00%",CADdays:"10",paymentTerm:"",shipmentType:"Container",freightTotal:"$ 0.00",shippingline:"",payload:"0.00",totalinspection:"$ 0.00",quantity:"",materialcost:"$ 0.00",pcommission:"$ 0.00",pfinancecost:"$ 0.00",sfinancecost:"$ 0.00",materialvalue:"$ 0,00",generalduty:"0.00%",additionalduty:"0.00%",totalduty:"0.00%",dutyfee:"$ 0.00",harborfeepct:"0.00%",harborfee:"$ 0.00",merchprocfeepct:"0.00%",merchprocfee:"$ 0.00",cflatfee:"$ 0.00",tsca:"$ 0.00",isf:"$ 0.00",totalcentryfee:"$ 0.00",centryfeepmt:"$ 0.00",inboundpmt:"$ 0.00",drayage:"$ 0.00",unloading:"$ 0.00",collectcharges:"$ 0.00",inboundothers:"$ 0.00",totalinbound:"$ 0.00",freightpmt:"$ 0.00",insurance:"$ 0.00",insurancerate:"0.07%",insurancefactor:"1.10",inspectionpmt:"$ 0.00",scommission:"$ 0.00",interestcost:"$ 0.00",warehouse:"",storagepmt:"$ 0.00",whentry:"",whexit:"",storagefixed:"$ 0.00",storagevariable:"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:"",legal:"$ 1.00",pallets:"$ 0.00",other:"$ 0.00",totalcost:"$ 1.00",interestrate:"0.00%",interestdays:"0",pricebeforeint:"$ 0.00",salesinterest:"$ 0.00",priceafterint:"$ 0.00",profit:"$ 0.00",margin:"$ 0.00",turnover:"$ 0.00",pctmargin:"0.00%",netback:"$ 0.00",saleComplete:"indication",finalComplete:"in progress",outboundpmt:"$ 0.00",loading:"$ 0.00",bolcharges:"$ 0.00",outboundothers:"$ 0.00",totaloutbound:"$ 0.00"},$=Object(i.useState)(F),Q=Object(l.a)($,2),T=Q[0],q=Q[1],B=Object(i.useState)(P),A=Object(l.a)(B,2),G=A[0],_=A[1],K=Object(i.useState)(),R=Object(l.a)(K,2),M=R[0],Y=R[1],W=Object(i.useState)(),U=Object(l.a)(W,2),z=U[0],H=U[1],J=Object(i.useState)(!1),V=Object(l.a)(J,2),Z=V[0],X=V[1],ee=Object(i.useState)(!1),te=Object(l.a)(ee,2),ae=te[0],re=te[1],ne=Object(i.useState)(!1),ce=Object(l.a)(ne,2),oe=ce[0],le=ce[1],ie=Object(i.useState)(!1),se=Object(l.a)(ie,2),ue=se[0],me=se[1],pe=Object(i.useState)(!1),de=Object(l.a)(pe,2),fe=de[0],he=de[1],ge=Object(i.useState)([]),be=Object(l.a)(ge,2),ye=be[0],ve=be[1],Ee=Object(i.useState)(),Oe=Object(l.a)(Ee,2),Ne=Oe[0],je=Oe[1],we=Object(i.useState)(),xe=Object(l.a)(we,2),Se=(xe[0],xe[1]),Ce=Object(i.useState)(),De=Object(l.a)(Ce,2),ke=De[0],Ie=De[1],Le=Object(i.useState)(""),Fe=Object(l.a)(Le,2),Pe=Fe[0],$e=Fe[1],Qe=Object(i.useState)(!1),Te=Object(l.a)(Qe,2),qe=Te[0],Be=Te[1],Ae=Object(i.useState)(),Ge=Object(l.a)(Ae,2),_e=Ge[0],Ke=Ge[1],Re=Object(i.useState)(!1),Me=Object(l.a)(Re,2),Ye=Me[0],We=Me[1],Ue=Object(i.useState)(!0),ze=Object(l.a)(Ue,2),He=ze[0],Je=ze[1],Ve=Object(i.useState)({}),Ze=Object(l.a)(Ve,2),Xe=Ze[0],et=Ze[1],tt=Object(i.useState)({}),at=Object(l.a)(tt,2),rt=at[0],nt=at[1],ct=Object(i.useState)(!1),ot=Object(l.a)(ct,2),lt=ot[0],it=ot[1],st=Object(i.useState)({}),ut=Object(l.a)(st,2),mt=(ut[0],ut[1],Object(i.useState)(!1)),pt=Object(l.a)(mt,2),dt=pt[0],ft=pt[1],ht=Object(i.useState)(!1),gt=Object(l.a)(ht,2),bt=gt[0],yt=gt[1],vt=Object(i.useState)(!1),Et=Object(l.a)(vt,2),Ot=Et[0],Nt=Et[1],jt=Object(i.useState)(!1),wt=Object(l.a)(jt,2),xt=wt[0],St=wt[1],Ct=Object(i.useState)(!1),Dt=Object(l.a)(Ct,2),kt=Dt[0],It=Dt[1],Lt=Object(i.useState)(!1),Ft=Object(l.a)(Lt,2),Pt=Ft[0],$t=Ft[1],Qt=Object(i.useState)(!1),Tt=Object(l.a)(Qt,2),qt=Tt[0],Bt=Tt[1],At=Object(i.useState)(),Gt=Object(l.a)(At,2),_t=Gt[0],Kt=Gt[1],Rt=Object(i.useState)(),Mt=Object(l.a)(Rt,2),Yt=Mt[0],Wt=Mt[1],Ut=Object(i.useState)(JSON.parse(localStorage.getItem("WGusercode"))),zt=Object(l.a)(Ut,2);zt[0],zt[1];Object(i.useEffect)(function(){a||f.a.post("/warehouses").then(function(e){Kt(e.data)})},[]);var Ht=Object(i.useState)(),Jt=Object(l.a)(Ht,2),Vt=Jt[0],Zt=Jt[1];Object(i.useEffect)(function(){f.a.post("/traders").then(function(e){Zt(e.data)})},[]);var Xt=function(e){return new Promise(function(t,a){Kt(e),t()})};Object(i.useEffect)(function(){},[]),Object(i.useEffect)(function(){a||f.a.post("/QSIDList",{user:d}).then(function(e){var t=function(e){return new Promise(function(t,a){var r=Object(o.a)(new Set(e.data.map(function(e){return e.QSID})));ve(r),t()})};!function(){var a=Object(c.a)(O().mark(function a(){return O().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(e);case 2:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}()()}),a&&f.a.post("/warehouses").then(function(){var e=Object(c.a)(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Xt(t.data).then(function(){f.a.post("/QSIDList",{user:d}).then(function(e){var t;(t=e,new Promise(function(e,a){var r=Object(o.a)(new Set(t.data.map(function(e){return e.QSID})));ve(r),e(r)})).then(function(e){!1===w&&(Ie(e.indexOf(a)),je(a)),!0===w&&(Ie(e.length),je(""),x(!1))})})});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},[fe,d,j]),Object(i.useEffect)(function(){a||Ie(ye.length)},[ye]),Object(i.useEffect)(function(){ke===ye.length?(Je(!1),re(!1),me(!1),le(!1)):Je(!0)},[ke]),Object(i.useEffect)(function(){ye.includes(a)&&(!0===lt&&ba(G,Xe,"enter",a),!1===lt&&(Ie(ye.indexOf(a)),je(a)))},[a,N]);var ea=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return t+" "+e.toFixed(a).replace(/\B(?=(\d{3})+(?!\d))/g,",")},ta=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$";return Number(e.replace(t,"").replace(",",""))},aa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u20ac",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"$",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;return a+" "+(Number(e.replace(r,"").replace(",",""))/t).toFixed(n).replace(/\B(?=(\d{3})+(?!\d))/g,",")},ra=function(e,t,a){return new Promise(function(r,n){r(e&&t&&a?e*t*a:0)})},na=function(e,t,a,r,n,c,o,l,i,s,u,m,p,d,f,h){return new Promise(function(g,b){g(e+t+a+r+n+c+o+l+i+s+u+m+p+d+f+h)})},ca=function(e,t){return new Promise(function(a,r){a(e+t)})},oa=function(e,t){return new Promise(function(a,r){a(e*t)})},la=function(e,t){return new Promise(function(a,r){a(e+t)})},ia=function(e,t){return new Promise(function(a,r){a(e*t)})},sa=function(e,t){return new Promise(function(a,r){a(e*t)})},ua=function(e,t){return new Promise(function(a,r){a(e*t)})},ma=function(e,t,a,r,n,c){return new Promise(function(o,l){o(e+t+a+r+n+c)})},pa=function(e,t){return new Promise(function(a,r){a(e/t)})},da=function(e,t,a,r){return new Promise(function(n,c){n(e+t+a+r)})},fa=function(e,t){return new Promise(function(a,r){a(t?e/t:0)})},ha=function(e,t,a){return new Promise(function(r,n){r(e+t+a)})},ga=function(e,t){return new Promise(function(a,r){a(t?e/t:0)})};Object(i.useEffect)(function(){ke<ye.length&&f.a.post("/loadQStoedit",{id:ye[ke]}).then(function(e){var t=e.data[0],a=function(e){return new Promise(function(t,a){e.exchRate&&(Ke(Number(e.exchRate)),t(Number(e.exchRate))),e.exchRate||(Ke(Number(e.exchRate)),t(1))})},r=function(e){return new Promise(function(t,a){e.exchRate&&t(!0),!e.exchRate&&qe&&(Be(!1),Ke(Number(e.exchRate)),Object(b.confirmAlert)({title:"Back to $ dollars!",message:"This QS does not have an Exchange Rate defined. Reverting back to $ dollar currency",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0}),t(!1)),e.exchRate||qe||(Ke(Number(e.exchRate)),t(!1))})};!function(){var e=Object(c.a)(O().mark(function e(t){var c,o,l,i,s,u,m,p,d,h,g,b,y,v;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t);case 2:return c=e.sent,e.next=5,a(t);case 5:return o=e.sent,e.next=8,new Promise(function(e,t){ft(!0),e()});case 8:if(!t.KTP||3!==t.saleTypeID){e.next=13;break}return e.next=11,f.a.post("/loadusposition",{WGS:t.KTP});case 11:l=e.sent,Wt(l.data[0]);case 13:return e.next=15,oa(Number(t.materialcost.replace("$","").replace(",","")),Number(t.quantity));case 15:if(i=e.sent,!t.generalduty||!t.additionalduty){e.next=22;break}return e.next=19,la(Number(t.generalduty.replace("%","")),Number(t.additionalduty.replace("%","")));case 19:e.t0=e.sent,e.next=23;break;case 22:e.t0=0;case 23:return s=e.t0,e.next=26,ia(i,s/100);case 26:if(u=e.sent,!t.harborfeepct){e.next=33;break}return e.next=30,sa(i,Number(t.harborfeepct.replace("%","")/100));case 30:e.t1=e.sent,e.next=34;break;case 33:e.t1=0;case 34:if(m=e.t1,!t.merchprocfeepct){e.next=41;break}return e.next=38,ua(i,Number(t.merchprocfeepct.replace("%","")/100));case 38:e.t2=e.sent,e.next=42;break;case 41:e.t2=0;case 42:return p=e.t2,e.next=45,ma(u||0,m||0,p||0,t.cflatfee?ta(t.cflatfee,"$"):0,t.tsca?ta(t.tsca,"$"):0,t.isf?ta(t.isf,"$"):0);case 45:if(d=e.sent,!t.quantity){e.next=52;break}return e.next=49,pa(d,t.quantity);case 49:e.t3=e.sent,e.next=53;break;case 52:e.t3=0;case 53:return h=e.t3,e.next=56,da(t.drayage?ta(t.drayage):0,t.unloading?ta(t.unloading):0,t.collectcharges?ta(t.collectcharges):0,t.inboundothers?ta(t.inboundothers):0);case 56:if(g=e.sent,!t.payload){e.next=63;break}return e.next=60,fa(g,t.payload);case 60:e.t4=e.sent,e.next=64;break;case 63:e.t4=0;case 64:return b=e.t4,e.next=67,ha(t.loading?ta(t.loading):0,t.bolcharges?ta(t.bolcharges):0,t.outboundothers?ta(t.outboundothers):0);case 67:return y=e.sent,e.next=70,ga(y,t.payload);case 70:return v=e.sent,_(Object(n.a)({},G,{warehouse:t.warehouseID?_t[t.warehouseID-1].warehouseName:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagepmt:c&&qe&&t.storagepmt?aa(t.storagepmt,o):c&&qe&&!t.storagepmt?"\u20ac 0.00":t.storagepmt,storagefixed:c&&qe&&t.storagefixed?aa(t.storagefixed,o):c&&qe&&!t.storagefixed?"\u20ac 0.00":t.storagefixed,storagevariable:c&&qe&&t.storagevariable?aa(t.storagevariable,o):c&&qe&&!t.storagevariable?"\u20ac 0.00":t.storagevariable,stggraceperiod:t.stggraceperiod?t.stggraceperiod:"0",stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:"0",quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleType,QSID:t.QSID,abbreviation:t.abbreviation,supplier:t.supplier,customer:t.customer,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POL,POD:t.POD,saleComplete:-1===t.saleComplete?"sold":0===t.saleComplete?"indication":1===t.saleComplete?"US Allocation":"",finalComplete:1===t.finalComplete?"finalized":"in progress",TIC:t.trader,traffic:t.traffic,incoterms:t.incoterms,paymentTerm:t.paymentTerm,CADintrate:t.includedrate,insurancerate:t.insurancerate,insurancefactor:t.insurancefactor.toFixed(2),CADdays:t.includedperiod,shipmentType:t.shipmentType?t.shipmentType:"Container",freightTotal:c&&qe&&t.freightTotal?aa(t.freightTotal,o):c&&qe&&!t.freightTotal?"\u20ac 0.00":t.freightTotal,shippingline:t.shippingline,payload:t.payload,totalinspection:c&&qe&&t.totalinspection?aa(t.totalinspection,o):c&&qe&&!t.totalinspection?"\u20ac 0.00":t.totalinspection,quantity:t.quantity,materialcost:c&&qe&&t.materialcost?aa(t.materialcost,o):c&&qe&&!t.materialcost?"\u20ac 0.00":t.materialcost,materialvalue:c&&qe&&i?aa(i.toFixed(2),o):c&&qe&&!i?"\u20ac 0.00":ea(i,"$",2),generalduty:t.generalduty?t.generalduty:"0.00%",additionalduty:t.additionalduty?t.additionalduty:"0.00%",totalduty:s?s+"%":"0.00%",dutyfee:c&&qe&&u?aa(u.toFixed(2),o):c&&qe&&!u?"\u20ac 0.00":ea(u,"$",2),harborfeepct:t.harborfeepct?t.harborfeepct:"0.00%",harborfee:c&&qe&&m?aa(m.toFixed(2),o):c&&qe&&!m?"\u20ac 0.00":ea(m,"$",2),merchprocfeepct:t.merchprocfeepct?t.merchprocfeepct:"0.00%",merchprocfee:c&&qe&&p?aa(p.toFixed(2),o):c&&qe&&!p?"\u20ac 0.00":ea(p,"$",2),cflatfee:c&&qe&&t.cflatfee?aa(t.cflatfee,o):c&&qe&&!t.cflatfee?"\u20ac 0.00":t.cflatfee,tsca:c&&qe&&t.tsca?aa(t.tsca,o):c&&qe&&!t.tsca?"\u20ac 0.00":t.tsca,isf:c&&qe&&t.isf?aa(t.isf,o):c&&qe&&!t.isf?"\u20ac 0.00":t.isf,totalcentryfee:c&&qe&&d?aa(d.toFixed(2),o):c&&qe&&!d?"\u20ac 0.00":ea(d,"$",2),centryfeepmt:c&&qe&&h?aa(h.toFixed(2),o):c&&qe&&!h?"\u20ac 0.00":ea(h,"$",2),drayage:c&&qe&&t.drayage?aa(t.drayage,o):c&&qe&&!t.drayage?"\u20ac 0.00":t.drayage,unloading:c&&qe&&t.unloading?aa(t.unloading,o):c&&qe&&!t.unloading?"\u20ac 0.00":t.unloading,collectcharges:c&&qe&&t.collectcharges?aa(t.collectcharges,o):c&&qe&&!t.collectcharges?"\u20ac 0.00":t.collectcharges,inboundothers:c&&qe&&t.inboundothers?aa(t.inboundothers,o):c&&qe&&!t.inboundothers?"\u20ac 0.00":t.inboundothers,totalinbound:c&&qe&&g?aa(g.toFixed(2),o):c&&qe&&!g?"\u20ac 0.00":ea(g,"$",2),inboundpmt:c&&qe&&b?aa(b.toFixed(2),o):c&&qe&&!b?"\u20ac 0.00":ea(b,"$",2),loading:c&&qe&&t.loading?aa(t.loading,o):c&&qe&&!t.loading?"\u20ac 0.00":t.loading,bolcharges:c&&qe&&t.bolcharges?aa(t.bolcharges,o):c&&qe&&!t.bolcharges?"\u20ac 0.00":t.bolcharges,outboundothers:c&&qe&&t.outboundothers?aa(t.outboundothers,o):c&&qe&&!t.outboundothers?"\u20ac 0.00":t.outboundothers,totaloutbound:c&&qe&&y?aa(y.toFixed(2),o):c&&qe&&!y?"\u20ac 0.00":ea(y,"$",2),outboundpmt:c&&qe&&v?aa(v.toFixed(2),o):c&&qe&&!v?"\u20ac 0.00":ea(v,"$",2),pcommission:c&&qe&&t.pcommission?aa(t.pcommission,o):c&&qe&&!t.pcommission?"\u20ac 0.00":t.pcommission,pfinancecost:c&&qe&&t.pfinancecost?aa(t.pfinancecost,o):c&&qe&&!t.pfinancecost?"\u20ac 0.00":t.pfinancecost,sfinancecost:c&&qe&&t.sfinancecost?aa(t.sfinancecost,o):c&&qe&&!t.sfinancecost?"\u20ac 0.00":t.sfinancecost,freightpmt:c&&qe&&t.freightpmt?aa(t.freightpmt,o):c&&qe&&!t.freightpmt?"\u20ac 0.00":t.freightpmt,insurance:c&&qe&&t.insurance?aa(t.insurance,o):c&&qe&&!t.insurance?"\u20ac 0.00":t.insurance,inspectionpmt:c&&qe&&t.inspectionpmt?aa(t.inspectionpmt,o):c&&qe&&!t.inspectionpmt?"\u20ac 0.00":t.inspectionpmt,scommission:c&&qe&&t.scommission?aa(t.scommission,o):c&&qe&&!t.scommission?"\u20ac 0.00":t.scommission,interestcost:c&&qe&&t.interestcost?aa(t.interestcost,o):c&&qe&&!t.interestcost?"\u20ac 0.00":t.interestcost,legal:c&&qe&&t.legal?aa(t.legal,o):c&&qe&&!t.legal?"\u20ac 0.00":t.legal,pallets:c&&qe&&t.pallets?aa(t.pallets,o):c&&qe&&!t.pallets?"\u20ac 0.00":t.pallets,other:c&&qe&&t.other?aa(t.other,o):c&&qe&&!t.other?"\u20ac 0.00":t.other,totalcost:c&&qe&&t.totalcost?aa(t.totalcost,o):c&&qe&&!t.totalcost?"\u20ac 0.00":t.totalcost,interestrate:t.interestrate,interestdays:t.interestdays,pricebeforeint:c&&qe&&t.pricebeforeint?aa(t.pricebeforeint,o):c&&qe&&!t.pricebeforeint?"\u20ac 0.00":t.pricebeforeint,salesinterest:c&&qe&&t.salesinterest?aa(t.salesinterest,o):c&&qe&&!t.salesinterest?"\u20ac 0.00":t.salesinterest,priceafterint:c&&qe&&t.priceafterint?aa(t.priceafterint,o):c&&qe&&!t.priceafterint?"\u20ac 0.00":t.priceafterint,profit:c&&qe&&t.profit?aa(t.profit,o):c&&qe&&!t.pricebeforeint?"\u20ac 0.00":t.profit,margin:c&&qe&&t.margin?aa(t.margin,o):c&&qe&&!t.margin?"\u20ac 0.00":t.margin,turnover:c&&qe&&t.turnover?aa(t.turnover,o):c&&qe&&!t.turnover?"\u20ac 0.00":t.turnover,pctmargin:t.pctmargin?t.pctmargin:"0.00%",netback:c&&qe&&t.netback?aa(t.netback,o):c&&qe&&!t.netback?"\u20ac 0.00":t.netback})),q(Object(n.a)({},T,{warehouse:t.warehouseID?t.warehouseID:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagepmt:t.storagepmt?ta(t.storagepmt,"$"):0,storagefixed:t.storagefixed?ta(t.storagefixed,"$"):0,storagevariable:t.storagevariable?ta(t.storagevariable,"$"):0,stggraceperiod:t.stggraceperiod?t.stggraceperiod:0,stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:0,quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleTypeID,QSID:t.QSID,abbreviation:t.productID,supplier:t.supplierID,customer:t.customerID,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POLID,POD:t.PODID,saleComplete:t.saleComplete,finalComplete:t.finalComplete,TIC:t.traderID,traffic:t.trafficID,incoterms:t.incoterms,paymentTerm:t.pTermID,CADintrate:Number(t.includedrate.replace("%",""))/100,insurancerate:Number(t.insurancerate.replace("%",""))/100,insurancefactor:t.insurancefactor,CADdays:t.includedperiod,shipmentType:t.shipmentTypeID?t.shipmentTypeID:1,freightTotal:t.freightTotal?ta(t.freightTotal,"$"):0,shippingline:t.shippingline,payload:t.payload,totalinspection:t.totalinspection?ta(t.totalinspection,"$"):0,quantity:Number(t.quantity.replace(",","")),materialcost:t.materialcost?ta(t.materialcost,"$"):0,materialvalue:i||0,generalduty:t.generalduty?Number(t.generalduty.replace("%",""))/100:0,additionalduty:t.additionalduty?Number(t.additionalduty.replace("%",""))/100:0,totalduty:s?s/100:0,dutyfee:u||0,harborfeepct:t.harborfeepct?Number(t.harborfeepct.replace("%",""))/100:0,harborfee:m||0,merchprocfeepct:t.merchprocfeepct?Number(t.merchprocfeepct.replace("%",""))/100:0,merchprocfee:p||0,cflatfee:t.cflatfee?ta(t.cflatfee,"$"):0,tsca:t.tsca?ta(t.tsca,"$"):0,isf:t.isf?ta(t.isf,"$"):0,totalcentryfee:d||0,centryfeepmt:h||0,drayage:t.drayage?ta(t.drayage,"$"):0,unloading:t.unloading?ta(t.unloading,"$"):0,collectcharges:t.collectcharges?ta(t.collectcharges,"$"):0,inboundothers:t.inboundothers?ta(t.inboundothers,"$"):0,totalinbound:g||0,inboundpmt:b||0,loading:t.loading?ta(t.loading,"$"):0,bolcharges:t.bolcharges?ta(t.bolcharges,"$"):0,outboundothers:t.outboundothers?ta(t.outboundothers,"$"):0,totaloutbound:y||0,outboundpmt:v||0,pcommission:t.pcommission?ta(t.pcommission,"$"):0,pfinancecost:t.pfinancecost?ta(t.pfinancecost,"$"):0,sfinancecost:t.sfinancecost?ta(t.sfinancecost,"$"):0,freightpmt:t.freightpmt?ta(t.freightpmt,"$"):0,insurance:t.insurance?ta(t.insurance,"$"):0,inspectionpmt:t.inspectionpmt?ta(t.inspectionpmt,"$"):0,scommission:t.scommission?ta(t.scommission,"$"):0,interestcost:t.interestcost?ta(t.interestcost,"$"):0,legal:t.legal?ta(t.legal,"$"):0,pallets:t.pallets?ta(t.pallets,"$"):0,other:t.other?ta(t.other,"$"):0,totalcost:t.totalcost?ta(t.totalcost,"$"):0,interestrate:Number(t.interestrate.replace("%",""))/100,interestdays:t.interestdays,pricebeforeint:t.pricebeforeint?ta(t.pricebeforeint,"$"):0,salesinterest:t.salesinterest?ta(t.salesinterest,"$"):0,priceafterint:t.priceafterint?ta(t.priceafterint,"$"):0,profit:t.profit?ta(t.profit,"$"):0,margin:t.margin?ta(t.margin,"$"):0,turnover:t.turnover?ta(t.turnover,"$"):0,pctmargin:t.pctmargin?Number(t.pctmargin.replace("%",""))/100:0,netback:t.netback?ta(t.netback,"$"):0})),et(Object(n.a)({},Xe,{warehouse:t.warehouseID?_t[t.warehouseID-1].warehouseName:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagefixed:t.storagefixed?t.storagefixed:"$ 0.00",storagepmt:t.storagepmt?t.storagepmt:"$ 0.00",storagevariable:t.storagevariable?t.storagevariable:"$ 0.00",stggraceperiod:t.stggraceperiod?t.stggraceperiod:"0",stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:"0",quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleType,QSID:t.QSID,abbreviation:t.abbreviation,supplier:t.supplier,customer:t.customer,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POL,POD:t.POD,saleComplete:-1===t.saleComplete?"sold":0===t.saleComplete?"indication":1===t.saleComplete?"US Allocation":"",finalComplete:1===t.finalComplete?"finalized":"in progress",TIC:t.trader,traffic:t.traffic,incoterms:t.incoterms,paymentTerm:t.paymentTerm,CADintrate:t.includedrate,insurancerate:t.insurancerate,insurancefactor:t.insurancefactor.toFixed(2),CADdays:t.includedperiod,shipmentType:t.shipmentType,freightTotal:t.freightTotal?t.freightTotal:"",shippingline:t.shippingline,payload:t.payload,totalinspection:t.totalinspection?t.totalinspection:"",quantity:t.quantity,materialcost:t.materialcost?t.materialcost:"$ 0.00",materialvalue:i?ea(i):"$ 0.00",generalduty:t.generalduty?t.generalduty:"0.00%",additionalduty:t.additionalduty?t.additionalduty:"0.00%",totalduty:s?s+"%":"0.00%",dutyfee:u?ea(u):"$ 0.00",harborfeepct:t.harborfeepct?t.harborfeepct:"0.00%",harborfee:m?ea(m):"$ 0.00",merchprocfeepct:t.merchprocfeepct?t.merchprocfeepct:"0.00%",merchprocfee:p?ea(p):"$ 0.00",cflatfee:t.cflatfee?t.cflatfee:"$ 0.00",tsca:t.tsca?t.tsca:"$ 0.00",isf:t.isf?t.isf:"$ 0.00",totalcentryfee:d?ea(d):"$ 0.00",centryfeepmt:h?ea(h):"$ 0.00",drayage:t.drayage?t.drayage:"$ 0.00",unloading:t.unloading?t.unloading:"$ 0.00",collectcharges:t.collectcharges?t.collectcharges:"$ 0.00",inboundothers:t.inboundothers?t.inboundothers:"$ 0.00",totalinbound:g?ea(g):"$ 0.00",inboundpmt:b?ea(b):"$ 0.00",loading:t.loading?t.loading:"$ 0.00",bolcharges:t.bolcharges?t.bolcharges:"$ 0.00",outboundothers:t.outboundothers?t.outboundothers:"$ 0.00",totaloutbound:y?ea(y):"$ 0.00",outboundpmt:v?ea(v):"$ 0.00",pcommission:t.pcommission?t.pcommission:"$ 0.00",pfinancecost:t.pfinancecost?t.pfinancecost:"$ 0.00",sfinancecost:t.sfinancecost?t.sfinancecost:"$ 0.00",freightpmt:t.freightpmt?t.freightpmt:"$ 0.00",insurance:t.insurance?t.insurance:"$ 0.00",inspectionpmt:t.inspectionpmt?t.inspectionpmt:"$ 0.00",scommission:t.scommission?t.scommission:"$ 0.00",interestcost:t.interestcost?t.interestcost:"$ 0.00",legal:t.legal?t.legal:"$ 0.00",pallets:t.pallets?t.pallets:"$ 0.00",other:t.other?t.other:"$ 0.00",totalcost:t.totalcost?t.totalcost:"$ 0.00",interestrate:t.interestrate,interestdays:t.interestdays,pricebeforeint:t.pricebeforeint?t.pricebeforeint:"$ 0.00",salesinterest:t.salesinterest?t.salesinterest:"$ 0.00",priceafterint:t.priceafterint?t.priceafterint:"$ 0.00",profit:t.profit?t.profit:"$ 0.00",margin:t.margin?t.margin:"$ 0.00",turnover:t.turnover?t.turnover:"$ 0.00",pctmargin:t.pctmargin?t.pctmargin:"0.00%",netback:t.netback?t.netback:"$ 0.00"})),nt(Object(n.a)({},Xe,{warehouse:t.warehouseID?t.warehouseID:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagepmt:t.storagepmt?ta(t.storagepmt):0,storagefixed:t.storagefixed?ta(t.storagefixed):0,storagevariable:t.storagevariable?ta(t.storagevariable):0,stggraceperiod:t.stggraceperiod?t.stggraceperiod:0,stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:0,quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleTypeID,QSID:t.QSID,abbreviation:t.productID,supplier:t.supplierID,customer:t.customerID,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POLID,POD:t.PODID,saleComplete:t.saleComplete,finalComplete:t.finalComplete,TIC:t.traderID,traffic:t.trafficID,incoterms:t.incoterms,paymentTerm:t.pTermID,CADintrate:Number(t.includedrate.replace("%",""))/100,insurancerate:Number(t.insurancerate.replace("%",""))/100,insurancefactor:t.insurancefactor,CADdays:t.includedperiod,shipmentType:t.shipmentTypeID?t.shipmentTypeID:1,freightTotal:t.freightTotal?ta(t.freightTotal):0,shippingline:t.shippingline,payload:t.payload,totalinspection:t.totalinspection?ta(t.totalinspection):0,quantity:Number(t.quantity.replace(",","")),materialcost:t.materialcost?ta(t.materialcost):0,materialvalue:i||0,generalduty:t.generalduty?ta(t.generalduty,"%")/100:0,additionalduty:t.additionalduty?ta(t.additionalduty,"%")/100:0,totalduty:s?s/100:0,dutyfee:u||0,harborfeepct:t.harborfeepct?ta(t.harborfeepct,"%")/100:0,harborfee:m||0,merchprocfeepct:t.merchprocfeepct?ta(t.merchprocfeepct,"%")/100:0,merchprocfee:p||0,cflatfee:t.cflatfee?ta(t.cflatfee):0,tsca:t.tsca?ta(t.tsca):0,isf:t.isf?ta(t.isf):0,totalcentryfee:d||0,centryfeepmt:h||0,drayage:t.drayage?ta(t.drayage):0,unloading:t.unloading?ta(t.unloading):0,collectcharges:t.collectcharges?ta(t.collectcharges):0,inboundothers:t.inboundothers?ta(t.inboundothers):0,totalinbound:g||0,inboundpmt:b||0,loading:t.loading?ta(t.loading):0,bolcharges:t.bolcharges?ta(t.bolcharges):0,outboundothers:t.outboundothers?ta(t.outboundothers):0,totaloutbound:y||0,outboundpmt:v||0,pcommission:t.pcommission?ta(t.pcommission):0,pfinancecost:t.pfinancecost?ta(t.pfinancecost):0,sfinancecost:t.sfinancecost?ta(t.sfinancecost):0,freightpmt:t.freightpmt?ta(t.freightpmt):0,insurance:t.insurance?ta(t.insurance):0,inspectionpmt:t.inspectionpmt?ta(t.inspectionpmt):0,scommission:t.scommission?ta(t.scommission):0,interestcost:t.interestcost?ta(t.interestcost):0,legal:t.legal?ta(t.legal):0,pallets:t.pallets?ta(t.pallets):0,other:t.other?ta(t.other):0,interestrate:Number(t.interestrate.replace("%",""))/100,interestdays:t.interestdays,pricebeforeint:t.pricebeforeint?ta(t.pricebeforeint):0,salesinterest:t.salesinterest?ta(t.salesinterest):0,priceafterint:t.priceafterint?ta(t.priceafterint):0,profit:t.profit?ta(t.profit):0,margin:t.margin?ta(t.margin):0,turnover:t.turnover?ta(t.turnover):0,pctmargin:t.pctmargin?Number(t.pctmargin.replace("%",""))/100:0,netback:t.netback?ta(t.netback):0})),-1===t.saleComplete&&(re(!0),me(!1)),1===t.saleComplete&&(me(!0),re(!1)),0===t.saleComplete&&(re(!1),me(!1)),1===t.finalComplete&&le(!0),0===t.finalComplete&&le(!1),e.next=82,new Promise(function(e,t){ft(!1),e()});case 82:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(t)}),ke===ye.length&&(_(P),q(F),Ke(null)),it(!1)},[ke]);var ba=function(e,t,a,r){var n=[],c=[],o=[];for(var l in e)!1===qe&&e[l]!==t[l]&&(n.push(l),""===t[l]?c.push("(empty)"):c.push(t[l]),o.push(e[l])),!0===qe&&e[l]&&(e[l].toString().indexOf("\u20ac")>-1?ta(e[l],"\u20ac").toFixed(2)!==(ta(t[l],"$")/_e).toFixed(2)&&(n.push(l),""===t[l]?c.push("(empty)"):c.push(aa(t[l],_e,"\u20ac","$",2)),o.push(e[l])):e[l]!==t[l]&&(n.push(l),""===t[l]?c.push("(empty)"):c.push(t[l]),o.push(e[l])));!0===He&&0!==o.length&&Object(b.confirmAlert)({customUI:function(e){var t=e.onClose;return s.a.createElement("div",{className:"custom-ui"},s.a.createElement("h1",null,"Are you sure?"),s.a.createElement("p",{className:"confirmmsg"},"If you leave this QS now, the following unsaved edits will be lost. Click CONTINUE to leave the QS anyway OR click CANCEL to go back and avoid losing your edits."),s.a.createElement("ul",null,s.a.createElement("li",{className:"editsline editsheader"},s.a.createElement("p",null,"Item:"),s.a.createElement("p",{className:"editfig"},"Original:"),s.a.createElement("p",null,"Edit:")),n.map(function(e,t){return s.a.createElement("li",{className:"editsline"},s.a.createElement("p",{className:"edititem"},n[t]),s.a.createElement("p",{className:"editfig"},c[t]),s.a.createElement("p",{className:"editfig"},o[t]))})),s.a.createElement("button",{onClick:t},"Cancel"),s.a.createElement("button",{onClick:function(e){"prev"===a&&(Ie(ke-1),je(ye[ke-1]),Se(ye[ke-1]),$e(null)),"next"===a&&(Ie(ke<ye.length?ke+1:ye.length),je(ke<ye.length-1?ye[ke+1]:""),Se(ke<ye.length-1?ye[ke+1]:""),$e(null)),"enter"===a&&(Ie(ye.indexOf(r)),$e(""),je(r)),"new"===a&&(Ie(ye.length),je(""),Se(""),re(!1),me(!1),le(!1)),t()}},"Continue"))}}),!1===He&&Object(b.confirmAlert)({customUI:function(e){var t=e.onClose;return s.a.createElement("div",{className:"custom-ui"},s.a.createElement("h1",null,"Are you sure?"),s.a.createElement("p",{className:"confirmmsg"},"You have already added some data to this new QS. If you leave this QS now without saving, the inputed data will be lost. Click CONTINUE to leave the QS anyway OR click CANCEL to go back and avoid losing your added data."),s.a.createElement("button",{onClick:t},"Cancel"),s.a.createElement("button",{onClick:function(e){"prev"===a&&(Ie(ke-1),je(ye[ke-1]),Se(ye[ke-1]),$e(null)),"enter"===a&&(Ie(ye.indexOf(r)),$e("")),"new"===a&&(Ie(ye.length),je(""),Se(""),_a()),t()}},"Continue"))}})};Object(i.useEffect)(function(){ae&&(q(Object(n.a)({},T,{saleComplete:-1})),_(Object(n.a)({},G,{saleComplete:"sold"}))),ue&&(q(Object(n.a)({},T,{saleComplete:1})),_(Object(n.a)({},G,{saleComplete:"US Allocation"}))),!ae&!ue&&(q(Object(n.a)({},T,{saleComplete:0})),_(Object(n.a)({},G,{saleComplete:"indication"})))},[ae,ue]);var ya=function(e,t,a,c,o,l){var i,s;""===t&&""===c&&""===l?(q(Object(n.a)({},T,Object(r.a)({},a,e))),_(Object(n.a)({},G,Object(r.a)({},a,o)))):(q(Object(n.a)({},T,(i={},Object(r.a)(i,a,e),Object(r.a)(i,c,t),i))),_(Object(n.a)({},G,(s={},Object(r.a)(s,a,o),Object(r.a)(s,c,l),s))))},va=function(e){it(!0),q(Object(n.a)({},T,Object(r.a)({},e.target.name,e.target.value))),_(Object(n.a)({},G,Object(r.a)({},e.target.name,e.target.value)))},Ea=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;it(!0),!0===qe&&_e&&!1===Ye&&We(!0),(RegExp("^[0-9.,%]+$").test(e.target.value)||""===e.target.value)&&(e.target.value.toString().includes("%")?(q(Object(n.a)({},T,Object(r.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(t)/100))),_(Object(n.a)({},G,Object(r.a)({},e.target.name,e.target.value.replace("%",""))))):(q(Object(n.a)({},T,Object(r.a)({},e.target.name,Number(e.target.value).toFixed(t)/100))),_(Object(n.a)({},G,Object(r.a)({},e.target.name,e.target.value)))))},Oa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;_(Object(n.a)({},G,Object(r.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(t)+"%")))},Na=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;it(!0),!0===qe&&_e&&!1===Ye&&We(!0),(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&(q(Object(n.a)({},T,Object(r.a)({},e.target.name,Number(Number(e.target.value).toFixed(t))))),_(Object(n.a)({},G,Object(r.a)({},e.target.name,e.target.value))))},ja=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;_(Object(n.a)({},G,Object(r.a)({},e.target.name,Number(e.target.value.replace(",","")).toFixed(t).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""===e.target.value&&q(Object(n.a)({},T,Object(r.a)({},e.target.name,0)))},wa=function(e){it(!0),!1===qe&&(RegExp("^[ $0-9.]+$").test(e.target.value)||""===e.target.value)&&(q(Object(n.a)({},T,Object(r.a)({},e.target.name,Number(Number(e.target.value.replace("$","")).toFixed(2))))),_(Object(n.a)({},G,Object(r.a)({},e.target.name,e.target.value)))),!0===qe&&_e&&(Ye||We(!0),(RegExp("^[ \u20ac0-9.]+$").test(e.target.value)||""===e.target.value)&&(q(Object(n.a)({},T,Object(r.a)({},e.target.name,Number(Number(e.target.value.replace("\u20ac","")).toFixed(2))*_e))),_(Object(n.a)({},G,Object(r.a)({},e.target.name,e.target.value))))),!0!==qe||_e&&""!==_e||Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},xa=function(e){!1===qe&&(_(Object(n.a)({},G,Object(r.a)({},e.target.name,"$ "+Number(e.target.value.replace(",","").replace("$","")).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""!==e.target.value&&"$"!==e.target.value||q(Object(n.a)({},T,Object(r.a)({},e.target.name,0)))),!0===qe&&(_(Object(n.a)({},G,Object(r.a)({},e.target.name,"\u20ac "+Number(e.target.value.replace(",","").replace("\u20ac","")).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""!==e.target.value&&"\u20ac"!==e.target.value||q(Object(n.a)({},T,Object(r.a)({},e.target.name,0))))},Sa=function(e){e.preventDefault(),it(!0),(RegExp("^[0-9]+$").test(e.target.value)||""===e.target.value)&&(_(Object(n.a)({},G,Object(r.a)({},e.target.name,e.target.value))),q(Object(n.a)({},T,Object(r.a)({},e.target.name,e.target.value))))};Object(i.useEffect)(function(){if(G.from&&!G.to&&(_(Object(n.a)({},G,{to:G.from})),q(Object(n.a)({},T,{to:T.from}))),G.from&&G.to){var e=m()(G.from);m()(G.to).diff(e,"days")<0&&Object(b.confirmAlert)({title:"Check shipment dates",message:"Delivery date (to) cannot be earlier than shipment date (from)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})}},[G.from,G.to]);var Ca=function(e,t){return new Promise(function(a,r){a(e>0&&t>0?e/t:0)})},Da=function(e,t,a){return new Promise(function(r,n){r(e>0&&t>0&&a>0?e*t*a/360:0)})},ka=function(e,t){return new Promise(function(a,r){a(e>0&&t>0?e/t:0)})},Ia=function(){var e=Object(c.a)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,t){me(!1),e()});case 2:q(Object(n.a)({},T,{saleComplete:0,saleType:3,generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,warehouse:"",whentry:"",whexit:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:"",KTP:""})),_(Object(n.a)({},G,{saleComplete:"indication",saleType:"US Distribution",generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:qe?"\u20ac 0.00":"$ 0.00",tsca:qe?"\u20ac 0.00":"$ 0.00",isf:qe?"\u20ac 0.00":"$ 0.00",drayage:qe?"\u20ac 0.00":"$ 0.00",unloading:qe?"\u20ac 0.00":"$ 0.00",collectcharges:qe?"\u20ac 0.00":"$ 0.00",inboundothers:qe?"\u20ac 0.00":"$ 0.00",warehouse:"",whentry:"",whexit:"",storagefixed:qe?"\u20ac 0.00":"$ 0.00",storagevariable:qe?"\u20ac 0.00":"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:"",KTP:""}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)(function(){var e;e=T.incoterms,new Promise(function(t,a){"CPT"!==e&&"CFR"!==e||(q(Object(n.a)({},T,{insurancerate:7e-4})),_(Object(n.a)({},G,{insurancerate:"0.07%"}))),"DAP"===e&&(q(Object(n.a)({},T,{insurancerate:.0011})),_(Object(n.a)({},G,{insurancerate:"0.11%"}))),"CIP"!==e&&"CIF"!==e||(q(Object(n.a)({},T,{insurancerate:.0014,insurancefactor:1.1})),_(Object(n.a)({},G,{insurancerate:"0.14%",insurancefactor:"1.10"})))})},[T.incoterms]),Object(i.useEffect)(function(){!1===dt&&function(){var e=Object(c.a)(O().mark(function e(){var t,a,r,c,o,l,i,s,u,m,p,d,f,h,g,b,y,v,E,N,j;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0,3!==T.saleType){e.next=11;break}return e.next=4,qa(T.whentry?T.whentry:Yt.whentry,T.whexit?T.whexit:Yt.whentry);case 4:return a=e.sent,e.next=7,Ba(a,Yt.stggraceperiod);case 7:return r=e.sent,e.next=10,Aa(r,Yt.storagefixed,Yt.storagevariable,Yt.quantity,Yt.quantitypallets,Yt.stgaccrualperiod);case 10:t=e.sent;case 11:return e.next=13,Ca(T.freightTotal,T.payload);case 13:return c=e.sent,e.next=16,Da(T.CADintrate,T.CADdays,T.pricebeforeint);case 16:return o=e.sent,e.next=19,Da(T.interestrate,T.interestdays,T.pricebeforeint);case 19:return l=e.sent,e.next=22,ka(T.totalinspection,T.quantity);case 22:return i=e.sent,e.next=25,ra(T.pricebeforeint,T.insurancerate,T.insurancefactor);case 25:return s=e.sent,e.next=28,oa(T.materialcost,T.quantity);case 28:return u=e.sent,e.next=31,la(T.generalduty,T.additionalduty);case 31:return m=e.sent,e.next=34,ia(u,m);case 34:return p=e.sent,e.next=37,sa(u,T.harborfeepct);case 37:return d=e.sent,e.next=40,ua(u,T.merchprocfeepct);case 40:return f=e.sent,e.next=43,ma(p,d,f,T.cflatfee,T.tsca,T.isf);case 43:if(h=e.sent,!T.quantity){e.next=50;break}return e.next=47,pa(h,T.quantity);case 47:e.t0=e.sent,e.next=51;break;case 50:e.t0=0;case 51:return g=e.t0,e.next=54,da(T.drayage,T.unloading,T.collectcharges,T.inboundothers);case 54:if(b=e.sent,!T.payload){e.next=61;break}return e.next=58,fa(b,T.payload);case 58:e.t1=e.sent,e.next=62;break;case 61:e.t1=0;case 62:return y=e.t1,e.next=65,ha(T.loading,T.bolcharges,T.outboundothers);case 65:return v=e.sent,e.next=68,ga(v,T.payload);case 68:return E=e.sent,e.next=71,na(T.materialcost,g,y,E,T.pcommission,T.pfinancecost,T.sfinancecost,c,s,i,T.scommission,o,T.legal,T.pallets,T.other,T.storagepmt);case 71:return N=e.sent,e.next=74,ca(T.pricebeforeint,l);case 74:j=e.sent,q(Object(n.a)({},T,{freightpmt:c,insurance:s,inspectionpmt:i,interestcost:o,materialvalue:u,totalduty:m,dutyfee:p,harborfee:d,merchprocfee:f,totalcentryfee:h,centryfeepmt:g,totalinbound:b,totaloutbound:v,inboundpmt:y,outboundpmt:E,totalcost:N,salesinterest:l,priceafterint:j,storagepmt:t,profit:0!==T.quantity&&0!==T.pricebeforeint?Number((T.pricebeforeint-N).toFixed(4)):0,margin:0!==T.quantity&&0!==T.pricebeforeint?Number(((T.pricebeforeint-N)*T.quantity).toFixed(4)):0,turnover:0!==T.quantity&&0!==T.pricebeforeint?Number((T.quantity*j).toFixed(4)):0,pctmargin:0!==T.quantity&&0!==T.pricebeforeint?Number(((T.pricebeforeint-N)/T.pricebeforeint).toFixed(4)):0,netback:0!==T.quantity&&0!==T.pricebeforeint?Number((T.pricebeforeint-N+T.materialcost).toFixed(4)):0})),!1===qe&&_(Object(n.a)({},G,{freightpmt:"$ "+c.toFixed(2),insurance:"$ "+s.toFixed(2),inspectionpmt:"$ "+i.toFixed(2),interestcost:"$ "+o.toFixed(2),materialvalue:ea(u),totalduty:Number(100*m).toFixed(2)+"%",dutyfee:ea(p),harborfee:ea(d),merchprocfee:ea(f),totalcentryfee:ea(h),centryfeepmt:ea(g),totalinbound:ea(b),totaloutbound:ea(v),inboundpmt:ea(y),outboundpmt:ea(E),storagepmt:ea(t),totalcost:"$ "+N.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),salesinterest:"$ "+l.toFixed(2),priceafterint:"$ "+j.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),profit:0!==T.quantity&&0!==T.pricebeforeint?"$ "+Number(T.pricebeforeint-N).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2),margin:0!==T.quantity&&0!==T.pricebeforeint?"$ "+Number((T.pricebeforeint-N)*T.quantity).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2),turnover:0!==T.quantity&&0!==T.pricebeforeint?"$ "+Number(T.quantity*j).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2),pctmargin:0!==T.quantity&&0!==T.pricebeforeint?Number((T.pricebeforeint-N)/T.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==T.quantity&&0!==T.pricebeforeint?"$ "+Number(T.pricebeforeint-N+T.materialcost).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2)})),!0===qe&&_e&&_(Object(n.a)({},G,{freightpmt:"\u20ac "+(c/_e).toFixed(2),insurance:"\u20ac "+(s/_e).toFixed(2),inspectionpmt:"\u20ac "+(i/_e).toFixed(2),interestcost:"\u20ac "+(o/_e).toFixed(2),materialvalue:aa(u.toFixed(2),_e),totalduty:Number(100*m).toFixed(2)+"%",dutyfee:aa(p.toFixed(2),_e),harborfee:aa(d.toFixed(2),_e),merchprocfee:aa(f.toFixed(2),_e),totalcentryfee:aa(h.toFixed(2),_e),centryfeepmt:aa(g.toFixed(2),_e),totalinbound:aa(b.toFixed(2),_e),totaloutbound:aa(v.toFixed(2),_e),inboundpmt:aa(y.toFixed(2),_e),outboundpmt:aa(E.toFixed(2),_e),totalcost:"\u20ac "+(N/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),salesinterest:"\u20ac "+(l/_e).toFixed(2),priceafterint:"\u20ac "+(j/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),profit:0!==T.quantity&&0!==T.pricebeforeint?"\u20ac "+Number((T.pricebeforeint-N)/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2),margin:0!==T.quantity&&0!==T.pricebeforeint?"\u20ac "+Number((T.pricebeforeint-N)*T.quantity/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2),turnover:0!==T.quantity&&0!==T.pricebeforeint?"\u20ac "+Number(T.quantity*j/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2),pctmargin:0!==T.quantity&&0!==T.pricebeforeint?Number((T.pricebeforeint-N)/T.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==T.quantity&&0!==T.pricebeforeint?"\u20ac "+Number((T.pricebeforeint-N+T.materialcost)/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2)}));case 78:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[T.whexit,T.freightTotal,T.payload,T.CADintrate,T.CADdays,T.pricebeforeint,T.interestrate,T.interestdays,T.totalinspection,T.quantity,T.insurancerate,T.insurancefactor,T.materialcost,T.pcommission,T.generalduty,T.additionalduty,T.harborfeepct,T.merchprocfeepct,T.cflatfee,T.tsca,T.isf,T.drayage,T.unloading,T.collectcharges,T.inboundothers,T.scommission,T.pfinancecost,T.sfinancecost,T.legal,T.pallets,T.other,T.loading,T.bolcharges,T.outboundothers]),Object(i.useEffect)(function(){!0===qe&&_(Object(n.a)({},G,{freightTotal:ea(T.freightTotal/_e,"\u20ac"),totalinspection:ea(T.totalinspection/_e,"\u20ac"),materialcost:ea(T.materialcost/_e,"\u20ac"),materialvalue:ea(T.materialvalue/_e,"\u20ac"),dutyfee:ea(T.dutyfee/_e,"\u20ac"),harborfee:ea(T.harborfee/_e,"\u20ac"),merchprocfee:ea(T.merchprocfee/_e,"\u20ac"),cflatfee:ea(T.cflatfee/_e,"\u20ac"),tsca:ea(T.tsca/_e,"\u20ac"),isf:ea(T.isf/_e,"\u20ac"),totalcentryfee:ea(T.totalcentryfee/_e,"\u20ac"),centryfeepmt:ea(T.centryfeepmt/_e,"\u20ac"),drayage:ea(T.drayage/_e,"\u20ac"),unloading:ea(T.unloading/_e,"\u20ac"),collectcharges:ea(T.collectcharges/_e,"\u20ac"),inboundothers:ea(T.inboundothers/_e,"\u20ac"),totalinbound:ea(T.totalinbound/_e,"\u20ac"),inboundpmt:ea(T.inboundpmt/_e,"\u20ac"),pcommission:ea(T.pcommission/_e,"\u20ac"),pfinancecost:ea(T.pfinancecost/_e,"\u20ac"),sfinancecost:ea(T.sfinancecost/_e,"\u20ac"),freightpmt:ea(T.freightpmt/_e,"\u20ac"),insurance:ea(T.insurance/_e,"\u20ac"),inspectionpmt:ea(T.inspectionpmt/_e,"\u20ac"),scommission:ea(T.scommission/_e,"\u20ac"),interestcost:ea(T.interestcost/_e,"\u20ac"),legal:ea(T.legal/_e,"\u20ac"),pallets:ea(T.pallets/_e,"\u20ac"),other:ea(T.other/_e,"\u20ac"),totalcost:ea(T.totalcost/_e,"\u20ac"),pricebeforeint:ea(T.pricebeforeint/_e,"\u20ac"),salesinterest:ea(T.salesinterest/_e,"\u20ac"),priceafterint:ea(T.priceafterint/_e,"\u20ac"),profit:ea(T.profit/_e,"\u20ac"),margin:ea(T.margin/_e,"\u20ac"),turnover:ea(T.turnover/_e,"\u20ac"),netback:ea(T.netback/_e,"\u20ac")})),!1===qe&&_(Object(n.a)({},G,{freightTotal:ea(T.freightTotal,"$"),totalinspection:ea(T.totalinspection,"$"),materialcost:ea(T.materialcost,"$"),materialvalue:ea(T.materialvalue,"$"),dutyfee:ea(T.dutyfee,"$"),harborfee:ea(T.harborfee,"$"),merchprocfee:ea(T.merchprocfee,"$"),cflatfee:ea(T.cflatfee,"$"),tsca:ea(T.tsca,"$"),isf:ea(T.isf,"$"),totalcentryfee:ea(T.totalcentryfee,"$"),centryfeepmt:ea(T.centryfeepmt,"$"),drayage:ea(T.drayage,"$"),unloading:ea(T.unloading,"$"),collectcharges:ea(T.collectcharges,"$"),inboundothers:ea(T.inboundothers,"$"),totalinbound:ea(T.totalinbound,"$"),inboundpmt:ea(T.inboundpmt,"$"),pcommission:ea(T.pcommission,"$"),pfinancecost:ea(T.pfinancecost,"$"),sfinancecost:ea(T.sfinancecost,"$"),freightpmt:ea(T.freightpmt,"$"),insurance:ea(T.insurance,"$"),inspectionpmt:ea(T.inspectionpmt,"$"),scommission:ea(T.scommission,"$"),interestcost:ea(T.interestcost,"$"),legal:ea(T.legal,"$"),pallets:ea(T.pallets,"$"),other:ea(T.other,"$"),totalcost:ea(T.totalcost,"$"),pricebeforeint:ea(T.pricebeforeint,"$"),salesinterest:ea(T.salesinterest,"$"),priceafterint:ea(T.priceafterint,"$"),profit:ea(T.profit,"$"),margin:ea(T.margin,"$"),turnover:ea(T.turnover,"$"),netback:ea(T.netback,"$")}))},[qe]);var La=function(e,t){return new Promise(function(a,r){var n={};for(var c in e)e[c]!==t[c]&&(n[c]=e[c]);a(n)})},Fa=Object(i.useState)(),Pa=Object(l.a)(Fa,2),$a=Pa[0],Qa=Pa[1],Ta=function(){var t=Object(c.a)(O().mark(function t(a){var r;return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!He){t.next=7;break}return a.preventDefault(),t.next=4,La(T,rt);case 4:r=t.sent,console.log(_e),f.a.post("/updateQS",{QSedits:r,QSID:Ne,exchrate:_e}).then(function(t){Qa(t.data.message),I(!k),it(!1),e()});case 7:if(He){t.next=13;break}return a.preventDefault(),t.next=11,f.a.post("/saveQS",{QSData:T}).then(function(t){Qa(t.data.message),I(!k),e(),he(!fe)});case 11:return t.next=13,_a();case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),qa=function(e,t){return new Promise(function(a,r){e&&t&&m()(t).diff(m()(e),"days")>0?a(m()(t).diff(m()(e),"days")):a(0)})},Ba=function(e,t){return new Promise(function(a,r){a(e&&t?e<t?"":e-t:"")})},Aa=function(e,t,a,r,n,c){return new Promise(function(o,l){o(t/r+Math.ceil(e/c)*a*n/r)})},Ga=function(){var e=Object(c.a)(O().mark(function e(t){var a,r,c,o;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return it(!0),a=z[t],Wt(a),e.next=5,qa(a.whentry,T.whexit?T.whexit:a.whentry);case 5:return r=e.sent,e.next=8,Ba(r,a.stggraceperiod);case 8:return c=e.sent,e.next=11,Aa(c,a.storagefixed,a.storagevariable,a.quantity,a.quantitypallets,a.stgaccrualperiod);case 11:o=e.sent,console.log("WH Entry Date: "+a.whentry),console.log("Current Date: "+m()().format("YYYY-MM-DD")),console.log("Days in WH: "+r),console.log("Days in Storage: "+c),console.log("Storage Cost $/mt: "+o),_(Object(n.a)({},G,{KTP:a.USWGP,abbreviation:a.product,supplier:a.supplier,packsize:a.packaging?a.packaging:"",marks:a.marks?a.marks:"",whentry:a.whentry,whexit:T.whexit?T.whexit:a.whentry,storagepmt:ea(o),materialcost:"$ "+Number(a.EWPrice.replace("$","").replace(",","")).toFixed(2)})),q(Object(n.a)({},T,{KTP:a.USWGP,abbreviation:a.productID,supplier:a.supplierID,packsize:a.packaging?a.packaging:"",marks:a.marks?a.marks:"",whentry:a.whentry,whexit:T.whexit?T.whexit:a.whentry,storagepmt:o,materialcost:Number(a.EWPrice.replace("$","").replace(",",""))}));case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),_a=function(){_(P),q(F),re(!1),le(!1),me(!1),We(!1),it(!1)},Ka=function(e){"Enter"===e.key&&(e.preventDefault(),"centryfeepmt"===e.target.name&&(yt(!bt),Nt(!1),St(!1)),"inboundpmt"===e.target.name&&(Nt(!Ot),yt(!1),St(!1)),"storagepmt"===e.target.name&&(St(!xt),yt(!1),Nt(!1)),"insurance"===e.target.name&&(It(!kt),yt(!1),Nt(!1)),"outboundpmt"===e.target.name&&($t(!Pt),yt(!1),Nt(!1),It(!1)))};return s.a.createElement("div",{className:"salesQS"},s.a.createElement("div",{className:"salesQStitleline"},s.a.createElement("h3",{className:"saleslisttitle"},"Quotation Sheet"),s.a.createElement("span",{style:{width:"100px",fontWeight:"bold"}},He?"Edit Mode":"New QS"),s.a.createElement("div",{className:"QSindexbox"},s.a.createElement("div",{className:"salesQSnavbuttons"},s.a.createElement("select",{onChange:function(e){x(!0),u(e.target.value)}},s.a.createElement("option",{value:"all"},"All"),Vt?Vt.map(function(e){return e.trader===d?s.a.createElement("option",{selected:!0,value:e.trader},e.trader):s.a.createElement("option",{value:e.trader},e.trader)}):"reload"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),!0===lt&&!1===He&&ba(G,P,"prev"),!0===lt&&!0===He&&ba(G,Xe,"prev"),!1===lt&&(Ie(ke-1),je(ye[ke-1]),Se(ye[ke-1]),$e(null))}},"Prev"),s.a.createElement("input",{className:"canceldrag",type:"text",placeholder:" New...",onKeyDown:function(e){"Enter"===e.key&&(ye.includes(Number(e.target.value))?(!0===lt&&ba(G,Xe,"enter",Number(e.target.value)),!1===lt&&(Ie(ye.indexOf(Number(e.target.value))),$e(""))):$e("QSID not found."))},onChange:function(e){return je(e.target.value)},value:Ne||""}),s.a.createElement("button",{onClick:function(e){e.preventDefault(),!0===lt&&!0===He&&ba(G,Xe,"next"),!1===lt&&(Ie(ke<ye.length?ke+1:ye.length),je(ke<ye.length-1?ye[ke+1]:""),Se(ke<ye.length-1?ye[ke+1]:""),$e(null))}},"Next"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),!0===He&&!0===lt&&ba(G,Xe,"new"),!1===He&&!0===lt&&ba(G,P,"new"),!1===lt&&(Ie(ye.length),je(""),Se(""))}},"New")),s.a.createElement("span",{className:"QSIDerror"},Pe))),s.a.createElement("form",{className:He?"salesQS-form editmode":"salesQS-form",onSubmit:function(e){Ta(e)}},s.a.createElement("section",{id:"salesQS-1"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"QS Date:"),s.a.createElement("input",{readOnly:!0,className:"canceldrag",value:G.QSDate,type:"date",onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"WGP:"),s.a.createElement("input",{name:"KTP",placeholder:"5000...",value:G&&G.KTP||"",onChange:Sa,className:"canceldrag",onKeyDown:Ka})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Sale Type"),s.a.createElement("div",{className:"saletype-group"},s.a.createElement("input",{name:"saletype",type:"radio",checked:!(!T||1!==T.saleType),required:!0,onClick:function(e){it(!0),q(Object(n.a)({},T,{saleType:1,loading:0,bolcharges:0,outboundothers:0,whexit:"",whentry:"",KTP:""})),_(Object(n.a)({},G,{saleType:"Back-to-back",loading:"$ 0.00",bolcharges:"$ 0.00",outboundothers:"$ 0.00",whexit:"",whentry:"",KTP:""}))},onKeyDown:Ka}),s.a.createElement("label",{htmlFor:""},"Back-to-back")),s.a.createElement("div",{className:"saletype-group"},s.a.createElement("input",{name:"saletype",type:"radio",checked:!(!T||2!==T.saleType),required:!0,onClick:function(e){it(!0),q(Object(n.a)({},T,{saleType:2,loading:0,bolcharges:0,outboundothers:0,whexit:"",whentry:"",KTP:""})),_(Object(n.a)({},G,{saleType:"Position",loading:"$ 0.00",bolcharges:"$ 0.00",outboundothers:"$ 0.00",whexit:"",whentry:"",KTP:""})),f.a.post("/positiondropdown").then(function(e){Y(e.data)})},onKeyDown:Ka}),s.a.createElement("label",{htmlFor:""},"Position"),T&&2===T.saleType?s.a.createElement("select",{className:"WGPSelect",onChange:function(e){return function(e){it(!0);var t=M[e];""===e?(_(Object(n.a)({},G,{abbreviation:"",supplier:"",from:"",to:"",KTP:"",materialcost:qe?"\u20ac 0.00":"$ 0.00"})),q(Object(n.a)({},T,{abbreviation:"",supplier:"",from:"",to:"",KTP:"",materialcost:0}))):(_(Object(n.a)({},G,{abbreviation:t.product,supplier:t.Supplier,from:t.start,to:t.end,KTP:t.KTP,materialcost:"$ "+Number(t.Price.replace("$","").replace(",","")).toFixed(2)})),q(Object(n.a)({},T,{abbreviation:t.productID,supplier:t.supplierID,from:t.start,to:t.end,KTP:t.KTP,materialcost:Number(t.Price.replace("$","").replace(",",""))})))}(e.target.value)}},s.a.createElement("option",{value:""},"Select..."),M?M.map(function(e,t){return s.a.createElement("option",{value:t},e.KTP+" - "+e.product+" - "+e.Supplier)}):""):""),s.a.createElement("div",{className:"saletype-group"},s.a.createElement("input",{name:"saletype",type:"radio",checked:!(!T||3!==T.saleType),required:!0,onClick:function(){var e=Object(c.a)(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:it(!0),Ia(),f.a.post("/uspositiondropdown").then(function(e){H(e.data),console.log(e.data)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}),s.a.createElement("label",null,"US Distribution"),T&&3===T.saleType?s.a.createElement("select",{className:"USWGPSelect",onChange:function(e){return Ga(e.target.value)}},s.a.createElement("option",null,"Select..."),z?z.map(function(e,t){return s.a.createElement("option",{value:t},e.USWGP+" - "+e.product+" - "+e.supplier+" - "+e.Inventory+"mt left")}):""):"")),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"General"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"QSID:"),s.a.createElement("input",{placeholder:"New QS",readOnly:!0,value:T&&T.QSID||"",onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Product:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",placeholder:"Product...",setQSFields:ya,value:G&&G.abbreviation||"",resetfield:Z,setResetfield:X,setEditing:it,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Supplier:"),s.a.createElement("input",{placeholder:"Supplier...",value:G.supplier,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Customer:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/customers",searchName:"customer",searchID:"customerID",placeholder:"Customer...",setQSFields:ya,value:G&&G.customer||"",setEditing:it,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Contact:"),s.a.createElement("input",{className:"canceldrag",type:"text",onKeyDown:Ka}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Packaging"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Pack Size:"),s.a.createElement("input",{value:T.packsize,onChange:va,name:"packsize",type:"text",placeholder:"9kg, 25kg, 50kg, bigbag",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Marks:"),s.a.createElement("input",{name:"marks",onChange:va,value:T.marks,type:"text",placeholder:"neutral, WG, seller, buyer",onDoubleClick:function(e){e.target.select()},className:"canceldrag",onKeyDown:Ka}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Delivery"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"From:"),s.a.createElement("input",{name:"from",onChange:va,value:T.from,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"To:"),s.a.createElement("input",{name:"to",onChange:va,value:T.to,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"POL:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/POLS",searchName:"POL",searchID:"POLID",placeholder:"POL...",setQSFields:ya,value:G&&G.POL||"",setEditing:it,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"POD:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/PODS",searchName:"POD",searchID:"PODID",placeholder:"POD...",setQSFields:ya,value:G&&G.POD||"",setEditing:it,required:!0})))),s.a.createElement("section",{id:"salesQS-2"},s.a.createElement("div",{className:"saleboxes"},s.a.createElement("div",{className:"soldcheckbox"},s.a.createElement("input",{className:"canceldrag",name:"saleComplete",type:"checkbox",checked:ae,onClick:function(){ue&&(_(Object(n.a)({},G,{customer:"",CADdays:10,saleComplete:"Indication",generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:qe?"\u20ac 0.00":"$ 0.00",tsca:qe?"\u20ac 0.00":"$ 0.00",isf:qe?"\u20ac 0.00":"$ 0.00",drayage:qe?"\u20ac 0.00":"$ 0.00",unloading:qe?"\u20ac 0.00":"$ 0.00",collectcharges:qe?"\u20ac 0.00":"$ 0.00",inboundothers:qe?"\u20ac 0.00":"$ 0.00",warehouse:"",whentry:"",storagefixed:qe?"\u20ac 0.00":"$ 0.00",storagevariable:qe?"\u20ac 0.00":"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:""})),q(Object(n.a)({},T,{customer:"",CADdays:10,saleComplete:0,generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,warehouse:"",whentry:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:""}))),re(!ae),me(!1),it(!0)},onKeyDown:Ka}),s.a.createElement("label",null,"Sold")),s.a.createElement("div",{className:"soldcheckbox"},s.a.createElement("input",{className:"canceldrag",name:"allocationComplete",type:"checkbox",checked:ue,onClick:function(){3!==T.saleType&&!1===ue&&(_(Object(n.a)({},G,{customer:"USA Distribution",CADdays:100,saleComplete:"US Allocation",scommission:qe?"\u20ac 0.00":"$ 0.00",sfinancecost:qe?"\u20ac 0.00":"$ 0.00"})),q(Object(n.a)({},T,{customer:452,CADdays:100,saleComplete:1,scommission:0,sfinancecost:0})),me(!0),re(!1),it(!0)),!0===ue&&(_(Object(n.a)({},G,{customer:"",CADdays:10,saleComplete:"Indication",generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:qe?"\u20ac 0.00":"$ 0.00",tsca:qe?"\u20ac 0.00":"$ 0.00",isf:qe?"\u20ac 0.00":"$ 0.00",drayage:qe?"\u20ac 0.00":"$ 0.00",unloading:qe?"\u20ac 0.00":"$ 0.00",collectcharges:qe?"\u20ac 0.00":"$ 0.00",inboundothers:qe?"\u20ac 0.00":"$ 0.00",warehouse:"",whentry:"",storagefixed:qe?"\u20ac 0.00":"$ 0.00",storagevariable:qe?"\u20ac 0.00":"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:""})),q(Object(n.a)({},T,{customer:"",CADdays:10,saleComplete:0,generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,warehouse:"",whentry:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:""})),me(!1),re(!1),it(!0))},onKeyDown:Ka}),s.a.createElement("label",null,"US-Allocation"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"WGS:"),s.a.createElement("input",{name:"KTS",placeholder:"5000...",value:G&&G.KTS||"",onChange:Sa,className:"canceldrag",onKeyDown:Ka})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"In Charge"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Trader:"),s.a.createElement("input",{className:"canceldrag",value:G.TIC,type:"text",readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Traffic:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/trafficmgrs",searchName:"traffic",searchID:"trafficID",placeholder:"Traffic...",setQSFields:ya,value:G&&G.traffic||"",setEditing:it,required:!0}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Terms"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Incoterms:"),s.a.createElement("input",{placeholder:"Incoterms...",onChange:va,name:"incoterms",value:G.incoterms,type:"text",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payment Terms:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/paymentterms",searchName:"paymentTerm",searchID:"paytermID",placeholder:"Payment terms...",setQSFields:ya,value:G&&G.paymentTerm||"",setEditing:it,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inc. Interest:"),s.a.createElement("input",{value:G.CADintrate,placeholder:"Interest rate...",type:"text",name:"CADintrate",onKeyDown:Ka,onChange:function(e){!0!==qe||_e?Ea(e):Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},onBlur:Oa,className:"canceldrag",required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inc. Days:"),s.a.createElement("input",{value:G.CADdays,name:"CADdays",onKeyDown:Ka,onChange:function(e){!0!==qe||_e?Na(e):Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},type:"text",placeholder:"Days...",className:"canceldrag",required:!0}))),s.a.createElement("div",{id:"shipmenttyperadio",className:"form-group"},s.a.createElement("input",{name:"shipmenttype",type:"radio",defaultChecked:!0,required:!0,onKeyDown:Ka,onClick:function(e){q(Object(n.a)({},T,{shipmentType:1})),_(Object(n.a)({},G,{shipmentType:"Container"}))}}),s.a.createElement("label",{style:{minWidth:"auto"},htmlFor:""},"Container"),s.a.createElement("input",{name:"shipmenttype",type:"radio",required:!0,onKeyDown:Ka,onClick:function(e){q(Object(n.a)({},T,{shipmentType:2})),_(Object(n.a)({},G,{shipmentType:"Breakbulk"}))}}),s.a.createElement("label",{style:{minWidth:"auto"},htmlFor:""},"Breakbulk"),s.a.createElement("input",{name:"shipmenttype",type:"radio",required:!0,onKeyDown:Ka,onClick:function(e){q(Object(n.a)({},T,{shipmentType:3})),_(Object(n.a)({},G,{shipmentType:"Truck"}))}}),s.a.createElement("label",{style:{minWidth:"auto"},htmlFor:""},"Truck")),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Freight"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight ID:"),s.a.createElement("input",{placeholder:"[Leave Blank]",type:"text",onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight Total:"),s.a.createElement("input",{type:"text",name:"freightTotal",className:"QSfig2 canceldrag",value:G.freightTotal,onChange:wa,onBlur:xa,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Shipping Line:"),s.a.createElement("input",{className:"canceldrag",placeholder:"Shipping Line...",name:"shippingline",onChange:va,value:G&&G.shippingline||"",type:"text",onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payload (mt/FCL):"),s.a.createElement("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:G.payload,onChange:Na,onBlur:ja,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Inspection:"),s.a.createElement("input",{name:"totalinspection",className:"QSfig2 canceldrag",value:G.totalinspection,onChange:wa,onBlur:xa,type:"text",onKeyDown:Ka}))),3===T.saleType?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"WH Entry Date:"),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)",marginLeft:0,flexBasis:"50%",minWidth:"50%"},type:"date",value:T.whentry,onKeyDown:Ka,readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"WH Exit Date:"),s.a.createElement("input",{style:{marginLeft:0,flexBasis:"50%",minWidth:"50%"},name:"whexit",type:"date",value:T.whexit,onChange:va,onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka}))):"",s.a.createElement("div",{className:"soldcheckbox"},s.a.createElement("input",{className:"canceldrag",name:"finalComplete",type:"checkbox",checked:oe,onClick:function(){oe?(_(Object(n.a)({},G,{finalComplete:"in progress"})),q(Object(n.a)({},T,{finalComplete:0}))):(_(Object(n.a)({},G,{finalComplete:"finalized"})),q(Object(n.a)({},T,{finalComplete:1}))),le(!oe)},onKeyDown:Ka}),s.a.createElement("label",null,"Finalized"))),s.a.createElement("section",{id:"salesQS-3"},s.a.createElement("fieldset",{id:"salesQS-3-fieldset",style:{paddingBottom:"2rem"}},s.a.createElement("legend",null,"Figures"),s.a.createElement("section",{id:"salesQS-3-col1",style:{flexBasis:"50%"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Quantity:"),s.a.createElement("input",{className:"QSfig2 canceldrag",name:"quantity",value:G.quantity,onChange:Na,type:"text",placeholder:"MT",onBlur:ja,required:!0,onKeyDown:Ka})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Costs (per mt)"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Material Cost:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Material Cost pmt",onChange:wa,name:"materialcost",value:G.materialcost,onBlur:xa,required:!0,onKeyDown:Ka})),3===T.saleType?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{position:"relative"}},"Outbound Cost:"," ",s.a.createElement(y.a,{icon:v.a,onClick:function(e){$t(!Pt),!0===Ot&&Nt(!1),!0===kt&&It(!1),!0===qt&&Bt(!1)}})),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.outboundpmt,name:"outboundpmt",placeholder:"...Outbound Cost pmt",onChange:wa,onBlur:xa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})):"",Pt&&1!==T.saleComplete?s.a.createElement("div",{className:"bottompopupcalculator",style:{position:"absolute"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payload (mt/FCL):"),s.a.createElement("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:G.payload,onChange:Na,onBlur:ja,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Loading per FCL:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"loading",value:G.loading,onChange:wa,type:"text",placeholder:"Loading/FCL $",onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"BOL Charges:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"bolcharges",value:G.bolcharges,onChange:wa,type:"text",placeholder:"BOL Charges $",onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Outbound Others:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"outboundothers",value:G.outboundothers,onChange:wa,type:"text",placeholder:"Outbound Others $",onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Outbound:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",name:"totaloutbound",value:G.totaloutbound,onChange:wa,type:"text",placeholder:"Total Outbound $",onBlur:xa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("button",{onClick:function(e){e.preventDefault(),it(!0),q(Object(n.a)({},T,{loading:0,bolcharges:0,outboundothers:0})),_(Object(n.a)({},G,{loading:qe?"\u20ac 0.00":"$ 0.00",bolcharges:qe?"\u20ac 0.00":"$ 0.00",outboundothers:qe?"\u20ac 0.00":"$ 0.00"}))}},"Reset"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),$t(!1)}},"OK")):"",3===T.saleType?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{position:"relative"}},"Storage:"," ",s.a.createElement(y.a,{icon:v.e,onClick:function(e){Bt(!qt),$t(!1)}})),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",type:"text",placeholder:"...Storage $",onChange:wa,name:"storagepmt",value:G.storagepmt,onBlur:xa,required:!0,readOnly:!0,onKeyDown:Ka})):"",qt&&3===T.saleType?s.a.createElement("div",{className:"bottompopupcalculator"},s.a.createElement("p",null,"Storage Cost of ",ea(T.storagepmt),"/mt is based on:"),s.a.createElement("ul",null,s.a.createElement("li",null,"WH Entry Date: ",T.whentry?T.whentry:"N/A"),s.a.createElement("li",null,"WH Exit Date: ",T.whexit?T.whexit:"N/A"),s.a.createElement("li",null,"Fixed Storage Cost:"," ",Yt?ea(Yt.storagefixed):"N/A"),s.a.createElement("li",null,"Variable Storage Cost:"," ",Yt?ea(Yt.storagevariable)+"/pallet":"N/A"),s.a.createElement("li",null,"Position Quantity: ",Yt?Yt.quantity+"mt":"N/A"),s.a.createElement("li",null,"Total Pallets: ",Yt?Yt.quantitypallets:"N/A"),s.a.createElement("li",null,"Grace Period: ",Yt?Yt.stggraceperiod:"N/A"),s.a.createElement("li",null,"Accrual Period: ",Yt?Yt.stgaccrualperiod:"N/A"))):"",1!==T.saleComplete?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"S Finance Cost:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.sfinancecost,name:"sfinancecost",placeholder:"...S Finance Cost pmt",onChange:wa,onBlur:xa,type:"text",required:!0,onKeyDown:Ka})):"",1===T.saleComplete&&3!==T.saleType?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{position:"relative"}},"Customs Entry:"," ",s.a.createElement(y.a,{icon:v.a,onClick:function(e){yt(!bt),!0===Ot&&Nt(!1),!0===kt&&It(!1)}})),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.centryfeepmt,name:"centryfeepmt",placeholder:"...Customs Entry pmt",onChange:wa,onBlur:xa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})):"",bt&(1===T.saleComplete&&3!==T.saleType)?s.a.createElement("div",{className:"bottompopupcalculator",style:{position:"absolute"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Quantity:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"quantity",value:G.quantity,onChange:Na,type:"text",placeholder:"MT",onBlur:ja,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Material Cost/mt:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Material Cost pmt",onChange:wa,name:"materialcost",value:G.materialcost,onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Entry Value:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Material Value $",onChange:wa,name:"materialvalue",value:G.materialvalue,onBlur:xa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"General Duty (%):"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...General Duty",onChange:Ea,name:"generalduty",value:G.generalduty,onBlur:Oa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Additional Duty (%):"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Additional Duty",onChange:Ea,name:"additionalduty",value:G.additionalduty,onBlur:Oa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Duty:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Total Duty %",onChange:Ea,name:"totalduty",value:G.totalduty,onBlur:Oa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Duty Fee:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Duty Fee $",onChange:wa,name:"dutyfee",value:G.dutyfee,onBlur:xa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Harbor Fee %:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...HarborFee %",onChange:function(e){return Ea(e,3)},name:"harborfeepct",value:G.harborfeepct,onBlur:function(e){return Oa(e,3)},required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Harbor Fee:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Harbor Fee $",onChange:wa,name:"harborfee",value:G.harborfee,onBlur:xa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Merch. Proc. Fee %:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Merch. Proc. %",onChange:function(e){return Ea(e,4)},name:"merchprocfeepct",value:G.merchprocfeepct,onBlur:function(e){return Oa(e,4)},required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Merch. Proc. Fee:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...MP Fee $",onChange:wa,name:"merchprocfee",value:G.merchprocfee,onBlur:xa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Flat Fee:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Flat Fee $",onChange:wa,name:"cflatfee",value:G.cflatfee,onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"TSCA:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...TSCA $",onChange:wa,name:"tsca",value:G.tsca,onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"ISF:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...ISF $",onChange:wa,name:"isf",value:G.isf,onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Entry Fee:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Total Entry Fee $",onChange:wa,name:"totalcentryfee",value:G.totalcentryfee,onBlur:xa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("button",{onClick:function(e){e.preventDefault(),it(!0),q(Object(n.a)({},T,{generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0})),_(Object(n.a)({},G,{generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:qe?"\u20ac 0.00":"$ 0.00",tsca:qe?"\u20ac 0.00":"$ 0.00",isf:qe?"\u20ac 0.00":"$ 0.00"}))}},"Reset"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),yt(!1)}},"OK")):"",1===T.saleComplete&&3!==T.saleType?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{position:"relative"}},"Inbound Cost:"," ",s.a.createElement(y.a,{icon:v.a,onClick:function(e){Nt(!Ot),!0===bt&&yt(!1),!0===kt&&It(!1)}})),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.inboundpmt,name:"inboundpmt",placeholder:"...Inbound costs pmt",onChange:wa,onBlur:xa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})):"",Ot&(1===T.saleComplete&&3!==T.saleType)?s.a.createElement("div",{className:"bottompopupcalculator",style:{position:"absolute"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payload (mt/FCL):"),s.a.createElement("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:G.payload,onChange:Na,onBlur:ja,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Drayage per FCL:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"drayage",value:G.drayage,onChange:wa,type:"text",placeholder:"Drayage/FCL $",onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Unloading per FCL:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"unloading",value:G.unloading,onChange:wa,type:"text",placeholder:"Unloading/FCL $",onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Collect Charges:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"collectcharges",value:G.collectcharges,onChange:wa,type:"text",placeholder:"Collect Charges $",onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inbound Others:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"inboundothers",value:G.inboundothers,onChange:wa,type:"text",placeholder:"Inbound Others $",onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Inbound:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",name:"totalinbound",value:G.totalinbound,onChange:wa,type:"text",placeholder:"Total Inbound $",onBlur:xa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("button",{onClick:function(e){e.preventDefault(),it(!0),q(Object(n.a)({},T,{drayage:0,unloading:0,collectcharges:0,inboundothers:0})),_(Object(n.a)({},G,{drayage:qe?"\u20ac 0.00":"$ 0.00",unloading:qe?"\u20ac 0.00":"$ 0.00",collectcharges:qe?"\u20ac 0.00":"$ 0.00",inboundothers:qe?"\u20ac 0.00":"$ 0.00"}))}},"Reset"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),Nt(!1)}},"OK")):"",s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"P Commission:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Commission pmt",name:"pcommission",value:G.pcommission,onChange:wa,onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"P Finance Cost:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Finance Cost pmt",name:"pfinancecost",value:G.pfinancecost,onChange:wa,onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight (pmt):"),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.freightpmt,name:"freightpmt",placeholder:"...Freight pmt",onChange:function(e){wa(e)},onBlur:function(e){xa(e)},type:"text",required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{position:"relative"}},"Insurance Cost:",s.a.createElement(y.a,{icon:v.a,onClick:function(e){It(!kt),!0===bt&&yt(!1),!0===Ot&&Nt(!1)}})),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.insurance,name:"insurance",placeholder:"...Insurance Cost pmt",onChange:wa,onBlur:xa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})),kt?s.a.createElement("div",{className:"bottompopupcalculator",style:{position:"absolute"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Incoterms:"),s.a.createElement("input",{placeholder:"Incoterms...",onChange:va,name:"incoterms",value:G.incoterms,type:"text",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Insurance Rate %:"),s.a.createElement("input",{type:"text",name:"insurancerate",className:"QSfig2 canceldrag",value:G.insurancerate,onChange:Ea,onBlur:Oa,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Insurance Factor:"),s.a.createElement("input",{type:"text",name:"insurancefactor",className:"QSfig2 canceldrag",value:G.insurancefactor,onChange:function(e){Na(e,2)},onBlur:ja,onKeyDown:Ka})),s.a.createElement("button",{onClick:function(e){e.preventDefault(),It(!1)}},"OK")):"",s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inspection Cost:"),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.inspectionpmt,name:"inspectionpmt",placeholder:"...Inspection Cost pmt",onChange:wa,onBlur:xa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})),1!==T.saleComplete?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"S Commission:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.scommission,name:"scommission",placeholder:"...S Commission pmt",onChange:wa,onBlur:xa,type:"text",required:!0,onKeyDown:Ka})):"",s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Cost:"),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.interestcost,name:"interestcost",placeholder:"...Interest Cost pmt",onChange:wa,onBlur:xa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Legal:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.legal,name:"legal",placeholder:"...Legal Cost pmt",onChange:wa,onBlur:xa,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Pallets:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.pallets,name:"pallets",placeholder:"...Pallets Cost pmt",onChange:wa,onBlur:xa,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Other:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.other,name:"other",placeholder:"...Other Costs pmt",onChange:wa,onBlur:xa,type:"text",required:!0,onKeyDown:Ka}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Cost:"),s.a.createElement("input",{className:"QSfig2 canceldrag",readOnly:!0,value:G.totalcost,type:"text",required:!0,onKeyDown:Ka})),1===T.saleComplete?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Price Before Int.:"),s.a.createElement("input",{style:{paddingRight:"15px"},className:"QSfig canceldrag",value:G.pricebeforeint,name:"pricebeforeint",placeholder:"...Price Before Int pmt",onChange:wa,onBlur:xa,type:"text",required:!0,onKeyDown:Ka})):""),1!==T.saleComplete?s.a.createElement("section",{id:"salesQS-3-col2"},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Sales Interest"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Rate:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.interestrate,placeholder:"...Interest Rate",name:"interestrate",onChange:function(e){!0!==qe||_e?Ea(e):Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},onBlur:Oa,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Days:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.interestdays,name:"interestdays",onChange:function(e){!0!==qe||_e?Na(e):Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},placeholder:"...Interest Days",type:"text",required:!0,onKeyDown:Ka}))),s.a.createElement("fieldset",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Price Before Int.:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.pricebeforeint,name:"pricebeforeint",placeholder:"...Price Before Int pmt",onChange:wa,onBlur:xa,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Sales Interest:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.salesinterest,readOnly:!0,type:"text",required:!0,onKeyDown:Ka}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Price After Int.:"),s.a.createElement("input",{readOnly:!0,className:"QSfig2 canceldrag",value:G.priceafterint,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Economics"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Profit:"),s.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:G.profit,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Margin:"),s.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:G.margin,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Turnover:"),s.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:G.turnover,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"% Margin:"),s.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:G.pctmargin,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Netback:"),s.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:G.netback,type:"text",required:!0,onKeyDown:Ka}))),s.a.createElement("div",{id:"exchangerate",className:"form-group"},s.a.createElement("label",null,"Exch. Rate ($/\u20ac):"),s.a.createElement("input",{className:"canceldrag",onChange:function(e){e.preventDefault(),it(!0),(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&Ke(e.target.value)},value:_e||"",placeholder:"$/\u20ac (up to 4 decimals)",readOnly:Ye,onKeyDown:Ka}),s.a.createElement(y.a,{icon:v.l,onClick:function(e){We(!Ye)},className:Ye?"unlockicon display-none":"unlockicon display-block"}),s.a.createElement(y.a,{icon:v.f,onClick:function(e){e.preventDefault(),Object(b.confirmAlert)({title:"Warning",message:"If you have already entered data with a different exchange rate. Changing the rate at this point will likely cause currency and calculation inconsistencies in the QS.",buttons:[{label:"Go ahead",onClick:function(){return We(!Ye)}},{label:"Cancel"}],closeOnClickOutside:!0,closeOnEscape:!0})},className:Ye?"lockicon display-block":"lockicon display-none"}),s.a.createElement("button",{onClick:function(e){e.preventDefault(),_e&&""!==_e?Be(!qe):Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})}},qe?"Convert To USD":"Convert To Euros"))):s.a.createElement("section",{id:"salesQS-3-col2",className:"storagefields"},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Storage Details"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{minWidth:"90px"},htmlFor:""},"Warehouse"),s.a.createElement("select",{style:{flexBasis:"42%",marginRight:0,marginLeft:"15px",padding:"0.25rem 0"},required:!0,onChange:function(e){!function(e){it(!0);var t=_t[e];""===e?(_(Object(n.a)({},G,{warehouse:""})),q(Object(n.a)({},T,{warehouse:""}))):(_(Object(n.a)({},G,{warehouse:t.warehouseName})),q(Object(n.a)({},T,{warehouse:t.warehouseID})))}(e.target.value)}},s.a.createElement("option",{value:""},"Select..."),_t?_t.map(function(e,t){return e.warehouseName===G.warehouse?s.a.createElement("option",{selected:!0,value:t},e.warehouseName):s.a.createElement("option",{value:t},e.warehouseName)}):"")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{minWidth:"95px"}},"Entry Date:"),s.a.createElement("input",{style:{minWidth:"55%"},name:"whentry",onChange:va,value:T.whentry,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Fixed Cost:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"storagefixed",value:G.storagefixed,onChange:wa,type:"text",placeholder:"Storage Fixed Cost $",onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Var. Cost ($/pallet):"),s.a.createElement("input",{className:"QSfig canceldrag",name:"storagevariable",value:G.storagevariable,onChange:wa,type:"text",placeholder:"Storage Variable Cost $",onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Grace Period (days):"),s.a.createElement("input",{className:"QSfig canceldrag",name:"stggraceperiod",value:G.stggraceperiod,onChange:function(e){return Na(e,0)},type:"text",placeholder:"(days)",onBlur:function(e){return ja(e,0)},required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Accrual Period (days):"),s.a.createElement("input",{className:"QSfig canceldrag",name:"stgaccrualperiod",value:G.stgaccrualperiod,onChange:function(e){return Na(e,0)},type:"text",placeholder:"(days)",onBlur:function(e){return ja(e,0)},required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Pallets (#):"),s.a.createElement("input",{className:"QSfig canceldrag",name:"quantitypallets",value:G.quantitypallets,onChange:function(e){return Na(e,0)},type:"text",placeholder:"(# of pallets)",onBlur:function(e){return ja(e,0)},required:!0,onKeyDown:Ka}))))),s.a.createElement("div",{id:"QSbuttons"},""!==Ne&&Ne?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{ref:S},$a),s.a.createElement("button",{className:"saveQSbutton",type:"submit"},"Save Edits")):s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{ref:S},$a),s.a.createElement("button",{className:"saveQSbutton",type:"button",onClick:function(e){_a()}},"Clear"),s.a.createElement("button",{className:"saveQSbutton",type:"submit"},"Save and New"))))))}},736:function(e,t,a){"use strict";var r=a(8),n=a(2),c=a(0),o=a.n(c),l=a(6),i=a.n(l),s=a(67),u=(a(527),a(21)),m=a(12),p=a.n(m),d=(a(529),a(158),function(e){var t=e.posnumber,a=e.posmatchnumber,r=t===a?"postooltip":"postooltip display-none",l=Object(c.useState)(),s=Object(n.a)(l,2),u=s[0],m=s[1];return Object(c.useEffect)(function(){t===a&&i.a.post("/posmatching",{posnumber:t}).then(function(e){m(e.data)})},[a]),o.a.createElement("span",{className:r},o.a.createElement("h4",null,"Matching Sales for Position ",t),o.a.createElement("ul",null,o.a.createElement("li",{className:"posmatchitem"},o.a.createElement("h4",null,"Trader"),o.a.createElement("h4",null,"WGS"),o.a.createElement("h4",null,"Customer"),o.a.createElement("h4",null,"Quantity (mt)"),o.a.createElement("h4",null,"Profit (pmt)")),u?u.map(function(e){return o.a.createElement("li",{className:"posmatchitem"},o.a.createElement("p",null,e.tCode),o.a.createElement("p",null,e.KTS),o.a.createElement("p",null,e.companyCode),o.a.createElement("p",null,e.quantity),o.a.createElement("p",null,e.tradingProfit))}):"No matching sales found"))});function f(){f=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=O(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var h={};l(h,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(x([])));b&&b!==t&&a.call(b,n)&&(h=b);var y=d.prototype=m.prototype=Object.create(h);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(){var e=Object(c.useState)(0),t=Object(n.a)(e,2),a=t[0],l=t[1],m=(Object(c.useContext)(s.a).state,Object(c.useContext)(u.a)),h=m.posrefresh,g=(m.togglePosrefresh,JSON.parse(localStorage.getItem("accesstoken"))),b=JSON.parse(localStorage.getItem("refreshtoken")),y=i.a.create({headers:{Authorization:"Bearer ".concat(g)}}),v=i.a.create({headers:{Authorization:"Bearer ".concat(b)}});y.interceptors.response.use(function(e){return e},function(){var e=Object(r.a)(f().mark(function e(t){var a;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b||403!==t.response.status){e.next=8;break}return e.next=3,v.post("/refreshtoken");case 3:return a=e.sent,g=a.data.accesstoken,e.next=7,y.post("/positionreport",{},{headers:{Authorization:"Bearer ".concat(g)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var E=Object(c.useState)({}),O=Object(n.a)(E,2),N=O[0],j=O[1];Object(c.useEffect)(Object(r.a)(f().mark(function e(){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/positionreport").then(function(e){var t=e.data.groupBy("productGroup");j(t)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)})),[h]);var w=0,x="",S={};return o.a.createElement("div",{className:"positionreport"},o.a.createElement("table",{id:"positionreporttable"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"WGP"),o.a.createElement("th",{className:"fig"},"Quantity"),o.a.createElement("th",{className:"fig"},"Inventory"),o.a.createElement("th",{className:"fig"},"FOB"),o.a.createElement("th",null,"Supplier"),o.a.createElement("th",null,"From"),o.a.createElement("th",null,"To"),o.a.createElement("th",{className:"fig"},"Value"))),o.a.createElement("tbody",null,Object.entries(N).map(function(e,t){return x=Object.keys(N)[t],S=N[x].groupBy("product"),[o.a.createElement("tr",null,o.a.createElement("td",{className:"prodgroup",colSpan:8},o.a.createElement("p",null,x))),Object.entries(S).map(function(e,t){return w=0,[o.a.createElement("tr",null,o.a.createElement("td",{className:"product",colSpan:8},o.a.createElement("h4",null,Object.keys(S)[t]))),e[1].map(function(e){return w+=Number(e.Inventory),o.a.createElement(o.a.Fragment,null,o.a.createElement("tr",null,o.a.createElement("td",{className:"postooltipsource",onMouseOver:function(t){!function(e){l(e)}(e.KTP)},onMouseLeave:function(e){l(0)}},e.KTP,o.a.createElement(d,{posnumber:e.KTP,posmatchnumber:a})),o.a.createElement("td",{className:"fig"},e.quantity.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("td",{className:"fig"},Number(e.Inventory).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("td",{className:"fig"},e.Price.replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("td",null,e.Supplier),o.a.createElement("td",null,p()(e.Start).format("DD-MMM-YYYY").toString()),o.a.createElement("td",null,p()(e.End).format("DD-MMM-YYYY").toString()),o.a.createElement("td",{className:"fig"},"$"+(e.quantity*Number(e.Price.replace(/[^0-9.-]+/g,""))).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))))}),o.a.createElement("tr",{className:"totals"},o.a.createElement("td",{colSpan:2},o.a.createElement("h4",null,"Total")),o.a.createElement("td",{className:"fig"},o.a.createElement("h4",null,w.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),o.a.createElement("td",{colSpan:5}))]})]}))))}},737:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(4),o=a(1),l=a(2),i=a(8),s=a(6),u=a.n(s),m=a(138),p=a.n(m),d=(a(371),a(67)),f=a(21),h=a(25),g=(a(293),a(12)),b=a.n(g);function y(){y=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=O(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var v=function(e){Object(r.useContext)(d.a).state;var t=JSON.parse(localStorage.getItem("role")),a=Object(r.useContext)(f.a),s=a.posrefresh,m=a.togglePosrefresh,g=JSON.parse(localStorage.getItem("accesstoken")),v=JSON.parse(localStorage.getItem("refreshtoken")),E=u.a.create({headers:{Authorization:"Bearer ".concat(g)}}),O=u.a.create({headers:{Authorization:"Bearer ".concat(v)}});E.interceptors.response.use(function(e){return e},function(){var e=Object(i.a)(y().mark(function e(t){var a;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!v||403!==t.response.status){e.next=8;break}return e.next=3,O.post("/refreshtoken");case 3:return a=e.sent,g=a.data.accesstoken,e.next=7,E.post("/positions",{},{headers:{Authorization:"Bearer ".concat(g)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var N=Object(r.useState)([]),j=Object(l.a)(N,2),w=j[0],x=j[1],S=Object(r.useState)(e.config.sort||{column:"",order:""}),C=Object(l.a)(S,2),D=C[0],k=C[1],I=Object(r.useState)(e.config.columns),L=Object(l.a)(I,2),F=L[0],P=L[1],$=Object(r.useState)([]),Q=Object(l.a)($,2),T=Q[0],q=Q[1];Object(r.useEffect)(Object(i.a)(y().mark(function e(){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("/positions").then(function(e){x(e.data),q(Object.keys(F))});case 2:case"end":return e.stop()}},e)})),[s]);var B=function(e){var t="asc"===D.order?"headerSortAsc":"headerSortDesc";return D.column===e?t:""},A={"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t}},G=[],_={},K=/^((?:(?:[<>]=?)|==))\s?([-]?\d+(?:\.\d+)?)$/;T.forEach(function(e){var t,a=F[e].filterText;if(_[e]=null,a.length>0){var r=K.exec(a);r&&3===r.length?_[e]=(t=r,function(e){if(e)return A[t[1]](e,t[2])}):_[e]=function(e){if(e)return e.toString().toLowerCase().indexOf(a.toLowerCase())>-1}}});var R=p.a.filter(w,function(e){return p.a.every(T,function(t){return!_[t]||_[t](e[t])})}),M=p.a.sortBy(R,D.column);"desc"===D.order&&M.reverse();M.forEach(function(a,r){var c;G.push(n.a.createElement("tr",{id:r,key:r},(c=a,T.map(function(e,t){return"quantity"===e?n.a.createElement("td",{className:"canceldrag",id:e+"-"+c.id,key:e+"-"+c.id},c[e].toFixed(2)):"FOB"===e?n.a.createElement("td",{className:"canceldrag",id:e+"-"+c.id,key:e+"-"+c.id},"$"+c[e].toFixed(2)):"Start"===e||"End"===e?n.a.createElement("td",{className:"canceldrag",id:e+"-"+c.id,key:e+"-"+c.id},b()(c[e]).format("DD-MMM-YYYY").toString()):n.a.createElement("td",{className:"canceldrag",id:e+"-"+c.id,key:e+"-"+c.id},c[e])})),n.a.createElement("div",{className:"crudbuttons"},n.a.createElement("button",{className:"editbutton",onClick:function(t){e.showEditModal(t,a)}},"Edit"),1===t||2===t?n.a.createElement("button",{className:"editbutton",onClick:function(e){Object(h.confirmAlert)({title:"Are you sure?",message:"You are about to delete position (".concat(a.WGP,") for ").concat(a.abbreviation," from ").concat(a.companyCode,". This deletion is irreversible. Click Delete to confirm or Cancel to exit."),buttons:[{label:"Cancel",onClick:function(){console.log("cancelled")}},{label:"Delete",onClick:function(){var e=Object(i.a)(y().mark(function e(){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.delete("/deletePosition",{data:{WGP:a.WGP}}).then(function(e){return m()}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}],closeOnClickOutside:!0,closeOnEscape:!0})}},"Delete"):"")))});var Y=T.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("th",{onClick:(t=e,function(e){var a="asc"===D.order?"desc":"asc";D.column!==t&&(a=F[t].defaultSortOrder),k({column:t,order:a})}),className:"header "+B(e)},F[e].name));var t}),W=T.map(function(e){return n.a.createElement("td",{className:"filter-"+e},n.a.createElement("input",{className:"canceldrag",type:"text",value:F[e].filterText,onChange:function(t){!function(e,t){P(Object(o.a)({},F,Object(c.a)({},t,Object(o.a)({},F[t],{filterText:e.target.value}))))}(t,e)}}))});return n.a.createElement("div",null,n.a.createElement("table",{cellSpacing:"0",className:"tablesorter"},n.a.createElement("thead",null,n.a.createElement("tr",null,Y,n.a.createElement("th",{className:"header lastheader"})),n.a.createElement("tr",{className:"searchboxes"},W,n.a.createElement("td",null))),n.a.createElement("tbody",null,G)))},E=(a(532),a(158));t.a=function(e){var t=Object(r.useContext)(f.a).togglePosrefresh;return n.a.createElement("div",{className:"positionslist"},n.a.createElement("div",{className:"positionstitleline"},n.a.createElement("h3",{className:"positionslisttitle"},"Positions List"),n.a.createElement(E.a,{className:"refreshicon",onClick:function(e){t()}})),n.a.createElement(v,{config:{sort:{column:"year",order:"desc"},columns:{WGP:{name:"WGP",filterText:"",defaultSortOrder:"asc"},abbreviation:{name:"Product",filterText:"",defaultSortOrder:"desc"},companyCode:{name:"Supplier",filterText:"",defaultSortOrder:"desc"},packaging:{name:"Packaging",filterText:"",defaultSortOrder:"asc"},Start:{name:"Start",filterText:"",defaultSortOrder:"asc"},End:{name:"End",filterText:"",defaultSortOrder:"asc"},FOB:{name:"FOB",filterText:"",defaultSortOrder:"asc"},quantity:{name:"Quantity",filterText:"",defaultSortOrder:"asc"},year:{name:"Year",filterText:">=2020",defaultSortOrder:"asc"}}},showEditModal:e.showEditModal,hideEditModal:e.hideEditModal,modalState:e.modalState,postoedit:e.postoedit,key:"positionstablesort"}))}},745:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(146),o=a.n(c),l=a(67),i=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,749)).then(function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),c(e),o(e)})};o.a.render(n.a.createElement(l.b,null),document.getElementById("root")),i()},81:function(e,t,a){"use strict";var r=a(8),n=a(2),c=a(0),o=a.n(c),l=a(6),i=a.n(l);a(503);function s(){s=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof p?t:p,c=Object.create(n.prototype),o=new w(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=O(o,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=u(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var m={};function p(){}function d(){}function f(){}var h={};l(h,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(x([])));b&&b!==t&&a.call(b,n)&&(h=b);var y=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=u(e[n],e,c);if("throw"!==i.type){var s=i.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){s.value=e,o(s)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=f,l(y,"constructor",f),l(f,"constructor",d),d.displayName=l(f,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}t.a=function(e){var t=e.searchURL,a=e.searchName,l=e.searchID,u=e.placeholder,m=e.otherName,p=e.otherID,d=e.thirdName,f=e.thirdID,h=e.setProdSupplier,g=e.resetfield,b=e.setResetfield,y=e.value,v=(e.showAddProd,Object(c.useState)()),E=Object(n.a)(v,2),O=E[0],N=E[1],j=Object(c.useState)(""),w=Object(n.a)(j,2),x=w[0],S=w[1],C=Object(c.useState)(),D=Object(n.a)(C,2),k=D[0],I=D[1],L=Object(c.useState)(!1),F=Object(n.a)(L,2),P=F[0],$=F[1];Object(c.useEffect)(function(){if(O){var e=O.filter(function(e){if(m&&p&&f){if(x&&""!==x)return(e[a]+e[l]+e[m]+e[p]+e[d]+e[f]).toLowerCase().includes(x.toLowerCase());$(!1)}if(m&&p&&!f){if(x&&""!==x)return(e[a]+e[l]+e[m]+e[p]).toLowerCase().includes(x.toLowerCase());$(!1)}else{if(x&&""!==x)return(e[a]+e[l]).toLowerCase().includes(x.toLowerCase());$(!1)}});I(e)}},[x]);var Q,T=Object(c.useRef)([]),q=Object(c.useRef)(null),B=Object(c.useRef)(null),A=Object(c.useRef)(null),G=Object(c.useRef)(null),_=Object(c.useRef)(null),K=Object(c.useRef)(null);return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{ref:"productID"===l?q:"customerID"===l?B:"POLID"===l?A:"PODID"===l?G:"trafficID"===l?_:K,placeholder:u,type:"text",value:g?"":x||y,onFocus:function(){i.a.post(t).then(function(e){N(e.data)})},onChange:function(e){b(!1),$(!0),S(e.target.value)},required:!0,className:"canceldrag",onKeyDown:function(e){k&&k.length>0&&"ArrowRight"===e.key&&(e.preventDefault(),Q=0,console.log(T.current),console.log(T.current[Q]),0===Q&&T.current[Q].focus())}}),o.a.createElement("div",{className:"flexbreak"}),o.a.createElement("div",{className:"presearchresults"}),o.a.createElement("span",{className:"QSsearchresults-container"},o.a.createElement("ul",{className:P?"searchresults":"QSsearchresults-hide"},k?k.map(function(e,t){return p&&m&&d&&f?o.a.createElement("li",{ref:function(e){return T.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),l){case"productID":q.current.focus();break;case"customerID":B.current.focus();break;case"POLID":A.current.focus();break;case"PODID":G.current.focus();break;case"trafficID":_.current.focus();break;case"paytermID":K.current.focus()}"ArrowDown"===t.key&&(t.preventDefault(),T.current[Q+1]&&(Q+=1,T.current[Q].focus())),"ArrowUp"===t.key&&(t.preventDefault(),T.current[Q-1]&&(Q-=1,T.current[Q].focus())),"Enter"===t.key&&(h(e[l],e[a],e[p],e[m],e[f],e[d]),S(null))},onClick:function(t){h(e[l],e[a],e[p],e[m],e[f],e[d]),S(null)}},e[l]," - ",e[a]," - ",e[m]):p&&m&&!d&&!f?o.a.createElement("li",{ref:function(e){return T.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),l){case"productID":q.current.focus();break;case"customerID":B.current.focus();break;case"POLID":A.current.focus();break;case"PODID":G.current.focus();break;case"trafficID":_.current.focus();break;case"paytermID":K.current.focus()}"ArrowDown"===t.key&&(t.preventDefault(),T.current[Q+1]&&(Q+=1,T.current[Q].focus())),"ArrowUp"===t.key&&(t.preventDefault(),T.current[Q-1]&&(Q-=1,T.current[Q].focus())),"Enter"===t.key&&(h(e[l],e[a],e[p],e[m]),S(null))},onClick:function(t){h(e[l],e[a],e[p],e[m]),S(null)}},e[l]," - ",e[a]," - ",e[m]):o.a.createElement("li",{ref:function(e){return T.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),l){case"productID":q.current.focus();break;case"customerID":B.current.focus();break;case"POLID":A.current.focus();break;case"PODID":G.current.focus();break;case"trafficID":_.current.focus();break;case"paytermID":K.current.focus()}"ArrowDown"===t.key&&(t.preventDefault(),T.current[Q+1]&&(Q+=1,T.current[Q].focus())),"ArrowUp"===t.key&&(t.preventDefault(),T.current[Q-1]&&(Q-=1,T.current[Q].focus())),"Enter"===t.key&&(h(e[l],e[a]),S(null))},onClick:function(){var t=Object(r.a)(s().mark(function t(r){return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:h(e[l],e[a]),S(null);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},e[l]," - ",e[a])}):"")))}},84:function(e,t,a){"use strict";var r=a(2),n=a(0),c=a.n(n),o=a(6),l=a.n(o);a(511);t.a=function(e){var t=e.searchURL,a=e.searchName,o=e.searchID,i=e.placeholder,s=e.otherName,u=e.otherID,m=e.setQSFields,p=e.resetfield,d=e.setEditing,f=e.value,h=Object(n.useState)(),g=Object(r.a)(h,2),b=g[0],y=g[1],v=Object(n.useState)(""),E=Object(r.a)(v,2),O=E[0],N=E[1],j=Object(n.useState)(""),w=Object(r.a)(j,2),x=w[0],S=w[1],C=Object(n.useState)(),D=Object(r.a)(C,2),k=D[0],I=D[1],L=Object(n.useState)(!1),F=Object(r.a)(L,2),P=(F[0],F[1],Object(n.useState)(!1)),$=Object(r.a)(P,2),Q=$[0],T=$[1];Object(n.useEffect)(function(){if(b){var e=b.filter(function(e){if(s&&u){if(x&&""!==x)return(e[a]+e[o]+e[s]+e[u]).toLowerCase().includes(x.toLowerCase());T(!1),m("","",a,s,"","")}else{if(x&&""!==x)return(e[a]+e[o]).toLowerCase().includes(x.toLowerCase());T(!1),m("","",a,"","","")}});I(e)}},[x]);var q,B=Object(n.useRef)([]),A=Object(n.useRef)(null),G=Object(n.useRef)(null),_=Object(n.useRef)(null),K=Object(n.useRef)(null),R=Object(n.useRef)(null),M=Object(n.useRef)(null);return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{ref:"productID"===o?A:"customerID"===o?G:"POLID"===o?_:"PODID"===o?K:"trafficID"===o?R:M,placeholder:i,type:"text",value:p?"":O||f,onFocus:function(){l.a.post(t).then(function(e){y(e.data)})},onChange:function(e){T(!0),N(e.target.value),S(e.target.value)},onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:function(e){k&&k.length>0&&"ArrowRight"===e.key&&(e.preventDefault(),q=0,console.log(B.current),console.log(B.current[q]),0===q&&B.current[q].focus()),"Enter"===e.key&&e.preventDefault()}}),c.a.createElement("div",{className:"flexbreak"}),c.a.createElement("span",{className:"QSsearchresults-container"},c.a.createElement("ul",{className:Q?"QSsearchresults":"QSsearchresults-hide"},k?k.map(function(e,t){return u&&s?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{ref:function(e){return B.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),o){case"productID":A.current.focus();break;case"customerID":G.current.focus();break;case"POLID":_.current.focus();break;case"PODID":K.current.focus();break;case"trafficID":R.current.focus();break;case"paytermID":M.current.focus()}if("ArrowDown"===t.key&&(t.preventDefault(),B.current[q+1]&&(q+=1,B.current[q].focus())),"ArrowUp"===t.key&&(t.preventDefault(),B.current[q-1]&&(q-=1,B.current[q].focus())),"Enter"===t.key){t.preventDefault(),d(!0);var r=t.target.innerText,n=r.substring(r.indexOf("(")+1,r.indexOf(")")),c=r.substring(r.indexOf(") ")+2,r.indexOf(" -")),l=r.substring(r.lastIndexOf("(")+1,r.lastIndexOf(")")),i=r.substring(r.lastIndexOf(") ")+2);m(Number(n),Number(l),a,s,c,i),N(null),S(e[a]),T(!1)}},onClick:function(t){d(!0);var r=t.target.innerText,n=r.substring(r.indexOf("(")+1,r.indexOf(")")),c=r.substring(r.indexOf(") ")+2,r.indexOf(" -")),o=r.substring(r.lastIndexOf("(")+1,r.lastIndexOf(")")),l=r.substring(r.lastIndexOf(") ")+2);m(Number(n),Number(o),a,s,c,l),N(null),S(e[a]),T(!1)}},"(",e[o],") ",e[a]," - (",e[u],") ",e[s])):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{ref:function(e){return B.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),o){case"productID":A.current.focus();break;case"customerID":G.current.focus();break;case"POLID":_.current.focus();break;case"PODID":K.current.focus();break;case"trafficID":R.current.focus();break;case"paytermID":M.current.focus()}if("ArrowDown"===t.key&&(t.preventDefault(),B.current[q+1]&&(q+=1,B.current[q].focus())),"ArrowUp"===t.key&&(t.preventDefault(),B.current[q-1]&&(q-=1,B.current[q].focus())),"Enter"===t.key){t.preventDefault(),d(!0);var r=t.target.innerText,n=r.substring(r.indexOf("(")+1,r.indexOf(")")),c=r.split(") - ")[1];console.log(n,c),m(Number(n),"",a,"",c,""),N(null),S(e[a]),T(!1)}},onClick:function(t){d(!0);var r=t.target.innerText,n=r.substring(r.indexOf("(")+1,r.indexOf(")")),c=r.split(") - ")[1];console.log(n,c),m(Number(n),"",a,"",c,""),N(null),S(e[a]),T(!1)}},"(",e[o],") - ",e[a]))}):"")))}},90:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return l});var r=a(2),n=a(0),c=a.n(n),o=c.a.createContext(),l=function(e){var t=e.children,a=Object(n.useState)(),l=Object(r.a)(a,2),i=l[0],s=l[1],u=Object(n.useState)(!0),m=Object(r.a)(u,2),p=m[0],d=m[1],f=Object(n.useState)(JSON.parse(localStorage.getItem("WGusercode"))),h=Object(r.a)(f,2),g=h[0],b=h[1],y=Object(n.useState)(!0),v=Object(r.a)(y,2),E=v[0],O=v[1],N=Object(n.useState)(!1),j=Object(r.a)(N,2),w=j[0],x=j[1];return c.a.createElement(o.Provider,{value:{QStoload:i,setQStoload:s,toggleQSload:function(e){d(function(e){return!e})},diffQS:p,toggleDuplicate:function(e){O(function(e){return!e})},duplicateBoolean:E,loaduser:g,setLoaduser:b,fromdropdown:w,setFromdropdown:x}},t)}}},[[455,3,2]]]);
//# sourceMappingURL=main.767651c6.chunk.js.map