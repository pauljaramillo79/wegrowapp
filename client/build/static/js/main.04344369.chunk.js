(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var c=r(1);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c])}return e}).apply(this,arguments)}function n(e,t){if(null==e)return{};var r,c,a=function(e,t){if(null==e)return{};var r,c,a={},n=Object.keys(e);for(c=0;c<n.length;c++)r=n[c],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(c=0;c<n.length;c++)r=n[c],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=c.createElement("defs",null,c.createElement("style",null,".cls-1,.cls-3{fill:none;stroke-miterlimit:10;stroke-width:4px;}.cls-1{stroke:#339;}.cls-2{fill:#339;}.cls-3{stroke:#9c6;}.cls-4{fill:#9c6;}")),i=c.createElement("g",{id:"Layer_2","data-name":"Layer 2"},c.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},c.createElement("path",{className:"cls-1",d:"M4.3456,9.448A8.0011,8.0011,0,0,1,18.1469,4.51"}),c.createElement("polygon",{className:"cls-2",points:"8.8 6.723 6.647 15.64 0 9.317 8.8 6.723"}),c.createElement("path",{className:"cls-3",d:"M21.122,11.1279A8.001,8.001,0,0,1,7.3673,16.1942"}),c.createElement("polygon",{className:"cls-4",points:"16.693 13.895 18.763 4.958 25.469 11.218 16.693 13.895"})));function o(e,t){var r=e.title,o=e.titleId,l=n(e,["title","titleId"]);return c.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25.4686 20.6502",ref:t,"aria-labelledby":o},l),r?c.createElement("title",{id:o},r):null,s,i)}var l=c.forwardRef(o);r.p},144:function(e,t,r){},156:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return u}));var c=r(4),a=r(1),n=r.n(a),s=r(7),i=r.n(s),o=r(0),l=n.a.createContext(),u=function(e){var t=e.children,r=Object(a.useState)(),n=Object(c.a)(r,2),s=n[0],u=n[1];return Object(a.useEffect)((function(){i.a.post("/usmktpriceupdates").then((function(e){u(e.data)}))}),[]),Object(o.jsx)(l.Provider,{value:{mktpricedata:s,setMktpricedata:u},children:t})}},205:function(e,t,r){"use strict";var c=r(2),a=(r(71),r(159)),n=r(9),s=r(0),i=function(e){var t=Object(n.y)(),r=e.value.split(" ");return Object(s.jsxs)("g",{transform:"translate(".concat(e.x,",").concat(e.y+22,")"),children:[Object(s.jsx)("line",{strokeWidth:1.5,y1:-22,y2:-12,style:t.axis.ticks.line}),r.map((function(e,r){return Object(s.jsx)("text",{textAnchor:"middle",dominantBaseline:"middle",y:10*r,style:Object(c.a)(Object(c.a)({},t.axis.ticks.text),{},{fontSize:10}),children:e},r)}))]})};t.a=function(e){var t=e.data,r=e.legend,c=e.tooltipFormat,n=e.leftAxisFormat,o=function(e){if(0===e.length)return[];var t=Math.sign(e[0].amount),r=0,c=e.reduce((function(e,c){var a=c.category,n=c.amount,s=n<0?"#db4437":"#93c47d",i=Math.sign(n)===t,o=t*Math.abs(n);return i||(r+=n),e.push({category:a,amount:o,subTotal:r,color:s}),i&&(r+=n),e}),[]);return c.push({category:"End Balance",amount:r,subTotal:0,color:r<0?"#a00000":"#38761d"}),c}(t);return Object(s.jsx)(a.a,{data:o,keys:["subTotal","amount"],indexBy:"category",margin:{top:15,right:0,bottom:75,left:40},padding:.3,colors:function(e){var t=e.id,r=e.data;return"subTotal"===t?"rgba(0, 0, 0, 0)":r.color},borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{renderTick:i},axisLeft:{tickSize:0,tickPadding:5,tickRotation:0,format:n,legend:r,legendOffset:-35,legendPosition:"middle"},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},animate:!0,motionStiffness:90,motionDamping:15,tooltipFormat:c,onClick:function(e){console.log(e)}})}},209:function(e,t,r){"use strict";var c=r(8),a=r.n(c),n=r(11),s=r(6),i=r(2),o=r(28),l=r(4),u=r(1),d=(r(508),r(7)),b=r.n(d),j=r(45),p=r(32),m=r(40),h=(r(165),r(13)),f=r.n(h),O=r(0);t.a=function(e){var t=e.handleClose,r=e.show,c=e.QStoedit,d=Object(u.useContext)(p.a).toggleQSrefresh,h=r?"modal QSmodal display-block":"modal QSmodal display-none",x=Object(u.useState)(),g=Object(l.a)(x,2),y=g[0],v=g[1],N=Object(u.useState)(),S=Object(l.a)(N,2),C=S[0],D=S[1],w=Object(u.useState)([]),k=Object(l.a)(w,2),F=k[0],$=k[1],P=Object(u.useState)(),I=Object(l.a)(P,2),q=I[0],T=I[1],Q=Object(u.useState)(!0),B=Object(l.a)(Q,2),E=B[0],A=B[1];Object(u.useEffect)((function(){r&&b.a.post("/QSIDList").then((function(e){var t=Object(o.a)(new Set(e.data.map((function(e){return e.QSID}))));v(c.QSID),D(c.QSID),$(t),A(!E)}))}),[r]),Object(u.useEffect)((function(){T(F.indexOf(y))}),[E]);var L={includedrate:"",includedperiod:"",quantity:"",materialcost:"",pcommission:"",pfinancecost:"",sfinancecost:"",freightpmt:"",insurancecost:"",inspectioncost:"",scommission:"",interestcost:"",legal:"",pallets:"",other:"",totalcost:"",interestrate:"",interestdays:"",pricebeforeint:"",salesinterest:"",priceafterint:""},K=Object(u.useState)(L),M=Object(l.a)(K,2),R=M[0],G=M[1],Y=Object(u.useState)(null),W=Object(l.a)(Y,2),z=(W[0],W[1]),U=Object(u.useState)(!1),J=Object(l.a)(U,2),H=J[0],V=J[1],_=Object(u.useState)(),Z=Object(l.a)(_,2),X=Z[0],ee=Z[1],te=Object(u.useState)(),re=Object(l.a)(te,2),ce=re[0],ae=re[1],ne=Object(u.useState)(),se=Object(l.a)(ne,2),ie=se[0],oe=se[1];Object(u.useEffect)((function(){r&&y&&b.a.post("/QStoedit",{id:y}).then((function(e){G(e.data[0]),z(e.data[0]),oe(e.data[0].saleComplete),ee(Object(i.a)(Object(i.a)({},X),{},{totalcost:Number(e.data[0].totalcost.replace("$","").replace(",","")),interestcost:Number(e.data[0].interestcost.replace("$","").replace(",","")),salesinterest:Number(e.data[0].salesinterest.replace("$","").replace(",","")),pricebeforeint:Number(e.data[0].pricebeforeint.replace("$","").replace(",","")),priceafterint:Number(e.data[0].priceafterint.replace("$","").replace(",","")),profit:Number(e.data[0].profit.replace("$","").replace(",","")),margin:Number(e.data[0].margin.replace("$","").replace(",","")),turnover:Number(e.data[0].turnover.replace("$","").replace(",","")),pctmargin:Number(e.data[0].pctmargin.replace("%","").replace(",","")/100),netback:Number(e.data[0].netback.replace("$","").replace(",",""))}))}))}),[r,y]);var le=function(e){e.preventDefault(),G(Object(i.a)(Object(i.a)({},R),{},Object(s.a)({},e.target.name,e.target.value))),ee(Object(i.a)(Object(i.a)({},X),{},Object(s.a)({},e.target.name,e.target.value)))},ue=function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""==e.target.value)&&(G(Object(i.a)(Object(i.a)({},R),{},Object(s.a)({},e.target.name,e.target.value))),ee(Object(i.a)(Object(i.a)({},X),{},Object(s.a)({},e.target.name,e.target.value))))},de=function(e){e.preventDefault(),RegExp("^[0-9.,$]+$").test(e.target.value)&&(G(Object(i.a)(Object(i.a)({},R),{},Object(s.a)({},e.target.name,e.target.value))),ee(Object(i.a)(Object(i.a)({},X),{},Object(s.a)({},e.target.name,e.target.value.includes("$")?e.target.value.replace("$",""):e.target.value))))},be=function(e){e.preventDefault(),RegExp("^[0-9.%]+$").test(e.target.value)&&(G(Object(i.a)(Object(i.a)({},R),{},Object(s.a)({},e.target.name,e.target.value))),ee(Object(i.a)(Object(i.a)({},X),{},Object(s.a)({},e.target.name,e.target.value.includes("%")?Number(e.target.value.replace("%",""))/100:Number(e.target.value)/100))))},je=function(e){var t,r;t=e.target.value,r=e.target.name,null!==t&&""!==t?t.toString().includes("$")||t.toString().includes(",")?G(Object(i.a)(Object(i.a)({},R),{},Object(s.a)({},r,"$"+Number(t.replace("$","").replace(",","")).toFixed(2)))):G(Object(i.a)(Object(i.a)({},R),{},Object(s.a)({},r,"$"+Number(t).toFixed(2)))):G(Object(i.a)(Object(i.a)({},R),{},Object(s.a)({},r,"$0.00")))},pe=function(e){var t,r;t=e.target.value,r=e.target.name,null!==t&&""!==t?t.toString().includes("%")?G(Object(i.a)(Object(i.a)({},R),{},Object(s.a)({},r,Number(t.replace("%","")).toFixed(2)+"%"))):G(Object(i.a)(Object(i.a)({},R),{},Object(s.a)({},r,Number(t).toFixed(2)+"%"))):G(Object(i.a)(Object(i.a)({},R),{},Object(s.a)({},r,"0.00%")))};Object(u.useEffect)((function(){ie&&(G(Object(i.a)(Object(i.a)({},R),{},{saleComplete:-1})),ee(Object(i.a)(Object(i.a)({},X),{},{saleComplete:-1}))),ie||(G(Object(i.a)(Object(i.a)({},R),{},{saleComplete:0})),ee(Object(i.a)(Object(i.a)({},X),{},{saleComplete:0})))}),[ie]),Object(u.useEffect)((function(){if(R.from&&!R.to&&(G(Object(i.a)(Object(i.a)({},R),{},{to:R.from})),ee(Object(i.a)(Object(i.a)({},X),{},{to:R.from}))),R.from&&R.to){var e=f()(R.from);f()(R.to).diff(e,"days")<0&&Object(m.confirmAlert)({title:"Check shipment dates",message:"Delivery date (to) cannot be earlier than shipment date (from)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})}}),[R.from,R.to]),Object(u.useEffect)((function(){R.freightTotal&&R.payload&&Number(R.freightTotal.replace("$","").replace(",",""))>0&&Number(R.payload)>0&&(G(Object(i.a)(Object(i.a)({},R),{},{freightpmt:"$"+(Number(R.freightTotal.replace("$","").replace(",",""))/Number(R.payload)).toFixed(2)})),ee(Object(i.a)(Object(i.a)({},X),{},{freightTotal:Number(R.freightTotal.replace("$","").replace(",","")),payload:Number(R.payload),freightpmt:Number(R.freightTotal.replace("$","").replace(",",""))/Number(R.payload)})))}),[R.freightTotal,R.payload]),Object(u.useEffect)((function(){G(Object(i.a)(Object(i.a)({},R),{},{salesinterest:"$"+(Number(R.interestrate.replace("%",""))/100*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360).toFixed(2)})),ee(Object(i.a)(Object(i.a)({},X),{},{salesinterest:Number(R.interestrate.replace("%",""))/100*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360}))}),[R.interestdays,R.interestrate,R.pricebeforeint]),Object(u.useEffect)((function(){G(Object(i.a)(Object(i.a)({},R),{},{interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?"$"+(Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2)})),ee(Object(i.a)(Object(i.a)({},X),{},{interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0}))}),[R.includedrate,R.includedperiod,R.pricebeforeint]),Object(u.useEffect)((function(){0===Number(R.interestrate.replace("%",""))||0===R.interestdays?(G(Object(i.a)(Object(i.a)({},R),{},{interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?"$"+(Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2),salesinterest:"$"+(Number(R.interestrate.replace("%",""))*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360/100).toFixed(2),priceafterint:"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))+Number(R.salesinterest.replace("$",""))).toFixed(2)})),ee(Object(i.a)(Object(i.a)({},X),{},{interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0,salesinterest:Number(R.interestrate.replace("%",""))*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360/100,priceafterint:Number(R.pricebeforeint.replace("$","").replace(",",""))+Number(R.salesinterest.replace("$",""))}))):(G(Object(i.a)(Object(i.a)({},R),{},{interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?"$"+(Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2),salesinterest:"$"+(Number(R.interestrate.replace("%",""))*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360/100).toFixed(2),priceafterint:"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))+Number(R.salesinterest.replace("$",""))).toFixed(2)})),ee(Object(i.a)(Object(i.a)({},X),{},{interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0,salesinterest:Number(R.interestrate.replace("%",""))*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360/100})))}),[R.pricebeforeint]),Object(u.useEffect)((function(){G(Object(i.a)(Object(i.a)({},R),{},{priceafterint:"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))+Number(R.salesinterest.replace("$",""))).toFixed(2)})),ee(Object(i.a)(Object(i.a)({},X),{},{priceafterint:Number(R.pricebeforeint.replace("$","").replace(",",""))+Number(R.salesinterest.replace("$",""))}))}),[R.salesinterest]),Object(u.useEffect)((function(){G(Object(i.a)(Object(i.a)({},R),{},{insurancecost:"CPT"===R.incoterms||"CFR"===R.incoterms||"DAP"===R.incoterms?"$"+(.07*Number(R.pricebeforeint.replace("$","").replace(",",""))*1.1/100).toFixed(2):"CIF"===R.incoterms||"CIP"===R.incoterms?"$"+(.14*Number(R.pricebeforeint.replace("$","").replace(",",""))*1.1/100).toFixed(2):"$0.00",inspectioncost:Number(R.quantity.replace(",",""))>0&&R.totalinspection?"$"+Number(Number(R.totalinspection.replace("$","").replace(",",""))/Number(R.quantity.replace(",",""))).toFixed(2):"$0.00",interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?"$"+(Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2),salesinterest:"$"+(Number(R.interestrate.replace("%",""))*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360/100).toFixed(2),priceafterint:"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))+Number(R.salesinterest.replace("$",""))).toFixed(2),profit:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",",""))).toFixed(2):"$0.00",margin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+((Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))*Number(R.quantity.replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",turnover:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(R.quantity.replace(",",""))*Number(R.pricebeforeint.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",pctmargin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?((Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))/Number(R.pricebeforeint.replace("$","").replace(",",""))*100).toFixed(2)+"%":"0.00%",netback:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",",""))+Number(R.materialcost.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00"})),ee(Object(i.a)(Object(i.a)({},X),{},{insurancecost:"CFR"===R.incoterms||"CPT"===R.incoterms||"DAP"===R.incoterms?.07*Number(R.pricebeforeint.replace("$","").replace(",",""))*1.1/100:"CIP"===R.incoterms||"CIF"===R.incoterms?.14*Number(R.pricebeforeint.replace("$","").replace(",",""))*1.1/100:0,inspectioncost:Number(R.quantity.replace(",",""))>0&&R.totalinspection?Number(Number(R.totalinspection.replace("$","").replace(",",""))/Number(R.quantity.replace(",",""))):0,interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0,salesinterest:Number(R.interestrate.replace("%",""))*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360/100,priceafterint:Number(R.pricebeforeint.replace("$","").replace(",",""))+Number(R.salesinterest.replace("$","")),profit:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")):0,margin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))*Number(R.quantity.replace(",","")):0,turnover:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?Number(R.quantity.replace(",",""))*Number(R.pricebeforeint.replace("$","").replace(",","")):0,pctmargin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))/Number(R.pricebeforeint.replace("$","").replace(",","")):0,netback:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",",""))+Number(R.materialcost.replace("$","").replace(",","")):0}))}),[R.quantity,R.pricebeforeint,R.incoterms,R.totalinspection]),Object(u.useEffect)((function(){G(Object(i.a)(Object(i.a)({},R),{},{profit:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",",""))).toFixed(2):"$0.00",margin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+((Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))*Number(R.quantity.replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",turnover:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(R.quantity.replace(",",""))*Number(R.pricebeforeint.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",pctmargin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?((Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))/Number(R.pricebeforeint.replace("$","").replace(",",""))*100).toFixed(2)+"%":"0.00%",netback:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",",""))+Number(R.materialcost.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00"})),ee(Object(i.a)(Object(i.a)({},X),{},{profit:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")):0,margin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))*Number(R.quantity.replace(",","")):0,turnover:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?Number(R.quantity.replace(",",""))*Number(R.pricebeforeint.replace("$","").replace(",","")):0,pctmargin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))/Number(R.pricebeforeint.replace("$","").replace(",","")):0,netback:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",",""))+Number(R.materialcost.replace("$","").replace(",","")):0}))}),[R.totalcost]),Object(u.useEffect)((function(){G(Object(i.a)(Object(i.a)({},R),{},{totalcost:"$"+(Number(R.materialcost.replace("$","").replace(",",""))+Number(R.pcommission.replace("$","").replace(",",""))+Number(R.pfinancecost.replace("$","").replace(",",""))+Number(R.sfinancecost.replace("$","").replace(",",""))+Number(R.freightpmt.replace("$","").replace(",",""))+Number(R.insurancecost.replace("$","").replace(",",""))+Number(R.inspectioncost.replace("$","").replace(",",""))+Number(R.scommission.replace("$","").replace(",",""))+Number(R.interestcost.replace("$","").replace(",",""))+Number(R.legal.replace("$","").replace(",",""))+Number(R.pallets.replace("$","").replace(",",""))+Number(R.other.replace("$","").replace(",",""))).toFixed(2)})),ee(Object(i.a)(Object(i.a)({},X),{},{totalcost:Number(R.materialcost.replace("$","").replace(",",""))+Number(R.pcommission.replace("$","").replace(",",""))+Number(R.pfinancecost.replace("$","").replace(",",""))+Number(R.sfinancecost.replace("$","").replace(",",""))+Number(R.freightpmt.replace("$","").replace(",",""))+Number(R.insurancecost.replace("$","").replace(",",""))+Number(R.inspectioncost.replace("$","").replace(",",""))+Number(R.scommission.replace("$","").replace(",",""))+Number(R.interestcost.replace("$","").replace(",",""))+Number(R.legal.replace("$","").replace(",",""))+Number(R.pallets.replace("$","").replace(",",""))+Number(R.other.replace("$","").replace(",",""))}))}),[R.materialcost,R.pcommission,R.pfinancecost,R.sfinancecost,R.freightpmt,R.insurancecost,R.inspectioncost,R.scommission,R.interestcost,R.legal,R.pallets,R.other]);var me=function(){var e=Object(n.a)(a.a.mark((function e(r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,b.a.post("/updateQS",{QSedits:X,QSID:y}).then((function(e){d(),G(L)})).catch(ee({}));case 3:return e.next=5,t();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r?Object(O.jsx)("div",{className:h,children:Object(O.jsxs)("section",{className:"modal-main",children:[Object(O.jsxs)("div",{className:"QSeditmodaltitle",children:[Object(O.jsx)("h2",{children:"Edit Quotation Sheet"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{children:"Prev"}),Object(O.jsx)("input",{className:"QSeditmodalsearch",onKeyDown:function(e){r&&"ArrowRight"===e.key&&(e.preventDefault(),v(F[q+1]),D(F[q+1]),T(q+1)),r&&"ArrowLeft"===e.key&&(e.preventDefault(),v(F[q-1]),D(F[q-1]),T(q-1)),r&&"Enter"===e.key&&F.includes(Number(e.target.value))&&v(Number(e.target.value))},value:C&&C||"",onChange:function(e){e.preventDefault(),D(e.target.value),T(F.indexOf(Number(e.target.value)))}}),Object(O.jsx)("button",{children:"Next"})]})]}),Object(O.jsxs)("form",{className:"QSModalForm",action:"",onSubmit:function(e){me(e)},children:[Object(O.jsxs)("section",{id:"edtQS-1",children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"QS Date:"}),Object(O.jsx)("input",{name:"QSDate",type:"date",readOnly:!0,value:R&&R.QSDate||"",className:"canceldrag"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:"WGP:"}),Object(O.jsx)("input",{name:"KTP",placeholder:"5000...",value:R&&R.KTP||"",onChange:ue,className:"canceldrag"})]}),Object(O.jsxs)("fieldset",{children:[Object(O.jsx)("legend",{children:"Sale Type"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"radio",name:"saleTypeID",required:!0,checked:!(!R||1!==R.saleTypeID),onClick:function(e){G(Object(i.a)(Object(i.a)({},R),{},{saleTypeID:1})),ee(Object(i.a)(Object(i.a)({},X),{},{saleTypeID:1}))}}),Object(O.jsx)("label",{htmlFor:"",children:"Back-to-back"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"radio",name:"saleTypeID",required:!0,checked:!(!R||2!==R.saleTypeID),onClick:function(e){G(Object(i.a)(Object(i.a)({},R),{},{saleTypeID:2})),ee(Object(i.a)(Object(i.a)({},X),{},{saleTypeID:2}))}}),Object(O.jsx)("label",{htmlFor:"",children:"Position"}),R&&2===R.saleTypeID?Object(O.jsxs)("select",{className:"WGPSelect2",onClick:function(){b.a.post("/positiondropdown").then((function(e){ae(e.data)}))},onChange:function(e){return function(e){var t=ce[e];console.log(t),G(Object(i.a)(Object(i.a)({},R),{},{KTP:t.KTP,product:t.product,supplier:t.Supplier,from:t.start,to:t.end,materialcost:t.Price})),ee(Object(i.a)(Object(i.a)({},X),{},{KTP:t.KTP,productID:t.productID,supplierID:t.supplierID,from:t.start,to:t.end,materialcost:t.Price.replace("$","").replace(",","")}))}(e.target.value)},children:[Object(O.jsx)("option",{children:"Select..."}),R&&ce?ce.map((function(e,t){return Object(O.jsx)("option",{value:t,children:e.KTP+" - "+e.product+" - "+e.Supplier})})):""]}):""]})]}),Object(O.jsxs)("fieldset",{children:[Object(O.jsx)("legend",{children:"General"}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"QSID:"}),Object(O.jsx)("input",{name:"QSID",type:"text",required:!0,value:R&&R.QSID||"",readOnly:!0})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Product:"}),Object(O.jsx)(j.a,{className:"searchfield",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",thirdName:"productGroup",thirdID:"prodGroupID",value:R&&R.product||"",resetfield:H,setResetfield:V,setProdSupplier:function(e,t,r,c,a,n){G(Object(i.a)(Object(i.a)({},R),{},{product:t,supplier:c,productgroup:n})),ee(Object(i.a)(Object(i.a)({},X),{},{productID:e,supplierID:r}))}})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Supplier:"}),Object(O.jsx)("input",{name:"supplier",type:"text",required:!0,value:R&&R.supplier||""})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Customer:"}),Object(O.jsx)(j.a,{className:"searchfield",searchURL:"/customers",searchID:"customerID",searchName:"customer",value:R&&R.customer||"",resetfield:H,setResetfield:V,setProdSupplier:function(e,t){G(Object(i.a)(Object(i.a)({},R),{},{customer:t})),ee(Object(i.a)(Object(i.a)({},X),{},{customerID:e}))}})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Contact:"}),Object(O.jsx)("input",{name:"contact",type:"text"})]})]}),Object(O.jsxs)("fieldset",{children:[Object(O.jsx)("legend",{children:"Packaging"}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Pack Size:"}),Object(O.jsx)("input",{name:"packsize",type:"text",required:!0,value:R&&R.packsize||"",onChange:le})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Marks:"}),Object(O.jsx)("input",{name:"marks",type:"text",required:!0,value:R&&R.marks||"",onChange:le})]})]}),Object(O.jsxs)("fieldset",{children:[Object(O.jsx)("legend",{children:"Delivery"}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"From:"}),Object(O.jsx)("input",{name:"from",type:"date",required:!0,value:R&&R.from||"",onChange:le})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"To:"}),Object(O.jsx)("input",{name:"to",type:"date",required:!0,value:R&&R.to||"",onChange:le})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"POL:"}),Object(O.jsx)(j.a,{className:"searchfield",searchURL:"/POLS",searchID:"POLID",searchName:"POL",value:R&&R.POL||"",resetfield:H,setResetfield:V,setProdSupplier:function(e,t){G(Object(i.a)(Object(i.a)({},R),{},{POL:t})),ee(Object(i.a)(Object(i.a)({},X),{},{POLID:e}))}})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"POD:"}),Object(O.jsx)(j.a,{className:"searchfield",searchURL:"/PODS",searchID:"PODID",searchName:"POD",value:R&&R.POD||"",resetfield:H,setResetfield:V,setProdSupplier:function(e,t){G(Object(i.a)(Object(i.a)({},R),{},{POD:t})),ee(Object(i.a)(Object(i.a)({},X),{},{PODID:e}))}})]})]})]}),Object(O.jsxs)("section",{id:"editQS-2",children:[Object(O.jsxs)("div",{className:"soldcheckbox",style:{marginBottom:"1rem"},children:[Object(O.jsx)("input",{className:"canceldrag",name:"saleComplete",type:"checkbox",checked:ie,onClick:function(){oe(!ie)}}),Object(O.jsx)("label",{children:"Sold"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:"WGS:"}),Object(O.jsx)("input",{name:"KTS",placeholder:"5000...",value:R&&R.KTS||"",onChange:ue,className:"canceldrag"})]}),Object(O.jsxs)("fieldset",{children:[Object(O.jsx)("legend",{children:"In Charge"}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Trader:"}),Object(O.jsx)("input",{name:"trader",type:"text",required:!0,value:R&&R.trader||"",readOnly:!0})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Traffic:"}),Object(O.jsx)(j.a,{className:"searchfield",searchURL:"/trafficmgrs",searchID:"trafficID",searchName:"traffic",value:R&&R.traffic||"",resetfield:H,setResetfield:V,setProdSupplier:function(e,t){G(Object(i.a)(Object(i.a)({},R),{},{traffic:t})),ee(Object(i.a)(Object(i.a)({},X),{},{trafficID:e}))}})]})]}),Object(O.jsxs)("fieldset",{children:[Object(O.jsx)("legend",{children:"Terms"}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Incoterms:"}),Object(O.jsx)("input",{name:"incoterms",type:"text",required:!0,value:R&&R.incoterms||"",onChange:le})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Payment Terms:"}),Object(O.jsx)(j.a,{className:"searchfield",searchURL:"/paymentterms",searchID:"paytermID",searchName:"paymentTerm",value:R&&R.paymentterms||"",resetfield:H,setResetfield:V,setProdSupplier:function(e,t){G(Object(i.a)(Object(i.a)({},R),{},{paymentterms:t})),ee(Object(i.a)(Object(i.a)({},X),{},{pTermID:e}))}})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Inc. Interest:"}),Object(O.jsx)("input",{name:"includedrate",type:"text",required:!0,value:R&&R.includedrate||"",onChange:be,onBlur:pe})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Inc. Days:"}),Object(O.jsx)("input",{name:"includedperiod",type:"text",required:!0,value:R&&R.includedperiod||"",onChange:le})]})]}),Object(O.jsxs)("div",{className:"shipmentType",children:[Object(O.jsx)("input",{type:"radio",name:"shipmenttype"}),Object(O.jsx)("label",{htmlFor:"",children:"Container"}),Object(O.jsx)("input",{type:"radio",name:"shipmenttype"}),Object(O.jsx)("label",{htmlFor:"",children:"Breakbulk"}),Object(O.jsx)("input",{type:"radio",name:"shipmenttype"}),Object(O.jsx)("label",{htmlFor:"",children:"Distribution"})]}),Object(O.jsxs)("fieldset",{children:[Object(O.jsx)("legend",{children:"Freight"}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Freight ID:"}),Object(O.jsx)("input",{name:"freightID",type:"text"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Freight Total:"}),Object(O.jsx)("input",{name:"freightTotal",className:"QSfig",type:"text",value:R&&R.freightTotal||"",onChange:de,onBlur:je})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Shipping Line:"}),Object(O.jsx)("input",{name:"shippingline",value:R&&R.shippingline||"",onChange:le,type:"text"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Payload:"}),Object(O.jsx)("input",{name:"payload",className:"QSfig",type:"text",value:R&&R.payload||"",onChange:de})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Total Inspection:"}),Object(O.jsx)("input",{name:"totalinspection",type:"text",className:"QSfig",value:R&&R.totalinspection||"",onChange:de,onBlur:je})]})]})]}),Object(O.jsxs)("section",{id:"editQS-3",children:[Object(O.jsxs)("fieldset",{children:[Object(O.jsx)("legend",{children:"Figures"}),Object(O.jsxs)("section",{id:"editQS-3-col1",children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Quantity:"}),Object(O.jsx)("input",{className:"QSfig",name:"quantity",type:"text",required:!0,value:R&&R.quantity||"",onChange:de})]}),Object(O.jsxs)("fieldset",{children:[Object(O.jsx)("legend",{children:"Costs"}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Material Cost:"}),Object(O.jsx)("input",{className:"QSfig",name:"materialcost",type:"text",required:!0,value:R&&R.materialcost||"",onChange:de,onBlur:je})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"P Commission:"}),Object(O.jsx)("input",{className:"QSfig",name:"pcommission",type:"text",required:!0,value:R&&R.pcommission||"",onChange:de,onBlur:je})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"P Finance Cost:"}),Object(O.jsx)("input",{className:"QSfig",name:"pfinancecost",type:"text",required:!0,value:R&&R.pfinancecost||"",onChange:de,onBlur:je})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"S Finance Cost:"}),Object(O.jsx)("input",{className:"QSfig",name:"sfinancecost",type:"text",required:!0,value:R&&R.sfinancecost||"",onChange:de,onBlur:je})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Freight:"}),Object(O.jsx)("input",{className:"QSfig",name:"freightpmt",type:"text",required:!0,value:R&&R.freightpmt||"",onChange:de,onBlur:je})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Insurance Cost:"}),Object(O.jsx)("input",{className:"QSfig",name:"insurancecost",type:"text",required:!0,value:R&&R.insurancecost||"",onChange:de,onBlur:je})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Inspection Cost:"}),Object(O.jsx)("input",{className:"QSfig",name:"inspectioncost",type:"text",required:!0,value:R&&R.inspectioncost||"",onChange:de,onBlur:je})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"S Commission:"}),Object(O.jsx)("input",{className:"QSfig",name:"scommission",type:"text",required:!0,value:R&&R.scommission||"",onChange:de,onBlur:je})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Interest Cost:"}),Object(O.jsx)("input",{className:"QSfig",name:"interestcost",type:"text",required:!0,value:R&&R.interestcost||"",readOnly:!0})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Legal:"}),Object(O.jsx)("input",{className:"QSfig",name:"legal",type:"text",required:!0,value:R&&R.legal||"",onChange:de,onBlur:je})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Pallets:"}),Object(O.jsx)("input",{className:"QSfig",name:"pallets",type:"text",required:!0,value:R&&R.pallets||"",onChange:de,onBlur:je})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Other:"}),Object(O.jsx)("input",{className:"QSfig",name:"other",type:"text",required:!0,value:R&&R.other||"",onChange:de,onBlur:je})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Total Cost:"}),Object(O.jsx)("input",{className:"QSfig",name:"totalcost",type:"text",required:!0,readOnly:!0,value:R&&R.totalcost||"",onChange:de,onBlur:je})]})]}),Object(O.jsxs)("section",{id:"editQS-3-col2",children:[Object(O.jsxs)("fieldset",{children:[Object(O.jsx)("legend",{children:"Sales Interest"}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Interest Rate:"}),Object(O.jsx)("input",{className:"QSfig",name:"interestrate",type:"text",required:!0,value:R&&R.interestrate||"",onChange:be,onBlur:pe})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Interest Days:"}),Object(O.jsx)("input",{className:"QSfig",name:"interestdays",type:"text",required:!0,value:R&&Number(R.interestdays).toFixed(0)||"",onChange:le})]})]}),Object(O.jsxs)("fieldset",{children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Price Before Int.:"}),Object(O.jsx)("input",{className:"QSfig",name:"pricebeforeint",type:"text",required:!0,value:R&&R.pricebeforeint||"",onChange:de,onBlur:je})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Sales Interest:"}),Object(O.jsx)("input",{className:"QSfig",name:"salesinterest",type:"text",required:!0,value:R&&R.salesinterest||"",readOnly:!0})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Price After Int.:"}),Object(O.jsx)("input",{className:"QSfig",name:"priceafterint",type:"text",required:!0,value:R&&R.priceafterint||"",readOnly:!0})]}),Object(O.jsxs)("fieldset",{children:[Object(O.jsx)("legend",{children:"Economics"}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Profit:"}),Object(O.jsx)("input",{className:"QSfig",name:"profit",type:"text",required:!0,value:R&&R.profit||"",readOnly:!0})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Margin:"}),Object(O.jsx)("input",{className:"QSfig",name:"margin",type:"text",required:!0,value:R&&R.margin||"",readOnly:!0})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Turnover:"}),Object(O.jsx)("input",{className:"QSfig",name:"turnover",type:"text",required:!0,value:R&&R.turnover||"",readOnly:!0})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"% Margin:"}),Object(O.jsx)("input",{className:"QSfig",name:"pctmargin",type:"text",required:!0,value:R&&R.pctmargin||"",readOnly:!0})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"",children:"Netback:"}),Object(O.jsx)("input",{className:"QSfig",name:"netback",type:"text",required:!0,value:R&&R.netback||"",readOnly:!0})]})]})]})]}),Object(O.jsxs)("div",{className:"QSedit-buttons",children:[Object(O.jsx)("button",{className:"confirmbutton",type:"submit",children:"Save Edits"}),Object(O.jsx)("button",{className:"cancelbutton",onClick:function(){G(L),t(),ee(null)},children:"Cancel"})]})]})]})]})}):""}},229:function(e,t,r){"use strict";var c=r(2),a=r(4),n=r(1),s=r(7),i=r.n(s),o=r(6),l=r(8),u=r.n(l),d=r(11),b=r(120),j=r.n(b),p=(r(320),r(269),r(76)),m=r(32),h=r(74),f=r(13),O=r.n(f),x=r(40),g=(r(165),r(505),r(0)),y=function(e){var t=JSON.parse(localStorage.getItem("role")),r=(Object(n.useContext)(p.a).state,Object(n.useContext)(m.a)),s=r.QSrefresh,l=r.toggleQSrefresh,b=Object(n.useContext)(h.a),f=b.toggleQSload,y=(b.loaduser,b.QStoload,b.setFromdropdown),v=b.setQStoload,N=b.toggleDuplicate,S=JSON.parse(localStorage.getItem("accesstoken")),C=JSON.parse(localStorage.getItem("refreshtoken")),D=i.a.create({headers:{Authorization:"Bearer ".concat(S)}}),w=i.a.create({headers:{Authorization:"Bearer ".concat(C)}});D.interceptors.response.use((function(e){return e}),function(){var t=Object(d.a)(u.a.mark((function t(r){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!C||403!==r.response.status){t.next=8;break}return t.next=3,w.post("/refreshtoken");case 3:return c=t.sent,S=c.data.accesstoken,t.next=7,D.post("/sales",{userID:e.userID,limit:e.limit},{headers:{Authorization:"Bearer ".concat(S)}});case 7:return t.abrupt("return",t.sent);case 8:return t.abrupt("return",Promise.reject(r.response));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var k=Object(n.useState)([]),F=Object(a.a)(k,2),$=F[0],P=F[1],I=Object(n.useState)(e.config.sort||{column:"",order:""}),q=Object(a.a)(I,2),T=q[0],Q=q[1],B=Object(n.useState)([]),E=Object(a.a)(B,2),A=E[0],L=E[1];Object(n.useState)((function(){e.setColumns(e.config.columns)}),[]),Object(n.useEffect)(Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.post("/sales",{userID:e.userID,limit:e.limit}).then((function(t){P(t.data),e.columns&&L(Object.keys(e.columns))}));case 2:case"end":return t.stop()}}),t)}))),[s,e.userID,e.limit,e.columns]);var K=function(e){var t="asc"===T.order?"headerSortAsc":"headerSortDesc";return T.column===e?t:""},M={"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t}},R=[],G={},Y=/^((?:(?:[<>]=?)|==))\s?([-]?\d+(?:\.\d+)?)$/;A.forEach((function(t){var r,c=e.columns[t].filterText;if(G[t]=null,c.length>0){var a=Y.exec(c);a&&3===a.length?G[t]=(r=a,function(e){if(e)return M[r[1]](e,r[2])}):G[t]=function(e){if(e)return e.toString().toLowerCase().indexOf(c.toLowerCase())>-1}}}));var W=j.a.filter($,(function(e){return j.a.every(A,(function(t){return!G[t]||G[t](e[t])}))})),z=j.a.sortBy(W,T.column);"desc"===T.order&&z.reverse();z.forEach((function(e,r){var c;R.push(Object(g.jsxs)("tr",{id:r,children:[(c=e,A.map((function(e,t){return"quantity"===e?c[e]?Object(g.jsx)("td",{className:"canceldrag",id:e+"-"+c.QSID,children:c[e].toFixed(2)},e+"-"+c.QSID):Object(g.jsx)("td",{className:"canceldrag",id:e+"-"+c.QSID,children:"na"},e+"-"+c.QSID):"materialCost"===e||"oFreight"===e||"priceBeforeInterest"===e||"tradingProfit"===e||"tradingMargin"===e||"netback"===e?c[e]?Object(g.jsx)("td",{className:"canceldrag",id:e+"-"+c.QSID,children:"$"+c[e].toFixed(2)},e+"-"+c.QSID):Object(g.jsx)("td",{className:"canceldrag",id:e+"-"+c.QSID,children:""},e+"-"+c.QSID):"percentageMargin"===e?c[e]?Object(g.jsx)("td",{className:"canceldrag",id:e+"-"+c.QSID,children:c[e].toFixed(2)+"%"},e+"-"+c.QSID):Object(g.jsx)("td",{className:"canceldrag",id:e+"-"+c.QSID,children:""},e+"-"+c.QSID):c[e]?Object(g.jsx)("td",{className:"canceldrag",id:e+"-"+c.QSID,children:c[e]},e+"-"+c.QSID):Object(g.jsx)("td",{className:"canceldrag",id:e+"-"+c.QSID,children:""},e+"-"+c.QSID)}))),Object(g.jsxs)("div",{className:"crudbuttons",children:[Object(g.jsx)("button",{className:"editbutton",onClick:function(t){v(e.QSID),f()},children:"Edit"}),Object(g.jsx)("button",{className:"editbutton",onClick:function(t){var r;t.preventDefault(),y(!0),r=e.QSID,i.a.post("duplicateQS",{QSID:r,QSDate:O()().format("yyyy-MM-DD")}).then((function(e){l(),N()}))},children:"Duplicate"}),1===t||2===t?Object(g.jsx)("button",{className:"editbutton",onClick:function(t){y(!0),Object(x.confirmAlert)({title:"Are you sure?",message:"You are about to delete QS (".concat(e.QSID,"). This deletion is irreversible. Click Delete to continue or Cancel"),buttons:[{label:"Cancel",onClick:function(){return console.log("cancelled")}},{label:"Delete",onClick:function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.delete("/deleteQS",{data:{id:e.QSID}}).then((function(e){l(),N()})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}],closeOnClickOutside:!0,closeOnEscape:!0})},children:"Delete"}):""]})]},r))}));var U=A.map((function(t){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("th",{onClick:(r=t,function(t){var c="asc"===T.order?"desc":"asc";T.column!==r&&(c=e.columns[r].defaultSortOrder),Q({column:r,order:c})}),className:"header canceldrag "+K(t),children:e.columns[t].name})});var r})),J=A.map((function(t){return Object(g.jsx)("td",{className:"sales-filter canceldrag",children:Object(g.jsx)("input",{type:"text",value:e.columns[t].filterText,onChange:function(r){!function(t,r){e.setColumns(Object(c.a)(Object(c.a)({},e.columns),{},Object(o.a)({},r,Object(c.a)(Object(c.a)({},e.columns[r]),{},{filterText:t.target.value}))))}(r,t)}})})}));return Object(g.jsx)("div",{children:Object(g.jsxs)("table",{cellSpacing:"0",className:"tablesorter",children:[Object(g.jsxs)("thead",{children:[Object(g.jsxs)("tr",{children:[U,Object(g.jsx)("th",{className:"header lastheader"})]}),Object(g.jsxs)("tr",{className:"searchboxes",children:[J,Object(g.jsx)("td",{})]})]}),Object(g.jsx)("tbody",{children:R})]})})},v=(r(506),r(130));t.a=function(e){var t=Object(n.useContext)(m.a).toggleQSrefresh,r=Object(n.useContext)(h.a),s=r.loaduser,o=r.setLoaduser,l=(r.QStoload,r.setFromdropdown),u=Object(n.useState)(),d=Object(a.a)(u,2),b=d[0],j=d[1],p=Object(n.useState)(s),f=Object(a.a)(p,2),O=(f[0],f[1],Object(n.useState)(300)),x=Object(a.a)(O,2),N=x[0],S=x[1],C=Object(n.useState)(),D=Object(a.a)(C,2),w=D[0],k=D[1];Object(n.useEffect)((function(){i.a.post("/traders").then((function(e){j(e.data)}))}),[]);return Object(g.jsxs)("div",{className:"saleslist",children:[Object(g.jsxs)("div",{className:"salestitleline",children:[Object(g.jsx)("h3",{className:"saleslisttitle",children:"Sales List"}),Object(g.jsx)("button",{className:"clearfilterbutton",onClick:function(e){k(Object(c.a)(Object(c.a)({},w),{},{QSDate:Object(c.a)(Object(c.a)({},w.QSDate),{},{filterText:""}),QSID:Object(c.a)(Object(c.a)({},w.QSID),{},{filterText:""}),saleType:Object(c.a)(Object(c.a)({},w.saleType),{},{filterText:""}),WGP:Object(c.a)(Object(c.a)({},w.WGP),{},{filterText:""}),WGS:Object(c.a)(Object(c.a)({},w.WGS),{},{filterText:""}),abbreviation:Object(c.a)(Object(c.a)({},w.abbreviation),{},{filterText:""}),supplier:Object(c.a)(Object(c.a)({},w.supplie),{},{filterText:""}),customer:Object(c.a)(Object(c.a)({},w.customer),{},{filterText:""}),beginning:Object(c.a)(Object(c.a)({},w.beginning),{},{filterText:""}),finish:Object(c.a)(Object(c.a)({},w.finish),{},{filterText:""}),portOfLoad:Object(c.a)(Object(c.a)({},w.portOfLoad),{},{filterText:""}),portOfDestination:Object(c.a)(Object(c.a)({},w.portOfDestination),{},{filterText:""}),quantity:Object(c.a)(Object(c.a)({},w.quantity),{},{filterText:""}),materialCost:Object(c.a)(Object(c.a)({},w.materialCost),{},{filterText:""}),oFreight:Object(c.a)(Object(c.a)({},w.oFreight),{},{filterText:""}),priceBeforeInterest:Object(c.a)(Object(c.a)({},w.priceBeforeInterest),{},{filterText:""}),tradingProfit:Object(c.a)(Object(c.a)({},w.tradingProfit),{},{filterText:""}),tradingMargin:Object(c.a)(Object(c.a)({},w.tradingMargin),{},{filterText:""}),percentageMargin:Object(c.a)(Object(c.a)({},w.percentageMargin),{},{filterText:""}),netback:Object(c.a)(Object(c.a)({},w.netback),{},{filterText:""}),saleComplete:Object(c.a)(Object(c.a)({},w.saleComplete),{},{filterText:""})}))},children:"Clear Filters"}),Object(g.jsxs)("select",{onChange:function(e){return S(e.target.value)},children:[Object(g.jsx)("option",{value:300,children:"300"}),Object(g.jsx)("option",{value:1e3,children:"1000"}),Object(g.jsx)("option",{value:"no limit",children:"no limit"})]}),Object(g.jsxs)("select",{onChange:function(e){l(!0),o(e.target.value)},children:[Object(g.jsx)("option",{value:"all",children:"All"}),b?b.map((function(e){return e.trader===s?Object(g.jsx)("option",{selected:!0,value:e.trader,children:e.trader}):Object(g.jsx)("option",{value:e.trader,children:e.trader})})):"reload"]}),Object(g.jsx)(v.a,{className:"refreshicon",onClick:function(e){t()}})]}),Object(g.jsx)(y,{config:{sort:{column:"QSID",order:"desc"},columns:{QSDate:{name:"QSDate",filterText:"",defaultSortOrder:"asc"},QSID:{name:"QSID",filterText:"",defaultSortOrder:"asc"},saleType:{name:"SaleType",filterText:"",defaultSortOrder:"asc"},WGP:{name:"WGP",filterText:"",defaultSortOrder:"asc"},WGS:{name:"WGS",filterText:"",defaultSortOrder:"asc"},abbreviation:{name:"Product",filterText:"",defaultSortOrder:"asc"},supplier:{name:"Supplier",filterText:"",defaultSortOrder:"asc"},customer:{name:"Customer",filterText:"",defaultSortOrder:"asc"},beginning:{name:"From",filterText:"",defaultSortOrder:"asc"},finish:{name:"To",filterText:"",defaultSortOrder:"asc"},portOfLoad:{name:"POL",filterText:"",defaultSortOrder:"asc"},portOfDestination:{name:"POD",filterText:"",defaultSortOrder:"asc"},quantity:{name:"Quantity",filterText:"",defaultSortOrder:"asc"},materialCost:{name:"Cost",filterText:"",defaultSortOrder:"asc"},oFreight:{name:"Freight",filterText:"",defaultSortOrder:"asc"},priceBeforeInterest:{name:"SalesPrice",filterText:"",defaultSortOrder:"asc"},tradingProfit:{name:"Profit",filterText:"",defaultSortOrder:"asc"},tradingMargin:{name:"TotalProfit",filterText:"",defaultSortOrder:"asc"},percentageMargin:{name:"Margin",filterText:"",defaultSortOrder:"asc"},netback:{name:"Netback",filterText:"",defaultSortOrder:"asc"},saleComplete:{name:"Status",filterText:"",defaultSortOrder:"asc"}}},userID:s,limit:N,showEditModal:e.showEditModal,hideEditModal:e.hideEditModal,QSmodalState:e.QSmodalState,QStoedit:e.QStoedit,columns:w,setColumns:k})]})}},245:function(e,t,r){},269:function(e,t,r){"use strict";var c=r(8),a=r.n(c),n=r(11),s=r(6),i=r(2),o=r(4),l=r(1),u=(r(503),r(7)),d=r.n(u),b=r(13),j=r.n(b),p=r(32),m=r(45),h=r(0);t.a=function(e){var t=e.handleClose,r=e.show,c=e.positiontoedit,u=Object(l.useContext)(p.a),b=(u.posrefresh,u.togglePosrefresh),f=r?"modal display-block":"modal display-none",O=c.WGP,x=Object(l.useState)(),g=Object(o.a)(x,2),y=g[0],v=g[1],N=Object(l.useState)(),S=Object(o.a)(N,2),C=S[0],D=S[1],w=Object(l.useState)(),k=Object(o.a)(w,2),F=k[0],$=k[1],P=Object(l.useState)(!1),I=Object(o.a)(P,2),q=I[0],T=I[1];Object(l.useEffect)((function(){O&&r&&d.a.post("/positiontoedit",{id:O}).then((function(e){v(e.data[0]),D(e.data[0]),$({id:e.data[0].positionID,WGP:e.data[0].WGP})}))}),[r]);var Q=function(e){e.preventDefault(),v(Object(i.a)(Object(i.a)({},y),{},Object(s.a)({},e.target.name,e.target.value)))},B=function(e){e.preventDefault(),(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&v(Object(i.a)(Object(i.a)({},y),{},Object(s.a)({},e.target.name,e.target.value)))};Object(l.useEffect)((function(){y&&C&&function(e,t){for(var r=0,c=Object.keys(e);r<c.length;r++){var a=c[r];e[a]!==t[a]&&($(Object(i.a)(Object(i.a)({},F),{},Object(s.a)({},a,e[a]))),console.log(F))}}(y,C)}),[y]);var E=function(){var e=Object(n.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$({});case 2:return e.next=4,b();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(n.a)(a.a.mark((function e(r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),t(r),e.next=4,d.a.post("/positionupdate",{poschanges:F}).then((function(e){return E()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:f,children:Object(h.jsx)("section",{className:"modal-main",children:Object(h.jsxs)("form",{className:"positionModalForm",onSubmit:A,children:[Object(h.jsx)("h2",{children:"Edit Position"}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"",children:"WGP:"}),Object(h.jsx)("input",{name:"WGP",type:"text",value:y&&y.WGP||"",onChange:function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""===e.target.value)&&v(Object(i.a)(Object(i.a)({},y),{},Object(s.a)({},e.target.name,e.target.value)))},className:"canceldrag"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"",children:"Product:"}),Object(h.jsx)(m.a,{className:"searchfield canceldrag",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",thirdName:"productGroup",thirdID:"prodGroupID",resetfield:q,setResetfield:T,value:y&&y.product||"",setProdSupplier:function(e,t,r,c,a,n){v(Object(i.a)(Object(i.a)({},y),{},{product:t,supplier:c,productGroup:n})),$(Object(i.a)(Object(i.a)({},F),{},{productID:e,supplierID:r,productGroupID:a}))}})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"",children:"Supplier:"}),Object(h.jsx)("input",{name:"supplier",type:"text",value:y&&y.supplier||"",className:"canceldrag",readOnly:!0})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"",children:"ProdGroup:"}),Object(h.jsx)("input",{name:"productgroup",type:"text",value:y&&y.productGroup||"",className:"canceldrag",readOnly:!0})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"",children:"QuantityL:"}),Object(h.jsx)("input",{name:"quantityLow",type:"text",value:y&&y.quantityLow||"",onChange:B,className:"canceldrag"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"",children:"QuantityH:"}),Object(h.jsx)("input",{name:"quantityHigh",type:"text",value:y&&y.quantityHigh||"",onChange:B,className:"canceldrag"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"",children:"FOB:"}),Object(h.jsx)("input",{name:"FOBCost",type:"text",value:y&&y.FOBCost||"",onChange:Q,className:"canceldrag"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"From:"}),Object(h.jsx)("input",{name:"shipmentStart",type:"date",value:y&&j()(y.shipmentStart).format("YYYY-MM-DD")||"",onChange:Q,className:"canceldrag"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"To:"}),Object(h.jsx)("input",{name:"shipmentEnd",type:"date",value:y&&j()(y.shipmentEnd).format("YYYY-MM-DD")||"",onChange:Q,className:"canceldrag"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"",children:"Notes:"}),Object(h.jsx)("textarea",Object(s.a)({name:"notes",className:"canceldrag",value:y&&y.notes||"",onChange:Q},"className","canceldrag"))]}),Object(h.jsx)("button",{className:"confirmbutton",type:"submit",children:"Save Edits"}),Object(h.jsx)("button",{className:"cancelbutton",onClick:function(e){e.preventDefault(),t(e),$({})},children:"Cancel"})]})})})}},270:function(e,t,r){"use strict";var c=r(4),a=r(1),n=(r(527),r(7)),s=r.n(n),i=r(13),o=r.n(i),l=r(0);t.a=function(){var e=Object(a.useState)(),t=Object(c.a)(e,2),r=t[0],n=t[1],i=Object(a.useState)(o()().format("YYYY-1-1")),u=Object(c.a)(i,2),d=u[0],b=u[1],j=Object(a.useState)(o()().format("YYYY-M-D")),p=Object(c.a)(j,2),m=p[0],h=p[1];return Object(a.useEffect)((function(){d&&m&&s.a.post("/keyfigures",{startdate:d,enddate:m}).then((function(e){n(e.data[0])}))}),[d,m]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"keyfigures-buttons",children:["From ",o()(d).format("MMM D YYYY")," to"," ",o()(m).format("MMM D YYYY"),":",Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:function(e){e.preventDefault(),b(o()().format("YYYY-1-1")),h(o()().format("YYYY-M-D"))},children:"YTD"}),Object(l.jsx)("button",{onClick:function(e){e.preventDefault(),b(o()().format("YYYY-M-1")),h(o()().format("YYYY-M-D"))},children:"This Month"}),Object(l.jsx)("button",{onClick:function(e){e.preventDefault();var t=o()().month()-1;console.log(t),b(o()().format("YYYY-".concat(t,"-D"))),h(o()().format("YYYY-M-D"))},children:"30 days"})]})]}),Object(l.jsxs)("div",{className:"keyfigures-list",children:[Object(l.jsxs)("div",{className:"keyfigure-volume",children:[Object(l.jsx)("h1",{className:"kfig",children:r?r.Sales.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"reload"}),Object(l.jsx)("h4",{children:"Volume (mt)"})]}),Object(l.jsxs)("div",{className:"keyfigure-revenue",children:[Object(l.jsx)("h1",{className:"kfig",children:r?"$"+(r.Revenue/1e6).toFixed(2).toString()+"mio":"reload"}),Object(l.jsx)("h4",{children:"Revenue"})]}),Object(l.jsxs)("div",{className:"keyfigure-profit",children:[Object(l.jsx)("h1",{className:"kfig",children:r?"$"+(r.Margin/1e3).toFixed(0).toString()+"K":"reload"}),Object(l.jsx)("h4",{children:"Profit"})]}),Object(l.jsxs)("div",{className:"keyfigure-profitpmt",children:[Object(l.jsx)("h1",{className:"kfig",children:r?"$"+r.Profit.toFixed(2).toString():"reload"}),Object(l.jsx)("h4",{children:"Avg. Profit (pmt)"})]}),Object(l.jsxs)("div",{className:"keyfigure-profitpct",children:[Object(l.jsx)("h1",{className:"kfig",children:r?(r.Margin/r.Revenue*100).toFixed(2).toString()+"%":"reload"}),Object(l.jsx)("h4",{children:"Profit (%)"})]})]})]})}},271:function(e,t,r){"use strict";var c=r(8),a=r.n(c),n=r(11),s=r(4),i=r(7),o=r.n(i),l=r(1),u=r(162),d=r(0);t.a=function(){var e=Object(l.useState)(),t=Object(s.a)(e,2),r=t[0],c=t[1],i=Object(l.useState)(),b=Object(s.a)(i,2),j=b[0],p=b[1];return Object(l.useEffect)(Object(n.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/donut").then((function(e){c(e.data)}));case 2:return e.next=4,o.a.post("/donutqty").then((function(e){p(e.data)}));case 4:case"end":return e.stop()}}),e)}))),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{style:{display:"sticky"},children:"Profit and Volume, by Trader"}),Object(d.jsx)("div",{style:{height:"100%",display:"flex"},children:r&&j?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.a,{data:r,margin:{top:40,right:0,bottom:40,left:20},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"blues"},valueFormat:">-$,",startAngle:-90,endAngle:270,radialLabelsSkipAngle:10,sliceLabelsSkipAngle:10,sliceLabelsTextColor:"white"}),Object(d.jsx)(u.a,{data:j,margin:{top:40,right:20,bottom:40,left:0},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"yellow_orange_red"},valueFormat:">-,",startAngle:-90,endAngle:270,radialLabelsSkipAngle:10,sliceLabelsSkipAngle:10,sliceLabelsTextColor:"white"})]}):""})]})}},277:function(e,t,r){"use strict";var c=r(8),a=r.n(c),n=r(11),s=r(4),i=r(7),o=r.n(i),l=r(1),u=r(159),d=(r(119),r(0));t.a=function(){var e=Object(l.useState)(),t=Object(s.a)(e,2),r=t[0],c=t[1];return Object(l.useEffect)(Object(n.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/barsalesperyear").then((function(e){return c(e.data)}));case 2:case"end":return e.stop()}}),e)}))),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{style:{display:"sticky"},children:"Volume Sales per Year"}),Object(d.jsx)("div",{style:{height:"100%",display:"flex"},children:r?Object(d.jsx)(u.a,{data:r,margin:{top:50,right:0,bottom:50,left:60},indexBy:"year",keys:["quantity"],axisBottom:{tickSize:5,tickPadding:5},colors:"rgb(160,183,103)",labelTextColor:"white",labelFormat:">-,",tooltipFormat:function(e){return"".concat(Number(e).toLocaleString())}}):""})]})}},278:function(e,t,r){"use strict";var c=r(8),a=r.n(c),n=r(11),s=r(4),i=r(7),o=r.n(i),l=r(1),u=r(159),d=r(0);t.a=function(){var e=Object(l.useState)(),t=Object(s.a)(e,2),r=t[0],c=t[1];return Object(l.useEffect)(Object(n.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/barsalesperyear").then((function(e){return c(e.data)}));case 2:case"end":return e.stop()}}),e)}))),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{style:{display:"sticky"},children:"Profit per Year"}),Object(d.jsx)("div",{style:{height:"100%",display:"flex"},children:r?Object(d.jsx)(u.a,{data:r,margin:{top:50,right:0,bottom:50,left:60},indexBy:"year",keys:["profit"],axisBottom:{tickSize:5,tickPadding:5},colors:"#871C8C",labelTextColor:"white",labelFormat:">-$,",tooltipFormat:function(e){return"$"+"".concat(Number(e).toLocaleString())}}):""})]})}},279:function(e,t,r){"use strict";var c=r(8),a=r.n(c),n=r(11),s=r(4),i=r(7),o=r.n(i),l=r(1),u=r(162),d=r(0);t.a=function(){var e=Object(l.useState)(),t=Object(s.a)(e,2),r=t[0],c=t[1],i=Object(l.useState)(),b=Object(s.a)(i,2),j=b[0],p=b[1];return Object(l.useEffect)(Object(n.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/pieprofitbycountry").then((function(e){c(e.data)}));case 2:return e.next=4,o.a.post("/pievolumebycountry").then((function(e){p(e.data)}));case 4:case"end":return e.stop()}}),e)}))),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{style:{display:"absolute",top:0},children:"Profit and Volume, by Country"}),Object(d.jsx)("div",{style:{height:"100%",display:"flex"},children:r&&j?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.a,{data:r,id:"country",value:"profit",margin:{top:40,right:20,bottom:40,left:40},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"blues"},valueFormat:">-$,",startAngle:-90,endAngle:270,radialLabelsSkipAngle:20,sliceLabelsSkipAngle:25,sliceLabelsTextColor:"white"}),Object(d.jsx)(u.a,{data:j,id:"country",value:"quantity",margin:{top:40,right:40,bottom:40,left:0},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"yellow_orange_red"},valueFormat:">-,",startAngle:-90,endAngle:270,radialLabelsSkipAngle:15,sliceLabelsSkipAngle:15,sliceLabelsTextColor:"white"})]}):""})]})}},280:function(e,t,r){"use strict";var c=r(4),a=r(1),n=r(7),s=r.n(n),i=r(13),o=r.n(i),l=(r(509),r(49)),u=r(74),d=r(0),b=function(e){var t=e.usposnumber,r=e.usposmatchnumber,n=t===r?"postooltip":"postooltip display-none",i=Object(a.useState)(),o=Object(c.a)(i,2),l=o[0],u=o[1];return Object(a.useEffect)((function(){t===r&&s.a.post("/usposmatching",{usposnumber:t}).then((function(e){u(e.data)}))}),[r]),Object(d.jsxs)("span",{className:n,children:[Object(d.jsxs)("h4",{children:["Matching Sales for Lot ",t]}),Object(d.jsxs)("ul",{children:[Object(d.jsxs)("li",{className:"posmatchitem",children:[Object(d.jsx)("h4",{children:"WGS"}),Object(d.jsx)("h4",{children:"Trader"}),Object(d.jsx)("h4",{children:"Customer"}),Object(d.jsx)("h4",{children:"Quantity (mt)"}),Object(d.jsx)("h4",{children:"Sales Price (/mt)"}),Object(d.jsx)("h4",{children:"Profit (pmt)"}),Object(d.jsx)("h4",{children:"Shipment Date"})]}),l?l.map((function(e){return Object(d.jsxs)("li",{className:"posmatchitem",children:[Object(d.jsx)("p",{children:e.KTS}),Object(d.jsx)("p",{children:e.tCode}),Object(d.jsx)("p",{children:e.companyCode}),Object(d.jsx)("p",{children:e.quantity}),Object(d.jsx)("p",{children:"$"+e.priceAfterInterest}),Object(d.jsx)("p",{children:"$"+e.tradingProfit}),Object(d.jsx)("p",{children:e.whexit})]})})):"No matching sales found"]})]})},j=r(46),p=r(25),m=r(156),h=function(e){var t=e.usqsid,r=e.usqsidmatch,n=e.setUsqsidmatch,i=Object(a.useContext)(m.a).setMktpricedata,o=t===r?"mktpriceupdatemenu":"mktpriceupdatemenu display-none",l=Object(a.useState)(),u=Object(c.a)(l,2),b=u[0],j=u[1];return Object(d.jsx)("div",{className:o,children:Object(d.jsxs)("form",{onSubmit:function(e){!function(e){e.preventDefault(),s.a.post("/addusmktprice",{mktprice:b,usqsid:t}).then((function(){s.a.post("/usmktpriceupdates").then((function(e){i(e.data),n(0),j("")}))}))}(e)},children:[Object(d.jsx)("input",{value:b,onChange:function(e){!function(e){(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&j(e.target.value)}(e)},onDoubleClick:function(e){e.target.select()},required:!0}),Object(d.jsx)("button",{type:"submit",children:"Update"})]})})};t.a=function(){var e=Object(a.useContext)(u.a),t=e.setQStoload,r=e.setLoaduser,n=e.setFromdropdown,i=Object(a.useContext)(m.a).mktpricedata;Array.prototype.groupBy=function(e){return this.reduce((function(t,r){var c=r[e];return t[c]=t[c]||[],t[c].push(r),t}),{})};var f=Object(a.useState)({}),O=Object(c.a)(f,2),x=O[0],g=O[1];Object(a.useEffect)((function(){s.a.post("/usapositionreport").then((function(e){var t=e.data.groupBy("productGroup");g(t)}))}),[]);var y=function(e,t,r,c,a,n,s){var i=o()().diff(o()(e),"days")>0?o()().diff(o()(e),"days"):0,l=i>c?i=c:0;return t/s+Math.ceil(l/a)*r*n/s},v=Object(a.useState)(0),N=Object(c.a)(v,2),S=N[0],C=N[1],D=Object(a.useState)(0),w=Object(c.a)(D,2),k=w[0],F=w[1],$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return t+" "+e.toFixed(r).replace(/\B(?=(\d{3})+(?!\d))/g,",")},P=function(e){if(i){var t=i.filter((function(t){return t.QSID===e}));return t[0]?$(t[0].mktpriceupdate):"N/A"}},I=function(e,t){if(i){var r=i.filter((function(t){return t.QSID===e}));return r[0]?$(r[0].mktpriceupdate*t,"$",0):"N/A"}},q=function(e,t,r){if(i){var c=i.filter((function(t){return t.QSID===e}));return c[0]?$(c[0].mktpriceupdate*t-t*Number(r.replace(/[^0-9.-]+/g,"")),"$",0):"N/A"}},T="",Q={},B=0,E=0,A=0;return Object(d.jsx)("div",{className:"uspositionreport",children:Object(d.jsxs)("table",{id:"uspositionreporttable",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"USWGP"}),Object(d.jsx)("th",{className:"fig",children:"Quantity"}),Object(d.jsx)("th",{className:"fig",children:"Inventory"}),Object(d.jsx)("th",{children:"Warehouse"}),Object(d.jsx)("th",{className:"fig",children:"EW Price"}),Object(d.jsx)("th",{className:"fig",children:"Storage"}),Object(d.jsx)("th",{children:"Supplier"}),Object(d.jsx)("th",{children:"From"}),Object(d.jsx)("th",{children:"To"}),Object(d.jsx)("th",{className:"fig",children:"CostValue"}),Object(d.jsx)("th",{className:"fig",children:"MktPrice"}),Object(d.jsx)("th",{className:"fig",children:"MktValue"}),Object(d.jsx)("th",{className:"fig",children:"PProfit"})]})}),Object(d.jsx)("tbody",{children:Object.entries(x).map((function(e,c){return T=Object.keys(x)[c],Q=x[T].groupBy("product"),[Object(d.jsx)("tr",{children:Object(d.jsx)("td",{className:"usprodgroup",colSpan:13,children:Object(d.jsx)("p",{children:T})})}),Object.entries(Q).map((function(e,c){return B=0,E=0,A=0,[Object(d.jsx)("tr",{children:Object(d.jsx)("td",{className:"usproduct",colSpan:13,children:Object(d.jsx)("h4",{children:Object.keys(Q)[c]})})}),e[1].map((function(e){B+=Number(e.Inventory);var c=q(e.QSID,e.Inventory,e.EWPrice);return E+=Number(c.replace("$","").replace(",","")),A+=e.Inventory*(Number(e.EWPrice.replace(/[^0-9.-]+/g,""))+y(e.whentry,e.storagefixed,e.storagevariable,e.stggraceperiod,e.stgaccrualperiod,e.quantitypallets,e.quantity)),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsxs)("div",{className:"postooltipsource",onMouseOver:function(t){!function(e){C(e)}(e.USWGP)},onMouseLeave:function(e){C(0)},children:[Object(d.jsx)(l.b,{onClick:function(c){n(!1),t(e.QSID),r(e.tCode)},to:"/sales",children:e.USWGP}),Object(d.jsx)(b,{usposnumber:e.USWGP,usposmatchnumber:S})]})}),Object(d.jsx)("td",{className:"fig",children:e.quantity.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Object(d.jsx)("td",{className:"fig",children:Number(e.Inventory).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Object(d.jsx)("td",{children:e.warehouseName}),Object(d.jsx)("td",{className:"fig",children:e.EWPrice.replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Object(d.jsx)("td",{children:"$"+y(e.whentry,e.storagefixed,e.storagevariable,e.stggraceperiod,e.stgaccrualperiod,e.quantitypallets,e.quantity).toFixed(2)}),Object(d.jsx)("td",{children:e.supplier}),Object(d.jsx)("td",{children:o()(e.shipmentStart).format("DD-MMM-YYYY").toString()}),Object(d.jsx)("td",{children:o()(e.shipmentEnd).format("DD-MMM-YYYY").toString()}),Object(d.jsx)("td",{className:"fig",children:"$"+(e.Inventory*(Number(e.EWPrice.replace(/[^0-9.-]+/g,""))+y(e.whentry,e.storagefixed,e.storagevariable,e.stggraceperiod,e.stgaccrualperiod,e.quantitypallets,e.quantity))).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Object(d.jsxs)("td",{className:"mktpriceupdate fig",children:[Object(d.jsx)(j.a,{style:{marginRight:"5px"},onClick:function(t){e.QSID===k?F(0):F(e.QSID)},name:"hi",icon:p.f}),Object(d.jsx)(h,{usqsid:e.QSID,usqsidmatch:k,setUsqsidmatch:F}),Object(d.jsxs)("p",{children:[P(e.QSID)," "]})]}),Object(d.jsx)("td",{className:"fig",children:I(e.QSID,e.Inventory)}),Object(d.jsx)("td",{className:"fig",children:q(e.QSID,e.Inventory,e.EWPrice)})]})})})),Object(d.jsxs)("tr",{className:"totals",children:[Object(d.jsx)("td",{colSpan:2,children:Object(d.jsx)("h4",{children:"Total"})}),Object(d.jsx)("td",{className:"fig",children:Object(d.jsx)("h4",{children:B.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})}),Object(d.jsx)("td",{colSpan:6}),Object(d.jsx)("td",{className:"fig",children:Object(d.jsx)("h4",{children:$(A,"$",0)})}),Object(d.jsx)("td",{colSpan:2}),Object(d.jsx)("td",{className:"fig",children:Object(d.jsx)("h4",{children:$(E,"$",0)})})]})]}))]}))})]})})}},311:function(e,t,r){"use strict";r(8),r(11),r(4),r(1),r(76),r(7),r(0)},32:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var c=r(4),a=r(1),n=r.n(a),s=r(0),i=n.a.createContext(),o=function(e){var t=e.children,r=Object(a.useState)(!0),n=Object(c.a)(r,2),o=n[0],l=n[1],u=Object(a.useState)(!0),d=Object(c.a)(u,2),b=d[0],j=d[1];return Object(s.jsx)(i.Provider,{value:{posrefresh:o,togglePosrefresh:function(e){l((function(e){return!e}))},QSrefresh:b,toggleQSrefresh:function(e){j((function(e){return!e}))}},children:t})}},320:function(e,t,r){},321:function(e,t,r){},370:function(e,t,r){},376:function(e,t,r){"use strict";r(8),r(11),r(4),r(7),r(1),r(119),r(0)},377:function(e,t,r){"use strict";var c=r(8),a=r.n(c),n=r(11),s=r(6),i=r(2),o=r(4),l=r(1),u=(r(321),r(13)),d=r.n(u),b=r(53),j=r(7),p=r.n(j),m=r(32),h=r(40),f=(r(165),r(0));t.a=function(){var e=Object(l.useContext)(m.a).toggleQSrefresh,t={KTP:"",KTS:"",saleType:"",QSDate:d()().format("yyyy-MM-DD"),abbreviation:"",supplier:"",customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGuserID")),traffic:"",incoterms:"",CADintrate:.06,CADdays:10,paymentTerm:"",shipmentType:1,freightTotal:0,shippingline:"",payload:0,totalinspection:0,quantity:0,materialcost:0,pcommission:0,pfinancecost:0,sfinancecost:0,freightpmt:0,insurance:0,inspectionpmt:0,scommission:0,interestcost:0,legal:1,pallets:0,other:0,totalcost:0,interestrate:0,interestdays:0,pricebeforeint:0,salesinterest:0,priceafterint:0,profit:0,margin:0,turnover:0,pctmargin:0,netback:0,saleComplete:0},r={KTP:"",KTS:"",saleType:"",QSDate:d()().format("yyyy-MM-DD"),customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGusercode")),traffic:"",incoterms:"",CADintrate:"6.00%",CADdays:"10",paymentTerm:"",shipmentType:"Container",freightTotal:"0.00",shippingline:"",payload:"0.00",totalinspection:"0.00",quantity:"",materialcost:"0.00",pcommission:"0.00",pfinancecost:"0.00",sfinancecost:"0.00",freightpmt:"0.00",insurance:"0.00",inspectionpmt:"0.00",scommission:"0.00",interestcost:"0.00",legal:"1.00",pallets:"0.00",other:"0.00",totalcost:"0.00",interestrate:"0.00%",interestdays:"0",pricebeforeint:"0.00",salesinterest:"0.00",priceafterint:"0.00",profit:"0.00",margin:"0.00",turnover:"0.00",pctmargin:"0.00",netback:"0.00",saleComplete:0},c=Object(l.useState)(t),u=Object(o.a)(c,2),j=u[0],O=u[1],x=Object(l.useState)(r),g=Object(o.a)(x,2),y=g[0],v=g[1],N=Object(l.useState)(),S=Object(o.a)(N,2),C=S[0],D=S[1],w=Object(l.useState)(!1),k=Object(o.a)(w,2),F=k[0],$=k[1],P=Object(l.useState)(!1),I=Object(o.a)(P,2),q=I[0],T=I[1];Object(l.useEffect)((function(){q&&O(Object(i.a)(Object(i.a)({},j),{},{saleComplete:-1})),q||O(Object(i.a)(Object(i.a)({},j),{},{saleComplete:0}))}),[q]);var Q=function(e,t,r,c,a,n){var o,l;""===t&&""===c&&""===n?(O(Object(i.a)(Object(i.a)({},j),{},Object(s.a)({},r,e))),v(Object(i.a)(Object(i.a)({},y),{},Object(s.a)({},r,a)))):(O(Object(i.a)(Object(i.a)({},j),{},(o={},Object(s.a)(o,r,e),Object(s.a)(o,c,t),o))),v(Object(i.a)(Object(i.a)({},y),{},(l={},Object(s.a)(l,r,a),Object(s.a)(l,c,n),l))))},B=function(e){O(Object(i.a)(Object(i.a)({},j),{},Object(s.a)({},e.target.name,e.target.value))),v(Object(i.a)(Object(i.a)({},y),{},Object(s.a)({},e.target.name,e.target.value)))},E=function(e){(RegExp("^[0-9.,%]+$").test(e.target.value)||""===e.target.value)&&(e.target.value.toString().includes("%")?(O(Object(i.a)(Object(i.a)({},j),{},Object(s.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(2)/100))),v(Object(i.a)(Object(i.a)({},y),{},Object(s.a)({},e.target.name,e.target.value.replace("%",""))))):(O(Object(i.a)(Object(i.a)({},j),{},Object(s.a)({},e.target.name,Number(e.target.value).toFixed(2)/100))),v(Object(i.a)(Object(i.a)({},y),{},Object(s.a)({},e.target.name,e.target.value)))))},A=function(e){v(Object(i.a)(Object(i.a)({},y),{},Object(s.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(2)+"%")))},L=function(e){(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&(O(Object(i.a)(Object(i.a)({},j),{},Object(s.a)({},e.target.name,Number(Number(e.target.value).toFixed(2))))),v(Object(i.a)(Object(i.a)({},y),{},Object(s.a)({},e.target.name,e.target.value))))},K=function(e){v(Object(i.a)(Object(i.a)({},y),{},Object(s.a)({},e.target.name,Number(e.target.value.replace(",","")).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""===e.target.value&&O(Object(i.a)(Object(i.a)({},j),{},Object(s.a)({},e.target.name,0)))},M=function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""==e.target.value)&&(v(Object(i.a)(Object(i.a)({},y),{},Object(s.a)({},e.target.name,e.target.value))),O(Object(i.a)(Object(i.a)({},j),{},Object(s.a)({},e.target.name,e.target.value))))};Object(l.useEffect)((function(){if(y.from&&!y.to&&(v(Object(i.a)(Object(i.a)({},y),{},{to:y.from})),O(Object(i.a)(Object(i.a)({},j),{},{to:j.from}))),y.from&&y.to){var e=d()(y.from),t=d()(y.to);console.log(t.diff(e,"days")),t.diff(e,"days")<0&&Object(h.confirmAlert)({title:"Check shipment dates",message:"Delivery date (to) cannot be earlier than shipment date (from)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})}}),[y.from,y.to]),Object(l.useEffect)((function(){j.freightTotal>0&&j.payload>0&&(v(Object(i.a)(Object(i.a)({},y),{},{freightpmt:(j.freightTotal/j.payload).toFixed(2)})),O(Object(i.a)(Object(i.a)({},j),{},{freightpmt:j.freightTotal/j.payload})))}),[j.freightTotal,j.payload]),Object(l.useEffect)((function(){O(Object(i.a)(Object(i.a)({},j),{},{salesinterest:Number((j.interestrate*Number(j.interestdays)*Number(j.pricebeforeint)/360).toFixed(4))})),v(Object(i.a)(Object(i.a)({},y),{},{salesinterest:Number(j.interestrate*Number(j.interestdays)*Number(j.pricebeforeint)/360).toFixed(2)}))}),[j.interestdays,j.interestrate]),Object(l.useEffect)((function(){O(Object(i.a)(Object(i.a)({},j),{},{interestcost:Number((j.CADintrate*j.CADdays*j.pricebeforeint/360).toFixed(4))})),v(Object(i.a)(Object(i.a)({},y),{},{interestcost:Number(j.CADintrate*j.CADdays*j.pricebeforeint/360).toFixed(2)}))}),[j.CADdays,j.CADintrate,j.pricebeforeint]),Object(l.useEffect)((function(){O(Object(i.a)(Object(i.a)({},j),{},{insurance:"CPT"===j.incoterms||"CFR"===j.incoterms||"DAP"===j.incoterms?Number((.07*j.pricebeforeint*1.1/100).toFixed(2)):"CIP"===j.incoterms||"CIF"===j.incoterms?Number((.14*j.pricebeforeint*1.1/100).toFixed(2)):0,inspectionpmt:j.quantity>0&&j.totalinspection?Number((j.totalinspection/j.quantity).toFixed(2)):0,interestcost:Number((j.CADintrate*j.CADdays*j.pricebeforeint/360).toFixed(4)),salesinterest:Number((Number(j.interestrate)*Number(j.interestdays)*Number(j.pricebeforeint)/360).toFixed(4)),priceafterint:Number(j.pricebeforeint)+10*Number(j.salesinterest),profit:0!==j.quantity&&0!==j.pricebeforeint?Number((j.pricebeforeint-j.totalcost).toFixed(4)):0,margin:0!==j.quantity&&0!==j.pricebeforeint?Number(((j.pricebeforeint-j.totalcost)*j.quantity).toFixed(4)):0,turnover:0!==j.quantity&&0!==j.pricebeforeint?Number((j.quantity*j.pricebeforeint).toFixed(4)):0,pctmargin:0!==j.quantity&&0!==j.pricebeforeint?Number(((j.pricebeforeint-j.totalcost)/j.pricebeforeint).toFixed(4)):0,netback:0!==j.quantity&&0!==j.pricebeforeint?Number((j.pricebeforeint-j.totalcost+j.materialcost).toFixed(4)):0})),v(Object(i.a)(Object(i.a)({},y),{},{insurance:"CPT"===j.incoterms||"CFR"===j.incoterms||"DAP"===j.incoterms?Number(.07*j.pricebeforeint*1.1/100).toFixed(2):"CIP"===j.incoterms||"CIF"===j.incoterms?Number(.14*j.pricebeforeint*1.1/100).toFixed(2):Number(0).toFixed(2),inspectionpmt:j.quantity>0&&j.totalinspection?Number(j.totalinspection/j.quantity).toFixed(2):"0.00",interestcost:Number(j.CADintrate*j.CADdays*j.pricebeforeint/360).toFixed(2),salesinterest:Number(Number(j.interestrate)*Number(j.interestdays)*Number(j.pricebeforeint)/360).toFixed(2),priceafterint:Number(Number(j.pricebeforeint)+10*Number(j.salesinterest)).toFixed(2),profit:0!==j.quantity&&0!==j.pricebeforeint?Number(j.pricebeforeint-j.totalcost).toFixed(2):Number(0).toFixed(2),margin:0!==j.quantity&&0!==j.pricebeforeint?Number((j.pricebeforeint-j.totalcost)*j.quantity).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),turnover:0!==j.quantity&&0!==j.pricebeforeint?Number(j.quantity*j.pricebeforeint).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),pctmargin:0!==j.quantity&&0!==j.pricebeforeint?Number((j.pricebeforeint-j.totalcost)/j.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==j.quantity&&0!==j.pricebeforeint?Number(j.pricebeforeint-j.totalcost+j.materialcost).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2)}))}),[j.quantity,j.pricebeforeint,j.totalinspection,j.incoterms]),Object(l.useEffect)((function(){0!==j.quantity&&0!==j.pricebeforeint&&(O(Object(i.a)(Object(i.a)({},j),{},{profit:0!==j.quantity&&0!==j.pricebeforeint?Number((j.pricebeforeint-j.totalcost).toFixed(4)):0,margin:0!==j.quantity&&0!==j.pricebeforeint?Number(((j.pricebeforeint-j.totalcost)*j.quantity).toFixed(4)):0,turnover:0!==j.quantity&&0!==j.pricebeforeint?Number((j.quantity*j.pricebeforeint).toFixed(4)):0,pctmargin:0!==j.quantity&&0!==j.pricebeforeint?Number(((j.pricebeforeint-j.totalcost)/j.pricebeforeint).toFixed(4)):0,netback:0!==j.quantity&&0!==j.pricebeforeint?Number((j.pricebeforeint-j.totalcost+j.materialcost).toFixed(4)):0})),v(Object(i.a)(Object(i.a)({},y),{},{profit:0!==j.quantity&&0!==j.pricebeforeint?Number(j.pricebeforeint-j.totalcost).toFixed(2):Number(0).toFixed(2),margin:0!==j.quantity&&0!==j.pricebeforeint?Number((j.pricebeforeint-j.totalcost)*j.quantity).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),turnover:0!==j.quantity&&0!==j.pricebeforeint?Number(j.quantity*j.pricebeforeint).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),pctmargin:0!==j.quantity&&0!==j.pricebeforeint?Number((j.pricebeforeint-j.totalcost)/j.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==j.quantity&&0!==j.pricebeforeint?Number(j.pricebeforeint-j.totalcost+j.materialcost).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2)})))}),[j.totalcost]),Object(l.useEffect)((function(){O(Object(i.a)(Object(i.a)({},j),{},{priceafterint:Number(j.pricebeforeint)+Number(j.salesinterest)})),v(Object(i.a)(Object(i.a)({},y),{},{priceafterint:Number(Number(j.pricebeforeint)+Number(j.salesinterest)).toFixed(2)}))}),[j.salesinterest]),Object(l.useEffect)((function(){v(Object(i.a)(Object(i.a)({},y),{},{totalcost:Number(Number(j.materialcost)+j.pcommission+j.pfinancecost+j.sfinancecost+j.freightpmt+j.insurance+j.inspectionpmt+j.scommission+j.interestcost+j.legal+j.pallets+j.other).toFixed(2)})),O(Object(i.a)(Object(i.a)({},j),{},{totalcost:Number((Number(j.materialcost)+j.pcommission+j.pfinancecost+j.sfinancecost+j.freightpmt+j.insurance+j.inspectionpmt+j.scommission+j.interestcost+j.legal+j.pallets+j.other).toFixed(2))}))}),[j.materialcost,j.pcommission,j.pfinancecost,j.sfinancecost,j.freightpmt,j.insurance,j.inspectionpmt,j.scommission,j.interestcost,j.legal,j.pallets,j.other]);var R=function(){var t=Object(n.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,p.a.post("/saveQS",{QSData:j}).then((function(t){e()}));case 3:return t.next=5,G();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(){v(r),O(t),T(!1)};return Object(f.jsxs)("div",{className:"salesQS",children:[Object(f.jsx)("h3",{className:"saleslisttitle",children:"Quotation Sheet"}),Object(f.jsxs)("form",{className:"salesQS-form",onSubmit:function(e){return R(e)},children:[Object(f.jsxs)("section",{id:"salesQS-1",children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"QS Date:"}),Object(f.jsx)("input",{readOnly:!0,className:"canceldrag",value:y.QSDate,type:"date"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{children:"WGP:"}),Object(f.jsx)("input",{name:"KTP",placeholder:"5000...",value:y&&y.KTP||"",onChange:M,className:"canceldrag"})]}),Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Sale Type"}),Object(f.jsxs)("div",{className:"saletype-group",children:[Object(f.jsx)("input",{name:"saletype",type:"radio",checked:!(!j||1!==j.saleType),required:!0,onClick:function(e){O(Object(i.a)(Object(i.a)({},j),{},{saleType:1})),v(Object(i.a)(Object(i.a)({},y),{},{saleType:"Back-to-back"}))}}),Object(f.jsx)("label",{htmlFor:"",children:"Back-to-back"})]}),Object(f.jsxs)("div",{className:"saletype-group",children:[Object(f.jsx)("input",{name:"saletype",type:"radio",checked:!(!j||2!==j.saleType),required:!0,onClick:function(e){O(Object(i.a)(Object(i.a)({},j),{},{saleType:2})),v(Object(i.a)(Object(i.a)({},y),{},{saleType:"Position"})),p.a.post("/positiondropdown").then((function(e){D(e.data)}))}}),Object(f.jsx)("label",{htmlFor:"",children:"Position"}),j&&2===j.saleType?Object(f.jsxs)("select",{className:"WGPSelect",onChange:function(e){return function(e){var t=C[e];v(Object(i.a)(Object(i.a)({},y),{},{abbreviation:t.product,supplier:t.Supplier,from:t.start,to:t.end,KTP:t.KTP,materialcost:Number(t.Price.replace("$","").replace(",","")).toFixed(2)})),O(Object(i.a)(Object(i.a)({},j),{},{abbreviation:t.productID,supplier:t.supplierID,from:t.start,to:t.end,KTP:t.KTP,materialcost:Number(t.Price.replace("$","").replace(",",""))}))}(e.target.value)},children:[Object(f.jsx)("option",{children:"Select..."}),C?C.map((function(e,t){return Object(f.jsx)("option",{value:t,children:e.KTP+" - "+e.product+" - "+e.Supplier})})):""]}):""]})]}),Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"General"}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Product:"}),Object(f.jsx)(b.a,{className:"searchfield",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",placeholder:"Product...",setQSFields:Q,value:y&&y.abbreviation||"",resetfield:F,setResetfield:$,required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Supplier:"}),Object(f.jsx)("input",{placeholder:"Supplier...",value:y.supplier,type:"text",required:!0,readOnly:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Customer:"}),Object(f.jsx)(b.a,{className:"searchfield",searchURL:"/customers",searchName:"customer",searchID:"customerID",placeholder:"Customer...",setQSFields:Q,value:y&&y.customer||"",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Contact:"}),Object(f.jsx)("input",{className:"canceldrag",type:"text"})]})]}),Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Packaging"}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Pack Size:"}),Object(f.jsx)("input",{value:j.packsize,onChange:B,name:"packsize",type:"text",placeholder:"9kg, 25kg, 50kg, bigbag",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Marks:"}),Object(f.jsx)("input",{name:"marks",onChange:B,value:j.marks,type:"text",placeholder:"neutral, WG, seller, buyer",onDoubleClick:function(e){e.target.select()},className:"canceldrag"})]})]}),Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Delivery"}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"From:"}),Object(f.jsx)("input",{name:"from",onChange:B,value:j.from,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"To:"}),Object(f.jsx)("input",{name:"to",onChange:B,value:j.to,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"POL:"}),Object(f.jsx)(b.a,{className:"searchfield",searchURL:"/POLS",searchName:"POL",searchID:"POLID",placeholder:"POL...",setQSFields:Q,value:y&&y.POL||"",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"POD:"}),Object(f.jsx)(b.a,{className:"searchfield",searchURL:"/PODS",searchName:"POD",searchID:"PODID",placeholder:"POD...",setQSFields:Q,value:y&&y.POD||"",required:!0})]})]})]}),Object(f.jsxs)("section",{id:"salesQS-2",children:[Object(f.jsxs)("div",{className:"soldcheckbox",children:[Object(f.jsx)("input",{className:"canceldrag",name:"saleComplete",type:"checkbox",checked:q,onClick:function(){T(!q)}}),Object(f.jsx)("label",{children:"Sold"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{children:"WGS:"}),Object(f.jsx)("input",{name:"KTS",placeholder:"5000...",value:y&&y.KTS||"",onChange:M,className:"canceldrag"})]}),Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"In Charge"}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Trader:"}),Object(f.jsx)("input",{className:"canceldrag",value:y.TIC,type:"text",readOnly:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Traffic:"}),Object(f.jsx)(b.a,{className:"searchfield",searchURL:"/trafficmgrs",searchName:"traffic",searchID:"trafficID",placeholder:"Traffic...",setQSFields:Q,value:y&&y.traffic||""})]})]}),Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Terms"}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Incoterms:"}),Object(f.jsx)("input",{placeholder:"Incoterms...",onChange:B,name:"incoterms",value:y.incoterms,type:"text",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Payment Terms:"}),Object(f.jsx)(b.a,{className:"searchfield",searchURL:"/paymentterms",searchName:"paymentTerm",searchID:"paytermID",placeholder:"Payment terms...",setQSFields:Q,value:y&&y.paymentTerm||"",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Inc. Interest:"}),Object(f.jsx)("input",{value:y.CADintrate,placeholder:"Interest rate...",type:"text",name:"CADintrate",onChange:E,onBlur:A,className:"canceldrag",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Inc. Days:"}),Object(f.jsx)("input",{value:y.CADdays,name:"CADdays",onChange:L,type:"text",placeholder:"Days...",className:"canceldrag",required:!0})]})]}),Object(f.jsxs)("div",{id:"shipmenttyperadio",className:"form-group",children:[Object(f.jsx)("input",{name:"shipmenttype",type:"radio",defaultChecked:!0,required:!0,onClick:function(e){O(Object(i.a)(Object(i.a)({},j),{},{shipmentType:1})),v(Object(i.a)(Object(i.a)({},y),{},{shipmentType:"Container"}))}}),Object(f.jsx)("label",{htmlFor:"",children:"Container"}),Object(f.jsx)("input",{name:"shipmenttype",type:"radio",required:!0,onClick:function(e){O(Object(i.a)(Object(i.a)({},j),{},{shipmentType:2})),v(Object(i.a)(Object(i.a)({},y),{},{shipmentType:"Breakbulk"}))}}),Object(f.jsx)("label",{htmlFor:"",children:"Breakbulk"}),Object(f.jsx)("input",{name:"shipmenttype",type:"radio",required:!0,onClick:function(e){O(Object(i.a)(Object(i.a)({},j),{},{shipmentType:3})),v(Object(i.a)(Object(i.a)({},y),{},{shipmentType:"Distribution"}))}}),Object(f.jsx)("label",{htmlFor:"",children:"Distribution"})]}),j&&1===j.shipmentType?Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Freight"}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Freight ID:"}),Object(f.jsx)("input",{placeholder:"[Leave Blank]",type:"text"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Freight Total:"}),Object(f.jsx)("input",{type:"text",name:"freightTotal",className:"QSfig2 canceldrag",value:y.freightTotal,onChange:L,onBlur:K})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Shipping Line:"}),Object(f.jsx)("input",{className:"canceldrag",placeholder:"Shipping Line...",name:"shippingline",onChange:B,value:y&&y.shippingline||"",type:"text"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Payload:"}),Object(f.jsx)("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:y.payload,onChange:L,onBlur:K})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Total Inspection:"}),Object(f.jsx)("input",{name:"totalinspection",className:"QSfig2 canceldrag",value:y.totalinspection,onChange:L,onBlur:K,type:"text"})]})]}):j&&2==j.shipmentType?"Under Construction":"Under Construction Too :)"]}),Object(f.jsxs)("section",{id:"salesQS-3",children:[Object(f.jsxs)("fieldset",{id:"salesQS-3-fieldset",children:[Object(f.jsx)("legend",{children:"Figures"}),Object(f.jsxs)("section",{id:"salesQS-3-col1",children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Quantity:"}),Object(f.jsx)("input",{className:"QSfig2 canceldrag",name:"quantity",value:y.quantity,onChange:L,type:"text",placeholder:"MT",onBlur:K,required:!0})]}),Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Costs"}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Material Cost:"}),Object(f.jsx)("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Material Cost pmt",onChange:L,name:"materialcost",value:y.materialcost,onBlur:K,required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"P Commission:"}),Object(f.jsx)("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Commission pmt",name:"pcommission",value:y.pcommission,onChange:L,onBlur:K,required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"P Finance Cost:"}),Object(f.jsx)("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Finance Cost pmt",name:"pfinancecost",value:y.pfinancecost,onChange:L,onBlur:K,required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"S Finance Cost:"}),Object(f.jsx)("input",{className:"QSfig canceldrag",value:y.sfinancecost,name:"sfinancecost",placeholder:"...S Finance Cost pmt",onChange:L,onBlur:K,type:"text",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Freight (pmt):"}),Object(f.jsx)("input",{className:"QSfig canceldrag",value:y.freightpmt,name:"freightpmt",placeholder:"...Freight pmt",onChange:L,onBlur:K,type:"text",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Insurance Cost:"}),Object(f.jsx)("input",{className:"QSfig canceldrag",value:y.insurance,name:"insurance",placeholder:"...Insurance Cost pmt",onChange:L,onBlur:K,type:"text",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Inspection Cost:"}),Object(f.jsx)("input",{className:"QSfig canceldrag",value:y.inspectionpmt,name:"inspectionpmt",placeholder:"...Inspection Cost pmt",onChange:L,onBlur:K,type:"text",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"S Commission:"}),Object(f.jsx)("input",{className:"QSfig canceldrag",value:y.scommission,name:"scommission",placeholder:"...S Commission pmt",onChange:L,onBlur:K,type:"text",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Interest Cost:"}),Object(f.jsx)("input",{className:"QSfig canceldrag",value:y.interestcost,name:"interestcost",placeholder:"...Interest Cost pmt",onChange:L,onBlur:K,type:"text",required:!0,readOnly:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Legal:"}),Object(f.jsx)("input",{className:"QSfig canceldrag",value:y.legal,name:"legal",placeholder:"...Legal Cost pmt",onChange:L,onBlur:K,type:"text",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Pallets:"}),Object(f.jsx)("input",{className:"QSfig canceldrag",value:y.pallets,name:"pallets",placeholder:"...Pallets Cost pmt",onChange:L,onBlur:K,type:"text",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Other:"}),Object(f.jsx)("input",{className:"QSfig canceldrag",value:y.other,name:"other",placeholder:"...Other Costs pmt",onChange:L,onBlur:K,type:"text",required:!0})]})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Total Cost:"}),Object(f.jsx)("input",{className:"QSfig2 canceldrag",readOnly:!0,value:y.totalcost,type:"text",required:!0})]})]}),Object(f.jsxs)("section",{id:"salesQS-3-col2",children:[Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Sales Interest"}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Interest Rate:"}),Object(f.jsx)("input",{className:"QSfig canceldrag",value:y.interestrate,placeholder:"...Interest Rate",name:"interestrate",onChange:E,onBlur:A,type:"text",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Interest Days:"}),Object(f.jsx)("input",{className:"QSfig canceldrag",value:y.interestdays,name:"interestdays",onChange:L,placeholder:"...Interest Days",type:"text",required:!0})]})]}),Object(f.jsxs)("fieldset",{children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Price Before Int.:"}),Object(f.jsx)("input",{className:"QSfig canceldrag",value:y.pricebeforeint,name:"pricebeforeint",placeholder:"...Price Before Int pmt",onChange:L,onBlur:K,type:"text",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Sales Interest:"}),Object(f.jsx)("input",{className:"QSfig canceldrag",value:y.salesinterest,readOnly:!0,type:"text",required:!0})]})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Price After Int.:"}),Object(f.jsx)("input",{readOnly:!0,className:"QSfig2 canceldrag",value:y.priceafterint,type:"text",required:!0})]}),Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Economics"}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Profit:"}),Object(f.jsx)("input",{readOnly:!0,className:"QSfig canceldrag",value:y.profit,type:"text",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Margin:"}),Object(f.jsx)("input",{readOnly:!0,className:"QSfig canceldrag",value:y.margin,type:"text",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Turnover:"}),Object(f.jsx)("input",{readOnly:!0,className:"QSfig canceldrag",value:y.turnover,type:"text",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"% Margin:"}),Object(f.jsx)("input",{readOnly:!0,className:"QSfig canceldrag",value:y.pctmargin,type:"text",required:!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Netback:"}),Object(f.jsx)("input",{readOnly:!0,className:"QSfig canceldrag",value:y.netback,type:"text",required:!0})]})]})]})]}),Object(f.jsxs)("div",{id:"QSbuttons",children:[Object(f.jsx)("button",{type:"button",onClick:function(e){G()},children:"Clear"}),Object(f.jsx)("button",{type:"submit",children:"Save and New"})]})]})]})]})}},378:function(e,t,r){"use strict";(function(e){var c=r(4),a=r(6),n=r(1),s=(r(123),r(124),r(37)),i=(r(144),r(229)),o=r(400),l=r(209),u=(r(245),r(0)),d=Object(s.WidthProvider)(s.Responsive);t.a=function(){var t=function(t,r){var c,n;c="layouts",n=r,e.localStorage&&e.localStorage.setItem("rgl-sales",JSON.stringify(Object(a.a)({},c,n))),p(r)},r=function(t){var r={};if(e.localStorage)try{r=JSON.parse(e.localStorage.getItem("rgl-sales"))||{}}catch(c){}return r[t]}("layouts")||{lg:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],md:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],sm:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],xs:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],xxs:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}]},s=Object(n.useState)(r),b=Object(c.a)(s,2),j=b[0],p=b[1],m=Object(n.useState)(!1),h=Object(c.a)(m,2),f=h[0],O=h[1],x=Object(n.useState)({}),g=Object(c.a)(x,2),y=g[0],v=g[1],N=function(){O(!1)};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"gridcontainer",children:[Object(u.jsx)(l.a,{show:f,handleClose:N,QStoedit:y}),Object(u.jsxs)(d,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:j,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,r){t(0,r)},margin:[20,20],draggableCancel:".canceldrag",children:[Object(u.jsx)("div",{id:"sales1",children:Object(u.jsx)(i.a,{showEditModal:function(e,t){O(!0),v(t)},hideEditModal:N,QSmodalState:f,QStoedit:y})},"a"),Object(u.jsx)("div",{id:"sales2",children:Object(u.jsx)(o.a,{})},"b")]})]})})}}).call(this,r(43))},380:function(e,t,r){"use strict";(function(e){var c=r(4),a=r(6),n=r(1),s=(r(123),r(124),r(37)),i=(r(144),r(311),r(403)),o=r(404),l=r(381),u=r(269),d=r(382),b=(r(245),r(141)),j=(r(524),r(130)),p=r(32),m=r(156),h=r(280),f=r(0),O=Object(s.WidthProvider)(s.Responsive);t.a=function(){var t=Object(n.useContext)(p.a),r=(t.posrefresh,t.togglePosrefresh),s=function(t,r){var c,n;c="layouts",n=r,e.localStorage&&e.localStorage.setItem("rgl-positions",JSON.stringify(Object(a.a)({},c,n))),N(r)},x=function(t){var r={};if(e.localStorage)try{r=JSON.parse(e.localStorage.getItem("rgl-positions"))||{}}catch(c){}return r[t]}("layouts")||{lg:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],md:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],sm:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],xs:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],xxs:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}]},g=Object(n.useState)(x),y=Object(c.a)(g,2),v=y[0],N=y[1],S=Object(n.useState)(!1),C=Object(c.a)(S,2),D=C[0],w=C[1],k=Object(n.useState)(!1),F=Object(c.a)(k,2),$=F[0],P=F[1],I=Object(n.useState)({}),q=Object(c.a)(I,2),T=q[0],Q=q[1],B=function(e){e.preventDefault(),w(!1)};return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"gridcontainer",children:[Object(f.jsx)(d.a,{showAddProd:$,handleClose:function(e){e.preventDefault(),P(!1)}}),Object(f.jsx)(u.a,{show:D,handleClose:B,positiontoedit:T}),Object(f.jsxs)(O,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:v,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,t){s(0,t)},margin:[20,20],draggableCancel:".canceldrag",children:[Object(f.jsxs)("div",{id:"positions1",children:[Object(f.jsxs)("div",{className:"positionreporttitleline",children:[Object(f.jsx)("h3",{className:"positionreporttitle",children:"Position Report"}),Object(f.jsx)(j.a,{className:"refreshicon",onClick:function(e){r()}})]}),Object(f.jsx)(m.b,{children:Object(f.jsxs)(b.d,{children:[Object(f.jsxs)(b.b,{children:[Object(f.jsx)(b.a,{children:"Global"}),Object(f.jsx)(b.a,{children:"USA Distribution"})]}),Object(f.jsx)(b.c,{children:Object(f.jsx)(i.a,{},"positionreport")}),Object(f.jsx)(b.c,{children:Object(f.jsx)(h.a,{},"usapositionreport")})]})})]},"a"),Object(f.jsx)("div",{id:"positions2",children:Object(f.jsx)(l.a,{showAddProd:function(e){P(!0)}},"positionadd")},"b"),Object(f.jsx)("div",{id:"positions2",children:Object(f.jsx)(o.a,{showEditModal:function(e,t){w(!0),Q(t)},hideEditModal:B,modalState:D,postoedit:T},"positions")},"c")]})]})})}}).call(this,r(43))},381:function(e,t,r){"use strict";var c=r(6),a=r(2),n=r(4),s=r(1),i=(r(522),r(45)),o=r(32),l=r(7),u=r.n(l),d=r(0);t.a=function(e){var t=e.showAddProd,r=Object(s.useContext)(o.a),l=(r.posrefresh,r.togglePosrefresh),b={WGP:"",product:"",supplier:"",productgroup:"",quantitylow:"",quantityhigh:"",FOB:"",from:"",to:"",notes:""},j={WGP:"",product:"",supplier:"",productgroup:"",quantitylow:"",quantityhigh:"",FOB:"",from:"",to:"",notes:""},p=Object(s.useState)(!0),m=Object(n.a)(p,2),h=m[0],f=m[1],O=Object(s.useState)(b),x=Object(n.a)(O,2),g=x[0],y=x[1],v=Object(s.useState)(j),N=Object(n.a)(v,2),S=N[0],C=N[1],D=Object(s.useState)({WGP:"",quantitylow:"",quantityhigh:"",to:"",general:""}),w=Object(n.a)(D,2),k=w[0],F=w[1],$=function(e){e.preventDefault(),F(Object(a.a)(Object(a.a)({},k),{},{WGP:"",general:""})),y(Object(a.a)(Object(a.a)({},g),{},Object(c.a)({},e.target.name,e.target.value)))},P=function(e){e.preventDefault(),(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&(F(Object(a.a)(Object(a.a)({},k),{},{WGP:"",general:""})),y(Object(a.a)(Object(a.a)({},g),{},Object(c.a)({},e.target.name,e.target.value))))},I=function(e){var t=e.target.name,r=e.target.value,n=RegExp("^-?[0-9][0-9,.]+$");switch(t){case"quantitylow":if(n.test(r))if(Number(g.quantityhigh)<Number(g.quantitylow))F(Object(a.a)(Object(a.a)({},k),{},Object(c.a)({},t,"QuantityL must be equal or smaller than QuantityH.")));else{var s;F(Object(a.a)(Object(a.a)({},k),{},(s={},Object(c.a)(s,t,""),Object(c.a)(s,"quantityhigh",""),s)))}else F(Object(a.a)(Object(a.a)({},k),{},Object(c.a)({},t,"Only numerical values.")));break;case"quantityhigh":if(n.test(r))if(Number(g.quantityhigh)<Number(g.quantitylow))F(Object(a.a)(Object(a.a)({},k),{},Object(c.a)({},t,"QuantityH must be larger than QuantityL.")));else{var i;F(Object(a.a)(Object(a.a)({},k),{},(i={},Object(c.a)(i,t,""),Object(c.a)(i,"quantitylow",""),i)))}else F(Object(a.a)(Object(a.a)({},k),{},Object(c.a)({},t,"Only numerical values.")))}};return Object(d.jsxs)("div",{className:"positionadd",children:[Object(d.jsx)("h3",{className:"positionaddtitle",children:"Add New Position"}),Object(d.jsxs)("form",{id:"positionaddform",onSubmit:function(e){e.preventDefault(),Object.values(k).every((function(e){return""===e}))?u.a.post("/checkposition",{WGP:g.WGP}).then((function(e){"OK"===e.data.msg?u.a.post("/addposition",{posData:g}).then((function(e){return l()})):F(Object(a.a)(Object(a.a)({},k),{},{WGP:e.data.msg}))})).catch((function(e){console.log(e)})):F(Object(a.a)(Object(a.a)({},k),{},{general:"Please review items in red."})),y(b),C(j),f(!0)},children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"",children:"WGP:"}),Object(d.jsx)("input",{name:"WGP",value:g.WGP,type:"text",onChange:function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""===e.target.value)&&(F(Object(a.a)(Object(a.a)({},k),{},{WGP:"",general:""})),y(Object(a.a)(Object(a.a)({},g),{},Object(c.a)({},e.target.name,e.target.value))))},placeholder:"WGP...",required:!0,className:"canceldrag"})]}),Object(d.jsx)("span",{className:"posadderror",children:k.WGP}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"",children:"Product:"}),Object(d.jsx)(i.a,{showAddProd:t,className:"searchfield canceldrag",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",thirdName:"productGroup",thirdID:"prodGroupID",placeholder:"Product...",setProdSupplier:function(e,t,r,c,n,s){y(Object(a.a)(Object(a.a)({},g),{},{product:e,supplier:r,productgroup:n})),C(Object(a.a)(Object(a.a)({},S),{},{product:t,supplier:c,productgroup:s}))},resetfield:h,setResetfield:f,value:S&&S.product||""})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"",children:"Supplier:"}),Object(d.jsx)("input",{readOnly:!0,placeholder:"Supplier...",value:S.supplier,className:"canceldrag"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"",children:"ProdGroup:"}),Object(d.jsx)("input",{readOnly:!0,placeholder:"ProductGroup...",value:S.productgroup,className:"canceldrag"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"",children:"QuantityL:"}),Object(d.jsx)("input",{name:"quantitylow",type:"text",placeholder:"Quantity Low...",onChange:P,value:g.quantitylow,onBlur:I,required:!0,className:"canceldrag"})]}),Object(d.jsx)("span",{className:"posadderror",children:k.quantitylow}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"",children:"QuantityH:"}),Object(d.jsx)("input",{name:"quantityhigh",type:"text",placeholder:"Quantity High...",onChange:P,value:g.quantityhigh,onBlur:I,required:!0,className:"canceldrag"})]}),Object(d.jsx)("span",{className:"posadderror",children:k.quantityhigh}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"",children:"FOB:"}),Object(d.jsx)("input",{type:"text",name:"FOB",placeholder:"FOB...",onChange:$,value:g.FOB,required:!0,className:"canceldrag"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"",children:"From:"}),Object(d.jsx)("input",{name:"from",type:"date",placeholder:"From...",onChange:$,value:g.from,required:!0,className:"canceldrag"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"",children:"To:"}),Object(d.jsx)("input",{name:"to",type:"date",placeholder:"To...",onChange:$,value:g.to,required:!0,className:"canceldrag"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"",children:"Notes:"}),Object(d.jsx)("textarea",{name:"notes",className:"canceldrag",onChange:$,value:g.notes})]}),Object(d.jsx)("button",{children:"Add"}),Object(d.jsx)("span",{className:"posadderror",children:k.general})]})]})}},382:function(e,t,r){"use strict";var c=r(2),a=r(4),n=r(1),s=(r(523),r(45)),i=r(0);t.a=function(e){var t=e.handleClose,r=e.showAddProd?"modal AddProdModal display-block":"modal AddProdModal display-none",o=Object(n.useState)(!1),l=Object(a.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)(),j=Object(a.a)(b,2),p=j[0],m=j[1],h=Object(n.useState)(),f=Object(a.a)(h,2),O=f[0],x=f[1];return Object(i.jsx)("div",{className:r,children:Object(i.jsxs)("section",{className:"modal-main",children:[Object(i.jsx)("h2",{children:"Add Product"}),Object(i.jsx)("p",{children:"Before adding a new product please make sure the product does not exist yet with a different name. Double adding an already existing product will severely confuse analysis statistics."}),Object(i.jsxs)("form",{className:"addproduct-form",action:"",children:[Object(i.jsxs)("section",{className:"addprod-1",children:[Object(i.jsx)("h3",{children:"Step 1:"}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"",children:"Select Product Name:"}),Object(i.jsx)(s.a,{className:"searchfield",searchURL:"/prodnames",searchID:"prodNameID",searchName:"abbreviation",resetfield:u,setResetfield:d,setProdSupplier:function(e,t){m(Object(c.a)(Object(c.a)({},p),{},{prodName:t})),x(Object(c.a)(Object(c.a)({},O),{},{prodName:e}))}})]}),Object(i.jsxs)("div",{className:"addnewprodline",children:[Object(i.jsx)("p",{children:"Or"}),Object(i.jsx)("button",{children:"Add New Product Name"})]})]}),Object(i.jsx)("section",{className:"addprod-2"}),Object(i.jsx)("section",{className:"addprod-3",children:Object(i.jsx)("button",{onClick:t,children:"Close"})})]})]})})}},393:function(e,t,r){"use strict";(function(e){var c=r(6),a=r(8),n=r.n(a),s=r(11),i=r(4),o=r(1),l=(r(123),r(124),r(37)),u=r.n(l),d=(r(144),r(270)),b=(r(376),r(271)),j=r(277),p=r(278),m=r(279),h=r(7),f=r.n(h),O=r(205),x=(r(370),r(0));t.a=function(){var t=Object(o.useState)(),r=Object(i.a)(t,2),a=r[0],l=r[1],h=JSON.parse(localStorage.getItem("accesstoken")),g=JSON.parse(localStorage.getItem("refreshtoken")),y=f.a.create({headers:{Authorization:"Bearer ".concat(h)}}),v=f.a.create({headers:{Authorization:"Bearer ".concat(g)}});y.interceptors.response.use((function(e){return e}),function(){var e=Object(s.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g||403!==t.response.status){e.next=8;break}return e.next=3,v.post(".refreshtoken");case 3:return r=e.sent,h=r.data.accesstoken,e.next=7,y.post("/waterfallprofit",{},{headers:{Authorization:"Bearer ".concat(h)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(o.useEffect)((function(){y.post("/waterfallprofit").then((function(e){l(e.data)}))}),[]);var N=function(t){var r={};if(e.localStorage)try{r=JSON.parse(e.localStorage.getItem("rgl-mgmt"))||{}}catch(c){}return r[t]}("layout")||[{i:"a",x:2,y:0,w:28,h:4,isDraggable:!0,isResizable:!1},{i:"b",x:2,y:4,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"c",x:16,y:4,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"d",x:16,y:11,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"e",x:2,y:11,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"f",x:2,y:18,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"g",x:2,y:25,w:28,h:20,isDraggable:!0,isResizable:!1}],S=Object(o.useState)(N),C=Object(i.a)(S,2),D=C[0],w=C[1];return Object(x.jsx)("div",{children:Object(x.jsxs)(u.a,{className:"layout",layout:D,cols:36,rowHeight:30,width:1900,onLayoutChange:function(t){var r,a;r="layout",a=t,e.localStorage&&e.localStorage.setItem("rgl-mgmt",JSON.stringify(Object(c.a)({},r,a))),w(t)},margin:[20,20],children:[Object(x.jsx)("div",{id:"keyfigures",children:Object(x.jsx)(d.a,{})},"a"),Object(x.jsx)("div",{className:"mgmtchart",id:"graph",children:Object(x.jsx)(b.a,{})},"b"),Object(x.jsx)("div",{className:"mgmtchart",id:"graph1",children:Object(x.jsx)(j.a,{})},"c"),Object(x.jsx)("div",{className:"mgmtchart",id:"graph2",children:Object(x.jsx)(p.a,{})},"d"),Object(x.jsx)("div",{className:"mgmtchart",id:"graph3",children:Object(x.jsx)(m.a,{})},"e"),Object(x.jsxs)("div",{className:"mgmtchart",id:"graph4",children:[Object(x.jsx)("h3",{children:"Profit Waterfall Chart, 2020"}),Object(x.jsx)(O.a,{data:a||""})]},"f")]})})}}).call(this,r(43))},394:function(e,t,r){"use strict";(function(e){var c=r(28),a=r(6),n=r(8),s=r.n(n),i=r(11),o=r(4),l=r(16),u=r(1),d=r(7),b=r.n(d),j=(r(123),r(124),r(37)),p=(r(144),r(685),r(395)),m=(r(205),r(13)),h=r.n(m),f=r(75),O=r(396),x=r(397),g=r(0),y=Object(j.WidthProvider)(j.Responsive);t.a=function(){var t=Object(u.useContext)(f.a),r=t.prdata,n=t.setPrdata,d=t.setPrcustomers,j=t.setPrcustomerfilter,m=t.prcustomerfilter,v=t.setPrcustomerchecks,N=t.setPrproducts,S=t.setPrproductfilter,C=t.prproductfilter,D=t.setPrproductchecks,w=t.setPrpgroups,k=t.setPrpgroupfilter,F=t.setPrpgroupchecks,$=t.prpgroupfilter,P=(t.setPrprodcats,t.setPrprodcatfilter,t.setPrprodcatchecks,function(e,t){var r,c=0,a=Object(l.a)(e);try{for(a.s();!(r=a.n()).done;){var n=r.value;m&&m.includes(n.customer)&&C&&C.includes(n.product)&&$&&$.includes(n.productGroup)&&(c+=n[t])}}catch(s){a.e(s)}finally{a.f()}return c}),I=function(e,t,r){var c,a=0,n=Object(l.a)(e);try{for(n.s();!(c=n.n()).done;){var s=c.value;m&&m.includes(s.customer)&&C&&C.includes(s.product)&&$&&$.includes(s.productGroup)&&(a+=s[t]*s[r])}}catch(i){n.e(i)}finally{n.f()}return a},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return t+" "+e.toFixed(r).replace(/\B(?=(\d{3})+(?!\d))/g,",")},T=Object(u.useState)(),Q=Object(o.a)(T,2),B=(Q[0],Q[1]),E=JSON.parse(localStorage.getItem("accesstoken")),A=JSON.parse(localStorage.getItem("refreshtoken")),L=Object(u.useState)({quantity:0,revenue:0,profit:0,avgprofit:0,pctprofit:0}),K=Object(o.a)(L,2),M=(K[0],K[1],b.a.create({headers:{Authorization:"Bearer ".concat(E)}})),R=b.a.create({headers:{Authorization:"Bearer ".concat(A)}});M.interceptors.response.use((function(e){return e}),function(){var e=Object(i.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A||403!==t.response.status){e.next=8;break}return e.next=3,R.post(".refreshtoken");case 3:return r=e.sent,E=r.data.accesstoken,e.next=7,M.post("/waterfallprofit",{},{headers:{Authorization:"Bearer ".concat(E)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(u.useEffect)((function(){M.post("/waterfallprofit").then((function(e){B(e.data)}))}),[]);var G=function(t,r){var c,n;c="layouts",n=r,e.localStorage&&e.localStorage.setItem("rgl-profitability",JSON.stringify(Object(a.a)({},c,n))),J(r)},Y=function(t){var r={};if(e.localStorage)try{r=JSON.parse(e.localStorage.getItem("rgl-profitability"))||{}}catch(c){}return r[t]}("layouts")||{lg:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],md:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],sm:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],xs:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],xxs:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}]},W=Object(u.useState)(Y),z=Object(o.a)(W,2),U=z[0],J=z[1],H=["month","country","customer","productGroup","prodCatName","product","tCode"],V=Object(u.useState)(0),_=Object(o.a)(V,2),Z=_[0],X=_[1],ee=Object(u.useState)(0),te=Object(o.a)(ee,2),re=te[0],ce=te[1],ae=h()().format("YYYY"),ne=h()().format("MM"),se=(h()().format("DD"),h()().format("YYYY-MM-DD"),h()().year(ae).month(Number(ne)-1).date(1).format("YYYY-MM-DD")),ie=Object(u.useState)(se),oe=Object(o.a)(ie,2),le=oe[0],ue=oe[1],de=Object(u.useState)(h()().add(1,"years").format("YYYY-MM-DD")),be=Object(o.a)(de,2),je=be[0],pe=be[1],me=Object(u.useState)(!1),he=Object(o.a)(me,2),fe=he[0],Oe=he[1],xe=Object(u.useState)(!1),ge=Object(o.a)(xe,2),ye=ge[0],ve=ge[1],Ne=Object(u.useState)("month"),Se=Object(o.a)(Ne,2),Ce=Se[0],De=Se[1];Object(u.useEffect)((function(){b.a.post("/profitabilityreport",{reportstartdate:le,reportenddate:je}).then((function(e){n(e.data);var t=Object(c.a)(new Set(e.data.map((function(e){return e.customer})))).sort();d(t),j(t),v(new Array(t.length).fill(!0));var r=Object(c.a)(new Set(e.data.map((function(e){return e.product})))).sort();N(r),S(r),D(new Array(r.length).fill(!0));var a=Object(c.a)(new Set(e.data.map((function(e){return e.productGroup})))).sort();w(a),k(a),F(new Array(a.length).fill(!0))}))}),[ye]);var we=Object(u.useState)(!0),ke=Object(o.a)(we,2),Fe=ke[0],$e=ke[1];return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(y,{style:{left:"2px"},className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:U,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,t){G(0,t)},margin:[20,20],draggableCancel:".canceldrag",children:[Object(g.jsxs)("div",{id:"profitability",children:[Object(g.jsxs)("div",{className:"profreporttitle",children:[Object(g.jsx)("h3",{children:"Profitability Report"}),Object(g.jsx)("button",{onClick:function(e){$e(!Fe)},children:Fe?"Hide Detail":"Show Detail"})]}),Object(g.jsxs)("div",{className:"periodfilter",children:[Object(g.jsxs)("div",{className:"periodfilterbuttons",children:[Object(g.jsx)("p",{children:"Period:"}),["This month","Last 3 months","This year","Last 12 months","Custom"].map((function(e,t){return Object(g.jsx)("button",{name:e,onClick:function(e){return X(r=t),0===r&&(Oe(!1),ue(se),ve(!ye)),1===r&&(Oe(!1),ue(h()().subtract(3,"months").format("YYYY-MM-DD")),ve(!ye)),2===r&&(Oe(!1),ue(h()().year(ae).month(0).date(1).format("YYYY-MM-DD")),ve(!ye)),3===r&&(Oe(!1),ue(h()().subtract(12,"months").format("YYYY-MM-DD")),ve(!ye)),void(4===r&&Oe(!0));var r},className:t===Z?"periodfilterbutton active":"periodfilterbutton",children:e},t)}))]}),Object(g.jsx)("div",{className:"customdateinputs",children:fe?[Object(g.jsx)("label",{children:"From:"}),Object(g.jsx)("input",{value:le,className:"check",type:"date",onChange:function(e){e.preventDefault(),ue(e.target.value)}}),Object(g.jsx)("label",{children:"To:"}),Object(g.jsx)("input",{value:je,className:"check2",type:"date",onChange:function(e){e.preventDefault(),pe(e.target.value)}}),Object(g.jsx)("button",{onClick:function(e){ve(!ye)},className:"periodfilterbutton",children:"Go"})]:""})]}),Object(g.jsxs)("div",{className:"prgroupby",children:[Object(g.jsx)("p",{children:"Group By:"}),["Month","Country","Customer","Product Group","Product Category","Product","Trader"].map((function(e,t){return Object(g.jsx)("button",{name:H[t],onClick:function(e){return function(e,t){e.preventDefault(),ce(t),De(e.target.name),ve(!ye)}(e,t)},className:t===re?"periodfilterbutton active":"periodfilterbutton",children:e},t)}))]}),Object(g.jsxs)("div",{className:"prsummarystats",children:[Object(g.jsxs)("div",{className:"prstatgroup",children:[Object(g.jsx)("p",{children:r?q(P(r,"quantity"),"",0):""}),Object(g.jsx)("h4",{children:"Quantity"})]}),Object(g.jsxs)("div",{className:"prstatgroup",children:[Object(g.jsx)("p",{children:r?q(I(r,"quantity","price"),"$",0):""}),Object(g.jsx)("h4",{children:"Revenue"})]}),Object(g.jsxs)("div",{className:"prstatgroup",children:[Object(g.jsx)("p",{children:r?q(P(r,"profit"),"$",0):""}),Object(g.jsx)("h4",{children:"Profit"})]}),Object(g.jsxs)("div",{className:"prstatgroup",children:[Object(g.jsx)("p",{children:r?q(P(r,"profit")/P(r,"quantity"),"$",2):""}),Object(g.jsx)("h4",{children:"Average Profit"})]}),Object(g.jsxs)("div",{className:"prstatgroup",children:[Object(g.jsx)("p",{children:r?(P(r,"profit")/I(r,"quantity","price")*100).toFixed(2)+"%":""}),Object(g.jsx)("h4",{children:"Margin"})]})]}),Object(g.jsx)(p.a,{reportstartdate:le,reportenddate:je,refreshreport:ye,profitreportgroupby:Ce,prshowdetail:Fe},"profitabilityreport")]},"h"),Object(g.jsx)("div",{id:"profitabilitychart",children:Object(g.jsx)(O.a,{profitreportgroupby:Ce,style:{size:"100%",overflow:"hidden"}})},"j"),Object(g.jsx)("div",{id:"profitabilitychart",children:Object(g.jsx)(x.a,{profitreportgroupby:Ce,style:{size:"100%",overflow:"hidden"}})},"k")]})})}}).call(this,r(43))},395:function(e,t,r){"use strict";var c=r(16),a=r(4),n=r(1),s=(r(7),r(686),r(13),r(46)),i=r(25),o=r(75),l=r(0);t.a=function(e){e.reportstartdate,e.reportenddate,e.refreshreport;var t=e.profitreportgroupby,r=e.prshowdetail,u=Object(n.useContext)(o.a),d=u.prdata,b=u.prcustomers,j=(u.setPrcustomers,u.setPrcustomerfilter),p=u.prcustomerfilter,m=u.setPrcustomerchecks,h=u.prcustomerchecks,f=u.prproducts,O=(u.setPrproducts,u.setPrproductfilter),x=u.prproductfilter,g=u.setPrproductchecks,y=u.prproductchecks,v=u.prpgroupchecks,N=u.setPrpgroupchecks,S=u.prpgroups,C=u.setPrpgroupfilter,D=u.prpgroupfilter,w=Object(n.useState)(!1),k=Object(a.a)(w,2),F=k[0],$=k[1],P=Object(n.useState)(!1),I=Object(a.a)(P,2),q=I[0],T=I[1],Q=Object(n.useState)(!1),B=Object(a.a)(Q,2),E=B[0],A=B[1];Array.prototype.groupBy=function(e){return this.reduce((function(t,r){var c=r[e];return t[c]=t[c]||[],t[c].push(r),t}),{})};var L=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!==r&&!1===c&&(t=h.map((function(e,t){return t===r?!e:e})),m(t)),!0===c&&(t=h.map((function(){return!0})),m(t)),null===r&&!1===c&&(t=h.map((function(){return!1})),m(t));var a=t.map((function(e,t){return!0===e?b[t]:""})),n=a.filter((function(e){return""!==e}));j(n)},K=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!==r&&!1===c&&(t=y.map((function(e,t){return t===r?!e:e})),g(t)),!0===c&&(t=y.map((function(){return!0})),g(t)),null===r&&!1===c&&(t=y.map((function(){return!1})),g(t));var a=t.map((function(e,t){return!0===e?f[t]:""})),n=a.filter((function(e){return""!==e}));O(n)},M=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!==r&&!1===c&&(t=v.map((function(e,t){return t===r?!e:e})),N(t)),!0===c&&(t=v.map((function(){return!0})),N(t)),null===r&&!1===c&&(t=v.map((function(){return!1})),N(t));var a=t.map((function(e,t){return!0===e?S[t]:""})),n=a.filter((function(e){return""!==e}));C(n)};var R,G=Object(n.useRef)(null);R=G,Object(n.useEffect)((function(){function e(e){R.current&&!R.current.contains(e.target)&&(console.log("clicked outside"),!0===F&&$(!1))}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[R]);var Y="",W=0,z=0,U=function(e,t){var r,a=0,n=Object(c.a)(e);try{for(n.s();!(r=n.n()).done;){var s=r.value;p&&p.includes(s.customer)&&x&&x.includes(s.product)&&D&&D.includes(s.productGroup)&&(a+=s[t])}}catch(i){n.e(i)}finally{n.f()}return a},J=Object(n.useState)(""),H=Object(a.a)(J,2),V=H[0],_=H[1],Z=Object(n.useState)(""),X=Object(a.a)(Z,2),ee=X[0],te=X[1],re=function(e,t){_(t),""===ee&&te("DESC"),"DESC"===ee&&te("ASC"),"ASC"===ee&&te("")},ce=function(e,t){var r,a=0,n=Object(c.a)(e);try{for(n.s();!(r=n.n()).done;){a+=r.value[t]}}catch(s){n.e(s)}finally{n.f()}return a};return Object(l.jsx)("div",{className:"profitabilityreport",children:Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{className:"profitabilityreportline prheader",children:[Object(l.jsx)("p",{className:"profitabilityreportcolumn",style:{display:"flex",flexDirection:"row",alignItems:"center",flexBasis:"14%"},children:"QSID"}),Object(l.jsx)("p",{className:"profitabilityreportcolumn",style:{display:"flex",flexDirection:"row",alignItems:"center",flexBasis:"14%"},children:"WGP"}),Object(l.jsx)("p",{className:"profitabilityreportcolumn",style:{display:"flex",flexDirection:"row",alignItems:"center",flexBasis:"14%"},children:"WGS"}),Object(l.jsx)("p",{className:"profitabilityreportcolumn ",style:{display:"flex",flexDirection:"row",alignItems:"center"},children:"ShipmentDate"}),Object(l.jsx)("p",{className:"profitabilityreportcolumn ",children:"Country"}),Object(l.jsxs)("p",{className:"profitabilityreportcolumn ",style:{display:"flex",flexDirection:"row",alignItems:"center"},children:["Customer"," ",Object(l.jsx)(s.a,{className:"ellipsis",style:{color:"gray",marginLeft:0},icon:h&&h.filter(Boolean).length===b.length?i.b:i.c,onClick:function(e){$(!F)}},"icon3"),F?Object(l.jsxs)("div",{ref:G,className:"prfiltermenu",children:[Object(l.jsx)("p",{className:"prselect",onClick:function(e){return L(e,null,!0)},children:"Select All"}),Object(l.jsx)("p",{className:"prselect",onClick:function(e){return L(e,null,!1)},children:"Clear All"}),b?b.map((function(e,t){return Object(l.jsxs)("div",{className:"prcheckgroup",children:[Object(l.jsx)("input",{type:"checkbox",id:e,name:e,value:e,checked:!h||h[t],onChange:function(e){return L(e,t)}}),Object(l.jsx)("label",{for:e,children:e})]})})):""]}):""]}),Object(l.jsxs)("p",{className:"profitabilityreportcolumn",children:["ProdGroup"," ",Object(l.jsx)(s.a,{className:"ellipsis",style:{color:"gray",marginLeft:0},icon:v&&v.filter(Boolean).length===S.length?i.b:i.c,onClick:function(e){A(!E)}},"icon3"),E?Object(l.jsxs)("div",{ref:G,className:"prfiltermenu",children:[Object(l.jsx)("p",{className:"prselect",onClick:function(e){return M(e,null,!0)},children:"Select All"}),Object(l.jsx)("p",{className:"prselect",onClick:function(e){return M(e,null,!1)},children:"Clear All"}),S?S.map((function(e,t){return Object(l.jsxs)("div",{className:"prcheckgroup",children:[Object(l.jsx)("input",{type:"checkbox",id:e,name:e,value:e,checked:!v||v[t],onChange:function(e){return M(e,t)}}),Object(l.jsx)("label",{for:e,children:e})]})})):""]}):""]}),Object(l.jsx)("p",{className:"profitabilityreportcolumn",children:"ProdCat"}),Object(l.jsxs)("p",{className:"profitabilityreportcolumn ",children:["Product",Object(l.jsx)(s.a,{className:"ellipsis",style:{color:"gray",marginLeft:0},icon:y&&y.filter(Boolean).length===f.length?i.b:i.c,onClick:function(e){T(!q)}},"icon3"),q?Object(l.jsxs)("div",{className:"prfiltermenu",children:[Object(l.jsx)("p",{className:"prselect",onClick:function(e){return K(e,null,!0)},children:"Select All"}),Object(l.jsx)("p",{className:"prselect",onClick:function(e){return K(e,null,!1)},children:"Clear All"}),f?f.map((function(e,t){return Object(l.jsxs)("div",{className:"prcheckgroup",children:[Object(l.jsx)("input",{type:"checkbox",id:e,name:e,value:e,checked:!y||y[t],onChange:function(e){return K(e,t)}}),Object(l.jsx)("label",{for:e,children:e})]})})):""]}):""]}),Object(l.jsxs)("p",{className:"profitabilityreportcolumn prfig",children:["Quantity"," ",Object(l.jsx)(s.a,{className:"ellipsis",style:{color:"gray",marginLeft:0},icon:"DESC"===ee&&"quantity"===V?i.h:"ASC"===ee&&"quantity"===V?i.i:i.g,onClick:function(e){re(0,"quantity")}},"icon4")]}),Object(l.jsx)("p",{className:"profitabilityreportcolumn prfig",children:"Price"}),Object(l.jsx)("p",{className:"profitabilityreportcolumn prfig",children:"Profit(pmt)"}),Object(l.jsxs)("p",{className:"profitabilityreportcolumn prfig",children:["Profit"," ",Object(l.jsx)(s.a,{className:"ellipsis",style:{color:"gray",marginLeft:0},icon:"DESC"===ee&&"profit"===V?i.h:"ASC"===ee&&"profit"===V?i.i:i.g,onClick:function(e){re(0,"profit")}},"icon4")]})]},"profitabilityreportheader"),d?Object.entries(d.groupBy(t)).sort((function(e,t){var r=Object(a.a)(e,2)[1],c=Object(a.a)(t,2)[1];return""!==V&&"DESC"===ee?ce(c,V)-ce(r,V):""!==V&&"ASC"===ee?ce(r,V)-ce(c,V):void 0})).map((function(e,c){return Y=Object.keys(Object.fromEntries(Object.entries(d.groupBy(t)).sort((function(e,t){var r=Object(a.a)(e,2)[1],c=Object(a.a)(t,2)[1];return""!==V&&"DESC"===ee?ce(c,V)-ce(r,V):""!==V&&"ASC"===ee?ce(r,V)-ce(c,V):void 0}))))[c],W=0,z=0,[Object(l.jsx)(l.Fragment,{children:U(e[1],"quantity")>0?[Object(l.jsx)("h3",{className:"prmonth",children:Y})]:""}),e[1].map((function(e){return p&&x&&D&&p.includes(e.customer)&&x.includes(e.product)&&D.includes(e.productGroup)&&(W+=Number(e.profit),z+=Number(e.quantity)),Object(l.jsx)("li",{className:r?"profitabilityreportline":"profitabilityreportline prdisplay-none",children:p&&x&&D&&p.includes(e.customer)&&x.includes(e.product)&&D.includes(e.productGroup)?[Object(l.jsx)("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn",children:e.QSID}),Object(l.jsx)("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn",children:e.KTP}),Object(l.jsx)("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn",children:e.KTS}),Object(l.jsxs)("p",{className:"profitabilityreportcolumn",children:[e.startship," - ",e.endship]}),Object(l.jsx)("p",{className:"profitabilityreportcolumn",children:e.country}),Object(l.jsx)("p",{className:"profitabilityreportcolumn",children:e.customer}),Object(l.jsx)("p",{className:"profitabilityreportcolumn",children:e.productGroup}),Object(l.jsx)("p",{className:"profitabilityreportcolumn",children:e.prodCatName}),Object(l.jsx)("p",{className:"profitabilityreportcolumn",children:e.product}),Object(l.jsx)("p",{className:"profitabilityreportcolumn prfig",children:e.quantity.toFixed(2)}),Object(l.jsx)("p",{className:"profitabilityreportcolumn prfig",children:e.price.toFixed(2)}),Object(l.jsx)("p",{className:"profitabilityreportcolumn prfig",children:e?e.profitpmt.toFixed(2):""}),Object(l.jsx)("p",{className:"profitabilityreportcolumn prfig",children:e.profit?"$"+e.profit.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""})]:""},e.QSID)})),Object(l.jsx)("div",{children:U(e[1],"quantity")>0?[Object(l.jsxs)("li",{className:"profitabilityreportline",children:[Object(l.jsx)("p",{style:{display:"flex",flexBasis:"14%"},className:"profitabilityreportcolumn"}),Object(l.jsx)("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"}),Object(l.jsx)("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"}),Object(l.jsx)("p",{className:"profitabilityreportcolumn"}),Object(l.jsx)("p",{className:"profitabilityreportcolumn"}),Object(l.jsx)("p",{className:"profitabilityreportcolumn"}),Object(l.jsx)("p",{className:"profitabilityreportcolumn"}),Object(l.jsx)("p",{className:"profitabilityreportcolumn"}),Object(l.jsx)("p",{className:"profitabilityreportcolumn"}),Object(l.jsx)("p",{className:"profitabilityreportcolumn prfig prtotal",children:z.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Object(l.jsx)("p",{className:"profitabilityreportcolumn prfig"}),Object(l.jsx)("p",{className:"profitabilityreportcolumn prfig"}),Object(l.jsx)("p",{className:"profitabilityreportcolumn prfig prtotal",children:"$"+W.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]})]:""})]})):""]})})}},396:function(e,t,r){"use strict";var c=r(4),a=r(16),n=r(1),s=r(29),i=r(228),o=r(75),l=r(0);s.e.register(s.d,s.i,s.b,s.n,s.o,s.g);t.a=function(e){var t=e.profitreportgroupby,r=Object(n.useContext)(o.a).prdata;Array.prototype.groupBy=function(e){return this.reduce((function(t,r){var c=r[e];return t[c]=t[c]||[],t[c].push(r),t}),{})};var s=Object(n.useState)(),u=Object(c.a)(s,2),d=u[0],b=u[1],j=Object(n.useState)(),p=Object(c.a)(j,2),m=p[0],h=p[1];Object(n.useEffect)((function(){if(r){var e=r.groupBy(t);h(Object.keys(e).reverse()),b(Object.entries(e).map((function(e,t){return function(e,t){var r,c=0,n=Object(a.a)(e);try{for(n.s();!(r=n.n()).done;)c+=r.value[t]}catch(s){n.e(s)}finally{n.f()}return c}(e[1],"quantity")})).reverse())}}),[r,t]);var f={labels:m,datasets:[{label:"Quantity (mt)",data:d,backgroundColor:"rgba(68, 65, 162, 0.7)"}]};return Object(l.jsx)(i.a,{options:{responsive:!0},data:f})}},397:function(e,t,r){"use strict";var c=r(4),a=r(16),n=r(1),s=r(29),i=r(228),o=r(75),l=r(0);s.e.register(s.d,s.i,s.b,s.n,s.o,s.g);t.a=function(e){var t=e.profitreportgroupby,r=Object(n.useContext)(o.a).prdata;Array.prototype.groupBy=function(e){return this.reduce((function(t,r){var c=r[e];return t[c]=t[c]||[],t[c].push(r),t}),{})};var s=Object(n.useState)(),u=Object(c.a)(s,2),d=u[0],b=u[1],j=Object(n.useState)(),p=Object(c.a)(j,2),m=p[0],h=p[1];Object(n.useEffect)((function(){if(r){var e=r.groupBy(t);h(Object.keys(e).reverse()),b(Object.entries(e).map((function(e,t){return function(e,t){var r,c=0,n=Object(a.a)(e);try{for(n.s();!(r=n.n()).done;)c+=r.value[t]}catch(s){n.e(s)}finally{n.f()}return c}(e[1],"profit")})).reverse())}}),[r,t]);var f={labels:m,datasets:[{label:"Profit ($)",data:d,backgroundColor:"rgba(160, 182, 103, 0.7)"}]};return Object(l.jsx)(i.a,{options:{responsive:!0},data:f})}},398:function(e,t,r){"use strict";(function(e){var c=r(4),a=r(6),n=r(1),s=(r(123),r(124),r(37)),i=r(399),o=(r(688),r(7)),l=r.n(o),u=r(0),d=Object(s.WidthProvider)(s.Responsive);t.a=function(){var t=function(t,r){var c,n;c="layouts",n=r,e.localStorage&&e.localStorage.setItem("rgl-analysis",JSON.stringify(Object(a.a)({},c,n))),j(r)},r=function(t){var r={};if(e.localStorage)try{r=JSON.parse(e.localStorage.getItem("rgl-analysis"))|{}}catch(c){}return r[t]}("layouts")||{lg:[{i:"a",x:0,y:0,w:30,h:14}],md:[{i:"a",x:0,y:0,w:30,h:14}],sm:[{i:"a",x:0,y:0,w:30,h:14}],xs:[{i:"a",x:0,y:0,w:30,h:14}],xxs:[{i:"a",x:0,y:0,w:30,h:14}]},s=Object(n.useState)(r),o=Object(c.a)(s,2),b=o[0],j=o[1],p=Object(n.useState)(JSON.parse(localStorage.getItem("WGusercode"))),m=Object(c.a)(p,2),h=m[0],f=m[1],O=Object(n.useState)(),x=Object(c.a)(O,2),g=x[0],y=x[1];return Object(n.useEffect)((function(){l.a.post("/traders").then((function(e){y(e.data)}))}),[]),Object(u.jsx)("div",{className:"gridcontainer",children:Object(u.jsx)(d,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:b,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,r){t(0,r)},margin:[20,20],draggableCancel:".canceldrag",children:Object(u.jsxs)("div",{id:"lastyearsales",children:[Object(u.jsxs)("div",{className:"lystitlesection",children:[Object(u.jsx)("h3",{className:"lystitle",children:"Last Year Sales and Indications"}),Object(u.jsxs)("select",{onChange:function(e){return f(e.target.value)},children:[Object(u.jsx)("option",{value:"all",children:"All"}),g?g.map((function(e){return e.trader===h?Object(u.jsx)("option",{selected:!0,value:e.trader,children:e.trader}):Object(u.jsx)("option",{value:e.trader,children:e.trader})})):"reload"]})]}),Object(u.jsx)(i.a,{userID:h})]},"a")})})}}).call(this,r(43))},399:function(e,t,r){"use strict";var c=r(4),a=r(1),n=r(7),s=r.n(n),i=r(13),o=r.n(i),l=r(0);t.a=function(e){var t=e.userID,r=Object(a.useState)(),n=Object(c.a)(r,2),i=(n[0],n[1]),u=Object(a.useState)(),d=Object(c.a)(u,2),b=d[0],j=d[1];Array.prototype.groupBy=function(e){return this.reduce((function(t,r){var c=r[e];return t[c]=t[c]||[],t[c].push(r),t}),{})},Object(a.useEffect)((function(){var e=Number(o()().format("YY"))-1,r=o()().format("DD"),c=Number(o()().format("MM"))-1,a=Number(o()().format("MM"))+1,n=o()(c+"-"+r+"-"+e).format("YYYY-MM"),l=o()(a+"-"+r+"-"+e).format("YYYY-MM");console.log(n),console.log(l),s.a.post("/lysales",{fromdate:n,todate:l,userID:t}).then((function(e){i(e.data);var t=e.data.groupBy("month");j(t)}))}),[t]);var p="";return Object(l.jsx)("div",{className:"lysaleslist",children:Object(l.jsxs)("ul",{className:"lysalesdata",children:[Object(l.jsxs)("li",{className:"lysalesline lysalesheader",children:[Object(l.jsx)("p",{className:"lysalescolumn",children:"QSDate"}),Object(l.jsx)("p",{className:"lysalescolumn",children:"QSID"}),Object(l.jsx)("p",{className:"lysalescolumn",children:"Customer"}),Object(l.jsx)("p",{className:"lysalescolumn",children:"Product"}),Object(l.jsx)("p",{className:"lysalescolumn lysfig",children:"Quantity"}),Object(l.jsx)("p",{className:"lysalescolumn lysfig",children:"Price"}),Object(l.jsx)("p",{className:"lysalescolumn lysfig",children:"Profit"}),Object(l.jsx)("p",{className:"lysalescolumn",children:"Status"})]}),b?Object.entries(b).map((function(e,t){return p=Object.keys(b)[t],[Object(l.jsx)("h3",{className:"lysalesmonth",children:p}),e[1].map((function(e){return Object(l.jsxs)("li",{className:"lysalesline",children:[Object(l.jsx)("p",{className:"lysalescolumn",children:e.QSDate}),Object(l.jsx)("p",{className:"lysalescolumn",children:e.QSID}),Object(l.jsx)("p",{className:"lysalescolumn",children:e.customer}),Object(l.jsx)("p",{className:"lysalescolumn",children:e.abbreviation}),Object(l.jsx)("p",{className:"lysalescolumn lysfig",children:e.quantity.toFixed(2)}),Object(l.jsx)("p",{className:"lysalescolumn lysfig",children:"$ "+e.priceBeforeInterest.toFixed(2)}),Object(l.jsx)("p",{className:"lysalescolumn lysfig",children:"$ "+e.tradingProfit.toFixed(2)}),Object(l.jsx)("p",{className:"lysalescolumn",children:-1==e.saleComplete?"Sale":"Indication"})]})}))]})):""]})})}},400:function(e,t,r){"use strict";var c=r(6),a=r(2),n=r(8),s=r.n(n),i=r(11),o=r(28),l=r(4),u=r(1),d=(r(321),r(13)),b=r.n(d),j=r(53),p=r(7),m=r.n(p),h=r(32),f=r(74),O=r(40);r(165);r.p;r.p,r(280);var x=r(46),g=r(25),y=r(401),v=r(0);t.a=function(){var e=Object(u.useContext)(h.a).toggleQSrefresh,t=Object(u.useContext)(f.a),r=t.QStoload,n=t.setLoaduser,d=t.loaduser,p=t.diffQS,N=t.duplicateBoolean,S=t.fromdropdown,C=t.setFromdropdown,D=Object(u.useRef)(null),w=Object(u.useState)(!1),k=Object(l.a)(w,2),F=k[0],$=k[1],P=function(){Pr("")};Object(u.useEffect)((function(){var e=D.current;y.a.fromTo(e,{opacity:1},{opacity:0,duration:2.5,ease:"power1.inOut",onComplete:P})}),[F]);var I={KTP:"",KTS:"",saleType:"",QSDate:b()().format("yyyy-MM-DD"),QSID:"",abbreviation:"",supplier:"",customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGuserID")),traffic:"",incoterms:"",CADintrate:.065,CADdays:10,paymentTerm:"",shipmentType:1,freightTotal:0,shippingline:"",payload:0,totalinspection:0,quantity:0,materialcost:0,pcommission:0,pfinancecost:0,sfinancecost:0,materialvalue:0,generalduty:0,additionalduty:0,totalduty:0,dutyfee:0,harborfeepct:0,harborfee:0,merchprocfeepct:0,merchprocfee:0,cflatfee:0,tsca:0,isf:0,totalcentryfee:0,centryfeepmt:0,inboundpmt:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,totalinbound:0,freightpmt:0,insurance:0,insurancerate:7e-4,insurancefactor:1.1,inspectionpmt:0,scommission:0,interestcost:0,warehouse:"",storagepmt:0,whentry:"",whexit:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:0,legal:1,pallets:0,other:0,totalcost:1,interestrate:0,interestdays:0,pricebeforeint:0,salesinterest:0,priceafterint:0,profit:0,margin:0,turnover:0,pctmargin:0,netback:0,saleComplete:0,outboundpmt:0,loading:0,bolcharges:0,outboundothers:0,totaloutbound:0},q={KTP:"",KTS:"",saleType:"",QSDate:b()().format("yyyy-MM-DD"),QSID:"",abbreviation:"",supplier:"",customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGusercode")),traffic:"",incoterms:"",CADintrate:"6.50%",CADdays:"10",paymentTerm:"",shipmentType:"Container",freightTotal:"$ 0.00",shippingline:"",payload:"0.00",totalinspection:"$ 0.00",quantity:"",materialcost:"$ 0.00",pcommission:"$ 0.00",pfinancecost:"$ 0.00",sfinancecost:"$ 0.00",materialvalue:"$ 0,00",generalduty:"0.00%",additionalduty:"0.00%",totalduty:"0.00%",dutyfee:"$ 0.00",harborfeepct:"0.00%",harborfee:"$ 0.00",merchprocfeepct:"0.00%",merchprocfee:"$ 0.00",cflatfee:"$ 0.00",tsca:"$ 0.00",isf:"$ 0.00",totalcentryfee:"$ 0.00",centryfeepmt:"$ 0.00",inboundpmt:"$ 0.00",drayage:"$ 0.00",unloading:"$ 0.00",collectcharges:"$ 0.00",inboundothers:"$ 0.00",totalinbound:"$ 0.00",freightpmt:"$ 0.00",insurance:"$ 0.00",insurancerate:"0.07%",insurancefactor:"1.10",inspectionpmt:"$ 0.00",scommission:"$ 0.00",interestcost:"$ 0.00",warehouse:"",storagepmt:"$ 0.00",whentry:"",whexit:"",storagefixed:"$ 0.00",storagevariable:"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:"",legal:"$ 1.00",pallets:"$ 0.00",other:"$ 0.00",totalcost:"$ 1.00",interestrate:"0.00%",interestdays:"0",pricebeforeint:"$ 0.00",salesinterest:"$ 0.00",priceafterint:"$ 0.00",profit:"$ 0.00",margin:"$ 0.00",turnover:"$ 0.00",pctmargin:"0.00%",netback:"$ 0.00",saleComplete:"indication",outboundpmt:"$ 0.00",loading:"$ 0.00",bolcharges:"$ 0.00",outboundothers:"$ 0.00",totaloutbound:"$ 0.00"},T=Object(u.useState)(I),Q=Object(l.a)(T,2),B=Q[0],E=Q[1],A=Object(u.useState)(q),L=Object(l.a)(A,2),K=L[0],M=L[1],R=Object(u.useState)(),G=Object(l.a)(R,2),Y=G[0],W=G[1],z=Object(u.useState)(),U=Object(l.a)(z,2),J=U[0],H=U[1],V=Object(u.useState)(!1),_=Object(l.a)(V,2),Z=_[0],X=_[1],ee=Object(u.useState)(!1),te=Object(l.a)(ee,2),re=te[0],ce=te[1],ae=Object(u.useState)(!1),ne=Object(l.a)(ae,2),se=ne[0],ie=ne[1],oe=Object(u.useState)(!1),le=Object(l.a)(oe,2),ue=le[0],de=le[1],be=Object(u.useState)([]),je=Object(l.a)(be,2),pe=je[0],me=je[1],he=Object(u.useState)(),fe=Object(l.a)(he,2),Oe=fe[0],xe=fe[1],ge=Object(u.useState)(),ye=Object(l.a)(ge,2),ve=(ye[0],ye[1]),Ne=Object(u.useState)(),Se=Object(l.a)(Ne,2),Ce=Se[0],De=Se[1],we=Object(u.useState)(""),ke=Object(l.a)(we,2),Fe=ke[0],$e=ke[1],Pe=Object(u.useState)(!1),Ie=Object(l.a)(Pe,2),qe=Ie[0],Te=Ie[1],Qe=Object(u.useState)(),Be=Object(l.a)(Qe,2),Ee=Be[0],Ae=Be[1],Le=Object(u.useState)(!1),Ke=Object(l.a)(Le,2),Me=Ke[0],Re=Ke[1],Ge=Object(u.useState)(!0),Ye=Object(l.a)(Ge,2),We=Ye[0],ze=Ye[1],Ue=Object(u.useState)({}),Je=Object(l.a)(Ue,2),He=Je[0],Ve=Je[1],_e=Object(u.useState)({}),Ze=Object(l.a)(_e,2),Xe=Ze[0],et=Ze[1],tt=Object(u.useState)(!1),rt=Object(l.a)(tt,2),ct=rt[0],at=rt[1],nt=Object(u.useState)({}),st=Object(l.a)(nt,2),it=(st[0],st[1],Object(u.useState)(!1)),ot=Object(l.a)(it,2),lt=ot[0],ut=ot[1],dt=Object(u.useState)(!1),bt=Object(l.a)(dt,2),jt=bt[0],pt=bt[1],mt=Object(u.useState)(!1),ht=Object(l.a)(mt,2),ft=ht[0],Ot=ht[1],xt=Object(u.useState)(!1),gt=Object(l.a)(xt,2),yt=gt[0],vt=gt[1],Nt=Object(u.useState)(!1),St=Object(l.a)(Nt,2),Ct=St[0],Dt=St[1],wt=Object(u.useState)(!1),kt=Object(l.a)(wt,2),Ft=kt[0],$t=kt[1],Pt=Object(u.useState)(!1),It=Object(l.a)(Pt,2),qt=It[0],Tt=It[1],Qt=Object(u.useState)(),Bt=Object(l.a)(Qt,2),Et=Bt[0],At=Bt[1],Lt=Object(u.useState)(),Kt=Object(l.a)(Lt,2),Mt=Kt[0],Rt=Kt[1],Gt=Object(u.useState)(JSON.parse(localStorage.getItem("WGusercode"))),Yt=Object(l.a)(Gt,2);Yt[0],Yt[1];Object(u.useEffect)((function(){r||m.a.post("/warehouses").then((function(e){At(e.data)}))}),[]);var Wt=Object(u.useState)(),zt=Object(l.a)(Wt,2),Ut=zt[0],Jt=zt[1];Object(u.useEffect)((function(){m.a.post("/traders").then((function(e){Jt(e.data)}))}),[]);var Ht=function(e){return new Promise((function(t,r){At(e),t()}))};Object(u.useEffect)((function(){}),[]),Object(u.useEffect)((function(){r||m.a.post("/QSIDList",{user:d}).then((function(e){var t=function(e){return new Promise((function(t,r){var c=Object(o.a)(new Set(e.data.map((function(e){return e.QSID}))));me(c),t()}))};(function(){var r=Object(i.a)(s.a.mark((function r(){return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t(e);case 2:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}})()()})),r&&m.a.post("/warehouses").then(function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ht(t.data).then((function(){m.a.post("/QSIDList",{user:d}).then((function(e){var t;(t=e,new Promise((function(e,r){var c=Object(o.a)(new Set(t.data.map((function(e){return e.QSID}))));me(c),e(c)}))).then((function(e){!1===S&&(De(e.indexOf(r)),xe(r)),!0===S&&(De(e.length),xe(""),C(!1))}))}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[ue,d,N]),Object(u.useEffect)((function(){r||De(pe.length)}),[pe]),Object(u.useEffect)((function(){Ce===pe.length?(ze(!1),ce(!1),ie(!1)):ze(!0)}),[Ce]),Object(u.useEffect)((function(){pe.includes(r)&&(!0===ct&&jr(K,He,"enter",r),!1===ct&&(De(pe.indexOf(r)),xe(r)))}),[r,p]);var Vt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return t+" "+e.toFixed(r).replace(/\B(?=(\d{3})+(?!\d))/g,",")},_t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$";return Number(e.replace(t,"").replace(",",""))},Zt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u20ac",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"$",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;return r+" "+(Number(e.replace(c,"").replace(",",""))/t).toFixed(a).replace(/\B(?=(\d{3})+(?!\d))/g,",")},Xt=function(e,t,r){return new Promise((function(c,a){c(e&&t&&r?e*t*r:0)}))},er=function(e,t,r,c,a,n,s,i,o,l,u,d,b,j,p,m){return new Promise((function(h,f){h(e+t+r+c+a+n+s+i+o+l+u+d+b+j+p+m)}))},tr=function(e,t){return new Promise((function(r,c){r(e+t)}))},rr=function(e,t){return new Promise((function(r,c){r(e*t)}))},cr=function(e,t){return new Promise((function(r,c){r(e+t)}))},ar=function(e,t){return new Promise((function(r,c){r(e*t)}))},nr=function(e,t){return new Promise((function(r,c){r(e*t)}))},sr=function(e,t){return new Promise((function(r,c){r(e*t)}))},ir=function(e,t,r,c,a,n){return new Promise((function(s,i){s(e+t+r+c+a+n)}))},or=function(e,t){return new Promise((function(r,c){r(e/t)}))},lr=function(e,t,r,c){return new Promise((function(a,n){a(e+t+r+c)}))},ur=function(e,t){return new Promise((function(r,c){r(t?e/t:0)}))},dr=function(e,t,r){return new Promise((function(c,a){c(e+t+r)}))},br=function(e,t){return new Promise((function(r,c){r(t?e/t:0)}))};Object(u.useEffect)((function(){Ce<pe.length&&m.a.post("/loadQStoedit",{id:pe[Ce]}).then((function(e){var t=e.data[0],r=function(e){return new Promise((function(t,r){e.exchRate&&(Ae(Number(e.exchRate)),t(Number(e.exchRate))),e.exchRate||(Ae(Number(e.exchRate)),t(1))}))},c=function(e){return new Promise((function(t,r){e.exchRate&&t(!0),!e.exchRate&&qe&&(Te(!1),Ae(Number(e.exchRate)),Object(O.confirmAlert)({title:"Back to $ dollars!",message:"This QS does not have an Exchange Rate defined. Reverting back to $ dollar currency",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0}),t(!1)),e.exchRate||qe||(Ae(Number(e.exchRate)),t(!1))}))};(function(){var e=Object(i.a)(s.a.mark((function e(t){var n,i,o,l,u,d,b,j,p,h,f,O,x,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:return n=e.sent,e.next=5,r(t);case 5:return i=e.sent,e.next=8,new Promise((function(e,t){ut(!0),e()}));case 8:if(!t.KTP||3!==t.saleTypeID){e.next=13;break}return e.next=11,m.a.post("/loadusposition",{WGS:t.KTP});case 11:o=e.sent,Rt(o.data[0]);case 13:return e.next=15,rr(Number(t.materialcost.replace("$","").replace(",","")),Number(t.quantity));case 15:if(l=e.sent,!t.generalduty||!t.additionalduty){e.next=22;break}return e.next=19,cr(Number(t.generalduty.replace("%","")),Number(t.additionalduty.replace("%","")));case 19:e.t0=e.sent,e.next=23;break;case 22:e.t0=0;case 23:return u=e.t0,e.next=26,ar(l,u/100);case 26:if(d=e.sent,!t.harborfeepct){e.next=33;break}return e.next=30,nr(l,Number(t.harborfeepct.replace("%","")/100));case 30:e.t1=e.sent,e.next=34;break;case 33:e.t1=0;case 34:if(b=e.t1,!t.merchprocfeepct){e.next=41;break}return e.next=38,sr(l,Number(t.merchprocfeepct.replace("%","")/100));case 38:e.t2=e.sent,e.next=42;break;case 41:e.t2=0;case 42:return j=e.t2,e.next=45,ir(d||0,b||0,j||0,t.cflatfee?_t(t.cflatfee,"$"):0,t.tsca?_t(t.tsca,"$"):0,t.isf?_t(t.isf,"$"):0);case 45:if(p=e.sent,!t.quantity){e.next=52;break}return e.next=49,or(p,t.quantity);case 49:e.t3=e.sent,e.next=53;break;case 52:e.t3=0;case 53:return h=e.t3,e.next=56,lr(t.drayage?_t(t.drayage):0,t.unloading?_t(t.unloading):0,t.collectcharges?_t(t.collectcharges):0,t.inboundothers?_t(t.inboundothers):0);case 56:if(f=e.sent,!t.payload){e.next=63;break}return e.next=60,ur(f,t.payload);case 60:e.t4=e.sent,e.next=64;break;case 63:e.t4=0;case 64:return O=e.t4,e.next=67,dr(t.loading?_t(t.loading):0,t.bolcharges?_t(t.bolcharges):0,t.outboundothers?_t(t.outboundothers):0);case 67:return x=e.sent,e.next=70,br(x,t.payload);case 70:return g=e.sent,M(Object(a.a)(Object(a.a)({},K),{},{warehouse:t.warehouseID?Et[t.warehouseID-1].warehouseName:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagepmt:n&&qe&&t.storagepmt?Zt(t.storagepmt,i):n&&qe&&!t.storagepmt?"\u20ac 0.00":t.storagepmt,storagefixed:n&&qe&&t.storagefixed?Zt(t.storagefixed,i):n&&qe&&!t.storagefixed?"\u20ac 0.00":t.storagefixed,storagevariable:n&&qe&&t.storagevariable?Zt(t.storagevariable,i):n&&qe&&!t.storagevariable?"\u20ac 0.00":t.storagevariable,stggraceperiod:t.stggraceperiod?t.stggraceperiod:"0",stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:"0",quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleType,QSID:t.QSID,abbreviation:t.abbreviation,supplier:t.supplier,customer:t.customer,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POL,POD:t.POD,saleComplete:-1===t.saleComplete?"sold":0===t.saleComplete?"indication":1===t.saleComplete?"US Allocation":"",TIC:t.trader,traffic:t.traffic,incoterms:t.incoterms,paymentTerm:t.paymentTerm,CADintrate:t.includedrate,insurancerate:t.insurancerate,insurancefactor:t.insurancefactor.toFixed(2),CADdays:t.includedperiod,shipmentType:t.shipmentType?t.shipmentType:"Container",freightTotal:n&&qe&&t.freightTotal?Zt(t.freightTotal,i):n&&qe&&!t.freightTotal?"\u20ac 0.00":t.freightTotal,shippingline:t.shippingline,payload:t.payload,totalinspection:n&&qe&&t.totalinspection?Zt(t.totalinspection,i):n&&qe&&!t.totalinspection?"\u20ac 0.00":t.totalinspection,quantity:t.quantity,materialcost:n&&qe&&t.materialcost?Zt(t.materialcost,i):n&&qe&&!t.materialcost?"\u20ac 0.00":t.materialcost,materialvalue:n&&qe&&l?Zt(l.toFixed(2),i):n&&qe&&!l?"\u20ac 0.00":Vt(l,"$",2),generalduty:t.generalduty?t.generalduty:"0.00%",additionalduty:t.additionalduty?t.additionalduty:"0.00%",totalduty:u?u+"%":"0.00%",dutyfee:n&&qe&&d?Zt(d.toFixed(2),i):n&&qe&&!d?"\u20ac 0.00":Vt(d,"$",2),harborfeepct:t.harborfeepct?t.harborfeepct:"0.00%",harborfee:n&&qe&&b?Zt(b.toFixed(2),i):n&&qe&&!b?"\u20ac 0.00":Vt(b,"$",2),merchprocfeepct:t.merchprocfeepct?t.merchprocfeepct:"0.00%",merchprocfee:n&&qe&&j?Zt(j.toFixed(2),i):n&&qe&&!j?"\u20ac 0.00":Vt(j,"$",2),cflatfee:n&&qe&&t.cflatfee?Zt(t.cflatfee,i):n&&qe&&!t.cflatfee?"\u20ac 0.00":t.cflatfee,tsca:n&&qe&&t.tsca?Zt(t.tsca,i):n&&qe&&!t.tsca?"\u20ac 0.00":t.tsca,isf:n&&qe&&t.isf?Zt(t.isf,i):n&&qe&&!t.isf?"\u20ac 0.00":t.isf,totalcentryfee:n&&qe&&p?Zt(p.toFixed(2),i):n&&qe&&!p?"\u20ac 0.00":Vt(p,"$",2),centryfeepmt:n&&qe&&h?Zt(h.toFixed(2),i):n&&qe&&!h?"\u20ac 0.00":Vt(h,"$",2),drayage:n&&qe&&t.drayage?Zt(t.drayage,i):n&&qe&&!t.drayage?"\u20ac 0.00":t.drayage,unloading:n&&qe&&t.unloading?Zt(t.unloading,i):n&&qe&&!t.unloading?"\u20ac 0.00":t.unloading,collectcharges:n&&qe&&t.collectcharges?Zt(t.collectcharges,i):n&&qe&&!t.collectcharges?"\u20ac 0.00":t.collectcharges,inboundothers:n&&qe&&t.inboundothers?Zt(t.inboundothers,i):n&&qe&&!t.inboundothers?"\u20ac 0.00":t.inboundothers,totalinbound:n&&qe&&f?Zt(f.toFixed(2),i):n&&qe&&!f?"\u20ac 0.00":Vt(f,"$",2),inboundpmt:n&&qe&&O?Zt(O.toFixed(2),i):n&&qe&&!O?"\u20ac 0.00":Vt(O,"$",2),loading:n&&qe&&t.loading?Zt(t.loading,i):n&&qe&&!t.loading?"\u20ac 0.00":t.loading,bolcharges:n&&qe&&t.bolcharges?Zt(t.bolcharges,i):n&&qe&&!t.bolcharges?"\u20ac 0.00":t.bolcharges,outboundothers:n&&qe&&t.outboundothers?Zt(t.outboundothers,i):n&&qe&&!t.outboundothers?"\u20ac 0.00":t.outboundothers,totaloutbound:n&&qe&&x?Zt(x.toFixed(2),i):n&&qe&&!x?"\u20ac 0.00":Vt(x,"$",2),outboundpmt:n&&qe&&g?Zt(g.toFixed(2),i):n&&qe&&!g?"\u20ac 0.00":Vt(g,"$",2),pcommission:n&&qe&&t.pcommission?Zt(t.pcommission,i):n&&qe&&!t.pcommission?"\u20ac 0.00":t.pcommission,pfinancecost:n&&qe&&t.pfinancecost?Zt(t.pfinancecost,i):n&&qe&&!t.pfinancecost?"\u20ac 0.00":t.pfinancecost,sfinancecost:n&&qe&&t.sfinancecost?Zt(t.sfinancecost,i):n&&qe&&!t.sfinancecost?"\u20ac 0.00":t.sfinancecost,freightpmt:n&&qe&&t.freightpmt?Zt(t.freightpmt,i):n&&qe&&!t.freightpmt?"\u20ac 0.00":t.freightpmt,insurance:n&&qe&&t.insurance?Zt(t.insurance,i):n&&qe&&!t.insurance?"\u20ac 0.00":t.insurance,inspectionpmt:n&&qe&&t.inspectionpmt?Zt(t.inspectionpmt,i):n&&qe&&!t.inspectionpmt?"\u20ac 0.00":t.inspectionpmt,scommission:n&&qe&&t.scommission?Zt(t.scommission,i):n&&qe&&!t.scommission?"\u20ac 0.00":t.scommission,interestcost:n&&qe&&t.interestcost?Zt(t.interestcost,i):n&&qe&&!t.interestcost?"\u20ac 0.00":t.interestcost,legal:n&&qe&&t.legal?Zt(t.legal,i):n&&qe&&!t.legal?"\u20ac 0.00":t.legal,pallets:n&&qe&&t.pallets?Zt(t.pallets,i):n&&qe&&!t.pallets?"\u20ac 0.00":t.pallets,other:n&&qe&&t.other?Zt(t.other,i):n&&qe&&!t.other?"\u20ac 0.00":t.other,totalcost:n&&qe&&t.totalcost?Zt(t.totalcost,i):n&&qe&&!t.totalcost?"\u20ac 0.00":t.totalcost,interestrate:t.interestrate,interestdays:t.interestdays,pricebeforeint:n&&qe&&t.pricebeforeint?Zt(t.pricebeforeint,i):n&&qe&&!t.pricebeforeint?"\u20ac 0.00":t.pricebeforeint,salesinterest:n&&qe&&t.salesinterest?Zt(t.salesinterest,i):n&&qe&&!t.salesinterest?"\u20ac 0.00":t.salesinterest,priceafterint:n&&qe&&t.priceafterint?Zt(t.priceafterint,i):n&&qe&&!t.priceafterint?"\u20ac 0.00":t.priceafterint,profit:n&&qe&&t.profit?Zt(t.profit,i):n&&qe&&!t.pricebeforeint?"\u20ac 0.00":t.profit,margin:n&&qe&&t.margin?Zt(t.margin,i):n&&qe&&!t.margin?"\u20ac 0.00":t.margin,turnover:n&&qe&&t.turnover?Zt(t.turnover,i):n&&qe&&!t.turnover?"\u20ac 0.00":t.turnover,pctmargin:t.pctmargin?t.pctmargin:"0.00%",netback:n&&qe&&t.netback?Zt(t.netback,i):n&&qe&&!t.netback?"\u20ac 0.00":t.netback})),E(Object(a.a)(Object(a.a)({},B),{},{warehouse:t.warehouseID?t.warehouseID:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagepmt:t.storagepmt?_t(t.storagepmt,"$"):0,storagefixed:t.storagefixed?_t(t.storagefixed,"$"):0,storagevariable:t.storagevariable?_t(t.storagevariable,"$"):0,stggraceperiod:t.stggraceperiod?t.stggraceperiod:0,stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:0,quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleTypeID,QSID:t.QSID,abbreviation:t.productID,supplier:t.supplierID,customer:t.customerID,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POLID,POD:t.PODID,saleComplete:t.saleComplete,TIC:t.traderID,traffic:t.trafficID,incoterms:t.incoterms,paymentTerm:t.pTermID,CADintrate:Number(t.includedrate.replace("%",""))/100,insurancerate:Number(t.insurancerate.replace("%",""))/100,insurancefactor:t.insurancefactor,CADdays:t.includedperiod,shipmentType:t.shipmentTypeID?t.shipmentTypeID:1,freightTotal:t.freightTotal?_t(t.freightTotal,"$"):0,shippingline:t.shippingline,payload:t.payload,totalinspection:t.totalinspection?_t(t.totalinspection,"$"):0,quantity:Number(t.quantity.replace(",","")),materialcost:t.materialcost?_t(t.materialcost,"$"):0,materialvalue:l||0,generalduty:t.generalduty?Number(t.generalduty.replace("%",""))/100:0,additionalduty:t.additionalduty?Number(t.additionalduty.replace("%",""))/100:0,totalduty:u?u/100:0,dutyfee:d||0,harborfeepct:t.harborfeepct?Number(t.harborfeepct.replace("%",""))/100:0,harborfee:b||0,merchprocfeepct:t.merchprocfeepct?Number(t.merchprocfeepct.replace("%",""))/100:0,merchprocfee:j||0,cflatfee:t.cflatfee?_t(t.cflatfee,"$"):0,tsca:t.tsca?_t(t.tsca,"$"):0,isf:t.isf?_t(t.isf,"$"):0,totalcentryfee:p||0,centryfeepmt:h||0,drayage:t.drayage?_t(t.drayage,"$"):0,unloading:t.unloading?_t(t.unloading,"$"):0,collectcharges:t.collectcharges?_t(t.collectcharges,"$"):0,inboundothers:t.inboundothers?_t(t.inboundothers,"$"):0,totalinbound:f||0,inboundpmt:O||0,loading:t.loading?_t(t.loading,"$"):0,bolcharges:t.bolcharges?_t(t.bolcharges,"$"):0,outboundothers:t.outboundothers?_t(t.outboundothers,"$"):0,totaloutbound:x||0,outboundpmt:g||0,pcommission:t.pcommission?_t(t.pcommission,"$"):0,pfinancecost:t.pfinancecost?_t(t.pfinancecost,"$"):0,sfinancecost:t.sfinancecost?_t(t.sfinancecost,"$"):0,freightpmt:t.freightpmt?_t(t.freightpmt,"$"):0,insurance:t.insurance?_t(t.insurance,"$"):0,inspectionpmt:t.inspectionpmt?_t(t.inspectionpmt,"$"):0,scommission:t.scommission?_t(t.scommission,"$"):0,interestcost:t.interestcost?_t(t.interestcost,"$"):0,legal:t.legal?_t(t.legal,"$"):0,pallets:t.pallets?_t(t.pallets,"$"):0,other:t.other?_t(t.other,"$"):0,totalcost:t.totalcost?_t(t.totalcost,"$"):0,interestrate:Number(t.interestrate.replace("%",""))/100,interestdays:t.interestdays,pricebeforeint:t.pricebeforeint?_t(t.pricebeforeint,"$"):0,salesinterest:t.salesinterest?_t(t.salesinterest,"$"):0,priceafterint:t.priceafterint?_t(t.priceafterint,"$"):0,profit:t.profit?_t(t.profit,"$"):0,margin:t.margin?_t(t.margin,"$"):0,turnover:t.turnover?_t(t.turnover,"$"):0,pctmargin:t.pctmargin?Number(t.pctmargin.replace("%",""))/100:0,netback:t.netback?_t(t.netback,"$"):0})),Ve(Object(a.a)(Object(a.a)({},He),{},{warehouse:t.warehouseID?Et[t.warehouseID-1].warehouseName:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagefixed:t.storagefixed?t.storagefixed:"$ 0.00",storagepmt:t.storagepmt?t.storagepmt:"$ 0.00",storagevariable:t.storagevariable?t.storagevariable:"$ 0.00",stggraceperiod:t.stggraceperiod?t.stggraceperiod:"0",stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:"0",quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleType,QSID:t.QSID,abbreviation:t.abbreviation,supplier:t.supplier,customer:t.customer,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POL,POD:t.POD,saleComplete:-1===t.saleComplete?"sold":0===t.saleComplete?"indication":1===t.saleComplete?"US Allocation":"",TIC:t.trader,traffic:t.traffic,incoterms:t.incoterms,paymentTerm:t.paymentTerm,CADintrate:t.includedrate,insurancerate:t.insurancerate,insurancefactor:t.insurancefactor.toFixed(2),CADdays:t.includedperiod,shipmentType:t.shipmentType,freightTotal:t.freightTotal?t.freightTotal:"",shippingline:t.shippingline,payload:t.payload,totalinspection:t.totalinspection?t.totalinspection:"",quantity:t.quantity,materialcost:t.materialcost?t.materialcost:"$ 0.00",materialvalue:l?Vt(l):"$ 0.00",generalduty:t.generalduty?t.generalduty:"0.00%",additionalduty:t.additionalduty?t.additionalduty:"0.00%",totalduty:u?u+"%":"0.00%",dutyfee:d?Vt(d):"$ 0.00",harborfeepct:t.harborfeepct?t.harborfeepct:"0.00%",harborfee:b?Vt(b):"$ 0.00",merchprocfeepct:t.merchprocfeepct?t.merchprocfeepct:"0.00%",merchprocfee:j?Vt(j):"$ 0.00",cflatfee:t.cflatfee?t.cflatfee:"$ 0.00",tsca:t.tsca?t.tsca:"$ 0.00",isf:t.isf?t.isf:"$ 0.00",totalcentryfee:p?Vt(p):"$ 0.00",centryfeepmt:h?Vt(h):"$ 0.00",drayage:t.drayage?t.drayage:"$ 0.00",unloading:t.unloading?t.unloading:"$ 0.00",collectcharges:t.collectcharges?t.collectcharges:"$ 0.00",inboundothers:t.inboundothers?t.inboundothers:"$ 0.00",totalinbound:f?Vt(f):"$ 0.00",inboundpmt:O?Vt(O):"$ 0.00",loading:t.loading?t.loading:"$ 0.00",bolcharges:t.bolcharges?t.bolcharges:"$ 0.00",outboundothers:t.outboundothers?t.outboundothers:"$ 0.00",totaloutbound:x?Vt(x):"$ 0.00",outboundpmt:g?Vt(g):"$ 0.00",pcommission:t.pcommission?t.pcommission:"$ 0.00",pfinancecost:t.pfinancecost?t.pfinancecost:"$ 0.00",sfinancecost:t.sfinancecost?t.sfinancecost:"$ 0.00",freightpmt:t.freightpmt?t.freightpmt:"$ 0.00",insurance:t.insurance?t.insurance:"$ 0.00",inspectionpmt:t.inspectionpmt?t.inspectionpmt:"$ 0.00",scommission:t.scommission?t.scommission:"$ 0.00",interestcost:t.interestcost?t.interestcost:"$ 0.00",legal:t.legal?t.legal:"$ 0.00",pallets:t.pallets?t.pallets:"$ 0.00",other:t.other?t.other:"$ 0.00",totalcost:t.totalcost?t.totalcost:"$ 0.00",interestrate:t.interestrate,interestdays:t.interestdays,pricebeforeint:t.pricebeforeint?t.pricebeforeint:"$ 0.00",salesinterest:t.salesinterest?t.salesinterest:"$ 0.00",priceafterint:t.priceafterint?t.priceafterint:"$ 0.00",profit:t.profit?t.profit:"$ 0.00",margin:t.margin?t.margin:"$ 0.00",turnover:t.turnover?t.turnover:"$ 0.00",pctmargin:t.pctmargin?t.pctmargin:"0.00%",netback:t.netback?t.netback:"$ 0.00"})),et(Object(a.a)(Object(a.a)({},He),{},{warehouse:t.warehouseID?t.warehouseID:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagepmt:t.storagepmt?_t(t.storagepmt):0,storagefixed:t.storagefixed?_t(t.storagefixed):0,storagevariable:t.storagevariable?_t(t.storagevariable):0,stggraceperiod:t.stggraceperiod?t.stggraceperiod:0,stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:0,quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleTypeID,QSID:t.QSID,abbreviation:t.productID,supplier:t.supplierID,customer:t.customerID,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POLID,POD:t.PODID,saleComplete:t.saleComplete,TIC:t.traderID,traffic:t.trafficID,incoterms:t.incoterms,paymentTerm:t.pTermID,CADintrate:Number(t.includedrate.replace("%",""))/100,insurancerate:Number(t.insurancerate.replace("%",""))/100,insurancefactor:t.insurancefactor,CADdays:t.includedperiod,shipmentType:t.shipmentTypeID?t.shipmentTypeID:1,freightTotal:t.freightTotal?_t(t.freightTotal):0,shippingline:t.shippingline,payload:t.payload,totalinspection:t.totalinspection?_t(t.totalinspection):0,quantity:Number(t.quantity.replace(",","")),materialcost:t.materialcost?_t(t.materialcost):0,materialvalue:l||0,generalduty:t.generalduty?_t(t.generalduty,"%")/100:0,additionalduty:t.additionalduty?_t(t.additionalduty,"%")/100:0,totalduty:u?u/100:0,dutyfee:d||0,harborfeepct:t.harborfeepct?_t(t.harborfeepct,"%")/100:0,harborfee:b||0,merchprocfeepct:t.merchprocfeepct?_t(t.merchprocfeepct,"%")/100:0,merchprocfee:j||0,cflatfee:t.cflatfee?_t(t.cflatfee):0,tsca:t.tsca?_t(t.tsca):0,isf:t.isf?_t(t.isf):0,totalcentryfee:p||0,centryfeepmt:h||0,drayage:t.drayage?_t(t.drayage):0,unloading:t.unloading?_t(t.unloading):0,collectcharges:t.collectcharges?_t(t.collectcharges):0,inboundothers:t.inboundothers?_t(t.inboundothers):0,totalinbound:f||0,inboundpmt:O||0,loading:t.loading?_t(t.loading):0,bolcharges:t.bolcharges?_t(t.bolcharges):0,outboundothers:t.outboundothers?_t(t.outboundothers):0,totaloutbound:x||0,outboundpmt:g||0,pcommission:t.pcommission?_t(t.pcommission):0,pfinancecost:t.pfinancecost?_t(t.pfinancecost):0,sfinancecost:t.sfinancecost?_t(t.sfinancecost):0,freightpmt:t.freightpmt?_t(t.freightpmt):0,insurance:t.insurance?_t(t.insurance):0,inspectionpmt:t.inspectionpmt?_t(t.inspectionpmt):0,scommission:t.scommission?_t(t.scommission):0,interestcost:t.interestcost?_t(t.interestcost):0,legal:t.legal?_t(t.legal):0,pallets:t.pallets?_t(t.pallets):0,other:t.other?_t(t.other):0,interestrate:Number(t.interestrate.replace("%",""))/100,interestdays:t.interestdays,pricebeforeint:t.pricebeforeint?_t(t.pricebeforeint):0,salesinterest:t.salesinterest?_t(t.salesinterest):0,priceafterint:t.priceafterint?_t(t.priceafterint):0,profit:t.profit?_t(t.profit):0,margin:t.margin?_t(t.margin):0,turnover:t.turnover?_t(t.turnover):0,pctmargin:t.pctmargin?Number(t.pctmargin.replace("%",""))/100:0,netback:t.netback?_t(t.netback):0})),-1===t.saleComplete&&(ce(!0),ie(!1)),1===t.saleComplete&&(ie(!0),ce(!1)),0===t.saleComplete&&(ce(!1),ie(!1)),e.next=80,new Promise((function(e,t){ut(!1),e()}));case 80:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t)})),Ce===pe.length&&(M(q),E(I),Ae(null)),at(!1)}),[Ce]);var jr=function(e,t,r,c){var a=[],n=[],s=[];for(var i in e)!1===qe&&e[i]!==t[i]&&(a.push(i),""===t[i]?n.push("(empty)"):n.push(t[i]),s.push(e[i])),!0===qe&&e[i]&&(e[i].toString().indexOf("\u20ac")>-1?_t(e[i],"\u20ac").toFixed(2)!==(_t(t[i],"$")/Ee).toFixed(2)&&(a.push(i),""===t[i]?n.push("(empty)"):n.push(Zt(t[i],Ee,"\u20ac","$",2)),s.push(e[i])):e[i]!==t[i]&&(a.push(i),""===t[i]?n.push("(empty)"):n.push(t[i]),s.push(e[i])));!0===We&&0!==s.length&&Object(O.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsxs)("div",{className:"custom-ui",children:[Object(v.jsx)("h1",{children:"Are you sure?"}),Object(v.jsx)("p",{className:"confirmmsg",children:"If you leave this QS now, the following unsaved edits will be lost. Click CONTINUE to leave the QS anyway OR click CANCEL to go back and avoid losing your edits."}),Object(v.jsxs)("ul",{children:[Object(v.jsxs)("li",{className:"editsline editsheader",children:[Object(v.jsx)("p",{children:"Item:"}),Object(v.jsx)("p",{className:"editfig",children:"Original:"}),Object(v.jsx)("p",{children:"Edit:"})]}),a.map((function(e,t){return Object(v.jsxs)("li",{className:"editsline",children:[Object(v.jsx)("p",{className:"edititem",children:a[t]}),Object(v.jsx)("p",{className:"editfig",children:n[t]}),Object(v.jsx)("p",{className:"editfig",children:s[t]})]})}))]}),Object(v.jsx)("button",{onClick:t,children:"Cancel"}),Object(v.jsx)("button",{onClick:function(e){"prev"===r&&(De(Ce-1),xe(pe[Ce-1]),ve(pe[Ce-1]),$e(null)),"next"===r&&(De(Ce<pe.length?Ce+1:pe.length),xe(Ce<pe.length-1?pe[Ce+1]:""),ve(Ce<pe.length-1?pe[Ce+1]:""),$e(null)),"enter"===r&&(De(pe.indexOf(c)),$e(""),xe(c)),"new"===r&&(De(pe.length),xe(""),ve(""),ce(!1),ie(!1)),t()},children:"Continue"})]})}}),!1===We&&Object(O.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(v.jsxs)("div",{className:"custom-ui",children:[Object(v.jsx)("h1",{children:"Are you sure?"}),Object(v.jsx)("p",{className:"confirmmsg",children:"You have already added some data to this new QS. If you leave this QS now without saving, the inputed data will be lost. Click CONTINUE to leave the QS anyway OR click CANCEL to go back and avoid losing your added data."}),Object(v.jsx)("button",{onClick:t,children:"Cancel"}),Object(v.jsx)("button",{onClick:function(e){"prev"===r&&(De(Ce-1),xe(pe[Ce-1]),ve(pe[Ce-1]),$e(null)),"enter"===r&&(De(pe.indexOf(c)),$e("")),"new"===r&&(De(pe.length),xe(""),ve(""),Er()),t()},children:"Continue"})]})}})};Object(u.useEffect)((function(){re&&(E(Object(a.a)(Object(a.a)({},B),{},{saleComplete:-1})),M(Object(a.a)(Object(a.a)({},K),{},{saleComplete:"sold"}))),se&&(E(Object(a.a)(Object(a.a)({},B),{},{saleComplete:1})),M(Object(a.a)(Object(a.a)({},K),{},{saleComplete:"US Allocation"}))),!re&!se&&(E(Object(a.a)(Object(a.a)({},B),{},{saleComplete:0})),M(Object(a.a)(Object(a.a)({},K),{},{saleComplete:"indication"})))}),[re,se]);var pr=function(e,t,r,n,s,i){var o,l;""===t&&""===n&&""===i?(E(Object(a.a)(Object(a.a)({},B),{},Object(c.a)({},r,e))),M(Object(a.a)(Object(a.a)({},K),{},Object(c.a)({},r,s)))):(E(Object(a.a)(Object(a.a)({},B),{},(o={},Object(c.a)(o,r,e),Object(c.a)(o,n,t),o))),M(Object(a.a)(Object(a.a)({},K),{},(l={},Object(c.a)(l,r,s),Object(c.a)(l,n,i),l))))},mr=function(e){at(!0),E(Object(a.a)(Object(a.a)({},B),{},Object(c.a)({},e.target.name,e.target.value))),M(Object(a.a)(Object(a.a)({},K),{},Object(c.a)({},e.target.name,e.target.value)))},hr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;at(!0),!0===qe&&Ee&&!1===Me&&Re(!0);var r=RegExp("^[0-9.,%]+$");(r.test(e.target.value)||""===e.target.value)&&(e.target.value.toString().includes("%")?(E(Object(a.a)(Object(a.a)({},B),{},Object(c.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(t)/100))),M(Object(a.a)(Object(a.a)({},K),{},Object(c.a)({},e.target.name,e.target.value.replace("%",""))))):(E(Object(a.a)(Object(a.a)({},B),{},Object(c.a)({},e.target.name,Number(e.target.value).toFixed(t)/100))),M(Object(a.a)(Object(a.a)({},K),{},Object(c.a)({},e.target.name,e.target.value)))))},fr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;M(Object(a.a)(Object(a.a)({},K),{},Object(c.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(t)+"%")))},Or=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;at(!0),!0===qe&&Ee&&!1===Me&&Re(!0);var r=RegExp("^[0-9.]+$");(r.test(e.target.value)||""===e.target.value)&&(E(Object(a.a)(Object(a.a)({},B),{},Object(c.a)({},e.target.name,Number(Number(e.target.value).toFixed(t))))),M(Object(a.a)(Object(a.a)({},K),{},Object(c.a)({},e.target.name,e.target.value))))},xr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;M(Object(a.a)(Object(a.a)({},K),{},Object(c.a)({},e.target.name,Number(e.target.value.replace(",","")).toFixed(t).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""===e.target.value&&E(Object(a.a)(Object(a.a)({},B),{},Object(c.a)({},e.target.name,0)))},gr=function(e){(at(!0),!1===qe)&&((RegExp("^[ $0-9.]+$").test(e.target.value)||""===e.target.value)&&(E(Object(a.a)(Object(a.a)({},B),{},Object(c.a)({},e.target.name,Number(Number(e.target.value.replace("$","")).toFixed(2))))),M(Object(a.a)(Object(a.a)({},K),{},Object(c.a)({},e.target.name,e.target.value)))));!0===qe&&Ee&&(Me||Re(!0),(RegExp("^[ \u20ac0-9.]+$").test(e.target.value)||""===e.target.value)&&(E(Object(a.a)(Object(a.a)({},B),{},Object(c.a)({},e.target.name,Number(Number(e.target.value.replace("\u20ac","")).toFixed(2))*Ee))),M(Object(a.a)(Object(a.a)({},K),{},Object(c.a)({},e.target.name,e.target.value)))));!0!==qe||Ee&&""!==Ee||Object(O.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},yr=function(e){!1===qe&&(M(Object(a.a)(Object(a.a)({},K),{},Object(c.a)({},e.target.name,"$ "+Number(e.target.value.replace(",","").replace("$","")).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""!==e.target.value&&"$"!==e.target.value||E(Object(a.a)(Object(a.a)({},B),{},Object(c.a)({},e.target.name,0)))),!0===qe&&(M(Object(a.a)(Object(a.a)({},K),{},Object(c.a)({},e.target.name,"\u20ac "+Number(e.target.value.replace(",","").replace("\u20ac","")).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""!==e.target.value&&"\u20ac"!==e.target.value||E(Object(a.a)(Object(a.a)({},B),{},Object(c.a)({},e.target.name,0))))},vr=function(e){e.preventDefault(),at(!0),(RegExp("^[0-9]+$").test(e.target.value)||""===e.target.value)&&(M(Object(a.a)(Object(a.a)({},K),{},Object(c.a)({},e.target.name,e.target.value))),E(Object(a.a)(Object(a.a)({},B),{},Object(c.a)({},e.target.name,e.target.value))))};Object(u.useEffect)((function(){if(K.from&&!K.to&&(M(Object(a.a)(Object(a.a)({},K),{},{to:K.from})),E(Object(a.a)(Object(a.a)({},B),{},{to:B.from}))),K.from&&K.to){var e=b()(K.from);b()(K.to).diff(e,"days")<0&&Object(O.confirmAlert)({title:"Check shipment dates",message:"Delivery date (to) cannot be earlier than shipment date (from)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})}}),[K.from,K.to]);var Nr=function(e,t){return new Promise((function(r,c){r(e>0&&t>0?e/t:0)}))},Sr=function(e,t,r){return new Promise((function(c,a){c(e>0&&t>0&&r>0?e*t*r/360:0)}))},Cr=function(e,t){return new Promise((function(r,c){r(e>0&&t>0?e/t:0)}))},Dr=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){ie(!1),e()}));case 2:E(Object(a.a)(Object(a.a)({},B),{},{saleComplete:0,saleType:3,generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,warehouse:"",whentry:"",whexit:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:"",KTP:""})),M(Object(a.a)(Object(a.a)({},K),{},{saleComplete:"indication",saleType:"US Distribution",generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:qe?"\u20ac 0.00":"$ 0.00",tsca:qe?"\u20ac 0.00":"$ 0.00",isf:qe?"\u20ac 0.00":"$ 0.00",drayage:qe?"\u20ac 0.00":"$ 0.00",unloading:qe?"\u20ac 0.00":"$ 0.00",collectcharges:qe?"\u20ac 0.00":"$ 0.00",inboundothers:qe?"\u20ac 0.00":"$ 0.00",warehouse:"",whentry:"",whexit:"",storagefixed:qe?"\u20ac 0.00":"$ 0.00",storagevariable:qe?"\u20ac 0.00":"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:"",KTP:""}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){var e;e=B.incoterms,new Promise((function(t,r){"CPT"!==e&&"CFR"!==e||(E(Object(a.a)(Object(a.a)({},B),{},{insurancerate:7e-4})),M(Object(a.a)(Object(a.a)({},K),{},{insurancerate:"0.07%"}))),"DAP"===e&&(E(Object(a.a)(Object(a.a)({},B),{},{insurancerate:.0011})),M(Object(a.a)(Object(a.a)({},K),{},{insurancerate:"0.11%"}))),"CIP"!==e&&"CIF"!==e||(E(Object(a.a)(Object(a.a)({},B),{},{insurancerate:.0014,insurancefactor:1.1})),M(Object(a.a)(Object(a.a)({},K),{},{insurancerate:"0.14%",insurancefactor:"1.10"})))}))}),[B.incoterms]),Object(u.useEffect)((function(){!1===lt&&function(){var e=Object(i.a)(s.a.mark((function e(){var t,r,c,n,i,o,l,u,d,b,j,p,m,h,f,O,x,g,y,v,N;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0,3!==B.saleType){e.next=11;break}return e.next=4,qr(B.whentry?B.whentry:Mt.whentry,B.whexit?B.whexit:Mt.whentry);case 4:return r=e.sent,e.next=7,Tr(r,Mt.stggraceperiod);case 7:return c=e.sent,e.next=10,Qr(c,Mt.storagefixed,Mt.storagevariable,Mt.quantity,Mt.quantitypallets,Mt.stgaccrualperiod);case 10:t=e.sent;case 11:return e.next=13,Nr(B.freightTotal,B.payload);case 13:return n=e.sent,e.next=16,Sr(B.CADintrate,B.CADdays,B.pricebeforeint);case 16:return i=e.sent,e.next=19,Sr(B.interestrate,B.interestdays,B.pricebeforeint);case 19:return o=e.sent,e.next=22,Cr(B.totalinspection,B.quantity);case 22:return l=e.sent,e.next=25,Xt(B.pricebeforeint,B.insurancerate,B.insurancefactor);case 25:return u=e.sent,e.next=28,rr(B.materialcost,B.quantity);case 28:return d=e.sent,e.next=31,cr(B.generalduty,B.additionalduty);case 31:return b=e.sent,e.next=34,ar(d,b);case 34:return j=e.sent,e.next=37,nr(d,B.harborfeepct);case 37:return p=e.sent,e.next=40,sr(d,B.merchprocfeepct);case 40:return m=e.sent,e.next=43,ir(j,p,m,B.cflatfee,B.tsca,B.isf);case 43:if(h=e.sent,!B.quantity){e.next=50;break}return e.next=47,or(h,B.quantity);case 47:e.t0=e.sent,e.next=51;break;case 50:e.t0=0;case 51:return f=e.t0,e.next=54,lr(B.drayage,B.unloading,B.collectcharges,B.inboundothers);case 54:if(O=e.sent,!B.payload){e.next=61;break}return e.next=58,ur(O,B.payload);case 58:e.t1=e.sent,e.next=62;break;case 61:e.t1=0;case 62:return x=e.t1,e.next=65,dr(B.loading,B.bolcharges,B.outboundothers);case 65:return g=e.sent,e.next=68,br(g,B.payload);case 68:return y=e.sent,e.next=71,er(B.materialcost,f,x,y,B.pcommission,B.pfinancecost,B.sfinancecost,n,u,l,B.scommission,i,B.legal,B.pallets,B.other,B.storagepmt);case 71:return v=e.sent,e.next=74,tr(B.pricebeforeint,o);case 74:N=e.sent,E(Object(a.a)(Object(a.a)({},B),{},{freightpmt:n,insurance:u,inspectionpmt:l,interestcost:i,materialvalue:d,totalduty:b,dutyfee:j,harborfee:p,merchprocfee:m,totalcentryfee:h,centryfeepmt:f,totalinbound:O,totaloutbound:g,inboundpmt:x,outboundpmt:y,totalcost:v,salesinterest:o,priceafterint:N,storagepmt:t,profit:0!==B.quantity&&0!==B.pricebeforeint?Number((B.pricebeforeint-v).toFixed(4)):0,margin:0!==B.quantity&&0!==B.pricebeforeint?Number(((B.pricebeforeint-v)*B.quantity).toFixed(4)):0,turnover:0!==B.quantity&&0!==B.pricebeforeint?Number((B.quantity*N).toFixed(4)):0,pctmargin:0!==B.quantity&&0!==B.pricebeforeint?Number(((B.pricebeforeint-v)/B.pricebeforeint).toFixed(4)):0,netback:0!==B.quantity&&0!==B.pricebeforeint?Number((B.pricebeforeint-v+B.materialcost).toFixed(4)):0})),!1===qe&&M(Object(a.a)(Object(a.a)({},K),{},{freightpmt:"$ "+n.toFixed(2),insurance:"$ "+u.toFixed(2),inspectionpmt:"$ "+l.toFixed(2),interestcost:"$ "+i.toFixed(2),materialvalue:Vt(d),totalduty:Number(100*b).toFixed(2)+"%",dutyfee:Vt(j),harborfee:Vt(p),merchprocfee:Vt(m),totalcentryfee:Vt(h),centryfeepmt:Vt(f),totalinbound:Vt(O),totaloutbound:Vt(g),inboundpmt:Vt(x),outboundpmt:Vt(y),storagepmt:Vt(t),totalcost:"$ "+v.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),salesinterest:"$ "+o.toFixed(2),priceafterint:"$ "+N.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),profit:0!==B.quantity&&0!==B.pricebeforeint?"$ "+Number(B.pricebeforeint-v).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2),margin:0!==B.quantity&&0!==B.pricebeforeint?"$ "+Number((B.pricebeforeint-v)*B.quantity).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2),turnover:0!==B.quantity&&0!==B.pricebeforeint?"$ "+Number(B.quantity*N).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2),pctmargin:0!==B.quantity&&0!==B.pricebeforeint?Number((B.pricebeforeint-v)/B.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==B.quantity&&0!==B.pricebeforeint?"$ "+Number(B.pricebeforeint-v+B.materialcost).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2)})),!0===qe&&Ee&&M(Object(a.a)(Object(a.a)({},K),{},{freightpmt:"\u20ac "+(n/Ee).toFixed(2),insurance:"\u20ac "+(u/Ee).toFixed(2),inspectionpmt:"\u20ac "+(l/Ee).toFixed(2),interestcost:"\u20ac "+(i/Ee).toFixed(2),materialvalue:Zt(d.toFixed(2),Ee),totalduty:Number(100*b).toFixed(2)+"%",dutyfee:Zt(j.toFixed(2),Ee),harborfee:Zt(p.toFixed(2),Ee),merchprocfee:Zt(m.toFixed(2),Ee),totalcentryfee:Zt(h.toFixed(2),Ee),centryfeepmt:Zt(f.toFixed(2),Ee),totalinbound:Zt(O.toFixed(2),Ee),totaloutbound:Zt(g.toFixed(2),Ee),inboundpmt:Zt(x.toFixed(2),Ee),outboundpmt:Zt(y.toFixed(2),Ee),totalcost:"\u20ac "+(v/Ee).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),salesinterest:"\u20ac "+(o/Ee).toFixed(2),priceafterint:"\u20ac "+(N/Ee).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),profit:0!==B.quantity&&0!==B.pricebeforeint?"\u20ac "+Number((B.pricebeforeint-v)/Ee).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2),margin:0!==B.quantity&&0!==B.pricebeforeint?"\u20ac "+Number((B.pricebeforeint-v)*B.quantity/Ee).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2),turnover:0!==B.quantity&&0!==B.pricebeforeint?"\u20ac "+Number(B.quantity*N/Ee).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2),pctmargin:0!==B.quantity&&0!==B.pricebeforeint?Number((B.pricebeforeint-v)/B.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==B.quantity&&0!==B.pricebeforeint?"\u20ac "+Number((B.pricebeforeint-v+B.materialcost)/Ee).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2)}));case 78:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[B.whexit,B.freightTotal,B.payload,B.CADintrate,B.CADdays,B.pricebeforeint,B.interestrate,B.interestdays,B.totalinspection,B.quantity,B.insurancerate,B.insurancefactor,B.materialcost,B.pcommission,B.generalduty,B.additionalduty,B.harborfeepct,B.merchprocfeepct,B.cflatfee,B.tsca,B.isf,B.drayage,B.unloading,B.collectcharges,B.inboundothers,B.scommission,B.pfinancecost,B.sfinancecost,B.legal,B.pallets,B.other,B.loading,B.bolcharges,B.outboundothers]),Object(u.useEffect)((function(){!0===qe&&M(Object(a.a)(Object(a.a)({},K),{},{freightTotal:Vt(B.freightTotal/Ee,"\u20ac"),totalinspection:Vt(B.totalinspection/Ee,"\u20ac"),materialcost:Vt(B.materialcost/Ee,"\u20ac"),materialvalue:Vt(B.materialvalue/Ee,"\u20ac"),dutyfee:Vt(B.dutyfee/Ee,"\u20ac"),harborfee:Vt(B.harborfee/Ee,"\u20ac"),merchprocfee:Vt(B.merchprocfee/Ee,"\u20ac"),cflatfee:Vt(B.cflatfee/Ee,"\u20ac"),tsca:Vt(B.tsca/Ee,"\u20ac"),isf:Vt(B.isf/Ee,"\u20ac"),totalcentryfee:Vt(B.totalcentryfee/Ee,"\u20ac"),centryfeepmt:Vt(B.centryfeepmt/Ee,"\u20ac"),drayage:Vt(B.drayage/Ee,"\u20ac"),unloading:Vt(B.unloading/Ee,"\u20ac"),collectcharges:Vt(B.collectcharges/Ee,"\u20ac"),inboundothers:Vt(B.inboundothers/Ee,"\u20ac"),totalinbound:Vt(B.totalinbound/Ee,"\u20ac"),inboundpmt:Vt(B.inboundpmt/Ee,"\u20ac"),pcommission:Vt(B.pcommission/Ee,"\u20ac"),pfinancecost:Vt(B.pfinancecost/Ee,"\u20ac"),sfinancecost:Vt(B.sfinancecost/Ee,"\u20ac"),freightpmt:Vt(B.freightpmt/Ee,"\u20ac"),insurance:Vt(B.insurance/Ee,"\u20ac"),inspectionpmt:Vt(B.inspectionpmt/Ee,"\u20ac"),scommission:Vt(B.scommission/Ee,"\u20ac"),interestcost:Vt(B.interestcost/Ee,"\u20ac"),legal:Vt(B.legal/Ee,"\u20ac"),pallets:Vt(B.pallets/Ee,"\u20ac"),other:Vt(B.other/Ee,"\u20ac"),totalcost:Vt(B.totalcost/Ee,"\u20ac"),pricebeforeint:Vt(B.pricebeforeint/Ee,"\u20ac"),salesinterest:Vt(B.salesinterest/Ee,"\u20ac"),priceafterint:Vt(B.priceafterint/Ee,"\u20ac"),profit:Vt(B.profit/Ee,"\u20ac"),margin:Vt(B.margin/Ee,"\u20ac"),turnover:Vt(B.turnover/Ee,"\u20ac"),netback:Vt(B.netback/Ee,"\u20ac")})),!1===qe&&M(Object(a.a)(Object(a.a)({},K),{},{freightTotal:Vt(B.freightTotal,"$"),totalinspection:Vt(B.totalinspection,"$"),materialcost:Vt(B.materialcost,"$"),materialvalue:Vt(B.materialvalue,"$"),dutyfee:Vt(B.dutyfee,"$"),harborfee:Vt(B.harborfee,"$"),merchprocfee:Vt(B.merchprocfee,"$"),cflatfee:Vt(B.cflatfee,"$"),tsca:Vt(B.tsca,"$"),isf:Vt(B.isf,"$"),totalcentryfee:Vt(B.totalcentryfee,"$"),centryfeepmt:Vt(B.centryfeepmt,"$"),drayage:Vt(B.drayage,"$"),unloading:Vt(B.unloading,"$"),collectcharges:Vt(B.collectcharges,"$"),inboundothers:Vt(B.inboundothers,"$"),totalinbound:Vt(B.totalinbound,"$"),inboundpmt:Vt(B.inboundpmt,"$"),pcommission:Vt(B.pcommission,"$"),pfinancecost:Vt(B.pfinancecost,"$"),sfinancecost:Vt(B.sfinancecost,"$"),freightpmt:Vt(B.freightpmt,"$"),insurance:Vt(B.insurance,"$"),inspectionpmt:Vt(B.inspectionpmt,"$"),scommission:Vt(B.scommission,"$"),interestcost:Vt(B.interestcost,"$"),legal:Vt(B.legal,"$"),pallets:Vt(B.pallets,"$"),other:Vt(B.other,"$"),totalcost:Vt(B.totalcost,"$"),pricebeforeint:Vt(B.pricebeforeint,"$"),salesinterest:Vt(B.salesinterest,"$"),priceafterint:Vt(B.priceafterint,"$"),profit:Vt(B.profit,"$"),margin:Vt(B.margin,"$"),turnover:Vt(B.turnover,"$"),netback:Vt(B.netback,"$")}))}),[qe]);var wr=function(e,t){return new Promise((function(r,c){var a={};for(var n in e)e[n]!==t[n]&&(a[n]=e[n]);r(a)}))},kr=Object(u.useState)(),Fr=Object(l.a)(kr,2),$r=Fr[0],Pr=Fr[1],Ir=function(){var t=Object(i.a)(s.a.mark((function t(r){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!We){t.next=7;break}return r.preventDefault(),t.next=4,wr(B,Xe);case 4:c=t.sent,console.log(Ee),m.a.post("/updateQS",{QSedits:c,QSID:Oe,exchrate:Ee}).then((function(t){Pr(t.data.message),$(!F),at(!1),e()}));case 7:if(We){t.next=13;break}return r.preventDefault(),t.next=11,m.a.post("/saveQS",{QSData:B}).then((function(t){Pr(t.data.message),$(!F),e(),de(!ue)}));case 11:return t.next=13,Er();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),qr=function(e,t){return new Promise((function(r,c){e&&t&&b()(t).diff(b()(e),"days")>0?r(b()(t).diff(b()(e),"days")):r(0)}))},Tr=function(e,t){return new Promise((function(r,c){r(e&&t?e<t?"":e-t:"")}))},Qr=function(e,t,r,c,a,n){return new Promise((function(s,i){s(t/c+Math.ceil(e/n)*r*a/c)}))},Br=function(){var e=Object(i.a)(s.a.mark((function e(t){var r,c,n,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return at(!0),r=J[t],Rt(r),e.next=5,qr(r.whentry,B.whexit?B.whexit:r.whentry);case 5:return c=e.sent,e.next=8,Tr(c,r.stggraceperiod);case 8:return n=e.sent,e.next=11,Qr(n,r.storagefixed,r.storagevariable,r.quantity,r.quantitypallets,r.stgaccrualperiod);case 11:i=e.sent,console.log("WH Entry Date: "+r.whentry),console.log("Current Date: "+b()().format("YYYY-MM-DD")),console.log("Days in WH: "+c),console.log("Days in Storage: "+n),console.log("Storage Cost $/mt: "+i),M(Object(a.a)(Object(a.a)({},K),{},{KTP:r.USWGP,abbreviation:r.product,supplier:r.supplier,packsize:r.packaging?r.packaging:"",marks:r.marks?r.marks:"",whentry:r.whentry,whexit:B.whexit?B.whexit:r.whentry,storagepmt:Vt(i),materialcost:"$ "+Number(r.EWPrice.replace("$","").replace(",","")).toFixed(2)})),E(Object(a.a)(Object(a.a)({},B),{},{KTP:r.USWGP,abbreviation:r.productID,supplier:r.supplierID,packsize:r.packaging?r.packaging:"",marks:r.marks?r.marks:"",whentry:r.whentry,whexit:B.whexit?B.whexit:r.whentry,storagepmt:i,materialcost:Number(r.EWPrice.replace("$","").replace(",",""))}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Er=function(){M(q),E(I),ce(!1),ie(!1),Re(!1),at(!1)},Ar=function(e){"Enter"===e.key&&(e.preventDefault(),"centryfeepmt"===e.target.name&&(pt(!jt),Ot(!1),vt(!1)),"inboundpmt"===e.target.name&&(Ot(!ft),pt(!1),vt(!1)),"storagepmt"===e.target.name&&(vt(!yt),pt(!1),Ot(!1)),"insurance"===e.target.name&&(Dt(!Ct),pt(!1),Ot(!1)),"outboundpmt"===e.target.name&&($t(!Ft),pt(!1),Ot(!1),Dt(!1)))};return Object(v.jsxs)("div",{className:"salesQS",children:[Object(v.jsxs)("div",{className:"salesQStitleline",children:[Object(v.jsx)("h3",{className:"saleslisttitle",children:"Quotation Sheet"}),Object(v.jsx)("span",{style:{width:"100px",fontWeight:"bold"},children:We?"Edit Mode":"New QS"}),Object(v.jsxs)("div",{className:"QSindexbox",children:[Object(v.jsxs)("div",{className:"salesQSnavbuttons",children:[Object(v.jsxs)("select",{onChange:function(e){C(!0),n(e.target.value)},children:[Object(v.jsx)("option",{value:"all",children:"All"}),Ut?Ut.map((function(e){return e.trader===d?Object(v.jsx)("option",{selected:!0,value:e.trader,children:e.trader}):Object(v.jsx)("option",{value:e.trader,children:e.trader})})):"reload"]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),!0===ct&&!1===We&&jr(K,q,"prev"),!0===ct&&!0===We&&jr(K,He,"prev"),!1===ct&&(De(Ce-1),xe(pe[Ce-1]),ve(pe[Ce-1]),$e(null))},children:"Prev"}),Object(v.jsx)("input",{className:"canceldrag",type:"text",placeholder:" New...",onKeyDown:function(e){"Enter"===e.key&&(pe.includes(Number(e.target.value))?(!0===ct&&jr(K,He,"enter",Number(e.target.value)),!1===ct&&(De(pe.indexOf(Number(e.target.value))),$e(""))):$e("QSID not found."))},onChange:function(e){return xe(e.target.value)},value:Oe||""}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),!0===ct&&!0===We&&jr(K,He,"next"),!1===ct&&(De(Ce<pe.length?Ce+1:pe.length),xe(Ce<pe.length-1?pe[Ce+1]:""),ve(Ce<pe.length-1?pe[Ce+1]:""),$e(null))},children:"Next"}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),!0===We&&!0===ct&&jr(K,He,"new"),!1===We&&!0===ct&&jr(K,q,"new"),!1===ct&&(De(pe.length),xe(""),ve(""))},children:"New"})]}),Object(v.jsx)("span",{className:"QSIDerror",children:Fe})]})]}),Object(v.jsxs)("form",{className:We?"salesQS-form editmode":"salesQS-form",onSubmit:function(e){Ir(e)},children:[Object(v.jsxs)("section",{id:"salesQS-1",children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"QS Date:"}),Object(v.jsx)("input",{readOnly:!0,className:"canceldrag",value:K.QSDate,type:"date",onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"WGP:"}),Object(v.jsx)("input",{name:"KTP",placeholder:"5000...",value:K&&K.KTP||"",onChange:vr,className:"canceldrag",onKeyDown:Ar})]}),Object(v.jsxs)("fieldset",{children:[Object(v.jsx)("legend",{children:"Sale Type"}),Object(v.jsxs)("div",{className:"saletype-group",children:[Object(v.jsx)("input",{name:"saletype",type:"radio",checked:!(!B||1!==B.saleType),required:!0,onClick:function(e){at(!0),E(Object(a.a)(Object(a.a)({},B),{},{saleType:1,loading:0,bolcharges:0,outboundothers:0,whexit:"",whentry:"",KTP:""})),M(Object(a.a)(Object(a.a)({},K),{},{saleType:"Back-to-back",loading:"$ 0.00",bolcharges:"$ 0.00",outboundothers:"$ 0.00",whexit:"",whentry:"",KTP:""}))},onKeyDown:Ar}),Object(v.jsx)("label",{htmlFor:"",children:"Back-to-back"})]}),Object(v.jsxs)("div",{className:"saletype-group",children:[Object(v.jsx)("input",{name:"saletype",type:"radio",checked:!(!B||2!==B.saleType),required:!0,onClick:function(e){at(!0),E(Object(a.a)(Object(a.a)({},B),{},{saleType:2,loading:0,bolcharges:0,outboundothers:0,whexit:"",whentry:"",KTP:""})),M(Object(a.a)(Object(a.a)({},K),{},{saleType:"Position",loading:"$ 0.00",bolcharges:"$ 0.00",outboundothers:"$ 0.00",whexit:"",whentry:"",KTP:""})),m.a.post("/positiondropdown").then((function(e){W(e.data)}))},onKeyDown:Ar}),Object(v.jsx)("label",{htmlFor:"",children:"Position"}),B&&2===B.saleType?Object(v.jsxs)("select",{className:"WGPSelect",onChange:function(e){return function(e){at(!0);var t=Y[e];""===e?(M(Object(a.a)(Object(a.a)({},K),{},{abbreviation:"",supplier:"",from:"",to:"",KTP:"",materialcost:qe?"\u20ac 0.00":"$ 0.00"})),E(Object(a.a)(Object(a.a)({},B),{},{abbreviation:"",supplier:"",from:"",to:"",KTP:"",materialcost:0}))):(M(Object(a.a)(Object(a.a)({},K),{},{abbreviation:t.product,supplier:t.Supplier,from:t.start,to:t.end,KTP:t.KTP,materialcost:"$ "+Number(t.Price.replace("$","").replace(",","")).toFixed(2)})),E(Object(a.a)(Object(a.a)({},B),{},{abbreviation:t.productID,supplier:t.supplierID,from:t.start,to:t.end,KTP:t.KTP,materialcost:Number(t.Price.replace("$","").replace(",",""))})))}(e.target.value)},children:[Object(v.jsx)("option",{value:"",children:"Select..."}),Y?Y.map((function(e,t){return Object(v.jsx)("option",{value:t,children:e.KTP+" - "+e.product+" - "+e.Supplier})})):""]}):""]}),Object(v.jsxs)("div",{className:"saletype-group",children:[Object(v.jsx)("input",{name:"saletype",type:"radio",checked:!(!B||3!==B.saleType),required:!0,onClick:function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:at(!0),Dr(),m.a.post("/uspositiondropdown").then((function(e){H(e.data),console.log(e.data)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(v.jsx)("label",{children:"US Distribution"}),B&&3===B.saleType?Object(v.jsxs)("select",{className:"USWGPSelect",onChange:function(e){return Br(e.target.value)},children:[Object(v.jsx)("option",{children:"Select..."}),J?J.map((function(e,t){return Object(v.jsx)("option",{value:t,children:e.USWGP+" - "+e.product+" - "+e.supplier+" - "+e.Inventory+"mt left"})})):""]}):""]})]}),Object(v.jsxs)("fieldset",{children:[Object(v.jsx)("legend",{children:"General"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"QSID:"}),Object(v.jsx)("input",{placeholder:"New QS",readOnly:!0,value:B&&B.QSID||"",onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Product:"}),Object(v.jsx)(j.a,{className:"searchfield",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",placeholder:"Product...",setQSFields:pr,value:K&&K.abbreviation||"",resetfield:Z,setResetfield:X,setEditing:at,required:!0})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Supplier:"}),Object(v.jsx)("input",{placeholder:"Supplier...",value:K.supplier,type:"text",required:!0,readOnly:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Customer:"}),Object(v.jsx)(j.a,{className:"searchfield",searchURL:"/customers",searchName:"customer",searchID:"customerID",placeholder:"Customer...",setQSFields:pr,value:K&&K.customer||"",setEditing:at,required:!0})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Contact:"}),Object(v.jsx)("input",{className:"canceldrag",type:"text",onKeyDown:Ar})]})]}),Object(v.jsxs)("fieldset",{children:[Object(v.jsx)("legend",{children:"Packaging"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Pack Size:"}),Object(v.jsx)("input",{value:B.packsize,onChange:mr,name:"packsize",type:"text",placeholder:"9kg, 25kg, 50kg, bigbag",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Marks:"}),Object(v.jsx)("input",{name:"marks",onChange:mr,value:B.marks,type:"text",placeholder:"neutral, WG, seller, buyer",onDoubleClick:function(e){e.target.select()},className:"canceldrag",onKeyDown:Ar})]})]}),Object(v.jsxs)("fieldset",{children:[Object(v.jsx)("legend",{children:"Delivery"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"From:"}),Object(v.jsx)("input",{name:"from",onChange:mr,value:B.from,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"To:"}),Object(v.jsx)("input",{name:"to",onChange:mr,value:B.to,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"POL:"}),Object(v.jsx)(j.a,{className:"searchfield",searchURL:"/POLS",searchName:"POL",searchID:"POLID",placeholder:"POL...",setQSFields:pr,value:K&&K.POL||"",setEditing:at,required:!0})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"POD:"}),Object(v.jsx)(j.a,{className:"searchfield",searchURL:"/PODS",searchName:"POD",searchID:"PODID",placeholder:"POD...",setQSFields:pr,value:K&&K.POD||"",setEditing:at,required:!0})]})]})]}),Object(v.jsxs)("section",{id:"salesQS-2",children:[Object(v.jsxs)("div",{className:"saleboxes",children:[Object(v.jsxs)("div",{className:"soldcheckbox",children:[Object(v.jsx)("input",{className:"canceldrag",name:"saleComplete",type:"checkbox",checked:re,onClick:function(){se&&(M(Object(a.a)(Object(a.a)({},K),{},{customer:"",CADdays:10,saleComplete:"Indication",generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:qe?"\u20ac 0.00":"$ 0.00",tsca:qe?"\u20ac 0.00":"$ 0.00",isf:qe?"\u20ac 0.00":"$ 0.00",drayage:qe?"\u20ac 0.00":"$ 0.00",unloading:qe?"\u20ac 0.00":"$ 0.00",collectcharges:qe?"\u20ac 0.00":"$ 0.00",inboundothers:qe?"\u20ac 0.00":"$ 0.00",warehouse:"",whentry:"",storagefixed:qe?"\u20ac 0.00":"$ 0.00",storagevariable:qe?"\u20ac 0.00":"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:""})),E(Object(a.a)(Object(a.a)({},B),{},{customer:"",CADdays:10,saleComplete:0,generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,warehouse:"",whentry:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:""}))),ce(!re),ie(!1),at(!0)},onKeyDown:Ar}),Object(v.jsx)("label",{children:"Sold"})]}),Object(v.jsxs)("div",{className:"soldcheckbox",children:[Object(v.jsx)("input",{className:"canceldrag",name:"allocationComplete",type:"checkbox",checked:se,onClick:function(){3!==B.saleType&&!1===se&&(M(Object(a.a)(Object(a.a)({},K),{},{customer:"USA Distribution",CADdays:100,saleComplete:"US Allocation",scommission:qe?"\u20ac 0.00":"$ 0.00",sfinancecost:qe?"\u20ac 0.00":"$ 0.00"})),E(Object(a.a)(Object(a.a)({},B),{},{customer:452,CADdays:100,saleComplete:1,scommission:0,sfinancecost:0})),ie(!0),ce(!1),at(!0)),!0===se&&(M(Object(a.a)(Object(a.a)({},K),{},{customer:"",CADdays:10,saleComplete:"Indication",generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:qe?"\u20ac 0.00":"$ 0.00",tsca:qe?"\u20ac 0.00":"$ 0.00",isf:qe?"\u20ac 0.00":"$ 0.00",drayage:qe?"\u20ac 0.00":"$ 0.00",unloading:qe?"\u20ac 0.00":"$ 0.00",collectcharges:qe?"\u20ac 0.00":"$ 0.00",inboundothers:qe?"\u20ac 0.00":"$ 0.00",warehouse:"",whentry:"",storagefixed:qe?"\u20ac 0.00":"$ 0.00",storagevariable:qe?"\u20ac 0.00":"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:""})),E(Object(a.a)(Object(a.a)({},B),{},{customer:"",CADdays:10,saleComplete:0,generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,warehouse:"",whentry:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:""})),ie(!1),ce(!1),at(!0))},onKeyDown:Ar}),Object(v.jsx)("label",{children:"US-Allocation"})]})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"WGS:"}),Object(v.jsx)("input",{name:"KTS",placeholder:"5000...",value:K&&K.KTS||"",onChange:vr,className:"canceldrag",onKeyDown:Ar})]}),Object(v.jsxs)("fieldset",{children:[Object(v.jsx)("legend",{children:"In Charge"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Trader:"}),Object(v.jsx)("input",{className:"canceldrag",value:K.TIC,type:"text",readOnly:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Traffic:"}),Object(v.jsx)(j.a,{className:"searchfield",searchURL:"/trafficmgrs",searchName:"traffic",searchID:"trafficID",placeholder:"Traffic...",setQSFields:pr,value:K&&K.traffic||"",setEditing:at,required:!0})]})]}),Object(v.jsxs)("fieldset",{children:[Object(v.jsx)("legend",{children:"Terms"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Incoterms:"}),Object(v.jsx)("input",{placeholder:"Incoterms...",onChange:mr,name:"incoterms",value:K.incoterms,type:"text",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Payment Terms:"}),Object(v.jsx)(j.a,{className:"searchfield",searchURL:"/paymentterms",searchName:"paymentTerm",searchID:"paytermID",placeholder:"Payment terms...",setQSFields:pr,value:K&&K.paymentTerm||"",setEditing:at,required:!0})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Inc. Interest:"}),Object(v.jsx)("input",{value:K.CADintrate,placeholder:"Interest rate...",type:"text",name:"CADintrate",onKeyDown:Ar,onChange:function(e){!0!==qe||Ee?hr(e):Object(O.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},onBlur:fr,className:"canceldrag",required:!0})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Inc. Days:"}),Object(v.jsx)("input",{value:K.CADdays,name:"CADdays",onKeyDown:Ar,onChange:function(e){!0!==qe||Ee?Or(e):Object(O.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},type:"text",placeholder:"Days...",className:"canceldrag",required:!0})]})]}),Object(v.jsxs)("div",{id:"shipmenttyperadio",className:"form-group",children:[Object(v.jsx)("input",{name:"shipmenttype",type:"radio",defaultChecked:!0,required:!0,onKeyDown:Ar,onClick:function(e){E(Object(a.a)(Object(a.a)({},B),{},{shipmentType:1})),M(Object(a.a)(Object(a.a)({},K),{},{shipmentType:"Container"}))}}),Object(v.jsx)("label",{style:{minWidth:"auto"},htmlFor:"",children:"Container"}),Object(v.jsx)("input",{name:"shipmenttype",type:"radio",required:!0,onKeyDown:Ar,onClick:function(e){E(Object(a.a)(Object(a.a)({},B),{},{shipmentType:2})),M(Object(a.a)(Object(a.a)({},K),{},{shipmentType:"Breakbulk"}))}}),Object(v.jsx)("label",{style:{minWidth:"auto"},htmlFor:"",children:"Breakbulk"}),Object(v.jsx)("input",{name:"shipmenttype",type:"radio",required:!0,onKeyDown:Ar,onClick:function(e){E(Object(a.a)(Object(a.a)({},B),{},{shipmentType:3})),M(Object(a.a)(Object(a.a)({},K),{},{shipmentType:"Truck"}))}}),Object(v.jsx)("label",{style:{minWidth:"auto"},htmlFor:"",children:"Truck"})]}),Object(v.jsxs)("fieldset",{children:[Object(v.jsx)("legend",{children:"Freight"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Freight ID:"}),Object(v.jsx)("input",{placeholder:"[Leave Blank]",type:"text",onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Freight Total:"}),Object(v.jsx)("input",{type:"text",name:"freightTotal",className:"QSfig2 canceldrag",value:K.freightTotal,onChange:gr,onBlur:yr,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Shipping Line:"}),Object(v.jsx)("input",{className:"canceldrag",placeholder:"Shipping Line...",name:"shippingline",onChange:mr,value:K&&K.shippingline||"",type:"text",onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Payload (mt/FCL):"}),Object(v.jsx)("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:K.payload,onChange:Or,onBlur:xr,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Total Inspection:"}),Object(v.jsx)("input",{name:"totalinspection",className:"QSfig2 canceldrag",value:K.totalinspection,onChange:gr,onBlur:yr,type:"text",onKeyDown:Ar})]})]}),3===B.saleType?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"WH Entry Date:"}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(244,244,244)",marginLeft:0,flexBasis:"50%",minWidth:"50%"},type:"date",value:B.whentry,onKeyDown:Ar,readOnly:!0})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"WH Exit Date:"}),Object(v.jsx)("input",{style:{marginLeft:0,flexBasis:"50%",minWidth:"50%"},name:"whexit",type:"date",value:B.whexit,onChange:mr,onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ar})]})]}):""]}),Object(v.jsxs)("section",{id:"salesQS-3",children:[Object(v.jsxs)("fieldset",{id:"salesQS-3-fieldset",style:{paddingBottom:"2rem"},children:[Object(v.jsx)("legend",{children:"Figures"}),Object(v.jsxs)("section",{id:"salesQS-3-col1",style:{flexBasis:"50%"},children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Quantity:"}),Object(v.jsx)("input",{className:"QSfig2 canceldrag",name:"quantity",value:K.quantity,onChange:Or,type:"text",placeholder:"MT",onBlur:xr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("fieldset",{children:[Object(v.jsx)("legend",{children:"Costs (per mt)"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Material Cost:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Material Cost pmt",onChange:gr,name:"materialcost",value:K.materialcost,onBlur:yr,required:!0,onKeyDown:Ar})]}),3===B.saleType?Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsxs)("label",{htmlFor:"",style:{position:"relative"},children:["Outbound Cost:"," ",Object(v.jsx)(x.a,{icon:g.a,onClick:function(e){$t(!Ft),!0===ft&&Ot(!1),!0===Ct&&Dt(!1),!0===qt&&Tt(!1)}})]}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:K.outboundpmt,name:"outboundpmt",placeholder:"...Outbound Cost pmt",onChange:gr,onBlur:yr,type:"text",required:!0,readOnly:!0,onKeyDown:Ar})]}):"",Ft&&1!==B.saleComplete?Object(v.jsxs)("div",{className:"bottompopupcalculator",style:{position:"absolute"},children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Payload (mt/FCL):"}),Object(v.jsx)("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:K.payload,onChange:Or,onBlur:xr,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Loading per FCL:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",name:"loading",value:K.loading,onChange:gr,type:"text",placeholder:"Loading/FCL $",onBlur:yr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"BOL Charges:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",name:"bolcharges",value:K.bolcharges,onChange:gr,type:"text",placeholder:"BOL Charges $",onBlur:yr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Outbound Others:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",name:"outboundothers",value:K.outboundothers,onChange:gr,type:"text",placeholder:"Outbound Others $",onBlur:yr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Total Outbound:"}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",name:"totaloutbound",value:K.totaloutbound,onChange:gr,type:"text",placeholder:"Total Outbound $",onBlur:yr,required:!0,readOnly:!0,onKeyDown:Ar})]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),at(!0),E(Object(a.a)(Object(a.a)({},B),{},{loading:0,bolcharges:0,outboundothers:0})),M(Object(a.a)(Object(a.a)({},K),{},{loading:qe?"\u20ac 0.00":"$ 0.00",bolcharges:qe?"\u20ac 0.00":"$ 0.00",outboundothers:qe?"\u20ac 0.00":"$ 0.00"}))},children:"Reset"}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),$t(!1)},children:"OK"})]}):"",3===B.saleType?Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsxs)("label",{htmlFor:"",style:{position:"relative"},children:["Storage:"," ",Object(v.jsx)(x.a,{icon:g.d,onClick:function(e){Tt(!qt),$t(!1)}})]}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",type:"text",placeholder:"...Storage $",onChange:gr,name:"storagepmt",value:K.storagepmt,onBlur:yr,required:!0,readOnly:!0,onKeyDown:Ar})]}):"",qt&&3===B.saleType?Object(v.jsxs)("div",{className:"bottompopupcalculator",children:[Object(v.jsxs)("p",{children:["Storage Cost of ",Vt(B.storagepmt),"/mt is based on:"]}),Object(v.jsxs)("ul",{children:[Object(v.jsxs)("li",{children:["WH Entry Date: ",B.whentry?B.whentry:"N/A"]}),Object(v.jsxs)("li",{children:["WH Exit Date: ",B.whexit?B.whexit:"N/A"]}),Object(v.jsxs)("li",{children:["Fixed Storage Cost:"," ",Mt?Vt(Mt.storagefixed):"N/A"]}),Object(v.jsxs)("li",{children:["Variable Storage Cost:"," ",Mt?Vt(Mt.storagevariable)+"/pallet":"N/A"]}),Object(v.jsxs)("li",{children:["Position Quantity: ",Mt?Mt.quantity+"mt":"N/A"]}),Object(v.jsxs)("li",{children:["Total Pallets: ",Mt?Mt.quantitypallets:"N/A"]}),Object(v.jsxs)("li",{children:["Grace Period: ",Mt?Mt.stggraceperiod:"N/A"]}),Object(v.jsxs)("li",{children:["Accrual Period: ",Mt?Mt.stgaccrualperiod:"N/A"]})]})]}):"",1!==B.saleComplete?Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"S Finance Cost:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",value:K.sfinancecost,name:"sfinancecost",placeholder:"...S Finance Cost pmt",onChange:gr,onBlur:yr,type:"text",required:!0,onKeyDown:Ar})]}):"",1===B.saleComplete&&3!==B.saleType?Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsxs)("label",{htmlFor:"",style:{position:"relative"},children:["Customs Entry:"," ",Object(v.jsx)(x.a,{icon:g.a,onClick:function(e){pt(!jt),!0===ft&&Ot(!1),!0===Ct&&Dt(!1)}})]}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:K.centryfeepmt,name:"centryfeepmt",placeholder:"...Customs Entry pmt",onChange:gr,onBlur:yr,type:"text",required:!0,readOnly:!0,onKeyDown:Ar})]}):"",jt&(1===B.saleComplete&&3!==B.saleType)?Object(v.jsxs)("div",{className:"bottompopupcalculator",style:{position:"absolute"},children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Quantity:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",name:"quantity",value:K.quantity,onChange:Or,type:"text",placeholder:"MT",onBlur:xr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Material Cost/mt:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Material Cost pmt",onChange:gr,name:"materialcost",value:K.materialcost,onBlur:yr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Entry Value:"}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Material Value $",onChange:gr,name:"materialvalue",value:K.materialvalue,onBlur:yr,required:!0,readOnly:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"General Duty (%):"}),Object(v.jsx)("input",{className:"QSfig canceldrag",type:"text",placeholder:"...General Duty",onChange:hr,name:"generalduty",value:K.generalduty,onBlur:fr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Additional Duty (%):"}),Object(v.jsx)("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Additional Duty",onChange:hr,name:"additionalduty",value:K.additionalduty,onBlur:fr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Total Duty:"}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Total Duty %",onChange:hr,name:"totalduty",value:K.totalduty,onBlur:fr,required:!0,readOnly:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Duty Fee:"}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Duty Fee $",onChange:gr,name:"dutyfee",value:K.dutyfee,onBlur:yr,required:!0,readOnly:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Harbor Fee %:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",type:"text",placeholder:"...HarborFee %",onChange:function(e){return hr(e,3)},name:"harborfeepct",value:K.harborfeepct,onBlur:function(e){return fr(e,3)},required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Harbor Fee:"}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Harbor Fee $",onChange:gr,name:"harborfee",value:K.harborfee,onBlur:yr,required:!0,readOnly:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Merch. Proc. Fee %:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Merch. Proc. %",onChange:function(e){return hr(e,4)},name:"merchprocfeepct",value:K.merchprocfeepct,onBlur:function(e){return fr(e,4)},required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Merch. Proc. Fee:"}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...MP Fee $",onChange:gr,name:"merchprocfee",value:K.merchprocfee,onBlur:yr,required:!0,readOnly:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Flat Fee:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Flat Fee $",onChange:gr,name:"cflatfee",value:K.cflatfee,onBlur:yr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"TSCA:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",type:"text",placeholder:"...TSCA $",onChange:gr,name:"tsca",value:K.tsca,onBlur:yr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"ISF:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",type:"text",placeholder:"...ISF $",onChange:gr,name:"isf",value:K.isf,onBlur:yr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Total Entry Fee:"}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Total Entry Fee $",onChange:gr,name:"totalcentryfee",value:K.totalcentryfee,onBlur:yr,required:!0,readOnly:!0,onKeyDown:Ar})]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),at(!0),E(Object(a.a)(Object(a.a)({},B),{},{generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0})),M(Object(a.a)(Object(a.a)({},K),{},{generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:qe?"\u20ac 0.00":"$ 0.00",tsca:qe?"\u20ac 0.00":"$ 0.00",isf:qe?"\u20ac 0.00":"$ 0.00"}))},children:"Reset"}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),pt(!1)},children:"OK"})]}):"",1===B.saleComplete&&3!==B.saleType?Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsxs)("label",{htmlFor:"",style:{position:"relative"},children:["Inbound Cost:"," ",Object(v.jsx)(x.a,{icon:g.a,onClick:function(e){Ot(!ft),!0===jt&&pt(!1),!0===Ct&&Dt(!1)}})]}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:K.inboundpmt,name:"inboundpmt",placeholder:"...Inbound costs pmt",onChange:gr,onBlur:yr,type:"text",required:!0,readOnly:!0,onKeyDown:Ar})]}):"",ft&(1===B.saleComplete&&3!==B.saleType)?Object(v.jsxs)("div",{className:"bottompopupcalculator",style:{position:"absolute"},children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Payload (mt/FCL):"}),Object(v.jsx)("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:K.payload,onChange:Or,onBlur:xr,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Drayage per FCL:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",name:"drayage",value:K.drayage,onChange:gr,type:"text",placeholder:"Drayage/FCL $",onBlur:yr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Unloading per FCL:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",name:"unloading",value:K.unloading,onChange:gr,type:"text",placeholder:"Unloading/FCL $",onBlur:yr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Collect Charges:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",name:"collectcharges",value:K.collectcharges,onChange:gr,type:"text",placeholder:"Collect Charges $",onBlur:yr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Inbound Others:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",name:"inboundothers",value:K.inboundothers,onChange:gr,type:"text",placeholder:"Inbound Others $",onBlur:yr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Total Inbound:"}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",name:"totalinbound",value:K.totalinbound,onChange:gr,type:"text",placeholder:"Total Inbound $",onBlur:yr,required:!0,readOnly:!0,onKeyDown:Ar})]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),at(!0),E(Object(a.a)(Object(a.a)({},B),{},{drayage:0,unloading:0,collectcharges:0,inboundothers:0})),M(Object(a.a)(Object(a.a)({},K),{},{drayage:qe?"\u20ac 0.00":"$ 0.00",unloading:qe?"\u20ac 0.00":"$ 0.00",collectcharges:qe?"\u20ac 0.00":"$ 0.00",inboundothers:qe?"\u20ac 0.00":"$ 0.00"}))},children:"Reset"}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),Ot(!1)},children:"OK"})]}):"",Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"P Commission:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Commission pmt",name:"pcommission",value:K.pcommission,onChange:gr,onBlur:yr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"P Finance Cost:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Finance Cost pmt",name:"pfinancecost",value:K.pfinancecost,onChange:gr,onBlur:yr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Freight (pmt):"}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:K.freightpmt,name:"freightpmt",placeholder:"...Freight pmt",onChange:function(e){gr(e)},onBlur:function(e){yr(e)},type:"text",required:!0,readOnly:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsxs)("label",{htmlFor:"",style:{position:"relative"},children:["Insurance Cost:",Object(v.jsx)(x.a,{icon:g.a,onClick:function(e){Dt(!Ct),!0===jt&&pt(!1),!0===ft&&Ot(!1)}})]}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:K.insurance,name:"insurance",placeholder:"...Insurance Cost pmt",onChange:gr,onBlur:yr,type:"text",required:!0,readOnly:!0,onKeyDown:Ar})]}),Ct?Object(v.jsxs)("div",{className:"bottompopupcalculator",style:{position:"absolute"},children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Incoterms:"}),Object(v.jsx)("input",{placeholder:"Incoterms...",onChange:mr,name:"incoterms",value:K.incoterms,type:"text",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Insurance Rate %:"}),Object(v.jsx)("input",{type:"text",name:"insurancerate",className:"QSfig2 canceldrag",value:K.insurancerate,onChange:hr,onBlur:fr,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Insurance Factor:"}),Object(v.jsx)("input",{type:"text",name:"insurancefactor",className:"QSfig2 canceldrag",value:K.insurancefactor,onChange:function(e){Or(e,2)},onBlur:xr,onKeyDown:Ar})]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),Dt(!1)},children:"OK"})]}):"",Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Inspection Cost:"}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:K.inspectionpmt,name:"inspectionpmt",placeholder:"...Inspection Cost pmt",onChange:gr,onBlur:yr,type:"text",required:!0,readOnly:!0,onKeyDown:Ar})]}),1!==B.saleComplete?Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"S Commission:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",value:K.scommission,name:"scommission",placeholder:"...S Commission pmt",onChange:gr,onBlur:yr,type:"text",required:!0,onKeyDown:Ar})]}):"",Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Interest Cost:"}),Object(v.jsx)("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:K.interestcost,name:"interestcost",placeholder:"...Interest Cost pmt",onChange:gr,onBlur:yr,type:"text",required:!0,readOnly:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Legal:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",value:K.legal,name:"legal",placeholder:"...Legal Cost pmt",onChange:gr,onBlur:yr,type:"text",required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Pallets:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",value:K.pallets,name:"pallets",placeholder:"...Pallets Cost pmt",onChange:gr,onBlur:yr,type:"text",required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Other:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",value:K.other,name:"other",placeholder:"...Other Costs pmt",onChange:gr,onBlur:yr,type:"text",required:!0,onKeyDown:Ar})]})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Total Cost:"}),Object(v.jsx)("input",{className:"QSfig2 canceldrag",readOnly:!0,value:K.totalcost,type:"text",required:!0,onKeyDown:Ar})]}),1===B.saleComplete?Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Price Before Int.:"}),Object(v.jsx)("input",{style:{paddingRight:"15px"},className:"QSfig canceldrag",value:K.pricebeforeint,name:"pricebeforeint",placeholder:"...Price Before Int pmt",onChange:gr,onBlur:yr,type:"text",required:!0,onKeyDown:Ar})]}):""]}),1!==B.saleComplete?Object(v.jsxs)("section",{id:"salesQS-3-col2",children:[Object(v.jsxs)("fieldset",{children:[Object(v.jsx)("legend",{children:"Sales Interest"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Interest Rate:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",value:K.interestrate,placeholder:"...Interest Rate",name:"interestrate",onChange:function(e){!0!==qe||Ee?hr(e):Object(O.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},onBlur:fr,type:"text",required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Interest Days:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",value:K.interestdays,name:"interestdays",onChange:function(e){!0!==qe||Ee?Or(e):Object(O.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},placeholder:"...Interest Days",type:"text",required:!0,onKeyDown:Ar})]})]}),Object(v.jsxs)("fieldset",{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Price Before Int.:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",value:K.pricebeforeint,name:"pricebeforeint",placeholder:"...Price Before Int pmt",onChange:gr,onBlur:yr,type:"text",required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Sales Interest:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",value:K.salesinterest,readOnly:!0,type:"text",required:!0,onKeyDown:Ar})]})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Price After Int.:"}),Object(v.jsx)("input",{readOnly:!0,className:"QSfig2 canceldrag",value:K.priceafterint,type:"text",required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("fieldset",{children:[Object(v.jsx)("legend",{children:"Economics"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Profit:"}),Object(v.jsx)("input",{readOnly:!0,className:"QSfig canceldrag",value:K.profit,type:"text",required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Margin:"}),Object(v.jsx)("input",{readOnly:!0,className:"QSfig canceldrag",value:K.margin,type:"text",required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Turnover:"}),Object(v.jsx)("input",{readOnly:!0,className:"QSfig canceldrag",value:K.turnover,type:"text",required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"% Margin:"}),Object(v.jsx)("input",{readOnly:!0,className:"QSfig canceldrag",value:K.pctmargin,type:"text",required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Netback:"}),Object(v.jsx)("input",{readOnly:!0,className:"QSfig canceldrag",value:K.netback,type:"text",required:!0,onKeyDown:Ar})]})]}),Object(v.jsxs)("div",{id:"exchangerate",className:"form-group",children:[Object(v.jsx)("label",{children:"Exch. Rate ($/\u20ac):"}),Object(v.jsx)("input",{className:"canceldrag",onChange:function(e){e.preventDefault(),at(!0),(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&Ae(e.target.value)},value:Ee||"",placeholder:"$/\u20ac (up to 4 decimals)",readOnly:Me,onKeyDown:Ar}),Object(v.jsx)(x.a,{icon:g.j,onClick:function(e){Re(!Me)},className:Me?"unlockicon display-none":"unlockicon display-block"}),Object(v.jsx)(x.a,{icon:g.e,onClick:function(e){e.preventDefault(),Object(O.confirmAlert)({title:"Warning",message:"If you have already entered data with a different exchange rate. Changing the rate at this point will likely cause currency and calculation inconsistencies in the QS.",buttons:[{label:"Go ahead",onClick:function(){return Re(!Me)}},{label:"Cancel"}],closeOnClickOutside:!0,closeOnEscape:!0})},className:Me?"lockicon display-block":"lockicon display-none"}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),Ee&&""!==Ee?Te(!qe):Object(O.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},children:qe?"Convert To USD":"Convert To Euros"})]})]}):Object(v.jsx)("section",{id:"salesQS-3-col2",className:"storagefields",children:Object(v.jsxs)("fieldset",{children:[Object(v.jsx)("legend",{children:"Storage Details"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{style:{minWidth:"90px"},htmlFor:"",children:"Warehouse"}),Object(v.jsxs)("select",{style:{flexBasis:"42%",marginRight:0,marginLeft:"15px",padding:"0.25rem 0"},required:!0,onChange:function(e){!function(e){at(!0);var t=Et[e];""===e?(M(Object(a.a)(Object(a.a)({},K),{},{warehouse:""})),E(Object(a.a)(Object(a.a)({},B),{},{warehouse:""}))):(M(Object(a.a)(Object(a.a)({},K),{},{warehouse:t.warehouseName})),E(Object(a.a)(Object(a.a)({},B),{},{warehouse:t.warehouseID})))}(e.target.value)},children:[Object(v.jsx)("option",{value:"",children:"Select..."}),Et?Et.map((function(e,t){return e.warehouseName===K.warehouse?Object(v.jsx)("option",{selected:!0,value:t,children:e.warehouseName}):Object(v.jsx)("option",{value:t,children:e.warehouseName})})):""]})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",style:{minWidth:"95px"},children:"Entry Date:"}),Object(v.jsx)("input",{style:{minWidth:"55%"},name:"whentry",onChange:mr,value:B.whentry,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Fixed Cost:"}),Object(v.jsx)("input",{className:"QSfig canceldrag",name:"storagefixed",value:K.storagefixed,onChange:gr,type:"text",placeholder:"Storage Fixed Cost $",onBlur:yr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Var. Cost ($/pallet):"}),Object(v.jsx)("input",{className:"QSfig canceldrag",name:"storagevariable",value:K.storagevariable,onChange:gr,type:"text",placeholder:"Storage Variable Cost $",onBlur:yr,required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Grace Period (days):"}),Object(v.jsx)("input",{className:"QSfig canceldrag",name:"stggraceperiod",value:K.stggraceperiod,onChange:function(e){return Or(e,0)},type:"text",placeholder:"(days)",onBlur:function(e){return xr(e,0)},required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Accrual Period (days):"}),Object(v.jsx)("input",{className:"QSfig canceldrag",name:"stgaccrualperiod",value:K.stgaccrualperiod,onChange:function(e){return Or(e,0)},type:"text",placeholder:"(days)",onBlur:function(e){return xr(e,0)},required:!0,onKeyDown:Ar})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"",children:"Total Pallets (#):"}),Object(v.jsx)("input",{className:"QSfig canceldrag",name:"quantitypallets",value:K.quantitypallets,onChange:function(e){return Or(e,0)},type:"text",placeholder:"(# of pallets)",onBlur:function(e){return xr(e,0)},required:!0,onKeyDown:Ar})]})]})})]}),Object(v.jsx)("div",{id:"QSbuttons",children:""!==Oe&&Oe?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{ref:D,children:$r}),Object(v.jsx)("button",{className:"saveQSbutton",type:"submit",children:"Save Edits"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{ref:D,children:$r}),Object(v.jsx)("button",{className:"saveQSbutton",type:"button",onClick:function(e){Er()},children:"Clear"}),Object(v.jsx)("button",{className:"saveQSbutton",type:"submit",children:"Save and New"})]})})]})]})]})}},403:function(e,t,r){"use strict";var c=r(8),a=r.n(c),n=r(11),s=r(4),i=r(1),o=r(7),l=r.n(o),u=r(76),d=(r(517),r(32)),b=r(13),j=r.n(b),p=(r(518),r(130),r(0)),m=function(e){var t=e.posnumber,r=e.posmatchnumber,c=t===r?"postooltip":"postooltip display-none",a=Object(i.useState)(),n=Object(s.a)(a,2),o=n[0],u=n[1];return Object(i.useEffect)((function(){t===r&&l.a.post("/posmatching",{posnumber:t}).then((function(e){u(e.data)}))}),[r]),Object(p.jsxs)("span",{className:c,children:[Object(p.jsxs)("h4",{children:["Matching Sales for Position ",t]}),Object(p.jsxs)("ul",{children:[Object(p.jsxs)("li",{className:"posmatchitem",children:[Object(p.jsx)("h4",{children:"Trader"}),Object(p.jsx)("h4",{children:"WGS"}),Object(p.jsx)("h4",{children:"Customer"}),Object(p.jsx)("h4",{children:"Quantity (mt)"}),Object(p.jsx)("h4",{children:"Profit (pmt)"})]}),o?o.map((function(e){return Object(p.jsxs)("li",{className:"posmatchitem",children:[Object(p.jsx)("p",{children:e.tCode}),Object(p.jsx)("p",{children:e.KTS}),Object(p.jsx)("p",{children:e.companyCode}),Object(p.jsx)("p",{children:e.quantity}),Object(p.jsx)("p",{children:e.tradingProfit})]})})):"No matching sales found"]})]})};t.a=function(){var e=Object(i.useState)(0),t=Object(s.a)(e,2),r=t[0],c=t[1],o=(Object(i.useContext)(u.a).state,Object(i.useContext)(d.a)),b=o.posrefresh,h=(o.togglePosrefresh,JSON.parse(localStorage.getItem("accesstoken"))),f=JSON.parse(localStorage.getItem("refreshtoken")),O=l.a.create({headers:{Authorization:"Bearer ".concat(h)}}),x=l.a.create({headers:{Authorization:"Bearer ".concat(f)}});O.interceptors.response.use((function(e){return e}),function(){var e=Object(n.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f||403!==t.response.status){e.next=8;break}return e.next=3,x.post("/refreshtoken");case 3:return r=e.sent,h=r.data.accesstoken,e.next=7,O.post("/positionreport",{},{headers:{Authorization:"Bearer ".concat(h)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Array.prototype.groupBy=function(e){return this.reduce((function(t,r){var c=r[e];return t[c]=t[c]||[],t[c].push(r),t}),{})};var g=Object(i.useState)({}),y=Object(s.a)(g,2),v=y[0],N=y[1];Object(i.useEffect)(Object(n.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("/positionreport").then((function(e){var t=e.data.groupBy("productGroup");N(t)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),[b]);var S=0,C="",D={};return Object(p.jsx)("div",{className:"positionreport",children:Object(p.jsxs)("table",{id:"positionreporttable",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"WGP"}),Object(p.jsx)("th",{className:"fig",children:"Quantity"}),Object(p.jsx)("th",{className:"fig",children:"Inventory"}),Object(p.jsx)("th",{className:"fig",children:"FOB"}),Object(p.jsx)("th",{children:"Supplier"}),Object(p.jsx)("th",{children:"From"}),Object(p.jsx)("th",{children:"To"}),Object(p.jsx)("th",{className:"fig",children:"Value"})]})}),Object(p.jsx)("tbody",{children:Object.entries(v).map((function(e,t){return C=Object.keys(v)[t],D=v[C].groupBy("product"),[Object(p.jsx)("tr",{children:Object(p.jsx)("td",{className:"prodgroup",colSpan:8,children:Object(p.jsx)("p",{children:C})})}),Object.entries(D).map((function(e,t){return S=0,[Object(p.jsx)("tr",{children:Object(p.jsx)("td",{className:"product",colSpan:8,children:Object(p.jsx)("h4",{children:Object.keys(D)[t]})})}),e[1].map((function(e){return S+=Number(e.Inventory),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("tr",{children:[Object(p.jsxs)("td",{className:"postooltipsource",onMouseOver:function(t){!function(e){c(e)}(e.KTP)},onMouseLeave:function(e){c(0)},children:[e.KTP,Object(p.jsx)(m,{posnumber:e.KTP,posmatchnumber:r})]}),Object(p.jsx)("td",{className:"fig",children:e.quantity.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Object(p.jsx)("td",{className:"fig",children:Number(e.Inventory).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Object(p.jsx)("td",{className:"fig",children:e.Price.replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Object(p.jsx)("td",{children:e.Supplier}),Object(p.jsx)("td",{children:j()(e.Start).format("DD-MMM-YYYY").toString()}),Object(p.jsx)("td",{children:j()(e.End).format("DD-MMM-YYYY").toString()}),Object(p.jsx)("td",{className:"fig",children:"$"+(e.quantity*Number(e.Price.replace(/[^0-9.-]+/g,""))).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]})})})),Object(p.jsxs)("tr",{className:"totals",children:[Object(p.jsx)("td",{colSpan:2,children:Object(p.jsx)("h4",{children:"Total"})}),Object(p.jsx)("td",{className:"fig",children:Object(p.jsx)("h4",{children:S.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})}),Object(p.jsx)("td",{colSpan:5})]})]}))]}))})]})})}},404:function(e,t,r){"use strict";var c=r(1),a=r(6),n=r(2),s=r(4),i=r(8),o=r.n(i),l=r(11),u=r(7),d=r.n(u),b=r(120),j=r.n(b),p=(r(320),r(76)),m=r(32),h=r(40),f=(r(165),r(13)),O=r.n(f),x=r(0),g=function(e){Object(c.useContext)(p.a).state;var t=JSON.parse(localStorage.getItem("role")),r=Object(c.useContext)(m.a),i=r.posrefresh,u=r.togglePosrefresh,b=JSON.parse(localStorage.getItem("accesstoken")),f=JSON.parse(localStorage.getItem("refreshtoken")),g=d.a.create({headers:{Authorization:"Bearer ".concat(b)}}),y=d.a.create({headers:{Authorization:"Bearer ".concat(f)}});g.interceptors.response.use((function(e){return e}),function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f||403!==t.response.status){e.next=8;break}return e.next=3,y.post("/refreshtoken");case 3:return r=e.sent,b=r.data.accesstoken,e.next=7,g.post("/positions",{},{headers:{Authorization:"Bearer ".concat(b)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var v=Object(c.useState)([]),N=Object(s.a)(v,2),S=N[0],C=N[1],D=Object(c.useState)(e.config.sort||{column:"",order:""}),w=Object(s.a)(D,2),k=w[0],F=w[1],$=Object(c.useState)(e.config.columns),P=Object(s.a)($,2),I=P[0],q=P[1],T=Object(c.useState)([]),Q=Object(s.a)(T,2),B=Q[0],E=Q[1];Object(c.useEffect)(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/positions").then((function(e){C(e.data),E(Object.keys(I))}));case 2:case"end":return e.stop()}}),e)}))),[i]);var A=function(e){var t="asc"===k.order?"headerSortAsc":"headerSortDesc";return k.column===e?t:""},L={"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t}},K=[],M={},R=/^((?:(?:[<>]=?)|==))\s?([-]?\d+(?:\.\d+)?)$/;B.forEach((function(e){var t,r=I[e].filterText;if(M[e]=null,r.length>0){var c=R.exec(r);c&&3===c.length?M[e]=(t=c,function(e){if(e)return L[t[1]](e,t[2])}):M[e]=function(e){if(e)return e.toString().toLowerCase().indexOf(r.toLowerCase())>-1}}}));var G=j.a.filter(S,(function(e){return j.a.every(B,(function(t){return!M[t]||M[t](e[t])}))})),Y=j.a.sortBy(G,k.column);"desc"===k.order&&Y.reverse();Y.forEach((function(r,c){var a;K.push(Object(x.jsxs)("tr",{id:c,children:[(a=r,B.map((function(e,t){return"quantity"===e?Object(x.jsx)("td",{className:"canceldrag",id:e+"-"+a.id,children:a[e].toFixed(2)},e+"-"+a.id):"FOB"===e?Object(x.jsx)("td",{className:"canceldrag",id:e+"-"+a.id,children:"$"+a[e].toFixed(2)},e+"-"+a.id):"Start"===e||"End"===e?Object(x.jsx)("td",{className:"canceldrag",id:e+"-"+a.id,children:O()(a[e]).format("DD-MMM-YYYY").toString()},e+"-"+a.id):Object(x.jsx)("td",{className:"canceldrag",id:e+"-"+a.id,children:a[e]},e+"-"+a.id)}))),Object(x.jsxs)("div",{className:"crudbuttons",children:[Object(x.jsx)("button",{className:"editbutton",onClick:function(t){e.showEditModal(t,r)},children:"Edit"}),1===t||2===t?Object(x.jsx)("button",{className:"editbutton",onClick:function(e){Object(h.confirmAlert)({title:"Are you sure?",message:"You are about to delete position (".concat(r.WGP,") for ").concat(r.abbreviation," from ").concat(r.companyCode,". This deletion is irreversible. Click Delete to confirm or Cancel to exit."),buttons:[{label:"Cancel",onClick:function(){console.log("cancelled")}},{label:"Delete",onClick:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/deletePosition",{data:{WGP:r.WGP}}).then((function(e){return u()})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}],closeOnClickOutside:!0,closeOnEscape:!0})},children:"Delete"}):""]})]},c))}));var W=B.map((function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("th",{onClick:(t=e,function(e){var r="asc"===k.order?"desc":"asc";k.column!==t&&(r=I[t].defaultSortOrder),F({column:t,order:r})}),className:"header "+A(e),children:I[e].name})});var t})),z=B.map((function(e){return Object(x.jsx)("td",{className:"filter-"+e,children:Object(x.jsx)("input",{className:"canceldrag",type:"text",value:I[e].filterText,onChange:function(t){!function(e,t){q(Object(n.a)(Object(n.a)({},I),{},Object(a.a)({},t,Object(n.a)(Object(n.a)({},I[t]),{},{filterText:e.target.value}))))}(t,e)}})})}));return Object(x.jsx)("div",{children:Object(x.jsxs)("table",{cellSpacing:"0",className:"tablesorter",children:[Object(x.jsxs)("thead",{children:[Object(x.jsxs)("tr",{children:[W,Object(x.jsx)("th",{className:"header lastheader"})]}),Object(x.jsxs)("tr",{className:"searchboxes",children:[z,Object(x.jsx)("td",{})]})]}),Object(x.jsx)("tbody",{children:K})]})})},y=(r(521),r(130));t.a=function(e){var t=Object(c.useContext)(m.a).togglePosrefresh;return Object(x.jsxs)("div",{className:"positionslist",children:[Object(x.jsxs)("div",{className:"positionstitleline",children:[Object(x.jsx)("h3",{className:"positionslisttitle",children:"Positions List"}),Object(x.jsx)(y.a,{className:"refreshicon",onClick:function(e){t()}})]}),Object(x.jsx)(g,{config:{sort:{column:"year",order:"desc"},columns:{WGP:{name:"WGP",filterText:"",defaultSortOrder:"asc"},abbreviation:{name:"Product",filterText:"",defaultSortOrder:"desc"},companyCode:{name:"Supplier",filterText:"",defaultSortOrder:"desc"},packaging:{name:"Packaging",filterText:"",defaultSortOrder:"asc"},Start:{name:"Start",filterText:"",defaultSortOrder:"asc"},End:{name:"End",filterText:"",defaultSortOrder:"asc"},FOB:{name:"FOB",filterText:"",defaultSortOrder:"asc"},quantity:{name:"Quantity",filterText:"",defaultSortOrder:"asc"},year:{name:"Year",filterText:">=2020",defaultSortOrder:"asc"}}},showEditModal:e.showEditModal,hideEditModal:e.hideEditModal,modalState:e.modalState,postoedit:e.postoedit},"positionstablesort")]})}},45:function(e,t,r){"use strict";var c=r(8),a=r.n(c),n=r(11),s=r(4),i=r(1),o=r(7),l=r.n(o),u=(r(504),r(0));t.a=function(e){var t=e.searchURL,r=e.searchName,c=e.searchID,o=e.placeholder,d=e.otherName,b=e.otherID,j=e.thirdName,p=e.thirdID,m=e.setProdSupplier,h=e.resetfield,f=e.setResetfield,O=e.value,x=(e.showAddProd,Object(i.useState)()),g=Object(s.a)(x,2),y=g[0],v=g[1],N=Object(i.useState)(""),S=Object(s.a)(N,2),C=S[0],D=S[1],w=Object(i.useState)(),k=Object(s.a)(w,2),F=k[0],$=k[1],P=Object(i.useState)(!1),I=Object(s.a)(P,2),q=I[0],T=I[1];Object(i.useEffect)((function(){if(y){var e=y.filter((function(e){if(d&&b&&p){if(C&&""!==C)return(e[r]+e[c]+e[d]+e[b]+e[j]+e[p]).toLowerCase().includes(C.toLowerCase());T(!1)}if(d&&b&&!p){if(C&&""!==C)return(e[r]+e[c]+e[d]+e[b]).toLowerCase().includes(C.toLowerCase());T(!1)}else{if(C&&""!==C)return(e[r]+e[c]).toLowerCase().includes(C.toLowerCase());T(!1)}}));$(e)}}),[C]);var Q,B=Object(i.useRef)([]),E=Object(i.useRef)(null),A=Object(i.useRef)(null),L=Object(i.useRef)(null),K=Object(i.useRef)(null),M=Object(i.useRef)(null),R=Object(i.useRef)(null);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{ref:"productID"===c?E:"customerID"===c?A:"POLID"===c?L:"PODID"===c?K:"trafficID"===c?M:R,placeholder:o,type:"text",value:h?"":C||O,onFocus:function(){l.a.post(t).then((function(e){v(e.data)}))},onChange:function(e){f(!1),T(!0),D(e.target.value)},required:!0,className:"canceldrag",onKeyDown:function(e){F&&F.length>0&&"ArrowRight"===e.key&&(e.preventDefault(),Q=0,console.log(B.current),console.log(B.current[Q]),0===Q&&B.current[Q].focus())}}),Object(u.jsx)("div",{className:"flexbreak"}),Object(u.jsx)("div",{className:"presearchresults"}),Object(u.jsx)("span",{className:"QSsearchresults-container",children:Object(u.jsx)("ul",{className:q?"searchresults":"QSsearchresults-hide",children:F?F.map((function(e,t){return b&&d&&j&&p?Object(u.jsxs)("li",{ref:function(e){return B.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),c){case"productID":E.current.focus();break;case"customerID":A.current.focus();break;case"POLID":L.current.focus();break;case"PODID":K.current.focus();break;case"trafficID":M.current.focus();break;case"paytermID":R.current.focus()}"ArrowDown"===t.key&&(t.preventDefault(),B.current[Q+1]&&(Q+=1,B.current[Q].focus())),"ArrowUp"===t.key&&(t.preventDefault(),B.current[Q-1]&&(Q-=1,B.current[Q].focus())),"Enter"===t.key&&(m(e[c],e[r],e[b],e[d],e[p],e[j]),D(null))},onClick:function(t){m(e[c],e[r],e[b],e[d],e[p],e[j]),D(null)},children:[e[c]," - ",e[r]," - ",e[d]]}):b&&d&&!j&&!p?Object(u.jsxs)("li",{ref:function(e){return B.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),c){case"productID":E.current.focus();break;case"customerID":A.current.focus();break;case"POLID":L.current.focus();break;case"PODID":K.current.focus();break;case"trafficID":M.current.focus();break;case"paytermID":R.current.focus()}"ArrowDown"===t.key&&(t.preventDefault(),B.current[Q+1]&&(Q+=1,B.current[Q].focus())),"ArrowUp"===t.key&&(t.preventDefault(),B.current[Q-1]&&(Q-=1,B.current[Q].focus())),"Enter"===t.key&&(m(e[c],e[r],e[b],e[d]),D(null))},onClick:function(t){m(e[c],e[r],e[b],e[d]),D(null)},children:[e[c]," - ",e[r]," - ",e[d]]}):Object(u.jsxs)("li",{ref:function(e){return B.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),c){case"productID":E.current.focus();break;case"customerID":A.current.focus();break;case"POLID":L.current.focus();break;case"PODID":K.current.focus();break;case"trafficID":M.current.focus();break;case"paytermID":R.current.focus()}"ArrowDown"===t.key&&(t.preventDefault(),B.current[Q+1]&&(Q+=1,B.current[Q].focus())),"ArrowUp"===t.key&&(t.preventDefault(),B.current[Q-1]&&(Q-=1,B.current[Q].focus())),"Enter"===t.key&&(m(e[c],e[r]),D(null))},onClick:function(){var t=Object(n.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m(e[c],e[r]),D(null);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[e[c]," - ",e[r]]})})):""})})]})}},468:function(e,t,r){},469:function(e,t,r){},487:function(e,t,r){},490:function(e,t,r){"use strict";(function(e){r(4),r(6),r(1),r(123),r(124);var t=r(37);r(144),r(229),r(377),r(209),r(245),r(0),Object(t.WidthProvider)(t.Responsive)}).call(this,r(43))},503:function(e,t,r){},504:function(e,t,r){},505:function(e,t,r){},506:function(e,t,r){},507:function(e,t,r){},508:function(e,t,r){},509:function(e,t,r){},516:function(e,t,r){},517:function(e,t,r){},521:function(e,t,r){},522:function(e,t,r){},523:function(e,t,r){},525:function(e,t,r){},526:function(e,t,r){},527:function(e,t,r){},53:function(e,t,r){"use strict";var c=r(4),a=r(1),n=r(7),s=r.n(n),i=(r(507),r(0));t.a=function(e){var t=e.searchURL,r=e.searchName,n=e.searchID,o=e.placeholder,l=e.otherName,u=e.otherID,d=e.setQSFields,b=e.resetfield,j=e.setEditing,p=e.value,m=Object(a.useState)(),h=Object(c.a)(m,2),f=h[0],O=h[1],x=Object(a.useState)(""),g=Object(c.a)(x,2),y=g[0],v=g[1],N=Object(a.useState)(""),S=Object(c.a)(N,2),C=S[0],D=S[1],w=Object(a.useState)(),k=Object(c.a)(w,2),F=k[0],$=k[1],P=Object(a.useState)(!1),I=Object(c.a)(P,2),q=(I[0],I[1],Object(a.useState)(!1)),T=Object(c.a)(q,2),Q=T[0],B=T[1];Object(a.useEffect)((function(){if(f){var e=f.filter((function(e){if(l&&u){if(C&&""!==C)return(e[r]+e[n]+e[l]+e[u]).toLowerCase().includes(C.toLowerCase());B(!1),d("","",r,l,"","")}else{if(C&&""!==C)return(e[r]+e[n]).toLowerCase().includes(C.toLowerCase());B(!1),d("","",r,"","","")}}));$(e)}}),[C]);var E,A=Object(a.useRef)([]),L=Object(a.useRef)(null),K=Object(a.useRef)(null),M=Object(a.useRef)(null),R=Object(a.useRef)(null),G=Object(a.useRef)(null),Y=Object(a.useRef)(null);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("input",{ref:"productID"===n?L:"customerID"===n?K:"POLID"===n?M:"PODID"===n?R:"trafficID"===n?G:Y,placeholder:o,type:"text",value:b?"":y||p,onFocus:function(){s.a.post(t).then((function(e){O(e.data)}))},onChange:function(e){B(!0),v(e.target.value),D(e.target.value)},onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:function(e){F&&F.length>0&&"ArrowRight"===e.key&&(e.preventDefault(),E=0,console.log(A.current),console.log(A.current[E]),0===E&&A.current[E].focus()),"Enter"===e.key&&e.preventDefault()}}),Object(i.jsx)("div",{className:"flexbreak"}),Object(i.jsx)("span",{className:"QSsearchresults-container",children:Object(i.jsx)("ul",{className:Q?"QSsearchresults":"QSsearchresults-hide",children:F?F.map((function(e,t){return u&&l?Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("li",{ref:function(e){return A.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),n){case"productID":L.current.focus();break;case"customerID":K.current.focus();break;case"POLID":M.current.focus();break;case"PODID":R.current.focus();break;case"trafficID":G.current.focus();break;case"paytermID":Y.current.focus()}if("ArrowDown"===t.key&&(t.preventDefault(),A.current[E+1]&&(E+=1,A.current[E].focus())),"ArrowUp"===t.key&&(t.preventDefault(),A.current[E-1]&&(E-=1,A.current[E].focus())),"Enter"===t.key){t.preventDefault(),j(!0);var c=t.target.innerText,a=c.substring(c.indexOf("(")+1,c.indexOf(")")),s=c.substring(c.indexOf(") ")+2,c.indexOf(" -")),i=c.substring(c.lastIndexOf("(")+1,c.lastIndexOf(")")),o=c.substring(c.lastIndexOf(") ")+2);d(Number(a),Number(i),r,l,s,o),v(null),D(e[r]),B(!1)}},onClick:function(t){j(!0);var c=t.target.innerText,a=c.substring(c.indexOf("(")+1,c.indexOf(")")),n=c.substring(c.indexOf(") ")+2,c.indexOf(" -")),s=c.substring(c.lastIndexOf("(")+1,c.lastIndexOf(")")),i=c.substring(c.lastIndexOf(") ")+2);d(Number(a),Number(s),r,l,n,i),v(null),D(e[r]),B(!1)},children:["(",e[n],") ",e[r]," - (",e[u],") ",e[l]]})}):Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("li",{ref:function(e){return A.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),n){case"productID":L.current.focus();break;case"customerID":K.current.focus();break;case"POLID":M.current.focus();break;case"PODID":R.current.focus();break;case"trafficID":G.current.focus();break;case"paytermID":Y.current.focus()}if("ArrowDown"===t.key&&(t.preventDefault(),A.current[E+1]&&(E+=1,A.current[E].focus())),"ArrowUp"===t.key&&(t.preventDefault(),A.current[E-1]&&(E-=1,A.current[E].focus())),"Enter"===t.key){t.preventDefault(),j(!0);var c=t.target.innerText,a=c.substring(c.indexOf("(")+1,c.indexOf(")")),s=c.split(") - ")[1];console.log(a,s),d(Number(a),"",r,"",s,""),v(null),D(e[r]),B(!1)}},onClick:function(t){j(!0);var c=t.target.innerText,a=c.substring(c.indexOf("(")+1,c.indexOf(")")),n=c.split(") - ")[1];console.log(a,n),d(Number(a),"",r,"",n,""),v(null),D(e[r]),B(!1)},children:["(",e[n],") - ",e[r]]})})})):""})})]})}},684:function(e,t,r){},685:function(e,t,r){},686:function(e,t,r){},687:function(e,t,r){},688:function(e,t,r){},689:function(e,t,r){"use strict";r.r(t);r(1);var c=r(81),a=r.n(c),n=r(76),s=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,735)).then((function(t){var r=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;r(e),c(e),a(e),n(e),s(e)}))},i=r(0);a.a.render(Object(i.jsx)(n.b,{}),document.getElementById("root")),s()},74:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var c=r(4),a=r(1),n=r.n(a),s=r(0),i=n.a.createContext(),o=function(e){var t=e.children,r=Object(a.useState)(),n=Object(c.a)(r,2),o=n[0],l=n[1],u=Object(a.useState)(!0),d=Object(c.a)(u,2),b=d[0],j=d[1],p=Object(a.useState)(JSON.parse(localStorage.getItem("WGusercode"))),m=Object(c.a)(p,2),h=m[0],f=m[1],O=Object(a.useState)(!0),x=Object(c.a)(O,2),g=x[0],y=x[1],v=Object(a.useState)(!1),N=Object(c.a)(v,2),S=N[0],C=N[1];return Object(s.jsx)(i.Provider,{value:{QStoload:o,setQStoload:l,toggleQSload:function(e){j((function(e){return!e}))},diffQS:b,toggleDuplicate:function(e){y((function(e){return!e}))},duplicateBoolean:g,loaduser:h,setLoaduser:f,fromdropdown:S,setFromdropdown:C},children:t})}},75:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var c=r(4),a=r(1),n=r.n(a),s=r(0),i=n.a.createContext(),o=function(e){var t=e.children,r=Object(a.useState)(),n=Object(c.a)(r,2),o=n[0],l=n[1],u=Object(a.useState)(),d=Object(c.a)(u,2),b=d[0],j=d[1],p=Object(a.useState)(),m=Object(c.a)(p,2),h=m[0],f=m[1],O=Object(a.useState)(),x=Object(c.a)(O,2),g=x[0],y=x[1],v=Object(a.useState)(),N=Object(c.a)(v,2),S=N[0],C=N[1],D=Object(a.useState)(),w=Object(c.a)(D,2),k=w[0],F=w[1],$=Object(a.useState)(),P=Object(c.a)($,2),I=P[0],q=P[1],T=Object(a.useState)(),Q=Object(c.a)(T,2),B=Q[0],E=Q[1],A=Object(a.useState)(),L=Object(c.a)(A,2),K=L[0],M=L[1],R=Object(a.useState)(),G=Object(c.a)(R,2),Y=G[0],W=G[1],z=Object(a.useState)(),U=Object(c.a)(z,2),J=U[0],H=U[1],V=Object(a.useState)(),_=Object(c.a)(V,2),Z=_[0],X=_[1],ee=Object(a.useState)(),te=Object(c.a)(ee,2),re=te[0],ce=te[1];return Object(s.jsx)(i.Provider,{value:{prdata:o,setPrdata:l,prcustomers:b,setPrcustomers:j,prcustomerfilter:h,setPrcustomerfilter:f,prcustomerchecks:g,setPrcustomerchecks:y,prproducts:S,setPrproducts:C,prproductfilter:k,setPrproductfilter:F,prproductchecks:I,setPrproductchecks:q,prpgroups:B,setPrpgroups:E,prpgroupfilter:K,setPrpgroupfilter:M,prpgroupchecks:Y,setPrpgroupchecks:W,prprodcats:J,setPrprodcats:H,prprodcatfilter:Z,setPrprodcatfilter:X,prprodcatchecks:re,setPrprodcatchecks:ce},children:t})}},76:function(e,t,r){"use strict";r.d(t,"a",(function(){return te}));var c=r(4),a=r(2),n=(r(468),r(1)),s=r.n(n),i=r(49),o=r(36),l=r(6),u=(r(469),r(7)),d=r.n(u);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var r,c,a=function(e,t){if(null==e)return{};var r,c,a={},n=Object.keys(e);for(c=0;c<n.length;c++)r=n[c],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(c=0;c<n.length;c++)r=n[c],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createElement("g",null,n.createElement("g",null,n.createElement("path",{fill:"#93AD3C",d:"M277.342,30.401c-6.546,0-20.163,3.273-20.897,21.889c-0.326,8.282-2.662,15.368-6.543,20.845 c-0.001,0.002-0.002,0.004-0.003,0.006c-5.947,25.626-21.224,44.279-43.731,53.633l12.057,0.169 c36.073,0.476,62.866-16.788,74.653-46.792C304.666,50.147,294.494,30.401,277.342,30.401z"}),n.createElement("path",{fill:"#11159A",d:"M248.394,49.114c-0.068-4.4-0.527-8.411-1.322-12.048c-0.023,0.002-0.045,0.006-0.068,0.008 c-3.46-18.081-19.68-27.903-19.68-27.903s-10.071-7.466-29.091-7.466c-13.848,0-46.946,8.647-44.84,52.173 c0.016,0.589,0.039,1.183,0.079,1.788c0.195,2.982-0.057,22.965,19.704,26.415c15.914,2.779,23.11-7.347,23.504-19.51 c0.153-4.714,0.102-7.964,0.003-8.596c0-3.773,0.183-10.357,5.357-10.909c5.52-0.588,5.513,4.643,5.529,10.528 c0,0.026,0.201,9.389-4.208,17.606c-2.736,6.024-8.522,13.264-20.684,14.941c-1.538,0.212-3.063,0.317-4.566,0.317 c-7.826,0-15.114-2.846-21.089-8.248c-6.693-5.798-10.85-14.827-11.294-26.075c-0.734-18.616-14.351-21.889-20.897-21.889 c-12.089,0-20.709,9.81-20.618,26.107c-0.009,6.895,1.549,14.965,5.082,23.959c11.787,30.004,38.58,47.268,74.653,46.792 c5.252-0.069,10.266-0.77,15.017-2.027c0.731-0.239,1.454-0.489,2.171-0.747c20.192-7.271,34.721-22.071,42.042-42.703 c0.213-0.709,0.414-1.421,0.602-2.137c0.056-0.215,0.119-0.429,0.173-0.645c2.292-7.209,3.754-14.991,4.291-23.18 c0.113-1.721,0.162-3.382,0.165-4.997c0.001-0.246,0.001-0.491,0.001-0.735C248.404,49.659,248.399,49.386,248.394,49.114z"})),n.createElement("g",null,n.createElement("path",{fill:"#11159A",d:"M4.063,152.53h8.117c0.753,0,1.506,0,2.26,0c0.753,0,1.336,0.172,1.747,0.514 c0.547,0.411,0.907,0.976,1.079,1.695c0.17,0.719,0.36,1.456,0.565,2.209c0.273,0.96,0.514,1.936,0.719,2.928 c0.205,0.994,0.445,1.97,0.719,2.928c0.136,0.344,0.205,0.634,0.205,0.873c0,0.241,0.034,0.531,0.103,0.873 c0.273,0.96,0.496,1.919,0.668,2.877c0.17,0.96,0.393,1.919,0.668,2.877c0.273,0.755,0.478,1.541,0.617,2.363 c0.136,0.822,0.308,1.644,0.514,2.466c0.684,2.26,1.249,4.556,1.695,6.884c0.444,2.329,0.976,4.624,1.593,6.884 c0.342,1.027,0.599,2.055,0.77,3.082c0.17,1.027,0.393,2.055,0.668,3.082c0.273,0.822,0.478,1.525,0.617,2.106 c0.136,0.583,0.478,1.148,1.027,1.695c0.136,0,0.221,0.018,0.257,0.051c0.034,0.035,0.119,0.018,0.257-0.051 c0.411-0.136,0.719-0.514,0.925-1.13c0.206-0.617,0.376-1.13,0.514-1.541c0.273-0.889,0.496-1.798,0.668-2.723 c0.17-0.925,0.427-1.832,0.77-2.723c0.068-0.342,0.137-0.668,0.206-0.976c0.067-0.308,0.136-0.632,0.205-0.976 c0.342-0.89,0.599-1.798,0.77-2.723c0.17-0.925,0.393-1.832,0.668-2.723c0.068-0.273,0.137-0.547,0.205-0.822 c0.068-0.273,0.137-0.581,0.206-0.924c0.205-0.617,0.375-1.249,0.514-1.901c0.136-0.65,0.308-1.284,0.514-1.901 c0.136-0.548,0.205-0.958,0.205-1.233c0.136-0.478,0.273-0.958,0.411-1.438c0.137-0.478,0.273-0.958,0.411-1.438 c0.616-1.917,1.13-3.853,1.541-5.805c0.411-1.952,0.89-3.886,1.439-5.805c0.342-0.958,0.599-1.917,0.77-2.877 c0.17-0.958,0.393-1.917,0.668-2.877c0.273-0.753,0.514-1.454,0.719-2.106c0.205-0.65,0.684-1.146,1.438-1.49 c0.478-0.136,1.027-0.205,1.644-0.205c0.617,0,1.233,0,1.849,0h6.062c0.753,0,1.454,0.018,2.106,0.052 c0.65,0.035,1.215,0.223,1.695,0.565c0.478,0.344,0.787,0.84,0.925,1.49c0.136,0.652,0.308,1.319,0.514,2.003 c0.342,1.233,0.65,2.484,0.925,3.75c0.273,1.268,0.581,2.517,0.925,3.75c0.273,0.891,0.496,1.782,0.668,2.671 c0.17,0.891,0.393,1.782,0.668,2.671c0.206,0.755,0.376,1.49,0.514,2.209c0.136,0.719,0.342,1.456,0.617,2.209 c0.753,2.535,1.403,5.121,1.952,7.757c0.548,2.638,1.198,5.224,1.952,7.757c0.342,1.027,0.599,2.09,0.771,3.185 c0.17,1.097,0.427,2.124,0.77,3.082c0.205,0.685,0.376,1.319,0.514,1.901c0.136,0.583,0.375,1.114,0.719,1.593 c0.068,0.069,0.239,0.172,0.514,0.308h0.411c0.068-0.068,0.137-0.119,0.205-0.154c0.068-0.034,0.137-0.085,0.206-0.154 c0.411-0.548,0.684-1.146,0.822-1.798c0.137-0.65,0.308-1.318,0.514-2.004c0.342-1.095,0.599-2.191,0.77-3.288 c0.17-1.095,0.427-2.191,0.77-3.288c0.89-3.013,1.627-6.027,2.209-9.042c0.581-3.014,1.318-6.027,2.209-9.042 c0.342-1.095,0.599-2.192,0.77-3.288c0.17-1.095,0.427-2.191,0.77-3.288c0.137-0.342,0.206-0.633,0.206-0.873 c0-0.239,0.034-0.53,0.103-0.874c0.273-0.958,0.514-1.917,0.719-2.877c0.205-0.958,0.444-1.917,0.719-2.877 c0.137-0.547,0.291-1.164,0.462-1.849c0.17-0.684,0.462-1.198,0.874-1.541c0.478-0.342,1.061-0.548,1.746-0.617 c0.684-0.067,1.472-0.103,2.363-0.103h5.857c0.684,0,1.352,0,2.003,0c0.65,0,1.215,0.103,1.695,0.308 c0.684,0.344,0.992,0.925,0.925,1.746c-0.069,0.822-0.205,1.577-0.411,2.261c-0.549,1.576-1.011,3.236-1.387,4.983 c-0.377,1.747-0.84,3.442-1.387,5.086c-0.138,0.411-0.241,0.806-0.308,1.181c-0.069,0.378-0.172,0.771-0.308,1.182 c-0.344,1.166-0.668,2.381-0.976,3.647c-0.308,1.268-0.634,2.484-0.976,3.647c-0.138,0.344-0.223,0.686-0.257,1.028 c-0.035,0.343-0.121,0.685-0.257,1.027c-0.344,0.891-0.601,1.782-0.77,2.671c-0.172,0.891-0.429,1.782-0.771,2.671 c-0.138,0.344-0.205,0.652-0.205,0.925c0,0.274-0.069,0.583-0.205,0.925c-0.344,0.96-0.601,1.936-0.77,2.928 c-0.172,0.994-0.429,1.97-0.771,2.928c-0.205,0.685-0.395,1.353-0.565,2.003c-0.172,0.652-0.36,1.32-0.565,2.004 c-0.822,2.604-1.525,5.24-2.106,7.911c-0.583,2.671-1.32,5.275-2.209,7.809c-0.138,0.48-0.241,0.924-0.308,1.336 c-0.069,0.411-0.172,0.857-0.308,1.336c-0.344,1.166-0.668,2.381-0.976,3.647c-0.308,1.268-0.668,2.484-1.079,3.648 c-0.274,0.891-0.514,1.713-0.719,2.466c-0.206,0.754-0.719,1.302-1.541,1.644c-0.48,0.138-1.063,0.205-1.747,0.205 c-0.685,0-1.336,0-1.952,0h-6.678c-0.755,0-1.474-0.016-2.158-0.052c-0.685-0.034-1.268-0.222-1.746-0.565 c-0.411-0.342-0.686-0.77-0.822-1.284c-0.138-0.514-0.308-1.043-0.514-1.593c-0.411-1.369-0.754-2.723-1.027-4.058 c-0.274-1.336-0.583-2.688-0.925-4.059c-0.274-0.822-0.497-1.66-0.668-2.517c-0.172-0.856-0.395-1.729-0.668-2.62 c-0.205-0.617-0.36-1.249-0.462-1.901c-0.103-0.65-0.257-1.284-0.462-1.901c-0.549-1.644-0.994-3.339-1.336-5.086 c-0.344-1.747-0.755-3.476-1.233-5.189c-0.343-0.958-0.6-1.883-0.77-2.774c-0.172-0.889-0.395-1.814-0.668-2.774 c-0.344-1.164-0.617-2.294-0.822-3.39c-0.205-1.095-0.48-2.192-0.822-3.288c-0.205-0.548-0.36-1.061-0.462-1.541 c-0.103-0.478-0.292-0.925-0.565-1.336c-0.138-0.137-0.344-0.273-0.616-0.411c-0.206-0.067-0.344-0.067-0.411,0 c-0.48,0.138-0.822,0.549-1.027,1.233c-0.205,0.685-0.377,1.268-0.514,1.746c-0.48,1.439-0.857,2.928-1.13,4.469 c-0.274,1.541-0.617,3.066-1.027,4.572c-0.891,3.082-1.662,6.165-2.312,9.247c-0.652,3.082-1.423,6.165-2.312,9.247 c-0.344,1.097-0.601,2.175-0.77,3.237c-0.172,1.063-0.429,2.142-0.771,3.236c-0.344,0.96-0.6,1.919-0.77,2.877 c-0.172,0.96-0.395,1.919-0.668,2.877c-0.205,0.686-0.395,1.302-0.565,1.849c-0.172,0.549-0.531,0.994-1.079,1.336 c-0.48,0.275-1.063,0.411-1.746,0.411c-0.686,0-1.405,0-2.158,0h-8.939c-0.48-0.136-0.891-0.221-1.233-0.257 c-0.344-0.034-0.685-0.188-1.027-0.462c-0.549-0.342-0.891-0.907-1.027-1.695c-0.138-0.787-0.308-1.557-0.514-2.312 c-0.344-1.095-0.668-2.225-0.976-3.39c-0.308-1.164-0.634-2.328-0.976-3.494c-0.138-0.411-0.223-0.804-0.257-1.181 c-0.035-0.376-0.121-0.804-0.257-1.284c-0.411-1.164-0.754-2.328-1.027-3.494c-0.274-1.164-0.583-2.328-0.925-3.493 c-0.138-0.273-0.205-0.53-0.205-0.771c0-0.239-0.035-0.496-0.103-0.77c-0.344-0.958-0.634-1.968-0.874-3.031 c-0.241-1.061-0.531-2.106-0.873-3.134c-0.069-0.205-0.103-0.411-0.103-0.617c0-0.205-0.069-0.444-0.205-0.719 c-0.344-0.959-0.601-1.935-0.771-2.928c-0.172-0.992-0.428-2.003-0.77-3.031c-0.205-0.684-0.395-1.387-0.565-2.106 c-0.172-0.719-0.36-1.421-0.565-2.106c-0.205-0.684-0.377-1.369-0.514-2.055c-0.138-0.684-0.343-1.369-0.616-2.055 c-0.617-1.986-1.148-4.007-1.593-6.062c-0.446-2.055-0.976-4.074-1.593-6.062c-0.138-0.411-0.241-0.822-0.308-1.233 c-0.069-0.411-0.172-0.822-0.308-1.233c-0.48-1.439-0.891-2.911-1.233-4.418c-0.344-1.506-0.755-3.013-1.233-4.521 c-0.138-0.478-0.326-1.198-0.565-2.158c-0.241-0.958-0.189-1.678,0.154-2.158c0.342-0.411,0.822-0.684,1.439-0.822 c0.136-0.067,0.273-0.085,0.411-0.051C3.789,152.617,3.925,152.599,4.063,152.53z"}),n.createElement("path",{fill:"#11159A",d:"M145.543,198.766c0.136,0.549,0.136,1.166,0,1.849c-0.138,0.685-0.377,1.13-0.719,1.336 c-0.344,0.275-0.84,0.462-1.49,0.565c-0.652,0.103-1.371,0.172-2.158,0.205c-0.788,0.035-1.576,0.035-2.363,0 c-0.788-0.034-1.49-0.051-2.106-0.051h-25.07c-0.48,0-0.942,0-1.387,0c-0.446,0-0.84,0.069-1.182,0.205 c-0.549,0.274-0.891,0.549-1.027,0.822c-0.138,0.138-0.274,0.395-0.411,0.77c-0.138,0.377-0.172,0.737-0.103,1.079 c0.136,0.411,0.221,0.806,0.257,1.181c0.034,0.377,0.119,0.771,0.257,1.182c0.548,1.644,1.215,2.997,2.004,4.059 c0.787,1.063,1.866,2.003,3.237,2.825c0.547,0.344,1.112,0.565,1.695,0.668c0.581,0.103,1.182,0.257,1.798,0.462 c0.548,0.138,1.3,0.241,2.26,0.308c0.959,0.069,1.78,0.035,2.466-0.103h0.925c0.684-0.136,1.318-0.291,1.901-0.462 c0.581-0.17,1.146-0.36,1.696-0.565c0.684-0.342,1.454-0.787,2.311-1.336c0.856-0.548,1.49-1.095,1.901-1.644 c0.342-0.478,0.701-0.941,1.079-1.387c0.376-0.444,0.838-0.77,1.387-0.976c0.684-0.342,1.557-0.496,2.62-0.462 c1.061,0.035,2.037,0.051,2.928,0.051c0.411,0,0.838-0.016,1.284-0.051c0.444-0.034,0.838,0.018,1.181,0.154h1.027 c0.684,0.138,1.164,0.308,1.439,0.514c0.273,0.138,0.427,0.446,0.462,0.925c0.034,0.48-0.018,0.891-0.154,1.233 c-0.344,0.96-0.719,1.816-1.13,2.569c-0.411,0.754-0.891,1.507-1.439,2.26c-1.507,2.26-3.22,4.076-5.137,5.446 c-1.918,1.371-4.315,2.535-7.192,3.493c-0.754,0.273-1.507,0.445-2.26,0.514c-0.755,0.067-1.541,0.205-2.363,0.411 c-0.274,0.068-0.565,0.085-0.873,0.052c-0.308-0.035-0.601-0.018-0.873,0.051h-1.13c-0.344,0.136-0.737,0.188-1.182,0.154 c-0.446-0.035-0.84-0.087-1.182-0.154c-0.549-0.069-1.027-0.069-1.438,0c-0.411,0.068-0.857,0.034-1.336-0.103 c-0.344-0.138-0.719-0.205-1.13-0.205c-0.411,0-0.788-0.069-1.13-0.205c-0.754-0.138-1.507-0.292-2.26-0.462 c-0.755-0.17-1.439-0.427-2.055-0.771c-0.755-0.273-1.456-0.53-2.106-0.77c-0.652-0.239-1.25-0.53-1.798-0.873 c-2.193-1.37-4.145-2.962-5.857-4.778c-1.713-1.814-3.118-3.92-4.212-6.319c-0.344-0.753-0.617-1.524-0.822-2.312 c-0.205-0.787-0.48-1.593-0.822-2.415c-0.069-0.273-0.103-0.53-0.103-0.77c0-0.239-0.035-0.496-0.103-0.771 c-0.274-0.822-0.446-1.711-0.514-2.671c-0.069-0.959-0.138-1.917-0.205-2.877c0-0.342-0.018-0.719-0.051-1.13 c-0.035-0.411-0.018-0.787,0.051-1.131v-1.233l0.308-2.466c0.273-1.164,0.514-2.294,0.719-3.391 c0.205-1.095,0.514-2.122,0.925-3.082c2.944-7.123,7.945-12.158,15.001-15.104c0.958-0.411,1.935-0.701,2.928-0.873 c0.992-0.17,2.037-0.394,3.133-0.668c0.548-0.067,1.061-0.103,1.541-0.103c0.478,0,0.992-0.034,1.541-0.103 c3.494-0.067,6.489,0.326,8.99,1.182c2.5,0.857,4.742,1.97,6.73,3.339c0.617,0.411,1.233,0.873,1.849,1.387 c0.617,0.514,1.164,1.045,1.644,1.593c0.205,0.344,0.478,0.616,0.822,0.822c0.547,0.754,1.061,1.525,1.541,2.311 c0.478,0.788,0.992,1.593,1.541,2.415c0.342,0.617,0.632,1.251,0.873,1.901c0.239,0.652,0.496,1.353,0.77,2.106 c0.342,0.891,0.617,1.816,0.822,2.774c0.205,0.96,0.445,1.919,0.719,2.877c0.136,0.549,0.188,1.148,0.154,1.798 c-0.035,0.652,0.016,1.251,0.154,1.798V198.766z M130.132,192.704c0.478-0.684,0.53-1.524,0.154-2.517 c-0.377-0.992-0.668-1.729-0.873-2.209c-0.96-1.849-2.227-3.27-3.802-4.264c-1.576-0.992-3.768-1.523-6.576-1.593 c-0.205,0.138-0.446,0.172-0.719,0.103c-0.274-0.067-0.514-0.067-0.719,0c-0.344,0.138-0.719,0.223-1.13,0.257 c-0.411,0.035-0.788,0.12-1.13,0.257c-3.015,0.96-5.24,2.843-6.679,5.651c-0.138,0.274-0.292,0.634-0.462,1.079 c-0.172,0.446-0.292,0.891-0.36,1.336c-0.069,0.446-0.051,0.874,0.052,1.284c0.103,0.411,0.324,0.754,0.668,1.027 c0.548,0.344,1.3,0.514,2.26,0.514c0.958,0,1.883,0,2.774,0h11.405c0.959,0,1.968-0.016,3.031-0.052 C129.086,193.543,129.788,193.253,130.132,192.704z"}),n.createElement("path",{fill:"#93AD3C",d:"M185.202,150.681c6.918-0.136,12.705,1.097,17.364,3.699c4.657,2.604,8.287,5.959,10.891,10.069 c1.3,2.193,2.363,4.726,3.185,7.603c0.137,0.48,0.239,1.079,0.308,1.798c0.067,0.719-0.069,1.251-0.411,1.593 c-0.344,0.48-0.822,0.755-1.438,0.822c-0.617,0.069-1.302,0.103-2.055,0.103h-6.679c-0.754,0-1.456-0.016-2.106-0.051 c-0.652-0.034-1.181-0.221-1.593-0.565c-0.616-0.411-1.045-0.992-1.284-1.747c-0.241-0.753-0.531-1.472-0.874-2.158 c-0.616-0.958-1.268-1.866-1.952-2.723c-0.685-0.856-1.507-1.626-2.466-2.311c-1.302-0.89-2.877-1.609-4.726-2.158 c-0.344-0.136-0.719-0.221-1.13-0.257c-0.411-0.034-0.788-0.085-1.13-0.154c-0.206-0.067-0.514-0.103-0.925-0.103 c-0.822-0.136-1.849-0.154-3.082-0.052c-1.233,0.103-2.193,0.223-2.877,0.36c-0.48,0.138-0.925,0.241-1.336,0.308 c-0.411,0.069-0.822,0.205-1.233,0.411c-1.782,0.754-3.374,1.644-4.778,2.672c-1.405,1.027-2.62,2.329-3.647,3.904 c-0.96,1.302-1.713,2.707-2.261,4.212c-0.549,1.507-1.063,3.118-1.541,4.829c-0.205,0.754-0.344,1.507-0.411,2.26 c-0.069,0.754-0.171,1.507-0.308,2.26v1.336c-0.138,0.411-0.189,0.857-0.154,1.336c0.034,0.48,0.051,0.96,0.051,1.438 c0,1.166,0.034,2.33,0.103,3.494c0.068,1.166,0.239,2.26,0.514,3.288c0.067,0.274,0.103,0.514,0.103,0.719 c0,0.205,0.034,0.446,0.103,0.719c0.958,3.493,2.26,6.457,3.904,8.887c1.644,2.432,4.007,4.333,7.089,5.702 c0.617,0.274,1.249,0.514,1.901,0.719c0.65,0.205,1.352,0.411,2.106,0.617c0.411,0.069,0.804,0.087,1.182,0.051 c0.375-0.034,0.735,0.018,1.079,0.154c0.411,0.138,0.925,0.205,1.541,0.205c0.616,0,1.164-0.067,1.644-0.205 c0.342-0.068,0.65-0.085,0.925-0.052c0.273,0.035,0.548,0.018,0.822-0.051c0.342-0.068,0.633-0.085,0.874-0.052 c0.239,0.035,0.496-0.016,0.77-0.154c0.958-0.273,1.849-0.53,2.671-0.771c0.822-0.239,1.609-0.565,2.363-0.976 c1.711-1.027,3.082-2.209,4.11-3.545c1.027-1.336,1.917-2.996,2.671-4.983c0.273-0.753,0.462-1.644,0.565-2.671 c0.103-1.027-0.223-1.747-0.976-2.158c-0.411-0.273-0.942-0.411-1.593-0.411c-0.652,0-1.284,0-1.901,0h-5.24 c-0.411,0-0.857,0.018-1.336,0.052c-0.48,0.035-0.925-0.016-1.336-0.154h-0.925c-0.274-0.068-0.549-0.119-0.822-0.154 c-0.275-0.034-0.514-0.119-0.719-0.257c-0.344-0.273-0.583-0.684-0.719-1.233c-0.138-0.548-0.223-1.146-0.257-1.798 c-0.035-0.65-0.035-1.336,0-2.055c0.034-0.719,0.051-1.387,0.051-2.004c0-0.547,0.016-1.061,0.052-1.541 c0.034-0.478,0.119-0.89,0.257-1.233c0.273-0.617,0.65-1.028,1.13-1.233c0.411-0.136,0.753-0.205,1.027-0.205h1.13 c0.205-0.067,0.462-0.103,0.77-0.103c0.308,0,0.599,0,0.874,0h2.98h15.001c1.164,0,2.482,0,3.956,0 c1.472,0,2.448,0.308,2.928,0.925c0.342,0.549,0.514,1.268,0.514,2.158c0,0.891,0,1.747,0,2.569v10.685v16.85 c0,1.302-0.018,2.553-0.051,3.75c-0.035,1.199-0.498,1.97-1.387,2.311c-0.411,0.206-0.909,0.308-1.49,0.308 c-0.583,0-1.148,0-1.695,0c-1.371,0-2.553-0.052-3.545-0.154c-0.994-0.103-1.696-0.632-2.106-1.593 c-0.274-0.617-0.48-1.3-0.617-2.055c-0.138-0.753-0.377-1.403-0.719-1.952c-0.138-0.136-0.308-0.291-0.514-0.462 c-0.205-0.17-0.48-0.221-0.822-0.154c-0.549,0.138-1.011,0.411-1.387,0.822c-0.377,0.411-0.77,0.788-1.181,1.13 c-0.686,0.549-1.336,1.045-1.952,1.49c-0.617,0.446-1.302,0.909-2.055,1.387c-0.891,0.549-1.833,0.994-2.826,1.336 c-0.994,0.344-2.003,0.684-3.031,1.027c-0.344,0.136-0.703,0.222-1.079,0.257c-0.377,0.034-0.737,0.085-1.079,0.154 c-0.549,0.136-1.131,0.205-1.747,0.205c-0.617,0-1.233,0.068-1.849,0.205c-0.275,0.068-0.668,0.085-1.182,0.052 c-0.514-0.035-0.873-0.087-1.079-0.154h-1.027c-0.344-0.069-0.668-0.103-0.976-0.103s-0.634-0.035-0.976-0.103h-0.822 c-0.549-0.138-1.097-0.241-1.644-0.308c-0.549-0.069-1.097-0.172-1.644-0.308c-0.48-0.138-0.96-0.257-1.439-0.36 c-0.48-0.103-0.96-0.221-1.438-0.36c-2.055-0.617-3.871-1.336-5.446-2.158c-4.042-2.123-7.33-4.64-9.864-7.552 c-2.535-2.911-4.692-6.525-6.473-10.84c-0.411-0.958-0.719-1.917-0.925-2.877c-0.205-0.958-0.48-1.917-0.822-2.877 c-0.069-0.342-0.103-0.632-0.103-0.873c0-0.239-0.069-0.53-0.205-0.873c-0.138-0.478-0.206-0.976-0.206-1.49 c0-0.514-0.069-1.044-0.205-1.593c-0.138-0.342-0.189-0.632-0.154-0.873c0.034-0.239,0.016-0.53-0.052-0.873v-1.849 c-0.138-0.342-0.205-0.874-0.205-1.593c0-0.719,0.067-1.249,0.205-1.593v-1.131c0.068-0.411,0.085-0.838,0.052-1.284 c-0.035-0.445,0.016-0.838,0.154-1.182c0.137-0.617,0.205-1.233,0.205-1.849c0-0.616,0.068-1.197,0.206-1.747 c0.205-0.753,0.375-1.49,0.514-2.209c0.137-0.719,0.342-1.455,0.617-2.209c0.342-0.958,0.668-1.901,0.976-2.825 c0.308-0.925,0.668-1.832,1.079-2.723c0.411-0.958,0.889-1.901,1.438-2.825c0.548-0.925,1.095-1.798,1.644-2.62 c2.055-2.877,4.383-5.325,6.987-7.346c2.602-2.019,5.754-3.715,9.453-5.086c0.753-0.342,1.575-0.599,2.466-0.77 c0.889-0.17,1.78-0.36,2.671-0.565c0.342-0.136,0.701-0.205,1.079-0.205c0.376,0,0.735-0.068,1.079-0.205 c0.478-0.137,0.941-0.17,1.387-0.103c0.444,0.069,0.907,0.035,1.387-0.103c0.136-0.067,0.324-0.067,0.565,0 C184.876,150.75,185.064,150.75,185.202,150.681z"}),n.createElement("path",{fill:"#93AD3C",d:"M258.253,171.435c0.753,0,1.421,0.069,2.003,0.206c0.581,0.138,1.044,0.446,1.387,0.924 c0.411,0.549,0.617,1.49,0.617,2.826c0,1.336,0,2.517,0,3.545c0,0.754,0.016,1.61,0.051,2.568c0.034,0.96-0.087,1.713-0.359,2.261 c-0.275,0.48-0.668,0.788-1.182,0.925c-0.514,0.138-1.097,0.205-1.747,0.205c-0.652,0-1.336-0.034-2.055-0.103 c-0.719-0.068-1.387-0.034-2.003,0.103c-0.48,0.138-0.96,0.223-1.439,0.257c-0.48,0.035-0.925,0.12-1.336,0.257 c-1.097,0.344-2.193,0.84-3.288,1.49c-1.096,0.652-1.952,1.387-2.568,2.209c-0.344,0.549-0.703,1.114-1.079,1.695 c-0.377,0.583-0.737,1.182-1.079,1.798c-0.205,0.549-0.395,1.114-0.565,1.695c-0.172,0.583-0.326,1.148-0.462,1.695 c-0.138,0.48-0.206,0.976-0.206,1.49s-0.069,1.011-0.205,1.49c-0.069,0.274-0.087,0.531-0.051,0.77 c0.034,0.241,0.016,0.462-0.052,0.668v1.644c-0.138,0.48-0.172,1.011-0.103,1.593c0.068,0.583,0.103,1.148,0.103,1.695v6.576 v8.733c0,0.891-0.035,1.713-0.103,2.466c-0.069,0.755-0.275,1.371-0.617,1.849c-0.138,0.205-0.359,0.36-0.668,0.462 c-0.308,0.103-0.634,0.189-0.976,0.257h-0.514c-0.344,0.069-0.719,0.103-1.13,0.103c-0.411,0-0.788,0-1.13,0h-4.418 c-0.411-0.067-0.84-0.103-1.284-0.103c-0.446,0-0.909,0-1.387,0c-0.344-0.136-0.686-0.257-1.027-0.36 c-0.344-0.103-0.583-0.324-0.719-0.668c-0.274-0.342-0.429-0.838-0.462-1.49c-0.035-0.65-0.051-1.318-0.051-2.004v-6.987v-28.974 V177.6c0-0.684,0-1.352,0-2.004c0-0.65,0.136-1.182,0.411-1.593c0.342-0.548,0.856-0.889,1.541-1.027 c0.684-0.136,1.506-0.205,2.466-0.205h5.24c0.822,0,1.541,0.051,2.158,0.154c0.617,0.103,1.095,0.429,1.439,0.976 c0.205,0.344,0.324,0.822,0.36,1.438c0.034,0.617,0.085,1.217,0.154,1.798c0.068,0.583,0.188,1.114,0.36,1.593 c0.17,0.48,0.496,0.719,0.976,0.719c0.136-0.136,0.273-0.205,0.411-0.205c0.137,0,0.273-0.067,0.411-0.205 c0.411-0.342,0.77-0.735,1.079-1.182c0.308-0.444,0.702-0.838,1.182-1.181c0.273-0.206,0.514-0.427,0.719-0.668 c0.205-0.239,0.444-0.462,0.719-0.668c0.617-0.411,1.249-0.822,1.901-1.233c0.65-0.411,1.318-0.787,2.003-1.13 c0.684-0.273,1.387-0.514,2.106-0.719c0.719-0.205,1.454-0.411,2.209-0.616c0.205-0.068,0.599-0.085,1.181-0.052 C257.755,171.625,258.115,171.573,258.253,171.435z"}),n.createElement("path",{fill:"#93AD3C",d:"M317.229,197.122c0.136,0.411,0.205,0.994,0.205,1.747c0,0.754-0.069,1.336-0.205,1.747v1.027 c-0.138,0.549-0.189,1.097-0.154,1.644c0.034,0.549-0.018,1.097-0.154,1.644c-0.138,0.48-0.241,0.925-0.309,1.336 c-0.069,0.411-0.138,0.857-0.205,1.336c-0.275,0.754-0.514,1.525-0.719,2.312c-0.205,0.788-0.48,1.525-0.822,2.209 c-1.439,3.288-3.323,5.959-5.651,8.014c-2.329,2.055-5.137,3.768-8.425,5.137c-0.822,0.344-1.662,0.599-2.517,0.771 c-0.857,0.17-1.73,0.36-2.62,0.565c-0.344,0.136-0.719,0.205-1.13,0.205c-0.411,0-0.788,0.034-1.13,0.103 c-0.205,0-0.429,0.016-0.668,0.052c-0.241,0.034-0.462,0.051-0.668,0.051c-0.344,0.068-0.891,0.119-1.644,0.154 c-0.754,0.034-1.336-0.018-1.747-0.154h-1.027c-0.344-0.069-0.703-0.087-1.079-0.051c-0.378,0.034-0.737-0.018-1.079-0.154 c-0.275-0.069-0.531-0.103-0.77-0.103c-0.241,0-0.531-0.035-0.874-0.103c-0.685-0.205-1.371-0.377-2.055-0.514 c-0.685-0.138-1.336-0.342-1.952-0.616c-0.822-0.273-1.593-0.548-2.312-0.822c-0.719-0.273-1.456-0.617-2.209-1.027 c-2.398-1.439-4.453-3.116-6.165-5.035c-1.713-1.917-3.151-4.212-4.316-6.884c-0.344-0.617-0.6-1.267-0.771-1.952 c-0.172-0.684-0.36-1.403-0.565-2.158c-0.138-0.342-0.205-0.65-0.205-0.925c0-0.273-0.069-0.581-0.206-0.925 c-0.138-0.548-0.205-1.113-0.205-1.695c0-0.581-0.069-1.146-0.205-1.696c-0.069-0.342-0.103-0.65-0.103-0.925 c0-0.273,0-0.581,0-0.924c-0.138-0.411-0.189-0.992-0.154-1.747c0.034-0.753,0.119-1.336,0.257-1.747V196.3 c0.068-0.342,0.085-0.701,0.052-1.079c-0.035-0.376,0.016-0.735,0.154-1.079c0.068-0.342,0.103-0.668,0.103-0.976 c0-0.308,0.068-0.633,0.206-0.976c0.273-0.889,0.514-1.762,0.719-2.62c0.205-0.856,0.478-1.695,0.822-2.517 c1.233-2.808,2.705-5.153,4.418-7.038c1.711-1.883,3.801-3.612,6.267-5.188c0.684-0.342,1.403-0.65,2.158-0.925 c0.753-0.273,1.506-0.581,2.26-0.925c0.89-0.342,1.814-0.581,2.774-0.719c0.958-0.136,1.952-0.342,2.98-0.616 c0.548-0.068,1.061-0.103,1.541-0.103c0.478,0,0.958-0.034,1.438-0.103c3.972-0.067,7.414,0.344,10.326,1.233 c2.911,0.891,5.497,2.124,7.757,3.699c0.753,0.549,1.524,1.148,2.312,1.798c0.787,0.652,1.454,1.353,2.004,2.106 c0.547,0.686,1.044,1.371,1.49,2.055c0.444,0.686,0.907,1.405,1.387,2.158c0.478,0.755,0.856,1.559,1.13,2.415 c0.273,0.857,0.581,1.764,0.925,2.723c0.205,0.549,0.375,1.13,0.514,1.746c0.136,0.617,0.273,1.233,0.411,1.849 c0.067,0.275,0.103,0.549,0.103,0.822c0,0.274,0.034,0.549,0.103,0.822c0.136,0.344,0.17,0.719,0.103,1.13 C317.057,196.402,317.091,196.78,317.229,197.122z M302.845,200.821c0.068-0.342,0.103-0.838,0.103-1.49 c0-0.65-0.035-1.146-0.103-1.49v-0.822c-0.138-0.342-0.205-0.719-0.205-1.13c0-0.411-0.035-0.787-0.103-1.13 c0-0.273-0.035-0.478-0.103-0.617c-0.138-0.548-0.257-1.113-0.36-1.695c-0.103-0.581-0.257-1.146-0.462-1.695 c-0.754-1.78-1.644-3.304-2.671-4.572c-1.027-1.267-2.398-2.277-4.11-3.031c-0.411-0.136-0.822-0.257-1.233-0.36 c-0.411-0.103-0.857-0.221-1.336-0.36c-0.549-0.136-1.13-0.188-1.747-0.154c-0.617,0.035-1.233,0.051-1.849,0.051 c-0.205,0.138-0.446,0.19-0.719,0.154c-0.275-0.034-0.514-0.016-0.719,0.051c-0.48,0.138-0.943,0.257-1.387,0.36 c-0.446,0.103-0.84,0.257-1.182,0.462c-1.713,0.755-3.1,1.833-4.161,3.237c-1.063,1.405-1.901,3.031-2.517,4.88 c-0.205,0.686-0.359,1.405-0.462,2.158c-0.103,0.754-0.223,1.507-0.359,2.26c-0.069,0.344-0.103,0.685-0.103,1.027 c0,0.344,0,0.685,0,1.027c-0.138,0.48-0.19,1.199-0.154,2.158c0.034,0.96,0.119,1.679,0.257,2.158v0.925 c0.136,0.549,0.239,1.079,0.308,1.593c0.067,0.514,0.17,1.045,0.308,1.593c0.684,2.055,1.421,3.716,2.209,4.983 c0.787,1.268,2.037,2.415,3.75,3.442c0.478,0.344,1.01,0.617,1.593,0.822c0.581,0.205,1.182,0.377,1.798,0.514 c0.273,0.069,0.514,0.087,0.719,0.052c0.206-0.034,0.445-0.016,0.719,0.051c0.273,0.069,0.565,0.121,0.873,0.154 c0.308,0.035,0.599,0.018,0.874-0.052h0.822c0.547-0.136,1.095-0.239,1.644-0.308c0.548-0.067,1.061-0.205,1.541-0.411 c1.78-0.684,3.219-1.609,4.315-2.774c1.095-1.164,2.02-2.602,2.774-4.315c0.273-0.684,0.478-1.37,0.617-2.055 c0.136-0.684,0.308-1.403,0.514-2.158c0.068-0.273,0.103-0.53,0.103-0.77c0-0.239,0.034-0.496,0.103-0.77c0-0.342,0-0.668,0-0.976 C302.742,201.488,302.776,201.164,302.845,200.821z"}),n.createElement("path",{fill:"#93AD3C",d:"M323.29,172.669h7.603c0.753,0,1.472,0.018,2.158,0.051c0.684,0.035,1.233,0.189,1.644,0.462 c0.411,0.274,0.735,0.634,0.976,1.079c0.239,0.446,0.427,0.96,0.565,1.541c0.136,0.583,0.273,1.166,0.411,1.747 c0.137,0.583,0.273,1.114,0.411,1.593c0.822,2.398,1.523,4.865,2.106,7.398c0.581,2.535,1.249,5.035,2.004,7.501 c0.136,0.411,0.239,0.806,0.308,1.182c0.068,0.377,0.17,0.77,0.308,1.181c0.342,1.027,0.632,2.073,0.873,3.134 c0.239,1.063,0.53,2.106,0.873,3.134c0.137,0.48,0.309,1.027,0.514,1.644c0.205,0.617,0.581,0.994,1.13,1.131 c0.342,0.069,0.617-0.119,0.822-0.565c0.205-0.444,0.376-0.77,0.514-0.976c0.342-0.958,0.599-1.952,0.771-2.98 c0.17-1.027,0.427-2.019,0.771-2.98c0.205-0.617,0.376-1.249,0.514-1.901c0.137-0.65,0.273-1.284,0.411-1.901 c0.478-1.644,0.907-3.321,1.284-5.035c0.375-1.711,0.804-3.39,1.284-5.035c0.206-0.753,0.376-1.472,0.514-2.158 c0.136-0.684,0.308-1.37,0.514-2.055c0.273-1.027,0.548-2.26,0.822-3.699c0.273-1.438,0.787-2.431,1.541-2.98 c0.478-0.273,1.027-0.427,1.644-0.462c0.617-0.034,1.3-0.051,2.055-0.051h5.343c0.822,0,1.575,0.035,2.26,0.103 c0.684,0.069,1.267,0.275,1.747,0.616c0.342,0.274,0.581,0.634,0.719,1.079c0.136,0.446,0.273,0.873,0.411,1.284 c0.273,0.96,0.496,1.901,0.668,2.825c0.17,0.925,0.427,1.867,0.77,2.825c0.822,2.671,1.524,5.412,2.106,8.22 c0.581,2.809,1.249,5.548,2.004,8.22c0.273,0.822,0.496,1.662,0.668,2.517c0.17,0.857,0.393,1.662,0.668,2.415 c0.273,0.96,0.548,1.679,0.822,2.158c0.067,0.069,0.154,0.12,0.257,0.154c0.103,0.035,0.188,0.12,0.257,0.257 c0.617-0.067,1.01-0.291,1.182-0.668c0.17-0.376,0.36-0.804,0.565-1.284c0.411-1.095,0.753-2.242,1.027-3.442 c0.273-1.197,0.581-2.379,0.925-3.545c0.205-0.684,0.376-1.352,0.514-2.003c0.136-0.65,0.308-1.318,0.514-2.004 c0.753-2.122,1.37-4.28,1.849-6.473c0.478-2.192,1.061-4.315,1.747-6.37c0.342-0.958,0.65-2.106,0.925-3.442 c0.273-1.336,0.719-2.243,1.336-2.723c0.478-0.342,1.027-0.547,1.644-0.616c0.616-0.068,1.3-0.103,2.055-0.103h5.445 c0.548,0,1.13,0,1.747,0c0.617,0,1.13,0.069,1.541,0.205c0.684,0.275,1.061,0.719,1.131,1.336 c0.067,0.617-0.035,1.302-0.308,2.055c-0.48,1.576-0.942,3.1-1.387,4.572c-0.446,1.474-0.942,2.998-1.49,4.572 c-1.644,5.001-3.236,10.018-4.778,15.052c-1.541,5.035-3.134,10.053-4.778,15.052c-0.344,1.097-0.668,2.175-0.976,3.236 c-0.308,1.063-0.634,2.142-0.976,3.237c-0.275,0.755-0.531,1.423-0.771,2.004c-0.241,0.583-0.703,1.011-1.387,1.284 c-0.686,0.344-1.577,0.48-2.671,0.411c-1.097-0.068-2.09-0.103-2.98-0.103c-1.096,0-2.466,0.018-4.11,0.051 c-1.644,0.035-2.81-0.119-3.494-0.462c-0.411-0.342-0.719-0.735-0.925-1.181c-0.205-0.445-0.377-0.941-0.514-1.49 c-0.344-0.958-0.601-1.901-0.77-2.826c-0.172-0.925-0.395-1.865-0.668-2.825c-0.205-0.617-0.377-1.249-0.514-1.901 c-0.138-0.65-0.344-1.318-0.617-2.004c-0.616-1.986-1.148-4.041-1.593-6.165c-0.446-2.123-1.011-4.212-1.695-6.267 c-0.411-1.233-0.754-2.533-1.027-3.904c-0.275-1.37-0.822-2.466-1.644-3.288c-0.685,0-1.114,0.257-1.284,0.771 c-0.171,0.514-0.359,1.045-0.565,1.593c-0.48,1.371-0.84,2.74-1.079,4.11c-0.241,1.371-0.601,2.74-1.079,4.11 c-0.754,2.466-1.387,4.983-1.901,7.552c-0.514,2.569-1.148,5.086-1.901,7.552c-0.138,0.48-0.275,1.027-0.411,1.644 c-0.138,0.616-0.275,1.199-0.411,1.747c-0.138,0.549-0.326,1.063-0.565,1.541c-0.241,0.48-0.531,0.857-0.874,1.13 c-0.344,0.274-0.822,0.429-1.438,0.462c-0.617,0.035-1.302,0.052-2.055,0.052h-5.446h-2.98c-0.411-0.068-0.788-0.137-1.13-0.205 c-0.344-0.068-0.652-0.17-0.925-0.308c-0.48-0.342-0.822-0.822-1.027-1.438c-0.205-0.617-0.411-1.233-0.617-1.849 c-0.343-1.027-0.685-2.089-1.027-3.185c-0.344-1.095-0.685-2.192-1.027-3.288c-1.713-5.068-3.339-10.136-4.88-15.206 c-1.541-5.068-3.134-10.136-4.778-15.206c-0.48-1.37-0.925-2.705-1.336-4.007c-0.411-1.3-0.822-2.602-1.233-3.904 c-0.138-0.411-0.292-0.976-0.462-1.695c-0.172-0.719-0.12-1.284,0.154-1.696c0.205-0.273,0.65-0.547,1.336-0.822 C322.88,172.771,323.152,172.737,323.29,172.669z"})));function m(e,t){var r=e.title,c=e.titleId,a=j(e,["title","titleId"]);return n.createElement("svg",b({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"403px",height:"229px",viewBox:"0 0 403 229",enableBackground:"new 0 0 403 229",xmlSpace:"preserve",ref:t,"aria-labelledby":c},a),r?n.createElement("title",{id:c},r):null,p)}var h=n.forwardRef(m),f=(r.p,r(487),r(0)),O=function(e){var t=e.confirmPwdChange,r=e.cancelPwdChange,s=e.show,i=e.name,o=e.oldpwd,u=e.username,b=e.setCpwdsuccessmsg,j=e.accesstoken,p=e.setData,m=e.data,h={oldpassword:"",newpassword:"",cnewpassword:""},O=Object(n.useState)(h),x=Object(c.a)(O,2),g=x[0],y=x[1],v=Object(n.useState)({oldpassword:"",newpassword:"",cnewpassword:""}),N=Object(c.a)(v,2),S=N[0],C=N[1],D=s?"modal chngpwdmodal display-block":"modal chngpwdmodal display-none",w=Object(n.useCallback)((function(e){e&&s&&""===e.value&&e.focus()})),k=function(e){y(Object(a.a)(Object(a.a)({},g),{},Object(l.a)({},e.target.name,e.target.value)))},F=function(e){var t=e.target.name,r=e.target.value,c=RegExp("^(?=.{8,})(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[@#$%^&+=!]).*$");switch(t){case"oldpassword":C(Object(a.a)(Object(a.a)({},S),{},Object(l.a)({},t,r!==o?"Old password is incorrect. Please check.":"")));break;case"newpassword":C(Object(a.a)(Object(a.a)({},S),{},Object(l.a)({},t,c.test(r)?"":Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{children:"must contain at least 1 lowercase"}),Object(f.jsx)("p",{children:"at least 1 uppercase"}),Object(f.jsx)("p",{children:"at least 1 numeric"}),Object(f.jsx)("p",{children:"at least one symbol @#$%^&+="}),Object(f.jsx)("p",{children:" at least 8 characters long"})]}))));break;case"cnewpassword":C(Object(a.a)(Object(a.a)({},S),{},Object(l.a)({},t,g.newpassword!==g.cnewpassword?"Passwords don't match":"")))}};return Object(f.jsx)("div",{className:D,children:Object(f.jsxs)("section",{id:"chpwdmodal",className:"modal-main",children:[Object(f.jsxs)("h1",{children:["Welcome ",i,"!"]}),Object(f.jsx)("h2",{children:"Seems like its the first time you are logging in."}),Object(f.jsx)("p",{children:"Please take a minute to change your Password"}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Object.values(S).every((function(e){return""===e}))&&(d.a.post("/changepassword",{oldpassword:g.oldpassword,newpassword:g.newpassword,username:u},{headers:{Authorization:"Bearer ".concat(j)}}).then((function(e){b(Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{children:e.data.msg.split(".")[0]}),Object(f.jsx)("p",{children:e.data.msg.split(".")[1]})]}))})).catch((function(e){p(Object(a.a)(Object(a.a)({},m),{},{errorMessage:"You took to long. Please login again with original password."}))})),t(),y(h))},className:"changePwdModalForm",children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Old Password"}),Object(f.jsx)("input",{required:!0,type:"password",name:"oldpassword",id:"oldpassword",value:g.oldpassword,onChange:k,onBlur:F,ref:w})]}),Object(f.jsx)("span",{className:"cpwdinputerror",children:S.oldpassword}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"New Password"}),Object(f.jsx)("input",{required:!0,type:"password",name:"newpassword",id:"newpassword",value:g.newpassword,onChange:k,onBlur:F})]}),Object(f.jsx)("span",{className:"cpwdinputerror",children:S.newpassword}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Confirm Password"}),Object(f.jsx)("input",{required:!0,type:"password",name:"cnewpassword",id:"cnewpassword",value:g.cnewpassword,onChange:k,onBlur:F})]}),Object(f.jsx)("span",{className:"cpwdinputerror",children:S.cnewpassword}),Object(f.jsx)("button",{type:"submit",className:"confirmbutton",children:"Confirm"}),Object(f.jsx)("button",{className:"cancelbutton",onClick:r,children:"Cancel"})]})]})})},x=function(){var e=Object(n.useContext)(te).dispatch,t=Object(n.useState)(),r=Object(c.a)(t,2),s=r[0],i=r[1],o=Object(n.useState)(),u=Object(c.a)(o,2),b=u[0],j=u[1],p=Object(n.useState)(),m=Object(c.a)(p,2),x=m[0],g=m[1],y=Object(n.useState)(),v=Object(c.a)(y,2),N=v[0],S=v[1],C=Object(n.useState)({username:"",password:""}),D=Object(c.a)(C,2),w=D[0],k=D[1],F=Object(n.useState)(!1),$=Object(c.a)(F,2),P=$[0],I=$[1],q=function(e){e.preventDefault(),k(Object(a.a)(Object(a.a)({},w),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O,{show:P,confirmPwdChange:function(e){I(!1)},cancelPwdChange:function(e){e.preventDefault(),I(!1)},name:s,oldpwd:b,username:w.username,setCpwdsuccessmsg:g,accesstoken:N,setData:k,data:w}),Object(f.jsx)("div",{className:"Login",children:Object(f.jsxs)("form",{className:"LoginForm",onSubmit:function(t){t.preventDefault(),d.a.post("/login",{username:w.username,password:w.password}).then((function(t){"y"===t.data.firstlogin?(i(t.data.user),I(!0),j(w.password),S(t.data.accesstoken)):(k(Object(a.a)(Object(a.a)({},w),{},{errorMessage:t.data.message})),t.data.success&&e({type:"LOGIN",payload:t.data}))})).catch((function(e){console.log(e),k(Object(a.a)(Object(a.a)({},w),{},{password:"",errorMessage:e.message||e.statusText}))})),k(Object(a.a)(Object(a.a)({},w),{},{password:"",errorMessage:""})),g("")},children:[Object(f.jsx)("h2",{children:" Login "}),Object(f.jsx)(h,{className:"Logo"}),Object(f.jsx)("input",{autoFocus:!0,type:"text",placeholder:"username",name:"username",id:"username",value:w.username,onChange:q}),Object(f.jsx)("input",{type:"password",placeholder:"password",name:"password",id:"password",value:w.password,onChange:q}),Object(f.jsx)("button",{children:"Login"}),w.errorMessage&&Object(f.jsx)("span",{className:"errormessage",children:w.errorMessage}),Object(f.jsx)("span",{className:"successmessage",children:x})]})})]})},g=(r(311),r(490),r(378));r(516);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var r,c,a=function(e,t){if(null==e)return{};var r,c,a={},n=Object.keys(e);for(c=0;c<n.length;c++)r=n[c],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(c=0;c<n.length;c++)r=n[c],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var N=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:#fff;}")),S=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},n.createElement("g",{id:"Layer_2-2","data-name":"Layer 2"},n.createElement("g",{id:"Layer_1-2-2","data-name":"Layer 1-2"},n.createElement("path",{className:"cls-1",d:"M173.13,28.696c-6.5459,0-20.163,3.273-20.897,21.889-.3259,8.282-2.662,15.368-6.543,20.845l-.003.006c-5.947,25.626-21.224,44.279-43.731,53.633l12.057.169c36.073.476,62.866-16.788,74.653-46.792S190.2817,28.696,173.13,28.696Z"}),n.createElement("path",{className:"cls-1",d:"M144.1817,47.409a60.8054,60.8054,0,0,0-1.322-12.048c-.023.002-.045.006-.068.008-3.46-18.081-19.68-27.903-19.68-27.903S113.0407,0,94.0207,0c-13.848,0-46.946,8.647-44.84,52.173.016.589.039,1.183.079,1.788.195,2.982-.057,22.965,19.704,26.415,15.914,2.779,23.11-7.347,23.504-19.51a85.874,85.874,0,0,0,.003-8.596c0-3.773.183-10.357,5.357-10.909,5.52-.588,5.513,4.643,5.529,10.528a40.0458,40.0458,0,0,1-4.208,17.606c-2.736,6.024-8.522,13.264-20.684,14.941a33.45,33.45,0,0,1-4.566.317A31.0279,31.0279,0,0,1,52.81,76.505C46.117,70.707,41.96,61.678,41.516,50.43c-.734-18.616-14.351-21.889-20.897-21.889C8.53,28.541-.09,38.351.0007,54.648c-.009,6.895,1.549,14.965,5.082,23.959,11.787,30.004,38.58,47.268,74.653,46.792a61.7314,61.7314,0,0,0,15.017-2.027q1.0965-.3585,2.171-.747c20.192-7.271,34.721-22.071,42.042-42.703q.3195-1.0635.602-2.137c.056-.215.119-.429.173-.645a97.6,97.6,0,0,0,4.291-23.18c.113-1.721.162-3.382.165-4.997q.0015-.369.001-.735Q144.1887,47.817,144.1817,47.409Z"})))));function C(e,t){var r=e.title,c=e.titleId,a=v(e,["title","titleId"]);return n.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 193.75 125.4086",ref:t,"aria-labelledby":c},a),r?n.createElement("title",{id:c},r):null,N,S)}var D=n.forwardRef(C),w=(r.p,function(){var e=s.a.useContext(te),t=e.state,r=e.dispatch;return Object(f.jsxs)("div",{id:"navigation",children:[Object(f.jsx)("h2",{children:"Dashboard"}),t.isAuthenticated?Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsxs)("div",{className:"welcomemsg",children:[Object(f.jsx)(D,{className:"Logoheader"}),Object(f.jsxs)("p",{className:"userwelcome",children:["Welcome ",t.user]})]}),Object(f.jsx)("button",{className:"logoutButton",onClick:function(e){r({type:"LOGOUT"})},children:"Logout"})]}):""]})}),k=r(380),F=(r(525),r(526),function(){var e=JSON.parse(localStorage.getItem("role"));return Object(f.jsx)("div",{id:"navbarcontainer",children:Object(f.jsxs)("ul",{id:"navbar",children:[1===e||2===e?Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{activeClassName:"navbaractive",to:"/management",children:"Management"})}):"",1===e||2===e||3===e?Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{activeClassName:"navbaractive",to:"/analysis",children:"Analysis"})}):"",Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{exact:!0,activeClassName:"navbaractive",to:"/",children:"Positions"})}),Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{activeClassName:"navbaractive",to:"/sales",children:"Sales"})}),1===e?Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{activeClassName:"navbaractive",to:"/admin",children:"Admin"})}):""]})})}),$=r(32),P=(r(123),r(124),r(37),r(144),r(270),r(376),r(271),r(277),r(278),r(279),r(205),r(370),r(392)),I=r.n(P),q=(r(684),{width:"800px"}),T=function(){Array.prototype.groupBy=function(e){return this.reduce((function(t,r){var c=r[e];return t[c]=t[c]||[],t[c].push(r),t}),{})};var e={name:"Total",children:[]},t=Object(n.useState)({data:{},criteria:"quantity"}),r=Object(c.a)(t,2),s=r[0],i=r[1];return Object(n.useEffect)((function(){d.a.post("/sunburstdata").then((function(t){var r=t.data.groupBy("productGroup"),c=Object.keys(r),n=0;c.forEach((function(t){e.children.push({name:t,children:[]});var c=r[t].groupBy("prodCatName"),a=Object.keys(c),s=0;a.forEach((function(t){e.children[n].children.push({name:t,children:[]});var r=c[t].groupBy("abbreviation");Object.keys(r).forEach((function(t){e.children[n].children[s].children.push({name:t,quantity:r[t][0].quantity,profit:r[t][0].profit})})),s++})),n++})),console.log(e),i(Object(a.a)(Object(a.a)({},s),{},{data:e}))}))}),[]),Object(f.jsx)("div",{className:"sunburst",children:Object(f.jsx)(I.a,{data:s.data,scale:"exponential",tooltipContent:Object(f.jsx)("div",{class:"sunburstTooltip",style:"position:absolute; color:black; z-index:10; background: #FFF; padding: 2px; text-align: center;"}),tooltip:!0,tooltipPosition:"right",keyId:"Sunburst",width:.9*window.innerWidth,value:s.criteria,height:.9*window.innerHeight,styles:q})})},Q=r(393),B=r(394),E=r(75),A=function(){return Object(f.jsxs)("div",{className:"mgmtcontainer",children:[Object(f.jsxs)("div",{className:"mgmtnav",children:[Object(f.jsx)(i.b,{activeClassName:"navbaractive",to:"/management/keyfigures",exact:!0,children:"Key Figures"}),Object(f.jsx)(i.b,{activeClassName:"navbaractive",to:"/management/sunburstcharts",exact:!0,children:"Sun Burst Charts"}),Object(f.jsx)(i.b,{activeClassName:"navbaractive",to:"/management/profitability",exact:!0,children:"Profitability"})]}),Object(f.jsxs)("div",{className:"gridcontainer mgmtgridcontainer",children:[Object(f.jsx)(o.a,{active:!0,path:"/management/keyfigures",children:Object(f.jsx)(Q.a,{})}),Object(f.jsx)(o.a,{path:"/management/sunburstcharts",children:Object(f.jsx)(T,{})}),Object(f.jsx)(E.b,{children:Object(f.jsx)(o.a,{path:"/management/profitability",children:Object(f.jsx)(B.a,{})})})]})]})},L=r(8),K=r.n(L),M=r(11),R=(r(687),function(e){var t=e.tCode,r=e.tName,c=e.tLastName,a=e.active,n=e.role,s=e.email,i=e.findtrader;return Object(f.jsxs)("div",{style:{backgroundColor:"y"===a?"":"#D3D3D3"},className:"tradercard",name:t,onClick:function(){return i(t)},children:[Object(f.jsxs)("h4",{children:[r," ",c]}),Object(f.jsx)("p",{children:"y"===a?"Active":"n"===a?"Inactive":""}),Object(f.jsx)("p",{className:"traderemail",children:s}),Object(f.jsx)("p",{className:"traderrole",children:n})]})}),G=function(e){var t=e.searchcode,r=e.setSelectedTrader,a=e.addNewTrader,s=e.updateList,i=e.setShowedit,o=e.setShowadd,l=Object(n.useState)([]),u=Object(c.a)(l,2),b=u[0],j=u[1];Object(n.useEffect)(Object(M.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(t).then((function(e){j(e.data)}));case 2:case"end":return e.stop()}}),e)}))),[s]);var p=function(e){r(b.find((function(t){return t.tCode===e}))),i(!0),o(!1)};return Object(f.jsxs)("div",{className:"traderlistresults",children:[Object(f.jsx)(R,{tName:"Add New",findtrader:a}),b.map((function(e){return Object(f.jsx)(R,{tName:e.tName,tLastName:e.tLastName,active:e.active,role:e.role,email:e.userName,tCode:e.tCode,findtrader:p},"trad"+e.traderID)}))]})},Y=function(e){var t=e.companyName,r=e.companyCode,c=e.country,a=e.findCustomer,n=e.city,s=e.street;e.website;return Object(f.jsxs)("div",{className:"customercard",onClick:function(){return a(r)},children:[Object(f.jsxs)("div",{className:"customercardtopline",children:[Object(f.jsxs)("h4",{children:[r," "]}),Object(f.jsxs)("p",{className:"customercountry",children:[" ",c]})]}),Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{children:[Object(f.jsx)("p",{className:"addresslabel",children:"Name:"}),Object(f.jsx)("p",{className:"addressfield",children:t})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("p",{className:"addresslabel",children:"Street:"}),Object(f.jsx)("p",{className:"addressfield",children:s})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("p",{className:"addresslabel",children:"City:"}),Object(f.jsx)("p",{className:"addressfield",children:n})]})]})]})},W=function(e){var t=e.searchcode,r=e.updateList,a=e.setShowaddcustomer,s=e.setShoweditcustomer,i=e.setSelectedcustomer,o=e.addNewCustomer,l=Object(n.useState)([]),u=Object(c.a)(l,2),b=u[0],j=u[1],p=Object(n.useState)([]),m=Object(c.a)(p,2),h=m[0],O=m[1],x=Object(n.useState)(),g=Object(c.a)(x,2),y=g[0],v=g[1];Object(n.useEffect)(Object(M.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(t).then((function(e){j(e.data),O(e.data)}));case 2:case"end":return e.stop()}}),e)}))),[r]);Object(n.useEffect)((function(){if(b)if(y&&""!==y){var e=b.filter((function(e){if(y&&""!==y)return e.companyName.toLowerCase().includes(y.toLowerCase())||e.companyCode.toLowerCase().includes(y.toLowerCase())||e.country.toLowerCase().includes(y.toLowerCase())}));O(e)}else O(b)}),[y]);var N=function(e){i(h.find((function(t){return t.companyCode===e}))),s(!0),a(!1)};return Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{className:"adminsearchbar",placeholder:"...Search",onChange:function(e){v(e.target.value)}}),Object(f.jsxs)("div",{className:"customerlistresults",children:[Object(f.jsx)(Y,{companyCode:"Add New",findCustomer:o}),h.map((function(e){return Object(f.jsx)(Y,{companyName:e.companyName,companyCode:e.companyCode,country:e.country,street:e.streetAddress,city:e.city,website:e.website,findCustomer:N},"cust"+e.customerID)}))]})]})},z=function(e){var t=e.companyName,r=e.companyCode,c=e.country,a=e.findProducer,n=e.city,s=e.street;e.website;return Object(f.jsxs)("div",{className:"customercard",onClick:function(){return a(r)},children:[Object(f.jsxs)("div",{className:"customercardtopline",children:[Object(f.jsxs)("h4",{children:[r," "]}),Object(f.jsxs)("p",{className:"producercountry",children:[" ",c]})]}),Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{children:[Object(f.jsx)("p",{className:"addresslabel",children:"Name:"}),Object(f.jsx)("p",{className:"addressfield",children:t})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("p",{className:"addresslabel",children:"Street:"}),Object(f.jsx)("p",{className:"addressfield",children:s})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("p",{className:"addresslabel",children:"City:"}),Object(f.jsx)("p",{className:"addressfield",children:n})]})]})]})},U=function(e){var t=e.searchcode,r=e.updateList,a=e.setShowaddproducer,s=e.setShoweditproducer,i=e.setSelectedproducer,o=e.addNewProducer,l=Object(n.useState)([]),u=Object(c.a)(l,2),b=u[0],j=u[1],p=Object(n.useState)([]),m=Object(c.a)(p,2),h=m[0],O=m[1],x=Object(n.useState)(),g=Object(c.a)(x,2),y=g[0],v=g[1];Object(n.useEffect)(Object(M.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(t).then((function(e){j(e.data),O(e.data)}));case 2:case"end":return e.stop()}}),e)}))),[r]);Object(n.useEffect)((function(){if(b)if(y&&""!==y){var e=b.filter((function(e){if(y&&""!==y)return e.companyName.toLowerCase().includes(y.toLowerCase())||e.companyCode.toLowerCase().includes(y.toLowerCase())||e.country.toLowerCase().includes(y.toLowerCase())}));O(e)}else O(b)}),[y]);var N=function(e){i(h.find((function(t){return t.companyCode===e}))),s(!0),a(!1)};return Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{className:"adminsearchbar",placeholder:"...Search",onChange:function(e){v(e.target.value)}}),Object(f.jsxs)("div",{className:"customerlistresults",children:[Object(f.jsx)(z,{companyCode:"Add New",findProducer:o}),h.map((function(e){return Object(f.jsx)(z,{companyName:e.companyName,companyCode:e.companyCode,country:e.country,street:e.streetAddress,city:e.city,website:e.website,findProducer:N},"prod"+e.producerID)}))]})]})},J=function(e){var t=e.group,r=e.data,c=e.handleProductClick,a=e.handleProdGroupClick;return Object(f.jsxs)("div",{className:"prodgroupcard",children:[Object(f.jsx)("h4",{onClick:function(e){e.preventDefault(),a(t)},children:t}),Object.entries(r).map((function(e,t){return[Object(f.jsx)("p",{className:"productlink",onClick:function(e){e.preventDefault(),c(Object.keys(r)[t])},children:Object.keys(r)[t]})]}))]})},H=function(e){var t=e.searchcode,r=e.handleProductClick,a=e.addNewProdGroup,s=e.addNewProdCatName,i=e.updateList,o=e.updateList2,l=e.handleProdGroupClick,u=Object(n.useState)([]),b=Object(c.a)(u,2),j=(b[0],b[1]);Array.prototype.groupBy=function(e){return this.reduce((function(t,r){var c=r[e];return t[c]=t[c]||[],t[c].push(r),t}),{})};var p=Object(n.useState)({}),m=Object(c.a)(p,2),h=m[0],O=m[1],x="",g={};return Object(n.useEffect)(Object(M.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(t).then((function(e){j(e.data);var t=e.data.groupBy("productGroup");O(t),console.log("called this too")}));case 2:case"end":return e.stop()}}),e)}))),[i,o]),Object(f.jsxs)("div",{className:"prodgroupcards",children:[Object.entries(h).map((function(e,t){return x=Object.keys(h)[t],g=h[x].groupBy("prodCatName"),[Object(f.jsx)(J,{group:x,data:g,handleProductClick:r,handleProdGroupClick:l})]})),Object(f.jsxs)("div",{className:"prodgroupcard prodaddcard",children:[Object(f.jsx)("p",{onClick:a,children:"+ Add New Group"}),Object(f.jsx)("p",{onClick:s,children:"+ Add New ProdCatName"})]})]})},V=function(e){var t=e.selectedgprods,r=e.selectedprodgroup,a=e.handleProdNameClick,s=e.updateList,i=Object(n.useState)(),o=Object(c.a)(i,2),l=o[0],u=o[1],b=Object(n.useState)(),j=Object(c.a)(b,2),p=j[0],m=j[1],h=Object(n.useState)(),O=Object(c.a)(h,2),x=O[0],g=O[1],y=Object(n.useState)(),v=Object(c.a)(y,2),N=v[0],S=v[1];Object(n.useEffect)((function(){d.a.post("/selectgroupedprods",{selectedprod:r}).then((function(e){u(e.data)}))}),[s,t]),Object(n.useEffect)(Object(M.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p&&console.log(p);case 1:case"end":return e.stop()}}),e)}))),[p,s,t]);return Object(f.jsxs)("div",{className:"selectedprods",children:[Object(f.jsxs)("div",{className:"selectedprodgroup",children:[Object(f.jsx)("h4",{children:r}),l?l.map((function(e){return Object(f.jsxs)("p",{name:e.prodNameID,className:"prodnameadmin",onClick:function(t){var r;t.preventDefault(),m(e.prodNameID),g(e.abbreviation),a(e.prodNameID),r=e.prodNameID,d.a.post("/selectproducts",{prodnameID:r}).then((function(e){S(e.data)}))},children:["PG: ",e.prodGroupID," - ",e.abbreviation]})})):""]}),Object(f.jsxs)("div",{className:"selectedproddetails",children:[x?[Object(f.jsxs)("h4",{children:[" ",x," "]}),Object(f.jsx)("h4",{children:" productID - supplier"})]:"",N?N.map((function(e){return Object(f.jsxs)("p",{children:[e.productID," - ",e.companyCode]})})):""]})]})},_=r(45),Z=function(){var e=Object(n.useState)(!0),t=Object(c.a)(e,2),r=(t[0],t[1]),s=Object(n.useState)("/traderslist"),i=Object(c.a)(s,2),o=i[0],u=i[1],b=Object(n.useState)(),j=Object(c.a)(b,2),p=j[0],m=j[1],h=Object(n.useState)(),O=Object(c.a)(h,2),x=O[0],g=O[1],y=Object(n.useState)(),v=Object(c.a)(y,2),N=v[0],S=v[1],C=Object(n.useState)([]),D=Object(c.a)(C,2),w=D[0],k=D[1],F=Object(n.useState)(),$=Object(c.a)(F,2),P=$[0],I=$[1],q=Object(n.useState)(),T=Object(c.a)(q,2),Q=T[0],B=T[1],E=Object(n.useState)(),A=Object(c.a)(E,2),L=A[0],R=A[1],Y=Object(n.useState)([]),z=Object(c.a)(Y,2),J=z[0],Z=z[1],X=Object(n.useState)({role:"3"}),ee=Object(c.a)(X,2),te=ee[0],re=ee[1],ce=Object(n.useState)({}),ae=Object(c.a)(ce,2),ne=ae[0],se=ae[1],ie=Object(n.useState)({}),oe=Object(c.a)(ie,2),le=oe[0],ue=oe[1],de=Object(n.useState)(),be=Object(c.a)(de,2),je=be[0],pe=be[1],me=Object(n.useState)(),he=Object(c.a)(me,2),fe=he[0],Oe=he[1],xe=Object(n.useState)(),ge=Object(c.a)(xe,2),ye=ge[0],ve=ge[1],Ne=Object(n.useState)(),Se=Object(c.a)(Ne,2),Ce=Se[0],De=Se[1],we=Object(n.useState)(!0),ke=Object(c.a)(we,2),Fe=ke[0],$e=ke[1],Pe=Object(n.useState)(!0),Ie=Object(c.a)(Pe,2),qe=Ie[0],Te=Ie[1],Qe=Object(n.useState)(!0),Be=Object(c.a)(Qe,2),Ee=Be[0],Ae=Be[1],Le=Object(n.useState)(!0),Ke=Object(c.a)(Le,2),Me=Ke[0],Re=Ke[1],Ge=Object(n.useState)(!0),Ye=Object(c.a)(Ge,2),We=Ye[0],ze=Ye[1],Ue=Object(n.useState)(!1),Je=Object(c.a)(Ue,2),He=Je[0],Ve=Je[1],_e=Object(n.useState)(!1),Ze=Object(c.a)(_e,2),Xe=Ze[0],et=Ze[1],tt=Object(n.useState)(!1),rt=Object(c.a)(tt,2),ct=rt[0],at=rt[1],nt=Object(n.useState)(!1),st=Object(c.a)(nt,2),it=st[0],ot=st[1],lt=Object(n.useState)(!1),ut=Object(c.a)(lt,2),dt=ut[0],bt=ut[1],jt=Object(n.useState)(!1),pt=Object(c.a)(jt,2),mt=pt[0],ht=pt[1],ft=Object(n.useState)(!1),Ot=Object(c.a)(ft,2),xt=Ot[0],gt=Ot[1],yt=Object(n.useState)(!1),vt=Object(c.a)(yt,2),Nt=vt[0],St=vt[1],Ct=Object(n.useState)(!1),Dt=Object(c.a)(Ct,2),wt=Dt[0],kt=Dt[1],Ft=Object(n.useState)(!1),$t=Object(c.a)(Ft,2),Pt=$t[0],It=$t[1],qt=Object(n.useState)(!1),Tt=Object(c.a)(qt,2),Qt=Tt[0],Bt=Tt[1],Et=Xe?"editTrader displayblock":"displaynone",At=He?"editTrader displayblock":"editTrader displaynone",Lt=ct?"editCustomer displayblock":"editCustomer displaynone",Kt=it?"editCustomer displayblock":"editCustomer displaynone",Mt=dt?"editCustomer displayblock":"editCustomer displaynone",Rt=mt?"editCustomer displayblock":"editCustomer displaynone",Gt=xt?"editProdGroup displayblock":"displaynone",Yt=Nt?"editProdGroup displayblock":"displaynone",Wt=Pt?"editProdCatName displayblock":"displaynone",zt=wt?"editProdCatName displayblock":"displaynone",Ut=Qt?"editProdName displayblock":"displaynone",Jt=function(e){e.preventDefault(),u("/"+e.target.name),et(!1),Ve(!1),at(!1),ot(!1),bt(!1),ht(!1),gt(!1),St(!1),It(!1),kt(!1),Bt(!1)},Ht=function(e,t){e.preventDefault(),g(Object(a.a)(Object(a.a)({},x),{},Object(l.a)({},t,e.target.value)))},Vt=function(e,t){e.preventDefault(),S(Object(a.a)(Object(a.a)({},N),{},Object(l.a)({},t,e.target.value)))},_t=function(e,t){B(Object(a.a)(Object(a.a)({},Q),{},Object(l.a)({},t,e.target.value)))},Zt=function(e,t){Z(Object(a.a)(Object(a.a)({},J),{},Object(l.a)({},t,e.target.value)))},Xt=Object(n.useState)([]),er=Object(c.a)(Xt,2),tr=er[0],rr=er[1];Object(n.useEffect)((function(){d.a.post("/roles").then((function(e){rr(e.data)}))}),[]);var cr=function(){var e=Object(M.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d.a.post("/updateprodname",{selectedprodname:J}).then((function(e){console.log(e.data.message),ze(!We)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ar=function(e){e.preventDefault(),re(Object(a.a)(Object(a.a)({},te),{},Object(l.a)({},e.target.name,e.target.value)))},nr={companyCode:"",companyName:"",country:"",city:"",streetAddress:"",website:""},sr={companyCode:"",companyName:"",country:"",city:"",streetAddress:"",website:""},ir=function(e){e.preventDefault(),se(Object(a.a)(Object(a.a)({},ne),{},Object(l.a)({},e.target.name,e.target.value)))},or=function(e){e.preventDefault(),ue(Object(a.a)(Object(a.a)({},le),{},Object(l.a)({},e.target.name,e.target.value)))},lr=function(){var e=Object(M.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d.a.post("/addNewCustomer",{newcustomer:ne}).then((function(e){Te(!qe)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ur=function(){var e=Object(M.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d.a.post("/addNewProducer",{newproducer:le}).then((function(e){Ae(!Ee)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dr=function(){var e=Object(M.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d.a.post("/addNewProdGroup",{newprodgroup:je}).then((function(e){Re(!Me),pe("")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),br=function(){var e=Object(M.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d.a.post("/addNewProdCatName",{newprodcatname:fe}).then((function(e){Re(!Me),Oe("")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"adminpage",children:[Object(f.jsxs)("div",{className:"adminnav",children:[Object(f.jsx)("button",{name:"traderslist",onClick:Jt,children:"Traders"}),Object(f.jsx)("button",{name:"customerlist",onClick:Jt,children:"Customers"}),Object(f.jsx)("button",{name:"producerlist",onClick:Jt,children:"Producers"}),Object(f.jsx)("button",{name:"prodnameslist",onClick:Jt,children:"Products"})]}),Object(f.jsxs)("div",{className:"adminresults",children:["/traderslist"===o?Object(f.jsx)(G,{searchcode:"/traderslist",setSelectedTrader:m,setShowedit:Ve,setShowadd:et,addNewTrader:function(){Ve(!1),et(!0)},updateList:Fe}):"","/customerlist"===o?Object(f.jsx)(W,{searchcode:"/customerlist",updateList:qe,setShowaddcustomer:at,setShoweditcustomer:ot,setSelectedcustomer:g,addNewCustomer:function(){ot(!1),at(!0)}}):"","/producerlist"===o?Object(f.jsx)(U,{searchcode:"/producerlist",updateList:Ee,setShowaddproducer:bt,setShoweditproducer:ht,setSelectedproducer:S,addNewProducer:function(){ht(!1),bt(!0)}}):"","/prodnameslist"===o?[Object(f.jsx)(H,{searchcode:"/prodnameslist",handleProductClick:function(e){I(e),It(!0),kt(!1),St(!1),gt(!1),Bt(!1),d.a.post("/selectedprodcatname",{prodcatname:e}).then((function(e){R(e.data[0])})),d.a.post("/selectgroupedprods",{selectedprod:e}).then((function(e){console.log(e),k(e.data)}))},addNewProdGroup:function(){gt(!0),St(!1),It(!1),kt(!1)},addNewProdCatName:function(){gt(!1),St(!1),It(!1),kt(!0)},updateList:Me,updateList2:We,handleProdGroupClick:function(e){St(!0),gt(!1),It(!1),kt(!1),d.a.post("/selectprodgroup",{productGroup:e}).then((function(e){B(e.data[0]),ze(!We),Bt(!1)}))}}),Object(f.jsx)(V,{selectedgprods:w,selectedprodgroup:P,handleProdNameClick:function(e){St(!1),gt(!1),It(!1),kt(!1),Bt(!0),d.a.post("/selectprodname",{prodnameID:e}).then((function(e){Z(e.data[0])}))},updateList:We})]:""]}),Object(f.jsxs)("div",{className:"adminedit",children:[Object(f.jsx)("form",{className:Et,onSubmit:function(e){!function(e){e.preventDefault(),d.a.post("/addNewTrader",{newtrader:te}).then((function(e){console.log(e)}))}(e)},children:Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Add Item"}),Object(f.jsxs)("div",{className:"edittrader-form-group",children:[Object(f.jsx)("label",{children:"traderID:"}),Object(f.jsx)("input",{placeholder:"...Leave Blank",readOnly:!0})]}),Object(f.jsxs)("div",{className:"edittrader-form-group",children:[Object(f.jsx)("label",{children:"tCode:"}),Object(f.jsx)("input",{placeholder:"...Three Letter Code (in CAPS)",name:"tCode",onChange:ar,required:!0})]}),Object(f.jsxs)("div",{className:"edittrader-form-group",children:[Object(f.jsx)("label",{children:"tName:"}),Object(f.jsx)("input",{placeholder:"...Trader Name",name:"tName",onChange:ar,required:!0})]}),Object(f.jsxs)("div",{className:"edittrader-form-group",children:[Object(f.jsx)("label",{children:"tLastName:"}),Object(f.jsx)("input",{placeholder:"...Trader Last Name",name:"tLastName",onChange:ar,required:!0})]}),Object(f.jsxs)("div",{className:"edittrader-form-group",children:[Object(f.jsx)("label",{children:"userName:"}),Object(f.jsx)("input",{placeholder:"...Email (weGrow)",name:"userName",onChange:ar,required:!0})]}),Object(f.jsxs)("div",{className:"edittrader-form-group",children:[Object(f.jsx)("label",{children:"Active:"}),Object(f.jsx)("input",{name:"active",className:"activeradio",type:"radio",onClick:function(e){return re(Object(a.a)(Object(a.a)({},te),{},{active:"y"}))},required:!0}),Object(f.jsx)("label",{htmlFor:"",children:"Yes"}),Object(f.jsx)("input",{name:"active",className:"activeradio",type:"radio",onClick:function(e){return re(Object(a.a)(Object(a.a)({},te),{},{active:"n"}))},required:!0}),Object(f.jsx)("label",{htmlFor:"",children:"No"})]}),Object(f.jsxs)("div",{className:"edittrader-form-group",children:[Object(f.jsx)("label",{children:"Role:"}),Object(f.jsx)("select",{onChange:function(e){return re(Object(a.a)(Object(a.a)({},te),{},{role:e.target.value}))},required:!0,children:tr?tr.map((function(e,t){return"sales"===e.role?Object(f.jsx)("option",{selected:!0,value:t+1,children:e.role}):Object(f.jsx)("option",{value:t+1,children:e.role})})):""})]}),Object(f.jsx)("button",{type:"submit",children:"Add New Trader"})]})}),Object(f.jsx)("form",{className:At,onSubmit:function(e){!function(e){e.preventDefault(),d.a.post("/updatetrader",{selectedtrader:p}).then((function(e){$e(!Fe)}))}(e)},children:Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Edit Trader Info"}),p?Object.keys(p).map((function(e,t){return"traderID"===e?Object(f.jsxs)("div",{className:"edittrader-form-group",children:[Object(f.jsxs)("label",{children:[e,":"]}),Object(f.jsx)("input",{value:p[e],readOnly:!0})]}):"active"===e?Object(f.jsxs)("div",{className:"edittrader-form-group",children:[Object(f.jsxs)("label",{children:[e,":"]}),Object(f.jsx)("input",{name:"active",className:"activeradio",type:"radio",checked:"y"===p[e],onClick:function(t){return m(Object(a.a)(Object(a.a)({},p),{},Object(l.a)({},e,"y")))}}),Object(f.jsx)("label",{htmlFor:"",children:"Yes"}),Object(f.jsx)("input",{name:"active",className:"activeradio",type:"radio",checked:"n"===p[e],onClick:function(t){return m(Object(a.a)(Object(a.a)({},p),{},Object(l.a)({},e,"n")))}}),Object(f.jsx)("label",{htmlFor:"",children:"No"})]}):"role"===e?Object(f.jsxs)("div",{className:"edittrader-form-group",children:[Object(f.jsxs)("label",{children:[e,":"]}),Object(f.jsx)("select",{onChange:function(t){return m(Object(a.a)(Object(a.a)({},p),{},Object(l.a)({},e,t.target.value)))},children:tr?tr.map((function(t,r){return t.role===p[e]?Object(f.jsx)("option",{selected:!0,value:r+1,children:t.role}):Object(f.jsx)("option",{value:r+1,children:t.role})})):""})]}):Object(f.jsxs)("div",{className:"edittrader-form-group",children:[Object(f.jsxs)("label",{children:[e,":"]}),Object(f.jsx)("input",{value:p[e],onChange:function(t){return function(e,t){e.preventDefault(),m(Object(a.a)(Object(a.a)({},p),{},Object(l.a)({},t,e.target.value)))}(t,e)}})]})})):"",Object(f.jsx)("button",{type:"submit",children:"Save Edits"})]})}),Object(f.jsx)("form",{className:Kt,onSubmit:function(e){!function(e){e.preventDefault(),d.a.post("/updatecustomer",{selectedcustomer:x}).then((function(e){Te(!qe)}))}(e)},children:Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Edit Customer Info"}),x?Object.keys(x).map((function(e,t){return"customerID"===e?Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsxs)("label",{children:[e,":"]}),Object(f.jsx)("input",{value:x[e],readOnly:!0})]}):"companyName"===e||"streetAddress"===e?Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsxs)("label",{children:[e,":"]}),Object(f.jsx)("textarea",{value:x[e],onChange:function(t){return Ht(t,e)},required:!0})]}):Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsxs)("label",{children:[e,":"]}),Object(f.jsx)("input",{value:x[e],onChange:function(t){return Ht(t,e)},required:!0})]})})):"",Object(f.jsx)("button",{type:"submit",children:"Save Edits"})]})}),Object(f.jsx)("form",{className:Lt,onSubmit:function(e){lr(e),se(nr)},children:Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Add New Customer"}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"customerID:"}),Object(f.jsx)("input",{placeholder:"...Leave Blank",readOnly:!0})]}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"companyCode:"}),Object(f.jsx)("input",{placeholder:"...short company name",name:"companyCode",onChange:ir,value:ne.companyCode,required:!0})]}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"companyName:"}),Object(f.jsx)("textarea",{placeholder:"...full company name",name:"companyName",onChange:ir,value:ne.companyName,required:!0})]}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"country:"}),Object(f.jsx)("input",{placeholder:"...country",name:"country",onChange:ir,value:ne.country,required:!0})]}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"city:"}),Object(f.jsx)("input",{placeholder:"...city",name:"city",onChange:ir,value:ne.city,required:!0})]}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"streetAddress:"}),Object(f.jsx)("textarea",{placeholder:"...street address",name:"streetAddress",onChange:ir,value:ne.streetAddress,required:!0})]}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"website:"}),Object(f.jsx)("input",{placeholder:"...website",name:"website",onChange:ir,value:ne.website,required:!0})]}),Object(f.jsx)("button",{type:"submit",children:"Add New Customer"})]})}),Object(f.jsx)("form",{className:Kt,onSubmit:function(e){!function(e){e.preventDefault(),d.a.post("/deleteCustomer",{selectedcustomer:x}).then((function(e){console.log(e),Te(!qe),ve("")}))}(e),ot(!1)},children:Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Delete Customer"}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"companyCode:"}),x?Object(f.jsx)("input",{value:x.companyCode,onChange:ir,readOnly:!0}):""]}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"reType:"}),Object(f.jsx)("input",{value:ye,placeholder:"retype company name to delete",onChange:function(e){e.preventDefault(),ve(e.target.value)}})]}),x&&x.companyCode===ye?Object(f.jsx)("button",{type:"submit",children:"Delete Customer"}):""]})}),Object(f.jsx)("form",{className:Rt,onSubmit:function(e){!function(e){e.preventDefault(),d.a.post("/updateproducer",{selectedproducer:N}).then((function(e){Ae(!Ee)}))}(e)},children:Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Edit Producer Info"}),N?Object.keys(N).map((function(e,t){return"producerID"===e?Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsxs)("label",{children:[e,":"]}),Object(f.jsx)("input",{value:N[e],readOnly:!0})]}):"companyName"===e||"streetAddress"===e?Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsxs)("label",{children:[e,":"]}),Object(f.jsx)("textarea",{value:N[e],onChange:function(t){return Vt(t,e)},required:!0})]}):Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsxs)("label",{children:[e,":"]}),Object(f.jsx)("input",{value:N[e],onChange:function(t){return Vt(t,e)},required:!0})]})})):"",Object(f.jsx)("button",{type:"submit",children:"Save Edits"})]})}),Object(f.jsx)("form",{className:Mt,onSubmit:function(e){ur(e),ue(sr)},children:Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Add New Producer"}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"producerID:"}),Object(f.jsx)("input",{placeholder:"...Leave Blank",readOnly:!0})]}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"companyCode:"}),Object(f.jsx)("input",{placeholder:"...short company name",name:"companyCode",onChange:or,value:le.companyCode,required:!0})]}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"companyName:"}),Object(f.jsx)("textarea",{placeholder:"...full company name",name:"companyName",onChange:or,value:le.companyName,required:!0})]}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"country:"}),Object(f.jsx)("input",{placeholder:"...country",name:"country",onChange:or,value:le.country,required:!0})]}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"city:"}),Object(f.jsx)("input",{placeholder:"...city",name:"city",onChange:or,value:le.city,required:!0})]}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"streetAddress:"}),Object(f.jsx)("textarea",{placeholder:"...street address",name:"streetAddress",onChange:or,value:le.streetAddress,required:!0})]}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"website:"}),Object(f.jsx)("input",{placeholder:"...website",name:"website",onChange:or,value:le.website,required:!0})]}),Object(f.jsx)("button",{type:"submit",children:"Add New Producer"})]})}),Object(f.jsx)("form",{className:Rt,onSubmit:function(e){!function(e){e.preventDefault(),d.a.post("/deleteProducer",{selectedproducer:N}).then((function(e){console.log(e),Ae(!Ee),De("")}))}(e),ht(!1)},children:Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Delete Producer"}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"companyCode:"}),N?Object(f.jsx)("input",{value:N.companyCode,onChange:or,readOnly:!0}):""]}),Object(f.jsxs)("div",{className:"editcustomer-form-group",children:[Object(f.jsx)("label",{children:"reType:"}),Object(f.jsx)("input",{value:Ce,placeholder:"retype company name to delete",onChange:function(e){e.preventDefault(),De(e.target.value)}})]}),N&&N.companyCode===Ce?Object(f.jsx)("button",{type:"submit",children:"Delete Producer"}):""]})}),Object(f.jsx)("form",{className:Yt,onSubmit:function(e){!function(e){e.preventDefault(),d.a.post("/updateprodgroup",{selectedprodgroup1:Q}).then((function(e){Re(!Me)}))}(e)},children:Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Edit Product Group"}),Object(f.jsxs)("div",{className:"editprodgroup-form-group",children:[Object(f.jsx)("label",{children:"prodGroupID:"}),Object(f.jsx)("input",{readOnly:!0,type:"text",onChange:function(e){e.preventDefault(),_t(e,"prodGroupID")},value:Q?Q.prodGroupID:""})]}),Object(f.jsxs)("div",{className:"editprodgroup-form-group",children:[Object(f.jsx)("label",{children:"productGroup:"}),Object(f.jsx)("input",{value:Q?Q.productGroup:"",onChange:function(e){e.preventDefault(),_t(e,"productGroup")},type:"text"})]}),Object(f.jsx)("button",{type:"submit",children:"Save Edits"})]})}),Object(f.jsx)("form",{className:Gt,onSubmit:function(e){dr(e)},children:Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Add New Product Group:"}),Object(f.jsxs)("div",{className:"editprodgroup-form-group",children:[Object(f.jsx)("label",{children:"prodGroupID:"}),Object(f.jsx)("input",{type:"text",placeholder:"...Leave Blank",readOnly:!0})]}),Object(f.jsxs)("div",{className:"editprodgroup-form-group",children:[Object(f.jsx)("label",{children:"productGroup:"}),Object(f.jsx)("input",{name:"productGroup",type:"text",placeholder:"...New Prod Group Name",value:je?je.productGroup:"",onChange:function(e){e.preventDefault(),pe(Object(a.a)(Object(a.a)({},je),{},Object(l.a)({},e.target.name,e.target.value)))},required:!0})]}),Object(f.jsx)("button",{type:"submit",children:"Add New Product Group"})]})}),Object(f.jsx)("form",{className:Wt,onSubmit:function(e){!function(e){e.preventDefault(),d.a.post("/updateprodcatname",{selectedprodcatname:L}).then((function(e){Re(!Me)}))}(e)},children:Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Edit Product Category Name:"}),Object(f.jsxs)("div",{className:"editprodcatname-form-group",children:[Object(f.jsx)("label",{children:"prodCatNameID:"}),Object(f.jsx)("input",{value:L?L.prodCatNameID:"",readOnly:!0})]}),Object(f.jsxs)("div",{className:"editprodcatname-form-group",children:[Object(f.jsx)("label",{children:"prodCatName:"}),Object(f.jsx)("input",{value:L?L.prodCatName:"",onChange:function(e){e.preventDefault(),function(e,t){R(Object(a.a)(Object(a.a)({},L),{},Object(l.a)({},t,e.target.value)))}(e,"prodCatName")}})]}),Object(f.jsx)("button",{type:"submit",children:"Save Edits"})]})}),Object(f.jsx)("form",{className:zt,onSubmit:function(e){br(e)},children:Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Add New ProdCatName: "}),Object(f.jsxs)("div",{className:"editprodcatname-form-group",children:[Object(f.jsx)("label",{children:"prodCatNameID:"}),Object(f.jsx)("input",{placeholder:"...Leave Blank",readOnly:!0})]}),Object(f.jsxs)("div",{className:"editprodcatname-form-group",children:[Object(f.jsx)("label",{children:"prodCatName:"}),Object(f.jsx)("input",{name:"prodCatName",placeholder:"...Type New Product Category Name",onChange:function(e){e.preventDefault(),Oe(Object(a.a)(Object(a.a)({},fe),{},Object(l.a)({},e.target.name,e.target.value)))},value:fe?fe.prodCatName:""})]}),Object(f.jsx)("button",{type:"submit",children:"Add New Prod Cat Name"})]})}),Object(f.jsx)("form",{className:Ut,onSubmit:function(e){cr(e)},children:Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("legend",{children:"Edit Product Name: "}),Object(f.jsxs)("div",{className:"editprodname-form-group",children:[Object(f.jsx)("label",{children:"prodNameID:"}),Object(f.jsx)("input",{value:J.prodNameID,readOnly:!0})]}),Object(f.jsxs)("div",{className:"editprodname-form-group",children:[Object(f.jsx)("label",{children:"abbreviation:"}),Object(f.jsx)("input",{value:J.abbreviation,required:!0,onChange:function(e){e.preventDefault(),Zt(e,"abbreviation")}})]}),Object(f.jsxs)("div",{className:"editprodname-form-group",children:[Object(f.jsx)("label",{children:"prodName:"}),Object(f.jsx)("input",{value:J.prodName,required:!0,onChange:function(e){e.preventDefault(),Zt(e,"prodName")}})]}),Object(f.jsxs)("div",{className:"editprodname-form-group",children:[Object(f.jsx)("label",{children:"prodCatName:"}),Object(f.jsx)("div",{className:"prodnamesearchv",children:Object(f.jsx)(_.a,{searchURL:"/prodcatnameslist",searchName:"prodCatName",searchID:"prodCatNameID",setResetfield:r,value:J?J.prodCatName:"",setProdSupplier:function(e,t){Z(Object(a.a)(Object(a.a)({},J),{},{prodCatNameID:e,prodCatName:t}))}})})]}),Object(f.jsxs)("div",{className:"editprodname-form-group",children:[Object(f.jsx)("label",{children:"prodGroup:"}),Object(f.jsx)("div",{className:"prodnamesearchv",children:Object(f.jsx)(_.a,{searchURL:"/prodgroups",searchName:"productGroup",searchID:"prodGroupID",setResetfield:r,value:J?J.productGroup:"",setProdSupplier:function(e,t){Z(Object(a.a)(Object(a.a)({},J),{},{prodGroupID:e,productGroup:t}))}})})]}),Object(f.jsx)("button",{type:"submit",children:"Edit Product Name Details"})]})})]})]})},X=r(398),ee=r(74),te=Object(n.createContext)(),re={isAuthenticated:JSON.parse(localStorage.getItem("isAuthenticated"))||!1,user:JSON.parse(localStorage.getItem("user"))||null,accesstoken:null,refreshtoken:JSON.parse(localStorage.getItem("refreshtoken"))||null},ce=function(e,t){switch(t.type){case"LOGIN":return localStorage.setItem("user",JSON.stringify(t.payload.user)),localStorage.setItem("WGusercode",JSON.stringify(t.payload.usercode)),localStorage.setItem("WGuserID",JSON.stringify(t.payload.userID)),localStorage.setItem("refreshtoken",JSON.stringify(t.payload.refreshtoken)),localStorage.setItem("accesstoken",JSON.stringify(t.payload.accesstoken)),localStorage.setItem("isAuthenticated",!0),localStorage.setItem("role",t.payload.role),Object(a.a)(Object(a.a)({},e),{},{isAuthenticated:!0,user:t.payload.user,usercode:t.payload.usercode,refreshtoken:t.payload.refreshtoken,accesstoken:t.payload.accesstoken});case"LOGOUT":return localStorage.removeItem("user"),localStorage.removeItem("WGusercode"),localStorage.removeItem("WGuserID"),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("refreshtoken"),localStorage.removeItem("accesstoken"),localStorage.removeItem("role"),localStorage.removeItem("rgl-mgmt"),Object(a.a)(Object(a.a)({},e),{},{isAuthenticated:!1,user:null});default:return}};t.b=function(){var e=Object(n.useReducer)(ce,re),t=Object(c.a)(e,2),r=t[0],a=t[1];return Object(f.jsx)(ee.b,{children:Object(f.jsx)($.b,{children:Object(f.jsx)(te.Provider,{value:{state:r,dispatch:a},children:Object(f.jsx)("div",{className:"App",children:r.isAuthenticated?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(w,{}),Object(f.jsxs)(i.a,{children:[Object(f.jsx)(F,{}),Object(f.jsxs)(o.c,{children:[Object(f.jsx)(o.a,{exact:!0,path:"/",children:Object(f.jsx)(k.a,{})}),Object(f.jsx)(o.a,{path:"/sales",children:Object(f.jsx)(g.a,{})}),Object(f.jsx)(o.a,{path:"/management",children:Object(f.jsx)(A,{})}),Object(f.jsx)(o.a,{path:"/admin",children:Object(f.jsx)(Z,{})}),Object(f.jsx)(o.a,{path:"/analysis",children:Object(f.jsx)(X.a,{})})]})]})]}):Object(f.jsx)(x,{})})})})})}}},[[689,1,2]]]);
//# sourceMappingURL=main.04344369.chunk.js.map