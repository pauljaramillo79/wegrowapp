(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{200:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var r,n,o=a(0),c=a.n(o);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var i=function(e){return c.a.createElement("svg",l({viewBox:"0 0 25.4686 20.6502"},e),r||(r=c.a.createElement("defs",null)),n||(n=c.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},c.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},c.a.createElement("path",{className:"cls-1",d:"M4.3456,9.448A8.0011,8.0011,0,0,1,18.1469,4.51"}),c.a.createElement("polygon",{className:"cls-2",points:"8.8 6.723 6.647 15.64 0 9.317 8.8 6.723"}),c.a.createElement("path",{className:"cls-3",d:"M21.122,11.1279A8.001,8.001,0,0,1,7.3673,16.1942"}),c.a.createElement("polygon",{className:"cls-4",points:"16.693 13.895 18.763 4.958 25.469 11.218 16.693 13.895"})))))};a.p},226:function(e,t,a){},229:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return s});var r=a(1),n=a(0),o=a.n(n),c=a(6),l=a.n(c),i=o.a.createContext(),s=function(e){var t=e.children,a=Object(n.useState)(),c=Object(r.a)(a,2),s=c[0],u=c[1];return Object(n.useEffect)(function(){l.a.post("/usmktpriceupdates").then(function(e){u(e.data)})},[]),o.a.createElement(i.Provider,{value:{mktpricedata:s,setMktpricedata:u}},t)}},234:function(e,t,a){"use strict";var r=a(1),n=a(0),o=a.n(n),c=a(6),l=a.n(c),i=a(7),s=a.n(i),u=(a(486),a(35)),m=a(57),p=function(e){var t=e.usposnumber,a=e.usposmatchnumber,c=t===a?"postooltip":"postooltip display-none",i=Object(n.useState)(),s=Object(r.a)(i,2),u=s[0],m=s[1];return Object(n.useEffect)(function(){t===a&&l.a.post("/usposmatching",{usposnumber:t}).then(function(e){m(e.data)})},[a]),o.a.createElement("span",{className:c},o.a.createElement("h4",null,"Matching Sales for Lot ",t),o.a.createElement("ul",null,o.a.createElement("li",{className:"posmatchitem"},o.a.createElement("h4",null,"WGS"),o.a.createElement("h4",null,"Trader"),o.a.createElement("h4",null,"Customer"),o.a.createElement("h4",null,"Qty (mt)"),o.a.createElement("h4",null,"Qty (pallets)"),o.a.createElement("h4",null,"Sales Price (/mt)"),o.a.createElement("h4",null,"Profit (pmt)"),o.a.createElement("h4",null,"Shipment Date")),u?u.map(function(e){return o.a.createElement("li",{className:"posmatchitem"},o.a.createElement("p",null,e.KTS),o.a.createElement("p",null,e.tCode),o.a.createElement("p",null,e.companyCode),o.a.createElement("p",null,e.quantity),o.a.createElement("p",null,e.quantitypallets),o.a.createElement("p",null,"$"+e.priceAfterInterest),o.a.createElement("p",null,"$"+e.tradingProfit),o.a.createElement("p",null,e.whexit))}):"No matching sales found"))},d=a(30),f=a(15),h=a(229),g=function(e){var t=e.usqsid,a=e.usqsidmatch,c=e.setUsqsidmatch,i=Object(n.useContext)(h.a).setMktpricedata,s=t===a?"mktpriceupdatemenu":"mktpriceupdatemenu display-none",u=Object(n.useState)(),m=Object(r.a)(u,2),p=m[0],d=m[1];return o.a.createElement("div",{className:s},o.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),l.a.post("/addusmktprice",{mktprice:p,usqsid:t}).then(function(){l.a.post("/usmktpriceupdates").then(function(e){i(e.data),c(0),d("")})})}(e)}},o.a.createElement("input",{value:p,onChange:function(e){!function(e){(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&d(e.target.value)}(e)},onDoubleClick:function(e){e.target.select()},required:!0}),o.a.createElement("button",{type:"submit"},"Update")))};t.a=function(){var e=Object(n.useContext)(m.a),t=e.setQStoload,a=e.setLoaduser,c=e.setFromdropdown,i=Object(n.useContext)(h.a).mktpricedata;Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var b=Object(n.useState)({}),y=Object(r.a)(b,2),v=y[0],E=y[1];Object(n.useEffect)(function(){l.a.post("/usapositionreport").then(function(e){var t=e.data.groupBy("productGroup");E(t)})},[]);var O=function(e,t,a,r,n,o,c){var l=s()().diff(s()(e),"days")>0?s()().diff(s()(e),"days"):0,i=l>r?l=r:0;return t/c+Math.ceil(i/n)*a*o/c},N=Object(n.useState)(0),j=Object(r.a)(N,2),x=j[0],w=j[1],S=Object(n.useState)(0),C=Object(r.a)(S,2),D=C[0],k=C[1],F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return t+" "+e.toFixed(a).replace(/\B(?=(\d{3})+(?!\d))/g,",")},I=function(e,t,a){if(i){var r=i.filter(function(t){return t.QSID===e});return r[0]?F(r[0].mktpriceupdate*t-t*Number(a.replace(/[^0-9.-]+/g,"")),"$",0):"N/A"}},L="",T={},P=0,B=0,q=0,Q=0;return o.a.createElement("div",{className:"uspositionreport"},o.a.createElement("table",{id:"uspositionreporttable"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"USWGP"),o.a.createElement("th",{className:"fig"},"Quantity"),o.a.createElement("th",{className:"fig"},"Inventory"),o.a.createElement("th",{className:"fig"},"In Pallets"),o.a.createElement("th",null,"Warehouse"),o.a.createElement("th",{className:"fig"},"EW Price"),o.a.createElement("th",{className:"fig"},"Storage"),o.a.createElement("th",null,"Supplier"),o.a.createElement("th",null,"From"),o.a.createElement("th",null,"To"),o.a.createElement("th",{className:"fig"},"CostValue"),o.a.createElement("th",{className:"fig"},"MktPrice"),o.a.createElement("th",{className:"fig"},"MktValue"),o.a.createElement("th",{className:"fig"},"PProfit"))),o.a.createElement("tbody",null,Object.entries(v).map(function(e,r){return L=Object.keys(v)[r],T=v[L].groupBy("product"),[o.a.createElement("tr",null,o.a.createElement("td",{className:"usprodgroup",colSpan:14},o.a.createElement("p",null,L))),Object.entries(T).map(function(e,r){return P=0,B=0,q=0,Q=0,[o.a.createElement("tr",null,o.a.createElement("td",{className:"usproduct",colSpan:14},o.a.createElement("h4",null,Object.keys(T)[r]))),e[1].map(function(e){P+=Number(e.Inventory),B+=Number(e.InventoryPallets);var r=I(e.QSID,e.Inventory,e.EWPrice);return q+=Number(r.replace("$","").replace(",","")),Q+=e.Inventory*(Number(e.EWPrice.replace(/[^0-9.-]+/g,""))+O(e.whentry,e.storagefixed,e.storagevariable,e.stggraceperiod,e.stgaccrualperiod,e.quantitypallets,e.quantity)),o.a.createElement(o.a.Fragment,null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"postooltipsource",onMouseOver:function(t){!function(e){w(e)}(e.USWGP)},onMouseLeave:function(e){w(0)}},o.a.createElement(u.b,{onClick:function(r){c(!1),t(e.QSID),a(e.tCode)},to:"/sales"},e.USWGP),o.a.createElement(p,{usposnumber:e.USWGP,usposmatchnumber:x}))),o.a.createElement("td",{className:"fig"},e.quantity.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("td",{className:"fig"},Number(e.Inventory).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("td",{className:"fig"},Number(e.InventoryPallets).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("td",null,e.warehouseName),o.a.createElement("td",{className:"fig"},e.EWPrice.replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("td",null,"$"+O(e.whentry,e.storagefixed,e.storagevariable,e.stggraceperiod,e.stgaccrualperiod,e.quantitypallets,e.quantity).toFixed(2)),o.a.createElement("td",null,e.supplier),o.a.createElement("td",null,s()(e.shipmentStart).format("DD-MMM-YYYY").toString()),o.a.createElement("td",null,s()(e.shipmentEnd).format("DD-MMM-YYYY").toString()),o.a.createElement("td",{className:"fig"},"$"+(e.Inventory*(Number(e.EWPrice.replace(/[^0-9.-]+/g,""))+O(e.whentry,e.storagefixed,e.storagevariable,e.stggraceperiod,e.stgaccrualperiod,e.quantitypallets,e.quantity))).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("td",{className:"mktpriceupdate fig"},o.a.createElement(d.a,{style:{marginRight:"5px"},onClick:function(t){e.QSID===D?k(0):k(e.QSID)},name:"hi",icon:f.j}),o.a.createElement(g,{usqsid:e.QSID,usqsidmatch:D,setUsqsidmatch:k}),o.a.createElement("p",null,function(e){if(i){var t=i.filter(function(t){return t.QSID===e});return t[0]?F(t[0].mktpriceupdate):"N/A"}}(e.QSID)," ")),o.a.createElement("td",{className:"fig"},function(e,t){if(i){var a=i.filter(function(t){return t.QSID===e});return a[0]?F(a[0].mktpriceupdate*t,"$",0):"N/A"}}(e.QSID,e.Inventory)),o.a.createElement("td",{className:"fig"},I(e.QSID,e.Inventory,e.EWPrice))))}),o.a.createElement("tr",{className:"totals"},o.a.createElement("td",{colSpan:2},o.a.createElement("h4",null,"Total")),o.a.createElement("td",{className:"fig"},o.a.createElement("h4",null,P.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),o.a.createElement("td",{className:"fig"},o.a.createElement("h4",null,B.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),o.a.createElement("td",{colSpan:5}),o.a.createElement("td",{className:"fig"},o.a.createElement("h4",null,F(Q,"$",0))),o.a.createElement("td",{colSpan:2}),o.a.createElement("td",{className:"fig"},o.a.createElement("h4",null,F(q,"$",0))))]})]}))))}},244:function(e,t,a){"use strict";var r=a(11),n=a(4),o=a(2),c=a(25),l=a(1),i=a(0),s=a.n(i),u=(a(483),a(6)),m=a.n(u),p=a(50),d=a(40),f=a(41),h=(a(237),a(7)),g=a.n(h);function b(){b=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=O(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var y=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new E(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},v(y),l(y,c,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(e){var t=e.handleClose,a=e.show,u=e.QStoedit,h=Object(i.useContext)(d.a).toggleQSrefresh,y=a?"modal QSmodal display-block":"modal QSmodal display-none",v=Object(i.useState)(),E=Object(l.a)(v,2),O=E[0],N=E[1],j=Object(i.useState)(),x=Object(l.a)(j,2),w=x[0],S=x[1],C=Object(i.useState)([]),D=Object(l.a)(C,2),k=D[0],F=D[1],I=Object(i.useState)(),L=Object(l.a)(I,2),T=L[0],P=L[1],B=Object(i.useState)(!0),q=Object(l.a)(B,2),Q=q[0],$=q[1];Object(i.useEffect)(function(){a&&m.a.post("/QSIDList").then(function(e){var t=Object(c.a)(new Set(e.data.map(function(e){return e.QSID})));N(u.QSID),S(u.QSID),F(t),$(!Q)})},[a]),Object(i.useEffect)(function(){P(k.indexOf(O))},[Q]);var A={includedrate:"",includedperiod:"",quantity:"",materialcost:"",pcommission:"",pfinancecost:"",sfinancecost:"",freightpmt:"",insurancecost:"",inspectioncost:"",scommission:"",interestcost:"",legal:"",pallets:"",other:"",totalcost:"",interestrate:"",interestdays:"",pricebeforeint:"",salesinterest:"",priceafterint:""},G=Object(i.useState)(A),_=Object(l.a)(G,2),K=_[0],V=_[1],Y=Object(i.useState)(null),M=Object(l.a)(Y,2),R=(M[0],M[1]),W=Object(i.useState)(!1),U=Object(l.a)(W,2),H=U[0],z=U[1],J=Object(i.useState)(),Z=Object(l.a)(J,2),X=Z[0],ee=Z[1],te=Object(i.useState)(),ae=Object(l.a)(te,2),re=ae[0],ne=ae[1],oe=Object(i.useState)(),ce=Object(l.a)(oe,2),le=ce[0],ie=ce[1];Object(i.useEffect)(function(){a&&O&&m.a.post("/QStoedit",{id:O}).then(function(e){V(e.data[0]),R(e.data[0]),ie(e.data[0].saleComplete),ee(Object(o.a)({},X,{totalcost:Number(e.data[0].totalcost.replace("$","").replace(",","")),interestcost:Number(e.data[0].interestcost.replace("$","").replace(",","")),salesinterest:Number(e.data[0].salesinterest.replace("$","").replace(",","")),pricebeforeint:Number(e.data[0].pricebeforeint.replace("$","").replace(",","")),priceafterint:Number(e.data[0].priceafterint.replace("$","").replace(",","")),profit:Number(e.data[0].profit.replace("$","").replace(",","")),margin:Number(e.data[0].margin.replace("$","").replace(",","")),turnover:Number(e.data[0].turnover.replace("$","").replace(",","")),pctmargin:Number(e.data[0].pctmargin.replace("%","").replace(",","")/100),netback:Number(e.data[0].netback.replace("$","").replace(",",""))}))})},[a,O]);var se=function(e){e.preventDefault(),V(Object(o.a)({},K,Object(n.a)({},e.target.name,e.target.value))),ee(Object(o.a)({},X,Object(n.a)({},e.target.name,e.target.value)))},ue=function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""==e.target.value)&&(V(Object(o.a)({},K,Object(n.a)({},e.target.name,e.target.value))),ee(Object(o.a)({},X,Object(n.a)({},e.target.name,e.target.value))))},me=function(e){e.preventDefault(),RegExp("^[0-9.,$]+$").test(e.target.value)&&(V(Object(o.a)({},K,Object(n.a)({},e.target.name,e.target.value))),ee(Object(o.a)({},X,Object(n.a)({},e.target.name,e.target.value.includes("$")?e.target.value.replace("$",""):e.target.value))))},pe=function(e){e.preventDefault(),RegExp("^[0-9.%]+$").test(e.target.value)&&(V(Object(o.a)({},K,Object(n.a)({},e.target.name,e.target.value))),ee(Object(o.a)({},X,Object(n.a)({},e.target.name,e.target.value.includes("%")?Number(e.target.value.replace("%",""))/100:Number(e.target.value)/100))))},de=function(e){var t,a;t=e.target.value,a=e.target.name,null!==t&&""!==t?t.toString().includes("$")||t.toString().includes(",")?V(Object(o.a)({},K,Object(n.a)({},a,"$"+Number(t.replace("$","").replace(",","")).toFixed(2)))):V(Object(o.a)({},K,Object(n.a)({},a,"$"+Number(t).toFixed(2)))):V(Object(o.a)({},K,Object(n.a)({},a,"$0.00")))},fe=function(e){var t,a;t=e.target.value,a=e.target.name,null!==t&&""!==t?t.toString().includes("%")?V(Object(o.a)({},K,Object(n.a)({},a,Number(t.replace("%","")).toFixed(2)+"%"))):V(Object(o.a)({},K,Object(n.a)({},a,Number(t).toFixed(2)+"%"))):V(Object(o.a)({},K,Object(n.a)({},a,"0.00%")))};Object(i.useEffect)(function(){le&&(V(Object(o.a)({},K,{saleComplete:-1})),ee(Object(o.a)({},X,{saleComplete:-1}))),le||(V(Object(o.a)({},K,{saleComplete:0})),ee(Object(o.a)({},X,{saleComplete:0})))},[le]);var he=Object(i.useState)(!1),ge=Object(l.a)(he,2),be=ge[0],ye=ge[1];Object(i.useEffect)(function(){be&&(V(Object(o.a)({},K,{finalComplete:1})),ee(Object(o.a)({},X,{finalComplete:1}))),be||(V(Object(o.a)({},K,{finalComplete:0})),ee(Object(o.a)({},X,{finalComplete:0})))},[be]),Object(i.useEffect)(function(){if(K.from&&!K.to&&(V(Object(o.a)({},K,{to:K.from})),ee(Object(o.a)({},X,{to:K.from}))),K.from&&K.to){var e=g()(K.from);g()(K.to).diff(e,"days")<0&&Object(f.confirmAlert)({title:"Check shipment dates",message:"Delivery date (to) cannot be earlier than shipment date (from)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})}},[K.from,K.to]),Object(i.useEffect)(function(){K.freightTotal&&K.payload&&Number(K.freightTotal.replace("$","").replace(",",""))>0&&Number(K.payload)>0&&(V(Object(o.a)({},K,{freightpmt:"$"+(Number(K.freightTotal.replace("$","").replace(",",""))/Number(K.payload)).toFixed(2)})),ee(Object(o.a)({},X,{freightTotal:Number(K.freightTotal.replace("$","").replace(",","")),payload:Number(K.payload),freightpmt:Number(K.freightTotal.replace("$","").replace(",",""))/Number(K.payload)})))},[K.freightTotal,K.payload]),Object(i.useEffect)(function(){V(Object(o.a)({},K,{salesinterest:"$"+(Number(K.interestrate.replace("%",""))/100*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360).toFixed(2)})),ee(Object(o.a)({},X,{salesinterest:Number(K.interestrate.replace("%",""))/100*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360}))},[K.interestdays,K.interestrate,K.pricebeforeint]),Object(i.useEffect)(function(){V(Object(o.a)({},K,{interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?"$"+(Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2)})),ee(Object(o.a)({},X,{interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0}))},[K.includedrate,K.includedperiod,K.pricebeforeint]),Object(i.useEffect)(function(){0===Number(K.interestrate.replace("%",""))||0===K.interestdays?(V(Object(o.a)({},K,{interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?"$"+(Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2),salesinterest:"$"+(Number(K.interestrate.replace("%",""))*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360/100).toFixed(2),priceafterint:"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))+Number(K.salesinterest.replace("$",""))).toFixed(2)})),ee(Object(o.a)({},X,{interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0,salesinterest:Number(K.interestrate.replace("%",""))*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360/100,priceafterint:Number(K.pricebeforeint.replace("$","").replace(",",""))+Number(K.salesinterest.replace("$",""))}))):(V(Object(o.a)({},K,{interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?"$"+(Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2),salesinterest:"$"+(Number(K.interestrate.replace("%",""))*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360/100).toFixed(2),priceafterint:"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))+Number(K.salesinterest.replace("$",""))).toFixed(2)})),ee(Object(o.a)({},X,{interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0,salesinterest:Number(K.interestrate.replace("%",""))*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360/100})))},[K.pricebeforeint]),Object(i.useEffect)(function(){V(Object(o.a)({},K,{priceafterint:"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))+Number(K.salesinterest.replace("$",""))).toFixed(2)})),ee(Object(o.a)({},X,{priceafterint:Number(K.pricebeforeint.replace("$","").replace(",",""))+Number(K.salesinterest.replace("$",""))}))},[K.salesinterest]),Object(i.useEffect)(function(){V(Object(o.a)({},K,{insurancecost:"CPT"===K.incoterms||"CFR"===K.incoterms||"DAP"===K.incoterms?"$"+(.07*Number(K.pricebeforeint.replace("$","").replace(",",""))*1.1/100).toFixed(2):"CIF"===K.incoterms||"CIP"===K.incoterms?"$"+(.14*Number(K.pricebeforeint.replace("$","").replace(",",""))*1.1/100).toFixed(2):"$0.00",inspectioncost:Number(K.quantity.replace(",",""))>0&&K.totalinspection?"$"+Number(Number(K.totalinspection.replace("$","").replace(",",""))/Number(K.quantity.replace(",",""))).toFixed(2):"$0.00",interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?"$"+(Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2),salesinterest:"$"+(Number(K.interestrate.replace("%",""))*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360/100).toFixed(2),priceafterint:"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))+Number(K.salesinterest.replace("$",""))).toFixed(2),profit:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",",""))).toFixed(2):"$0.00",margin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+((Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))*Number(K.quantity.replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",turnover:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(K.quantity.replace(",",""))*Number(K.pricebeforeint.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",pctmargin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?((Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))/Number(K.pricebeforeint.replace("$","").replace(",",""))*100).toFixed(2)+"%":"0.00%",netback:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",",""))+Number(K.materialcost.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00"})),ee(Object(o.a)({},X,{insurancecost:"CFR"===K.incoterms||"CPT"===K.incoterms||"DAP"===K.incoterms?.07*Number(K.pricebeforeint.replace("$","").replace(",",""))*1.1/100:"CIP"===K.incoterms||"CIF"===K.incoterms?.14*Number(K.pricebeforeint.replace("$","").replace(",",""))*1.1/100:0,inspectioncost:Number(K.quantity.replace(",",""))>0&&K.totalinspection?Number(Number(K.totalinspection.replace("$","").replace(",",""))/Number(K.quantity.replace(",",""))):0,interestcost:Number(K.includedrate.toString().replace("%","")>0)&&Number(K.includedperiod)>0?Number(K.includedrate.toString().replace("%",""))*Number(K.includedperiod)*Number(K.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0,salesinterest:Number(K.interestrate.replace("%",""))*Number(K.interestdays)*Number(K.pricebeforeint.replace("$","").replace(",",""))/360/100,priceafterint:Number(K.pricebeforeint.replace("$","").replace(",",""))+Number(K.salesinterest.replace("$","")),profit:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")):0,margin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))*Number(K.quantity.replace(",","")):0,turnover:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?Number(K.quantity.replace(",",""))*Number(K.pricebeforeint.replace("$","").replace(",","")):0,pctmargin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))/Number(K.pricebeforeint.replace("$","").replace(",","")):0,netback:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",",""))+Number(K.materialcost.replace("$","").replace(",","")):0}))},[K.quantity,K.pricebeforeint,K.incoterms,K.totalinspection]),Object(i.useEffect)(function(){V(Object(o.a)({},K,{profit:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",",""))).toFixed(2):"$0.00",margin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+((Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))*Number(K.quantity.replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",turnover:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(K.quantity.replace(",",""))*Number(K.pricebeforeint.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",pctmargin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?((Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))/Number(K.pricebeforeint.replace("$","").replace(",",""))*100).toFixed(2)+"%":"0.00%",netback:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",",""))+Number(K.materialcost.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00"})),ee(Object(o.a)({},X,{profit:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")):0,margin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))*Number(K.quantity.replace(",","")):0,turnover:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?Number(K.quantity.replace(",",""))*Number(K.pricebeforeint.replace("$","").replace(",","")):0,pctmargin:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?(Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",","")))/Number(K.pricebeforeint.replace("$","").replace(",","")):0,netback:Number(K.quantity.replace(",",""))>0&&Number(K.pricebeforeint.replace("$","").replace(",",""))>0?Number(K.pricebeforeint.replace("$","").replace(",",""))-Number(K.totalcost.replace("$","").replace(",",""))+Number(K.materialcost.replace("$","").replace(",","")):0}))},[K.totalcost]),Object(i.useEffect)(function(){V(Object(o.a)({},K,{totalcost:"$"+(Number(K.materialcost.replace("$","").replace(",",""))+Number(K.pcommission.replace("$","").replace(",",""))+Number(K.pfinancecost.replace("$","").replace(",",""))+Number(K.sfinancecost.replace("$","").replace(",",""))+Number(K.freightpmt.replace("$","").replace(",",""))+Number(K.insurancecost.replace("$","").replace(",",""))+Number(K.inspectioncost.replace("$","").replace(",",""))+Number(K.scommission.replace("$","").replace(",",""))+Number(K.interestcost.replace("$","").replace(",",""))+Number(K.legal.replace("$","").replace(",",""))+Number(K.pallets.replace("$","").replace(",",""))+Number(K.other.replace("$","").replace(",",""))).toFixed(2)})),ee(Object(o.a)({},X,{totalcost:Number(K.materialcost.replace("$","").replace(",",""))+Number(K.pcommission.replace("$","").replace(",",""))+Number(K.pfinancecost.replace("$","").replace(",",""))+Number(K.sfinancecost.replace("$","").replace(",",""))+Number(K.freightpmt.replace("$","").replace(",",""))+Number(K.insurancecost.replace("$","").replace(",",""))+Number(K.inspectioncost.replace("$","").replace(",",""))+Number(K.scommission.replace("$","").replace(",",""))+Number(K.interestcost.replace("$","").replace(",",""))+Number(K.legal.replace("$","").replace(",",""))+Number(K.pallets.replace("$","").replace(",",""))+Number(K.other.replace("$","").replace(",",""))}))},[K.materialcost,K.pcommission,K.pfinancecost,K.sfinancecost,K.freightpmt,K.insurancecost,K.inspectioncost,K.scommission,K.interestcost,K.legal,K.pallets,K.other]);var ve=function(){var e=Object(r.a)(b().mark(function e(a){return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,m.a.post("/updateQS",{QSedits:X,QSID:O}).then(function(e){h(),V(A)}).catch(ee({}));case 3:return e.next=5,t();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a?s.a.createElement("div",{className:y},s.a.createElement("section",{className:"modal-main"},s.a.createElement("div",{className:"QSeditmodaltitle"},s.a.createElement("h2",null,"Edit Quotation Sheet"),s.a.createElement("div",null,s.a.createElement("button",null,"Prev"),s.a.createElement("input",{className:"QSeditmodalsearch",onKeyDown:function(e){a&&"ArrowRight"===e.key&&(e.preventDefault(),N(k[T+1]),S(k[T+1]),P(T+1)),a&&"ArrowLeft"===e.key&&(e.preventDefault(),N(k[T-1]),S(k[T-1]),P(T-1)),a&&"Enter"===e.key&&k.includes(Number(e.target.value))&&N(Number(e.target.value))},value:w&&w||"",onChange:function(e){e.preventDefault(),S(e.target.value),P(k.indexOf(Number(e.target.value)))}}),s.a.createElement("button",null,"Next"))),s.a.createElement("form",{className:"QSModalForm",action:"",onSubmit:function(e){ve(e)}},s.a.createElement("section",{id:"edtQS-1"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"QS Date:"),s.a.createElement("input",{name:"QSDate",type:"date",readOnly:!0,value:K&&K.QSDate||"",className:"canceldrag"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"WGP:"),s.a.createElement("input",{name:"KTP",placeholder:"5000...",value:K&&K.KTP||"",onChange:ue,className:"canceldrag"})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Sale Type"),s.a.createElement("div",null,s.a.createElement("input",{type:"radio",name:"saleTypeID",required:!0,checked:!(!K||1!==K.saleTypeID),onClick:function(e){V(Object(o.a)({},K,{saleTypeID:1})),ee(Object(o.a)({},X,{saleTypeID:1}))}}),s.a.createElement("label",{htmlFor:""},"Back-to-back")),s.a.createElement("div",null,s.a.createElement("input",{type:"radio",name:"saleTypeID",required:!0,checked:!(!K||2!==K.saleTypeID),onClick:function(e){V(Object(o.a)({},K,{saleTypeID:2})),ee(Object(o.a)({},X,{saleTypeID:2}))}}),s.a.createElement("label",{htmlFor:""},"Position"),K&&2===K.saleTypeID?s.a.createElement("select",{className:"WGPSelect2",onClick:function(){m.a.post("/positiondropdown").then(function(e){ne(e.data)})},onChange:function(e){return function(e){var t=re[e];console.log(t),V(Object(o.a)({},K,{KTP:t.KTP,product:t.product,supplier:t.Supplier,from:t.start,to:t.end,materialcost:t.Price})),ee(Object(o.a)({},X,{KTP:t.KTP,productID:t.productID,supplierID:t.supplierID,from:t.start,to:t.end,materialcost:t.Price.replace("$","").replace(",","")}))}(e.target.value)}},s.a.createElement("option",null,"Select..."),K&&re?re.map(function(e,t){return s.a.createElement("option",{value:t},e.KTP+" - "+e.product+" - "+e.Supplier)}):""):"")),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"General"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"QSID:"),s.a.createElement("input",{name:"QSID",type:"text",required:!0,value:K&&K.QSID||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Product:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",thirdName:"productGroup",thirdID:"prodGroupID",value:K&&K.product||"",resetfield:H,setResetfield:z,setProdSupplier:function(e,t,a,r,n,c){V(Object(o.a)({},K,{product:t,supplier:r,productgroup:c})),ee(Object(o.a)({},X,{productID:e,supplierID:a}))}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Supplier:"),s.a.createElement("input",{name:"supplier",type:"text",required:!0,value:K&&K.supplier||""})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Customer:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/customers",searchID:"customerID",searchName:"customer",value:K&&K.customer||"",resetfield:H,setResetfield:z,setProdSupplier:function(e,t){V(Object(o.a)({},K,{customer:t})),ee(Object(o.a)({},X,{customerID:e}))}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Contact:"),s.a.createElement("input",{name:"contact",type:"text"}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Packaging"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Pack Size:"),s.a.createElement("input",{name:"packsize",type:"text",required:!0,value:K&&K.packsize||"",onChange:se})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Marks:"),s.a.createElement("input",{name:"marks",type:"text",required:!0,value:K&&K.marks||"",onChange:se}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Delivery"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"From:"),s.a.createElement("input",{name:"from",type:"date",required:!0,value:K&&K.from||"",onChange:se})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"To:"),s.a.createElement("input",{name:"to",type:"date",required:!0,value:K&&K.to||"",onChange:se})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"POL:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/POLS",searchID:"POLID",searchName:"POL",value:K&&K.POL||"",resetfield:H,setResetfield:z,setProdSupplier:function(e,t){V(Object(o.a)({},K,{POL:t})),ee(Object(o.a)({},X,{POLID:e}))}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"POD:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/PODS",searchID:"PODID",searchName:"POD",value:K&&K.POD||"",resetfield:H,setResetfield:z,setProdSupplier:function(e,t){V(Object(o.a)({},K,{POD:t})),ee(Object(o.a)({},X,{PODID:e}))}})))),s.a.createElement("section",{id:"editQS-2"},s.a.createElement("div",{className:"soldcheckbox",style:{marginBottom:"1rem"}},s.a.createElement("input",{className:"canceldrag",name:"saleComplete",type:"checkbox",checked:le,onClick:function(){ie(!le)}}),s.a.createElement("label",null,"Sold")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"WGS:"),s.a.createElement("input",{name:"KTS",placeholder:"5000...",value:K&&K.KTS||"",onChange:ue,className:"canceldrag"})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"In Charge"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Trader:"),s.a.createElement("input",{name:"trader",type:"text",required:!0,value:K&&K.trader||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Traffic:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/trafficmgrs",searchID:"trafficID",searchName:"traffic",value:K&&K.traffic||"",resetfield:H,setResetfield:z,setProdSupplier:function(e,t){V(Object(o.a)({},K,{traffic:t})),ee(Object(o.a)({},X,{trafficID:e}))}}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Terms"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Incoterms:"),s.a.createElement("input",{name:"incoterms",type:"text",required:!0,value:K&&K.incoterms||"",onChange:se})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payment Terms:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/paymentterms",searchID:"paytermID",searchName:"paymentTerm",value:K&&K.paymentterms||"",resetfield:H,setResetfield:z,setProdSupplier:function(e,t){V(Object(o.a)({},K,{paymentterms:t})),ee(Object(o.a)({},X,{pTermID:e}))}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inc. Interest:"),s.a.createElement("input",{name:"includedrate",type:"text",required:!0,value:K&&K.includedrate||"",onChange:pe,onBlur:fe})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inc. Days:"),s.a.createElement("input",{name:"includedperiod",type:"text",required:!0,value:K&&K.includedperiod||"",onChange:se}))),s.a.createElement("div",{className:"shipmentType"},s.a.createElement("input",{type:"radio",name:"shipmenttype"}),s.a.createElement("label",{htmlFor:""},"Container"),s.a.createElement("input",{type:"radio",name:"shipmenttype"}),s.a.createElement("label",{htmlFor:""},"Breakbulk"),s.a.createElement("input",{type:"radio",name:"shipmenttype"}),s.a.createElement("label",{htmlFor:""},"Distribution")),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Freight"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight ID:"),s.a.createElement("input",{name:"freightID",type:"text"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight Total:"),s.a.createElement("input",{name:"freightTotal",className:"QSfig",type:"text",value:K&&K.freightTotal||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Shipping Line:"),s.a.createElement("input",{name:"shippingline",value:K&&K.shippingline||"",onChange:se,type:"text"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payload:"),s.a.createElement("input",{name:"payload",className:"QSfig",type:"text",value:K&&K.payload||"",onChange:me})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Inspection:"),s.a.createElement("input",{name:"totalinspection",type:"text",className:"QSfig",value:K&&K.totalinspection||"",onChange:me,onBlur:de}))),s.a.createElement("div",null,s.a.createElement("input",{type:"checkbox",className:"canceldrag",name:"finalComplete",checked:be,onClick:function(){ye(!be)}}),s.a.createElement("label",{htmlFor:""},"Finalized"))),s.a.createElement("section",{id:"editQS-3"},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Figures"),s.a.createElement("section",{id:"editQS-3-col1"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Quantity:"),s.a.createElement("input",{className:"QSfig",name:"quantity",type:"text",required:!0,value:K&&K.quantity||"",onChange:me})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Costs"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Material Cost:"),s.a.createElement("input",{className:"QSfig",name:"materialcost",type:"text",required:!0,value:K&&K.materialcost||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"P Commission:"),s.a.createElement("input",{className:"QSfig",name:"pcommission",type:"text",required:!0,value:K&&K.pcommission||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"P Finance Cost:"),s.a.createElement("input",{className:"QSfig",name:"pfinancecost",type:"text",required:!0,value:K&&K.pfinancecost||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"S Finance Cost:"),s.a.createElement("input",{className:"QSfig",name:"sfinancecost",type:"text",required:!0,value:K&&K.sfinancecost||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight:"),s.a.createElement("input",{className:"QSfig",name:"freightpmt",type:"text",required:!0,value:K&&K.freightpmt||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Insurance Cost:"),s.a.createElement("input",{className:"QSfig",name:"insurancecost",type:"text",required:!0,value:K&&K.insurancecost||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inspection Cost:"),s.a.createElement("input",{className:"QSfig",name:"inspectioncost",type:"text",required:!0,value:K&&K.inspectioncost||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"S Commission:"),s.a.createElement("input",{className:"QSfig",name:"scommission",type:"text",required:!0,value:K&&K.scommission||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Cost:"),s.a.createElement("input",{className:"QSfig",name:"interestcost",type:"text",required:!0,value:K&&K.interestcost||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Legal:"),s.a.createElement("input",{className:"QSfig",name:"legal",type:"text",required:!0,value:K&&K.legal||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Pallets:"),s.a.createElement("input",{className:"QSfig",name:"pallets",type:"text",required:!0,value:K&&K.pallets||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Other:"),s.a.createElement("input",{className:"QSfig",name:"other",type:"text",required:!0,value:K&&K.other||"",onChange:me,onBlur:de}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Cost:"),s.a.createElement("input",{className:"QSfig",name:"totalcost",type:"text",required:!0,readOnly:!0,value:K&&K.totalcost||"",onChange:me,onBlur:de}))),s.a.createElement("section",{id:"editQS-3-col2"},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Sales Interest"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Rate:"),s.a.createElement("input",{className:"QSfig",name:"interestrate",type:"text",required:!0,value:K&&K.interestrate||"",onChange:pe,onBlur:fe})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Days:"),s.a.createElement("input",{className:"QSfig",name:"interestdays",type:"text",required:!0,value:K&&Number(K.interestdays).toFixed(0)||"",onChange:se}))),s.a.createElement("fieldset",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Price Before Int.:"),s.a.createElement("input",{className:"QSfig",name:"pricebeforeint",type:"text",required:!0,value:K&&K.pricebeforeint||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Sales Interest:"),s.a.createElement("input",{className:"QSfig",name:"salesinterest",type:"text",required:!0,value:K&&K.salesinterest||"",readOnly:!0}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Price After Int.:"),s.a.createElement("input",{className:"QSfig",name:"priceafterint",type:"text",required:!0,value:K&&K.priceafterint||"",readOnly:!0})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Economics"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Profit:"),s.a.createElement("input",{className:"QSfig",name:"profit",type:"text",required:!0,value:K&&K.profit||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Margin:"),s.a.createElement("input",{className:"QSfig",name:"margin",type:"text",required:!0,value:K&&K.margin||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Turnover:"),s.a.createElement("input",{className:"QSfig",name:"turnover",type:"text",required:!0,value:K&&K.turnover||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"% Margin:"),s.a.createElement("input",{className:"QSfig",name:"pctmargin",type:"text",required:!0,value:K&&K.pctmargin||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Netback:"),s.a.createElement("input",{className:"QSfig",name:"netback",type:"text",required:!0,value:K&&K.netback||"",readOnly:!0}))))),s.a.createElement("div",{className:"QSedit-buttons"},s.a.createElement("button",{className:"confirmbutton",type:"submit"},"Save Edits"),s.a.createElement("button",{className:"cancelbutton",onClick:function(){V(A),t(),ee(null)}},"Cancel")))))):""}},245:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(600),c=a(232),l=a(30),i=a(15);t.a=function(e){var t=e.csvData,a=e.fileName;return n.a.createElement("div",{className:"bdgtexport",onClick:function(e){return function(e,t){var a={Sheets:{data:c.utils.json_to_sheet(e)},SheetNames:["data"]},r=c.write(a,{bookType:"xlsx",type:"array"}),n=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});o.saveAs(n,t+".xlsx")}(t,a)}},n.a.createElement(l.a,{style:{marginRight:"0.5rem"},icon:i.c}),"Export")}},247:function(e,t,a){"use strict";var r=a(2),n=a(1),o=a(0),c=a.n(o),l=a(6),i=a.n(l),s=a(4),u=a(11),m=a(198),p=a.n(m),d=(a(293),a(263),a(81)),f=a(40),h=a(57),g=a(7),b=a.n(g),y=a(41);a(237),a(476);function v(){v=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=O(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new E(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(b),l(b,c,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var E=function(e){var t=JSON.parse(localStorage.getItem("role")),a=(Object(o.useContext)(d.a).state,Object(o.useContext)(f.a)),l=a.QSrefresh,m=a.toggleQSrefresh,g=Object(o.useContext)(h.a),E=g.toggleQSload,O=(g.loaduser,g.QStoload,g.setFromdropdown),N=g.setQStoload,j=g.toggleDuplicate,x=JSON.parse(localStorage.getItem("accesstoken")),w=JSON.parse(localStorage.getItem("refreshtoken")),S=i.a.create({headers:{Authorization:"Bearer ".concat(x)}}),C=i.a.create({headers:{Authorization:"Bearer ".concat(w)}});S.interceptors.response.use(function(e){return e},function(){var t=Object(u.a)(v().mark(function t(a){var r;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!w||403!==a.response.status){t.next=8;break}return t.next=3,C.post("/refreshtoken");case 3:return r=t.sent,x=r.data.accesstoken,t.next=7,S.post("/sales",{userID:e.userID,limit:e.limit},{headers:{Authorization:"Bearer ".concat(x)}});case 7:return t.abrupt("return",t.sent);case 8:return t.abrupt("return",Promise.reject(a.response));case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());var D=Object(o.useState)([]),k=Object(n.a)(D,2),F=k[0],I=k[1],L=Object(o.useState)(e.config.sort||{column:"",order:""}),T=Object(n.a)(L,2),P=T[0],B=T[1],q=Object(o.useState)([]),Q=Object(n.a)(q,2),$=Q[0],A=Q[1];Object(o.useState)(function(){e.setColumns(e.config.columns)},[]),Object(o.useEffect)(Object(u.a)(v().mark(function t(){return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.post("/sales",{userID:e.userID,limit:e.limit}).then(function(t){I(t.data),e.columns&&A(Object.keys(e.columns))});case 2:case"end":return t.stop()}},t)})),[l,e.userID,e.limit,e.columns]);var G=function(e){var t="asc"===P.order?"headerSortAsc":"headerSortDesc";return P.column===e?t:""},_={"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t}},K=[],V={},Y=/^((?:(?:[<>]=?)|==))\s?([-]?\d+(?:\.\d+)?)$/;$.forEach(function(t){var a,r=e.columns[t].filterText;if(V[t]=null,r.length>0){var n=Y.exec(r);n&&3===n.length?V[t]=(a=n,function(e){if(e)return _[a[1]](e,a[2])}):V[t]=function(e){if(e)return e.toString().toLowerCase().indexOf(r.toLowerCase())>-1}}});var M=p.a.filter(F,function(e){return p.a.every($,function(t){return!V[t]||V[t](e[t])})}),R=p.a.sortBy(M,P.column);"desc"===P.order&&R.reverse();R.forEach(function(e,a){var r;K.push(c.a.createElement("tr",{id:a,key:a},(r=e,$.map(function(e,t){return"quantity"===e?r[e]?c.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},r[e].toFixed(2)):c.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},"na"):"materialCost"===e||"oFreight"===e||"priceBeforeInterest"===e||"tradingProfit"===e||"tradingMargin"===e||"netback"===e?r[e]?c.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},"$"+r[e].toFixed(2)):c.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},""):"percentageMargin"===e?r[e]?c.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},r[e].toFixed(2)+"%"):c.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},""):r[e]?c.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},r[e]):c.a.createElement("td",{className:"canceldrag",id:e+"-"+r.QSID,key:e+"-"+r.QSID},"")})),c.a.createElement("div",{className:"crudbuttons"},c.a.createElement("button",{className:"editbutton",onClick:function(t){N(e.QSID),E()}},"Edit"),c.a.createElement("button",{className:"editbutton",onClick:function(t){var a;t.preventDefault(),O(!0),a=e.QSID,i.a.post("duplicateQS",{QSID:a,QSDate:b()().format("yyyy-MM-DD")}).then(function(e){m(),j()})}},"Duplicate"),1===t||2===t?c.a.createElement("button",{className:"editbutton",onClick:function(t){O(!0),Object(y.confirmAlert)({title:"Are you sure?",message:"You are about to delete QS (".concat(e.QSID,"). This deletion is irreversible. Click Delete to continue or Cancel"),buttons:[{label:"Cancel",onClick:function(){return console.log("cancelled")}},{label:"Delete",onClick:function(){var t=Object(u.a)(v().mark(function t(){return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.delete("/deleteQS",{data:{id:e.QSID}}).then(function(e){m(),j()}).catch(function(e){return console.log(e)});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}],closeOnClickOutside:!0,closeOnEscape:!0})}},"Delete"):"")))});var W=$.map(function(t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("th",{onClick:(a=t,function(t){var r="asc"===P.order?"desc":"asc";P.column!==a&&(r=e.columns[a].defaultSortOrder),B({column:a,order:r})}),className:"header canceldrag "+G(t)},e.columns[t].name));var a}),U=$.map(function(t){return c.a.createElement("td",{className:"sales-filter canceldrag"},c.a.createElement("input",{type:"text",value:e.columns[t].filterText,onChange:function(a){!function(t,a){e.setColumns(Object(r.a)({},e.columns,Object(s.a)({},a,Object(r.a)({},e.columns[a],{filterText:t.target.value}))))}(a,t)}}))});return c.a.createElement("div",null,c.a.createElement("table",{cellSpacing:"0",className:"tablesorter"},c.a.createElement("thead",null,c.a.createElement("tr",null,W,c.a.createElement("th",{className:"header lastheader"})),c.a.createElement("tr",{className:"searchboxes"},U,c.a.createElement("td",null))),c.a.createElement("tbody",null,K)))},O=(a(478),a(200));t.a=function(e){var t=Object(o.useContext)(f.a).toggleQSrefresh,a=Object(o.useContext)(h.a),l=a.loaduser,s=a.setLoaduser,u=(a.QStoload,a.setFromdropdown),m=Object(o.useState)(),p=Object(n.a)(m,2),d=p[0],g=p[1],b=Object(o.useState)(l),y=Object(n.a)(b,2),v=(y[0],y[1],Object(o.useState)(300)),N=Object(n.a)(v,2),j=N[0],x=N[1],w=Object(o.useState)(),S=Object(n.a)(w,2),C=S[0],D=S[1];Object(o.useEffect)(function(){i.a.post("/traders").then(function(e){g(e.data)})},[]);return c.a.createElement("div",{className:"saleslist"},c.a.createElement("div",{className:"salestitleline"},c.a.createElement("h3",{className:"saleslisttitle"},"Sales List"),c.a.createElement("button",{className:"clearfilterbutton",onClick:function(e){D(Object(r.a)({},C,{QSDate:Object(r.a)({},C.QSDate,{filterText:""}),QSID:Object(r.a)({},C.QSID,{filterText:""}),saleType:Object(r.a)({},C.saleType,{filterText:""}),WGP:Object(r.a)({},C.WGP,{filterText:""}),WGS:Object(r.a)({},C.WGS,{filterText:""}),abbreviation:Object(r.a)({},C.abbreviation,{filterText:""}),supplier:Object(r.a)({},C.supplie,{filterText:""}),customer:Object(r.a)({},C.customer,{filterText:""}),beginning:Object(r.a)({},C.beginning,{filterText:""}),finish:Object(r.a)({},C.finish,{filterText:""}),portOfLoad:Object(r.a)({},C.portOfLoad,{filterText:""}),portOfDestination:Object(r.a)({},C.portOfDestination,{filterText:""}),quantity:Object(r.a)({},C.quantity,{filterText:""}),materialCost:Object(r.a)({},C.materialCost,{filterText:""}),oFreight:Object(r.a)({},C.oFreight,{filterText:""}),priceBeforeInterest:Object(r.a)({},C.priceBeforeInterest,{filterText:""}),tradingProfit:Object(r.a)({},C.tradingProfit,{filterText:""}),tradingMargin:Object(r.a)({},C.tradingMargin,{filterText:""}),percentageMargin:Object(r.a)({},C.percentageMargin,{filterText:""}),netback:Object(r.a)({},C.netback,{filterText:""}),saleComplete:Object(r.a)({},C.saleComplete,{filterText:""})}))}},"Clear Filters"),c.a.createElement("select",{onChange:function(e){return x(e.target.value)}},c.a.createElement("option",{value:300},"300"),c.a.createElement("option",{value:1e3},"1000"),c.a.createElement("option",{value:"no limit"},"no limit")),c.a.createElement("select",{onChange:function(e){u(!0),s(e.target.value)}},c.a.createElement("option",{value:"all"},"All"),d?d.map(function(e){return e.trader===l?c.a.createElement("option",{selected:!0,value:e.trader},e.trader):c.a.createElement("option",{value:e.trader},e.trader)}):"reload"),c.a.createElement(O.a,{className:"refreshicon",onClick:function(e){t()}})),c.a.createElement(E,{config:{sort:{column:"QSID",order:"desc"},columns:{QSDate:{name:"QSDate",filterText:"",defaultSortOrder:"asc"},QSID:{name:"QSID",filterText:"",defaultSortOrder:"asc"},saleType:{name:"SaleType",filterText:"",defaultSortOrder:"asc"},WGP:{name:"WGP",filterText:"",defaultSortOrder:"asc"},WGS:{name:"WGS",filterText:"",defaultSortOrder:"asc"},abbreviation:{name:"Product",filterText:"",defaultSortOrder:"asc"},supplier:{name:"Supplier",filterText:"",defaultSortOrder:"asc"},customer:{name:"Customer",filterText:"",defaultSortOrder:"asc"},beginning:{name:"From",filterText:"",defaultSortOrder:"asc"},finish:{name:"To",filterText:"",defaultSortOrder:"asc"},portOfLoad:{name:"POL",filterText:"",defaultSortOrder:"asc"},portOfDestination:{name:"POD",filterText:"",defaultSortOrder:"asc"},quantity:{name:"Quantity",filterText:"",defaultSortOrder:"asc"},materialCost:{name:"Cost",filterText:"",defaultSortOrder:"asc"},oFreight:{name:"Freight",filterText:"",defaultSortOrder:"asc"},priceBeforeInterest:{name:"SalesPrice",filterText:"",defaultSortOrder:"asc"},tradingProfit:{name:"Profit",filterText:"",defaultSortOrder:"asc"},tradingMargin:{name:"TotalProfit",filterText:"",defaultSortOrder:"asc"},percentageMargin:{name:"Margin",filterText:"",defaultSortOrder:"asc"},netback:{name:"Netback",filterText:"",defaultSortOrder:"asc"},saleComplete:{name:"Status",filterText:"",defaultSortOrder:"asc"}}},userID:l,limit:j,showEditModal:e.showEditModal,hideEditModal:e.hideEditModal,QSmodalState:e.QSmodalState,QStoedit:e.QStoedit,columns:C,setColumns:D}))}},248:function(e,t,a){"use strict";(function(e){var r=a(1),n=a(4),o=a(0),c=a.n(o),l=(a(196),a(197),a(32)),i=(a(226),a(247)),s=a(665),u=a(244),m=(a(261),Object(l.WidthProvider)(l.Responsive));t.a=function(){var t=function(t,a){var r,o;r="layouts",o=a,e.localStorage&&e.localStorage.setItem("rgl-sales",JSON.stringify(Object(n.a)({},r,o))),f(a)},a=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-sales"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],md:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],sm:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],xs:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],xxs:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}]},l=Object(o.useState)(a),p=Object(r.a)(l,2),d=p[0],f=p[1],h=Object(o.useState)(!1),g=Object(r.a)(h,2),b=g[0],y=g[1],v=Object(o.useState)({}),E=Object(r.a)(v,2),O=E[0],N=E[1],j=function(){y(!1)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"gridcontainer"},c.a.createElement(u.a,{show:b,handleClose:j,QStoedit:O}),c.a.createElement(m,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:d,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,a){t(0,a)},margin:[20,20],draggableCancel:".canceldrag"},c.a.createElement("div",{id:"sales1",key:"a"},c.a.createElement(i.a,{showEditModal:function(e,t){y(!0),N(t)},hideEditModal:j,QSmodalState:b,QStoedit:O})),c.a.createElement("div",{id:"sales2",key:"b"},c.a.createElement(s.a,null)))))}}).call(this,a(49))},249:function(e,t,a){"use strict";(function(e){var r=a(1),n=a(4),o=a(0),c=a.n(o),l=(a(196),a(197),a(32)),i=(a(226),a(284),a(705)),s=a(706),u=a(365),m=a(263),p=a(366),d=(a(261),a(222)),f=(a(508),a(200)),h=a(40),g=a(229),b=a(234),y=Object(l.WidthProvider)(l.Responsive);t.a=function(){var t=Object(o.useContext)(h.a),a=(t.posrefresh,t.togglePosrefresh),l=function(t,a){var r,o;r="layouts",o=a,e.localStorage&&e.localStorage.setItem("rgl-positions",JSON.stringify(Object(n.a)({},r,o))),j(a)},v=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-positions"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],md:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],sm:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],xs:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],xxs:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}]},E=Object(o.useState)(v),O=Object(r.a)(E,2),N=O[0],j=O[1],x=Object(o.useState)(!1),w=Object(r.a)(x,2),S=w[0],C=w[1],D=Object(o.useState)(!1),k=Object(r.a)(D,2),F=k[0],I=k[1],L=Object(o.useState)({}),T=Object(r.a)(L,2),P=T[0],B=T[1],q=function(e){e.preventDefault(),C(!1)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"gridcontainer"},c.a.createElement(p.a,{showAddProd:F,handleClose:function(e){e.preventDefault(),I(!1)}}),c.a.createElement(m.a,{show:S,handleClose:q,positiontoedit:P}),c.a.createElement(y,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:N,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,t){l(0,t)},margin:[20,20],draggableCancel:".canceldrag"},c.a.createElement("div",{id:"positions1",key:"a"},c.a.createElement("div",{className:"positionreporttitleline"},c.a.createElement("h3",{className:"positionreporttitle"},"Position Report"),c.a.createElement(f.a,{className:"refreshicon",onClick:function(e){a()}})),c.a.createElement(g.b,null,c.a.createElement(d.d,null,c.a.createElement(d.b,null,c.a.createElement(d.a,null,"Global"),c.a.createElement(d.a,null,"USA Distribution")),c.a.createElement(d.c,null,c.a.createElement(i.a,{key:"positionreport"})),c.a.createElement(d.c,null,c.a.createElement(b.a,{key:"usapositionreport"}))))),c.a.createElement("div",{id:"positions2",key:"b"},c.a.createElement(u.a,{key:"positionadd",showAddProd:function(e){I(!0)}})),c.a.createElement("div",{id:"positions2",key:"c"},c.a.createElement(s.a,{showEditModal:function(e,t){C(!0),B(t)},hideEditModal:q,modalState:S,postoedit:P,key:"positions"})))))}}).call(this,a(49))},261:function(e,t,a){},263:function(e,t,a){"use strict";var r=a(11),n=a(4),o=a(2),c=a(1),l=a(0),i=a.n(l),s=(a(471),a(6)),u=a.n(s),m=a(7),p=a.n(m),d=a(40),f=a(50);function h(){h=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=O(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&a.call(b,n)&&(f=b);var y=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new E(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},v(y),l(y,c,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(e){var t=e.handleClose,a=e.show,s=e.positiontoedit,m=Object(l.useContext)(d.a),g=(m.posrefresh,m.togglePosrefresh),b=a?"modal display-block":"modal display-none",y=s.WGP,v=Object(l.useState)(),E=Object(c.a)(v,2),O=E[0],N=E[1],j=Object(l.useState)(),x=Object(c.a)(j,2),w=x[0],S=x[1],C=Object(l.useState)(),D=Object(c.a)(C,2),k=D[0],F=D[1],I=Object(l.useState)(!1),L=Object(c.a)(I,2),T=L[0],P=L[1];Object(l.useEffect)(function(){y&&a&&u.a.post("/positiontoedit",{id:y}).then(function(e){N(e.data[0]),S(e.data[0]),F({id:e.data[0].positionID,WGP:e.data[0].WGP})})},[a]);var B=function(e){e.preventDefault(),N(Object(o.a)({},O,Object(n.a)({},e.target.name,e.target.value)))},q=function(e){e.preventDefault(),(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&N(Object(o.a)({},O,Object(n.a)({},e.target.name,e.target.value)))};Object(l.useEffect)(function(){O&&w&&function(e,t){for(var a=0,r=Object.keys(e);a<r.length;a++){var c=r[a];e[c]!==t[c]&&(F(Object(o.a)({},k,Object(n.a)({},c,e[c]))),console.log(k))}}(O,w)},[O]);var Q=function(){var e=Object(r.a)(h().mark(function e(){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({});case 2:return e.next=4,g();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(r.a)(h().mark(function e(a){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t(a),e.next=4,u.a.post("/positionupdate",{poschanges:k}).then(function(e){return Q()});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:b},i.a.createElement("section",{className:"modal-main"},i.a.createElement("form",{className:"positionModalForm",onSubmit:$},i.a.createElement("h2",null,"Edit Position"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"WGP:"),i.a.createElement("input",{name:"WGP",type:"text",value:O&&O.WGP||"",onChange:function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""===e.target.value)&&N(Object(o.a)({},O,Object(n.a)({},e.target.name,e.target.value)))},className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Product:"),i.a.createElement(f.a,{className:"searchfield canceldrag",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",thirdName:"productGroup",thirdID:"prodGroupID",resetfield:T,setResetfield:P,value:O&&O.product||"",setProdSupplier:function(e,t,a,r,n,c){N(Object(o.a)({},O,{product:t,supplier:r,productGroup:c})),F(Object(o.a)({},k,{productID:e,supplierID:a,productGroupID:n}))}})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Supplier:"),i.a.createElement("input",{name:"supplier",type:"text",value:O&&O.supplier||"",className:"canceldrag",readOnly:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"ProdGroup:"),i.a.createElement("input",{name:"productgroup",type:"text",value:O&&O.productGroup||"",className:"canceldrag",readOnly:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"QuantityL:"),i.a.createElement("input",{name:"quantityLow",type:"text",value:O&&O.quantityLow||"",onChange:q,className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"QuantityH:"),i.a.createElement("input",{name:"quantityHigh",type:"text",value:O&&O.quantityHigh||"",onChange:q,className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"FOB:"),i.a.createElement("input",{name:"FOBCost",type:"text",value:O&&O.FOBCost||"",onChange:B,className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"From:"),i.a.createElement("input",{name:"shipmentStart",type:"date",value:O&&p()(O.shipmentStart).format("YYYY-MM-DD")||"",onChange:B,className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"To:"),i.a.createElement("input",{name:"shipmentEnd",type:"date",value:O&&p()(O.shipmentEnd).format("YYYY-MM-DD")||"",onChange:B,className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Notes:"),i.a.createElement("textarea",Object(n.a)({name:"notes",className:"canceldrag",value:O&&O.notes||"",onChange:B},"className","canceldrag"))),i.a.createElement("button",{className:"confirmbutton",type:"submit"},"Save Edits"),i.a.createElement("button",{className:"cancelbutton",onClick:function(e){e.preventDefault(),t(e),F({})}},"Cancel"))))}},264:function(e,t,a){"use strict";var r=a(1),n=a(0),o=a.n(n),c=(a(514),a(6)),l=a.n(c),i=a(7),s=a.n(i);t.a=function(){var e=Object(n.useState)(),t=Object(r.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(s()().format("YYYY-1-1")),u=Object(r.a)(i,2),m=u[0],p=u[1],d=Object(n.useState)(s()().format("YYYY-M-D")),f=Object(r.a)(d,2),h=f[0],g=f[1];return Object(n.useEffect)(function(){m&&h&&l.a.post("/keyfigures",{startdate:m,enddate:h}).then(function(e){c(e.data[0])})},[m,h]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"keyfigures-buttons"},"From ",s()(m).format("MMM D YYYY")," to"," ",s()(h).format("MMM D YYYY"),":",o.a.createElement("div",null,o.a.createElement("button",{onClick:function(e){e.preventDefault(),p(s()().format("YYYY-1-1")),g(s()().format("YYYY-M-D"))}},"YTD"),o.a.createElement("button",{onClick:function(e){e.preventDefault(),p(s()().format("YYYY-M-1")),g(s()().format("YYYY-M-D"))}},"This Month"),o.a.createElement("button",{onClick:function(e){e.preventDefault();var t=s()().month()-1;console.log(t),p(s()().format("YYYY-".concat(t,"-D"))),g(s()().format("YYYY-M-D"))}},"30 days"))),o.a.createElement("div",{className:"keyfigures-list"},o.a.createElement("div",{className:"keyfigure-volume"},o.a.createElement("h1",{className:"kfig"},a?a.Sales.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"reload"),o.a.createElement("h4",null,"Volume (mt)")),o.a.createElement("div",{className:"keyfigure-revenue"},o.a.createElement("h1",{className:"kfig"},a?"$"+(a.Revenue/1e6).toFixed(2).toString()+"mio":"reload"),o.a.createElement("h4",null,"Revenue")),o.a.createElement("div",{className:"keyfigure-profit"},o.a.createElement("h1",{className:"kfig"},a?"$"+(a.Margin/1e3).toFixed(0).toString()+"K":"reload"),o.a.createElement("h4",null,"Profit")),o.a.createElement("div",{className:"keyfigure-profitpmt"},o.a.createElement("h1",{className:"kfig"},a?"$"+a.Profit.toFixed(2).toString():"reload"),o.a.createElement("h4",null,"Avg. Profit (pmt)")),o.a.createElement("div",{className:"keyfigure-profitpct"},o.a.createElement("h1",{className:"kfig"},a?(a.Margin/a.Revenue*100).toFixed(2).toString()+"%":"reload"),o.a.createElement("h4",null,"Profit (%)"))))}},266:function(e,t,a){"use strict";var r=a(11),n=a(1),o=a(6),c=a.n(o),l=a(0),i=a.n(l),s=a(236);function u(){u=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof p?t:p,o=Object.create(n.prototype),c=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=O(c,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var m={};function p(){}function d(){}function f(){}var h={};l(h,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&a.call(b,n)&&(h=b);var y=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=f,l(y,"constructor",f),l(f,"constructor",d),d.displayName=l(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new E(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},v(y),l(y,c,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}t.a=function(){var e=Object(l.useState)(),t=Object(n.a)(e,2),a=t[0],o=t[1],m=Object(l.useState)(),p=Object(n.a)(m,2),d=p[0],f=p[1];return Object(l.useEffect)(Object(r.a)(u().mark(function e(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.post("/donut").then(function(e){o(e.data)});case 2:return e.next=4,c.a.post("/donutqty").then(function(e){f(e.data)});case 4:case"end":return e.stop()}},e)})),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",{style:{display:"sticky"}},"Profit and Volume, by Trader"),i.a.createElement("div",{style:{height:"100%",display:"flex"}},a&&d?i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{data:a,margin:{top:40,right:0,bottom:40,left:20},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"blues"},valueFormat:">-$,",startAngle:-90,endAngle:270,arcLinkLabelsSkipAngle:10,sliceLabelsTextColor:"white",enableArcLabels:!1}),i.a.createElement(s.a,{data:d,margin:{top:40,right:20,bottom:40,left:0},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"yellow_orange_red"},valueFormat:">-,",startAngle:-90,endAngle:270,arcLinkLabelsSkipAngle:10,sliceLabelsTextColor:"white",enableArcLabels:!1})):""))}},284:function(e,t,a){"use strict";a(11),a(1),a(0),a(81),a(6)},293:function(e,t,a){},294:function(e,t,a){},362:function(e,t,a){"use strict";var r=a(11),n=a(4),o=a(2),c=a(1),l=a(0),i=a.n(l),s=(a(294),a(7)),u=a.n(s),m=a(51),p=a(6),d=a.n(p),f=a(40),h=a(41);a(237);function g(){g=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=O(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,b=h&&h(h(w([])));b&&b!==t&&a.call(b,n)&&(f=b);var y=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new E(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},v(y),l(y,c,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(){var e=Object(l.useContext)(f.a).toggleQSrefresh,t={KTP:"",KTS:"",saleType:"",QSDate:u()().format("yyyy-MM-DD"),abbreviation:"",supplier:"",customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGuserID")),traffic:"",incoterms:"",CADintrate:.06,CADdays:10,paymentTerm:"",shipmentType:1,freightTotal:0,shippingline:"",payload:0,totalinspection:0,quantity:0,materialcost:0,pcommission:0,pfinancecost:0,sfinancecost:0,freightpmt:0,insurance:0,inspectionpmt:0,scommission:0,interestcost:0,legal:1,pallets:0,other:0,totalcost:0,interestrate:0,interestdays:0,pricebeforeint:0,salesinterest:0,priceafterint:0,profit:0,margin:0,turnover:0,pctmargin:0,netback:0,saleComplete:0},a={KTP:"",KTS:"",saleType:"",QSDate:u()().format("yyyy-MM-DD"),customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGusercode")),traffic:"",incoterms:"",CADintrate:"6.00%",CADdays:"10",paymentTerm:"",shipmentType:"Container",freightTotal:"0.00",shippingline:"",payload:"0.00",totalinspection:"0.00",quantity:"",materialcost:"0.00",pcommission:"0.00",pfinancecost:"0.00",sfinancecost:"0.00",freightpmt:"0.00",insurance:"0.00",inspectionpmt:"0.00",scommission:"0.00",interestcost:"0.00",legal:"1.00",pallets:"0.00",other:"0.00",totalcost:"0.00",interestrate:"0.00%",interestdays:"0",pricebeforeint:"0.00",salesinterest:"0.00",priceafterint:"0.00",profit:"0.00",margin:"0.00",turnover:"0.00",pctmargin:"0.00",netback:"0.00",saleComplete:0},s=Object(l.useState)(t),p=Object(c.a)(s,2),b=p[0],y=p[1],v=Object(l.useState)(a),E=Object(c.a)(v,2),O=E[0],N=E[1],j=Object(l.useState)(),x=Object(c.a)(j,2),w=x[0],S=x[1],C=Object(l.useState)(!1),D=Object(c.a)(C,2),k=D[0],F=D[1],I=Object(l.useState)(!1),L=Object(c.a)(I,2),T=L[0],P=L[1];Object(l.useEffect)(function(){T&&y(Object(o.a)({},b,{saleComplete:-1})),T||y(Object(o.a)({},b,{saleComplete:0}))},[T]);var B=function(e,t,a,r,c,l){var i,s;""===t&&""===r&&""===l?(y(Object(o.a)({},b,Object(n.a)({},a,e))),N(Object(o.a)({},O,Object(n.a)({},a,c)))):(y(Object(o.a)({},b,(i={},Object(n.a)(i,a,e),Object(n.a)(i,r,t),i))),N(Object(o.a)({},O,(s={},Object(n.a)(s,a,c),Object(n.a)(s,r,l),s))))},q=function(e){y(Object(o.a)({},b,Object(n.a)({},e.target.name,e.target.value))),N(Object(o.a)({},O,Object(n.a)({},e.target.name,e.target.value)))},Q=function(e){(RegExp("^[0-9.,%]+$").test(e.target.value)||""===e.target.value)&&(e.target.value.toString().includes("%")?(y(Object(o.a)({},b,Object(n.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(2)/100))),N(Object(o.a)({},O,Object(n.a)({},e.target.name,e.target.value.replace("%",""))))):(y(Object(o.a)({},b,Object(n.a)({},e.target.name,Number(e.target.value).toFixed(2)/100))),N(Object(o.a)({},O,Object(n.a)({},e.target.name,e.target.value)))))},$=function(e){N(Object(o.a)({},O,Object(n.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(2)+"%")))},A=function(e){(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&(y(Object(o.a)({},b,Object(n.a)({},e.target.name,Number(Number(e.target.value).toFixed(2))))),N(Object(o.a)({},O,Object(n.a)({},e.target.name,e.target.value))))},G=function(e){N(Object(o.a)({},O,Object(n.a)({},e.target.name,Number(e.target.value.replace(",","")).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""===e.target.value&&y(Object(o.a)({},b,Object(n.a)({},e.target.name,0)))},_=function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""==e.target.value)&&(N(Object(o.a)({},O,Object(n.a)({},e.target.name,e.target.value))),y(Object(o.a)({},b,Object(n.a)({},e.target.name,e.target.value))))};Object(l.useEffect)(function(){if(O.from&&!O.to&&(N(Object(o.a)({},O,{to:O.from})),y(Object(o.a)({},b,{to:b.from}))),O.from&&O.to){var e=u()(O.from),t=u()(O.to);console.log(t.diff(e,"days")),t.diff(e,"days")<0&&Object(h.confirmAlert)({title:"Check shipment dates",message:"Delivery date (to) cannot be earlier than shipment date (from)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})}},[O.from,O.to]),Object(l.useEffect)(function(){b.freightTotal>0&&b.payload>0&&(N(Object(o.a)({},O,{freightpmt:(b.freightTotal/b.payload).toFixed(2)})),y(Object(o.a)({},b,{freightpmt:b.freightTotal/b.payload})))},[b.freightTotal,b.payload]),Object(l.useEffect)(function(){y(Object(o.a)({},b,{salesinterest:Number((b.interestrate*Number(b.interestdays)*Number(b.pricebeforeint)/360).toFixed(4))})),N(Object(o.a)({},O,{salesinterest:Number(b.interestrate*Number(b.interestdays)*Number(b.pricebeforeint)/360).toFixed(2)}))},[b.interestdays,b.interestrate]),Object(l.useEffect)(function(){y(Object(o.a)({},b,{interestcost:Number((b.CADintrate*b.CADdays*b.pricebeforeint/360).toFixed(4))})),N(Object(o.a)({},O,{interestcost:Number(b.CADintrate*b.CADdays*b.pricebeforeint/360).toFixed(2)}))},[b.CADdays,b.CADintrate,b.pricebeforeint]),Object(l.useEffect)(function(){y(Object(o.a)({},b,{insurance:"CPT"===b.incoterms||"CFR"===b.incoterms||"DAP"===b.incoterms?Number((.07*b.pricebeforeint*1.1/100).toFixed(2)):"CIP"===b.incoterms||"CIF"===b.incoterms?Number((.14*b.pricebeforeint*1.1/100).toFixed(2)):0,inspectionpmt:b.quantity>0&&b.totalinspection?Number((b.totalinspection/b.quantity).toFixed(2)):0,interestcost:Number((b.CADintrate*b.CADdays*b.pricebeforeint/360).toFixed(4)),salesinterest:Number((Number(b.interestrate)*Number(b.interestdays)*Number(b.pricebeforeint)/360).toFixed(4)),priceafterint:Number(b.pricebeforeint)+10*Number(b.salesinterest),profit:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost).toFixed(4)):0,margin:0!==b.quantity&&0!==b.pricebeforeint?Number(((b.pricebeforeint-b.totalcost)*b.quantity).toFixed(4)):0,turnover:0!==b.quantity&&0!==b.pricebeforeint?Number((b.quantity*b.pricebeforeint).toFixed(4)):0,pctmargin:0!==b.quantity&&0!==b.pricebeforeint?Number(((b.pricebeforeint-b.totalcost)/b.pricebeforeint).toFixed(4)):0,netback:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost+b.materialcost).toFixed(4)):0})),N(Object(o.a)({},O,{insurance:"CPT"===b.incoterms||"CFR"===b.incoterms||"DAP"===b.incoterms?Number(.07*b.pricebeforeint*1.1/100).toFixed(2):"CIP"===b.incoterms||"CIF"===b.incoterms?Number(.14*b.pricebeforeint*1.1/100).toFixed(2):Number(0).toFixed(2),inspectionpmt:b.quantity>0&&b.totalinspection?Number(b.totalinspection/b.quantity).toFixed(2):"0.00",interestcost:Number(b.CADintrate*b.CADdays*b.pricebeforeint/360).toFixed(2),salesinterest:Number(Number(b.interestrate)*Number(b.interestdays)*Number(b.pricebeforeint)/360).toFixed(2),priceafterint:Number(Number(b.pricebeforeint)+10*Number(b.salesinterest)).toFixed(2),profit:0!==b.quantity&&0!==b.pricebeforeint?Number(b.pricebeforeint-b.totalcost).toFixed(2):Number(0).toFixed(2),margin:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost)*b.quantity).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),turnover:0!==b.quantity&&0!==b.pricebeforeint?Number(b.quantity*b.pricebeforeint).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),pctmargin:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost)/b.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==b.quantity&&0!==b.pricebeforeint?Number(b.pricebeforeint-b.totalcost+b.materialcost).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2)}))},[b.quantity,b.pricebeforeint,b.totalinspection,b.incoterms]),Object(l.useEffect)(function(){0!==b.quantity&&0!==b.pricebeforeint&&(y(Object(o.a)({},b,{profit:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost).toFixed(4)):0,margin:0!==b.quantity&&0!==b.pricebeforeint?Number(((b.pricebeforeint-b.totalcost)*b.quantity).toFixed(4)):0,turnover:0!==b.quantity&&0!==b.pricebeforeint?Number((b.quantity*b.pricebeforeint).toFixed(4)):0,pctmargin:0!==b.quantity&&0!==b.pricebeforeint?Number(((b.pricebeforeint-b.totalcost)/b.pricebeforeint).toFixed(4)):0,netback:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost+b.materialcost).toFixed(4)):0})),N(Object(o.a)({},O,{profit:0!==b.quantity&&0!==b.pricebeforeint?Number(b.pricebeforeint-b.totalcost).toFixed(2):Number(0).toFixed(2),margin:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost)*b.quantity).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),turnover:0!==b.quantity&&0!==b.pricebeforeint?Number(b.quantity*b.pricebeforeint).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),pctmargin:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost)/b.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==b.quantity&&0!==b.pricebeforeint?Number(b.pricebeforeint-b.totalcost+b.materialcost).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2)})))},[b.totalcost]),Object(l.useEffect)(function(){y(Object(o.a)({},b,{priceafterint:Number(b.pricebeforeint)+Number(b.salesinterest)})),N(Object(o.a)({},O,{priceafterint:Number(Number(b.pricebeforeint)+Number(b.salesinterest)).toFixed(2)}))},[b.salesinterest]),Object(l.useEffect)(function(){N(Object(o.a)({},O,{totalcost:Number(Number(b.materialcost)+b.pcommission+b.pfinancecost+b.sfinancecost+b.freightpmt+b.insurance+b.inspectionpmt+b.scommission+b.interestcost+b.legal+b.pallets+b.other).toFixed(2)})),y(Object(o.a)({},b,{totalcost:Number((Number(b.materialcost)+b.pcommission+b.pfinancecost+b.sfinancecost+b.freightpmt+b.insurance+b.inspectionpmt+b.scommission+b.interestcost+b.legal+b.pallets+b.other).toFixed(2))}))},[b.materialcost,b.pcommission,b.pfinancecost,b.sfinancecost,b.freightpmt,b.insurance,b.inspectionpmt,b.scommission,b.interestcost,b.legal,b.pallets,b.other]);var K=function(){var t=Object(r.a)(g().mark(function t(a){return g().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,d.a.post("/saveQS",{QSData:b}).then(function(t){e()});case 3:return t.next=5,V();case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),V=function(){N(a),y(t),P(!1)};return i.a.createElement("div",{className:"salesQS"},i.a.createElement("h3",{className:"saleslisttitle"},"Quotation Sheet"),i.a.createElement("form",{className:"salesQS-form",onSubmit:function(e){return K(e)}},i.a.createElement("section",{id:"salesQS-1"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"QS Date:"),i.a.createElement("input",{readOnly:!0,className:"canceldrag",value:O.QSDate,type:"date"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"WGP:"),i.a.createElement("input",{name:"KTP",placeholder:"5000...",value:O&&O.KTP||"",onChange:_,className:"canceldrag"})),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Sale Type"),i.a.createElement("div",{className:"saletype-group"},i.a.createElement("input",{name:"saletype",type:"radio",checked:!(!b||1!==b.saleType),required:!0,onClick:function(e){y(Object(o.a)({},b,{saleType:1})),N(Object(o.a)({},O,{saleType:"Back-to-back"}))}}),i.a.createElement("label",{htmlFor:""},"Back-to-back")),i.a.createElement("div",{className:"saletype-group"},i.a.createElement("input",{name:"saletype",type:"radio",checked:!(!b||2!==b.saleType),required:!0,onClick:function(e){y(Object(o.a)({},b,{saleType:2})),N(Object(o.a)({},O,{saleType:"Position"})),d.a.post("/positiondropdown").then(function(e){S(e.data)})}}),i.a.createElement("label",{htmlFor:""},"Position"),b&&2===b.saleType?i.a.createElement("select",{className:"WGPSelect",onChange:function(e){return function(e){var t=w[e];N(Object(o.a)({},O,{abbreviation:t.product,supplier:t.Supplier,from:t.start,to:t.end,KTP:t.KTP,materialcost:Number(t.Price.replace("$","").replace(",","")).toFixed(2)})),y(Object(o.a)({},b,{abbreviation:t.productID,supplier:t.supplierID,from:t.start,to:t.end,KTP:t.KTP,materialcost:Number(t.Price.replace("$","").replace(",",""))}))}(e.target.value)}},i.a.createElement("option",null,"Select..."),w?w.map(function(e,t){return i.a.createElement("option",{value:t},e.KTP+" - "+e.product+" - "+e.Supplier)}):""):"")),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"General"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Product:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",placeholder:"Product...",setQSFields:B,value:O&&O.abbreviation||"",resetfield:k,setResetfield:F,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Supplier:"),i.a.createElement("input",{placeholder:"Supplier...",value:O.supplier,type:"text",required:!0,readOnly:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Customer:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/customers",searchName:"customer",searchID:"customerID",placeholder:"Customer...",setQSFields:B,value:O&&O.customer||"",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Contact:"),i.a.createElement("input",{className:"canceldrag",type:"text"}))),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Packaging"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Pack Size:"),i.a.createElement("input",{value:b.packsize,onChange:q,name:"packsize",type:"text",placeholder:"9kg, 25kg, 50kg, bigbag",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Marks:"),i.a.createElement("input",{name:"marks",onChange:q,value:b.marks,type:"text",placeholder:"neutral, WG, seller, buyer",onDoubleClick:function(e){e.target.select()},className:"canceldrag"}))),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Delivery"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"From:"),i.a.createElement("input",{name:"from",onChange:q,value:b.from,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"To:"),i.a.createElement("input",{name:"to",onChange:q,value:b.to,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"POL:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/POLS",searchName:"POL",searchID:"POLID",placeholder:"POL...",setQSFields:B,value:O&&O.POL||"",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"POD:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/PODS",searchName:"POD",searchID:"PODID",placeholder:"POD...",setQSFields:B,value:O&&O.POD||"",required:!0})))),i.a.createElement("section",{id:"salesQS-2"},i.a.createElement("div",{className:"soldcheckbox"},i.a.createElement("input",{className:"canceldrag",name:"saleComplete",type:"checkbox",checked:T,onClick:function(){P(!T)}}),i.a.createElement("label",null,"Sold")),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"WGS:"),i.a.createElement("input",{name:"KTS",placeholder:"5000...",value:O&&O.KTS||"",onChange:_,className:"canceldrag"})),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"In Charge"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Trader:"),i.a.createElement("input",{className:"canceldrag",value:O.TIC,type:"text",readOnly:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Traffic:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/trafficmgrs",searchName:"traffic",searchID:"trafficID",placeholder:"Traffic...",setQSFields:B,value:O&&O.traffic||""}))),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Terms"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Incoterms:"),i.a.createElement("input",{placeholder:"Incoterms...",onChange:q,name:"incoterms",value:O.incoterms,type:"text",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Payment Terms:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/paymentterms",searchName:"paymentTerm",searchID:"paytermID",placeholder:"Payment terms...",setQSFields:B,value:O&&O.paymentTerm||"",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Inc. Interest:"),i.a.createElement("input",{value:O.CADintrate,placeholder:"Interest rate...",type:"text",name:"CADintrate",onChange:Q,onBlur:$,className:"canceldrag",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Inc. Days:"),i.a.createElement("input",{value:O.CADdays,name:"CADdays",onChange:A,type:"text",placeholder:"Days...",className:"canceldrag",required:!0}))),i.a.createElement("div",{id:"shipmenttyperadio",className:"form-group"},i.a.createElement("input",{name:"shipmenttype",type:"radio",defaultChecked:!0,required:!0,onClick:function(e){y(Object(o.a)({},b,{shipmentType:1})),N(Object(o.a)({},O,{shipmentType:"Container"}))}}),i.a.createElement("label",{htmlFor:""},"Container"),i.a.createElement("input",{name:"shipmenttype",type:"radio",required:!0,onClick:function(e){y(Object(o.a)({},b,{shipmentType:2})),N(Object(o.a)({},O,{shipmentType:"Breakbulk"}))}}),i.a.createElement("label",{htmlFor:""},"Breakbulk"),i.a.createElement("input",{name:"shipmenttype",type:"radio",required:!0,onClick:function(e){y(Object(o.a)({},b,{shipmentType:3})),N(Object(o.a)({},O,{shipmentType:"Distribution"}))}}),i.a.createElement("label",{htmlFor:""},"Distribution")),b&&1===b.shipmentType?i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Freight"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Freight ID:"),i.a.createElement("input",{placeholder:"[Leave Blank]",type:"text"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Freight Total:"),i.a.createElement("input",{type:"text",name:"freightTotal",className:"QSfig2 canceldrag",value:O.freightTotal,onChange:A,onBlur:G})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Shipping Line:"),i.a.createElement("input",{className:"canceldrag",placeholder:"Shipping Line...",name:"shippingline",onChange:q,value:O&&O.shippingline||"",type:"text"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Payload:"),i.a.createElement("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:O.payload,onChange:A,onBlur:G})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Total Inspection:"),i.a.createElement("input",{name:"totalinspection",className:"QSfig2 canceldrag",value:O.totalinspection,onChange:A,onBlur:G,type:"text"}))):b&&2==b.shipmentType?"Under Construction":"Under Construction Too :)"),i.a.createElement("section",{id:"salesQS-3"},i.a.createElement("fieldset",{id:"salesQS-3-fieldset"},i.a.createElement("legend",null,"Figures"),i.a.createElement("section",{id:"salesQS-3-col1"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Quantity:"),i.a.createElement("input",{className:"QSfig2 canceldrag",name:"quantity",value:O.quantity,onChange:A,type:"text",placeholder:"MT",onBlur:G,required:!0})),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Costs"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Material Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Material Cost pmt",onChange:A,name:"materialcost",value:O.materialcost,onBlur:G,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"P Commission:"),i.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Commission pmt",name:"pcommission",value:O.pcommission,onChange:A,onBlur:G,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"P Finance Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Finance Cost pmt",name:"pfinancecost",value:O.pfinancecost,onChange:A,onBlur:G,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"S Finance Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.sfinancecost,name:"sfinancecost",placeholder:"...S Finance Cost pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Freight (pmt):"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.freightpmt,name:"freightpmt",placeholder:"...Freight pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Insurance Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.insurance,name:"insurance",placeholder:"...Insurance Cost pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Inspection Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.inspectionpmt,name:"inspectionpmt",placeholder:"...Inspection Cost pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"S Commission:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.scommission,name:"scommission",placeholder:"...S Commission pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Interest Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.interestcost,name:"interestcost",placeholder:"...Interest Cost pmt",onChange:A,onBlur:G,type:"text",required:!0,readOnly:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Legal:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.legal,name:"legal",placeholder:"...Legal Cost pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Pallets:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.pallets,name:"pallets",placeholder:"...Pallets Cost pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Other:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.other,name:"other",placeholder:"...Other Costs pmt",onChange:A,onBlur:G,type:"text",required:!0}))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Total Cost:"),i.a.createElement("input",{className:"QSfig2 canceldrag",readOnly:!0,value:O.totalcost,type:"text",required:!0}))),i.a.createElement("section",{id:"salesQS-3-col2"},i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Sales Interest"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Interest Rate:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.interestrate,placeholder:"...Interest Rate",name:"interestrate",onChange:Q,onBlur:$,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Interest Days:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.interestdays,name:"interestdays",onChange:A,placeholder:"...Interest Days",type:"text",required:!0}))),i.a.createElement("fieldset",null,i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Price Before Int.:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.pricebeforeint,name:"pricebeforeint",placeholder:"...Price Before Int pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Sales Interest:"),i.a.createElement("input",{className:"QSfig canceldrag",value:O.salesinterest,readOnly:!0,type:"text",required:!0}))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Price After Int.:"),i.a.createElement("input",{readOnly:!0,className:"QSfig2 canceldrag",value:O.priceafterint,type:"text",required:!0})),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Economics"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Profit:"),i.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:O.profit,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Margin:"),i.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:O.margin,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Turnover:"),i.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:O.turnover,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"% Margin:"),i.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:O.pctmargin,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Netback:"),i.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:O.netback,type:"text",required:!0}))))),i.a.createElement("div",{id:"QSbuttons"},i.a.createElement("button",{type:"button",onClick:function(e){V()}},"Clear"),i.a.createElement("button",{type:"submit"},"Save and New")))))}},365:function(e,t,a){"use strict";var r=a(4),n=a(2),o=a(1),c=a(0),l=a.n(c),i=(a(504),a(50)),s=a(40),u=a(6),m=a.n(u);t.a=function(e){var t=e.showAddProd,a=Object(c.useContext)(s.a),u=(a.posrefresh,a.togglePosrefresh),p={WGP:"",product:"",supplier:"",productgroup:"",quantitylow:"",quantityhigh:"",FOB:"",from:"",to:"",notes:""},d={WGP:"",product:"",supplier:"",productgroup:"",quantitylow:"",quantityhigh:"",FOB:"",from:"",to:"",notes:""},f=Object(c.useState)(!0),h=Object(o.a)(f,2),g=h[0],b=h[1],y=Object(c.useState)(p),v=Object(o.a)(y,2),E=v[0],O=v[1],N=Object(c.useState)(d),j=Object(o.a)(N,2),x=j[0],w=j[1],S=Object(c.useState)({WGP:"",quantitylow:"",quantityhigh:"",to:"",general:""}),C=Object(o.a)(S,2),D=C[0],k=C[1],F=function(e){e.preventDefault(),k(Object(n.a)({},D,{WGP:"",general:""})),O(Object(n.a)({},E,Object(r.a)({},e.target.name,e.target.value)))},I=function(e){e.preventDefault(),(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&(k(Object(n.a)({},D,{WGP:"",general:""})),O(Object(n.a)({},E,Object(r.a)({},e.target.name,e.target.value))))},L=function(e){var t=e.target.name,a=e.target.value,o=RegExp("^-?[0-9][0-9,.]+$");switch(t){case"quantitylow":if(o.test(a))if(Number(E.quantityhigh)<Number(E.quantitylow))k(Object(n.a)({},D,Object(r.a)({},t,"QuantityL must be equal or smaller than QuantityH.")));else{var c;k(Object(n.a)({},D,(c={},Object(r.a)(c,t,""),Object(r.a)(c,"quantityhigh",""),c)))}else k(Object(n.a)({},D,Object(r.a)({},t,"Only numerical values.")));break;case"quantityhigh":if(o.test(a))if(Number(E.quantityhigh)<Number(E.quantitylow))k(Object(n.a)({},D,Object(r.a)({},t,"QuantityH must be larger than QuantityL.")));else{var l;k(Object(n.a)({},D,(l={},Object(r.a)(l,t,""),Object(r.a)(l,"quantitylow",""),l)))}else k(Object(n.a)({},D,Object(r.a)({},t,"Only numerical values.")))}};return l.a.createElement("div",{className:"positionadd"},l.a.createElement("h3",{className:"positionaddtitle"},"Add New Position"),l.a.createElement("form",{id:"positionaddform",onSubmit:function(e){e.preventDefault(),Object.values(D).every(function(e){return""===e})?m.a.post("/checkposition",{WGP:E.WGP}).then(function(e){"OK"===e.data.msg?m.a.post("/addposition",{posData:E}).then(function(e){return u()}):k(Object(n.a)({},D,{WGP:e.data.msg}))}).catch(function(e){console.log(e)}):k(Object(n.a)({},D,{general:"Please review items in red."})),O(p),w(d),b(!0)}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"WGP:"),l.a.createElement("input",{name:"WGP",value:E.WGP,type:"text",onChange:function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""===e.target.value)&&(k(Object(n.a)({},D,{WGP:"",general:""})),O(Object(n.a)({},E,Object(r.a)({},e.target.name,e.target.value))))},placeholder:"WGP...",required:!0,className:"canceldrag"})),l.a.createElement("span",{className:"posadderror"},D.WGP),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Product:"),l.a.createElement(i.a,{showAddProd:t,className:"searchfield canceldrag",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",thirdName:"productGroup",thirdID:"prodGroupID",placeholder:"Product...",setProdSupplier:function(e,t,a,r,o,c){O(Object(n.a)({},E,{product:e,supplier:a,productgroup:o})),w(Object(n.a)({},x,{product:t,supplier:r,productgroup:c}))},resetfield:g,setResetfield:b,value:x&&x.product||""})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Supplier:"),l.a.createElement("input",{readOnly:!0,placeholder:"Supplier...",value:x.supplier,className:"canceldrag"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"ProdGroup:"),l.a.createElement("input",{readOnly:!0,placeholder:"ProductGroup...",value:x.productgroup,className:"canceldrag"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"QuantityL:"),l.a.createElement("input",{name:"quantitylow",type:"text",placeholder:"Quantity Low...",onChange:I,value:E.quantitylow,onBlur:L,required:!0,className:"canceldrag"})),l.a.createElement("span",{className:"posadderror"},D.quantitylow),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"QuantityH:"),l.a.createElement("input",{name:"quantityhigh",type:"text",placeholder:"Quantity High...",onChange:I,value:E.quantityhigh,onBlur:L,required:!0,className:"canceldrag"})),l.a.createElement("span",{className:"posadderror"},D.quantityhigh),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"FOB:"),l.a.createElement("input",{type:"text",name:"FOB",placeholder:"FOB...",onChange:F,value:E.FOB,required:!0,className:"canceldrag"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"From:"),l.a.createElement("input",{name:"from",type:"date",placeholder:"From...",onChange:F,value:E.from,required:!0,className:"canceldrag"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"To:"),l.a.createElement("input",{name:"to",type:"date",placeholder:"To...",onChange:F,value:E.to,required:!0,className:"canceldrag"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Notes:"),l.a.createElement("textarea",{name:"notes",className:"canceldrag",onChange:F,value:E.notes})),l.a.createElement("button",null,"Add"),l.a.createElement("span",{className:"posadderror"},D.general)))}},366:function(e,t,a){"use strict";var r=a(2),n=a(1),o=a(0),c=a.n(o),l=(a(506),a(50));t.a=function(e){var t=e.handleClose,a=e.showAddProd?"modal AddProdModal display-block":"modal AddProdModal display-none",i=Object(o.useState)(!1),s=Object(n.a)(i,2),u=s[0],m=s[1],p=Object(o.useState)(),d=Object(n.a)(p,2),f=d[0],h=d[1],g=Object(o.useState)(),b=Object(n.a)(g,2),y=b[0],v=b[1];return c.a.createElement("div",{className:a},c.a.createElement("section",{className:"modal-main"},c.a.createElement("h2",null,"Add Product"),c.a.createElement("p",null,"Before adding a new product please make sure the product does not exist yet with a different name. Double adding an already existing product will severely confuse analysis statistics."),c.a.createElement("form",{className:"addproduct-form",action:""},c.a.createElement("section",{className:"addprod-1"},c.a.createElement("h3",null,"Step 1:"),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:""},"Select Product Name:"),c.a.createElement(l.a,{className:"searchfield",searchURL:"/prodnames",searchID:"prodNameID",searchName:"abbreviation",resetfield:u,setResetfield:m,setProdSupplier:function(e,t){h(Object(r.a)({},f,{prodName:t})),v(Object(r.a)({},y,{prodName:e}))}})),c.a.createElement("div",{className:"addnewprodline"},c.a.createElement("p",null,"Or"),c.a.createElement("button",null,"Add New Product Name"))),c.a.createElement("section",{className:"addprod-2"}),c.a.createElement("section",{className:"addprod-3"},c.a.createElement("button",{onClick:t},"Close")))))}},40:function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"b",function(){return l});var r=a(1),n=a(0),o=a.n(n),c=o.a.createContext(),l=function(e){var t=e.children,a=Object(n.useState)(!0),l=Object(r.a)(a,2),i=l[0],s=l[1],u=Object(n.useState)(!0),m=Object(r.a)(u,2),p=m[0],d=m[1];return o.a.createElement(c.Provider,{value:{posrefresh:i,togglePosrefresh:function(e){s(function(e){return!e})},QSrefresh:p,toggleQSrefresh:function(e){d(function(e){return!e})}}},t)}},425:function(e,t,a){e.exports=a(773)},430:function(e,t,a){},432:function(e,t,a){},452:function(e,t,a){},454:function(e,t,a){"use strict";(function(e){a(1),a(4),a(0),a(196),a(197);var t=a(32);a(226),a(247),a(362),a(244),a(261),Object(t.WidthProvider)(t.Responsive)}).call(this,a(49))},471:function(e,t,a){},473:function(e,t,a){},476:function(e,t,a){},478:function(e,t,a){},481:function(e,t,a){},483:function(e,t,a){},486:function(e,t,a){},495:function(e,t,a){},497:function(e,t,a){},50:function(e,t,a){"use strict";var r=a(11),n=a(1),o=a(0),c=a.n(o),l=a(6),i=a.n(l);a(473);function s(){s=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof p?t:p,o=Object.create(n.prototype),c=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=O(c,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=u(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var m={};function p(){}function d(){}function f(){}var h={};l(h,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&a.call(b,n)&&(h=b);var y=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=u(e[n],e,o);if("throw"!==i.type){var s=i.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){s.value=e,c(s)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=f,l(y,"constructor",f),l(f,"constructor",d),d.displayName=l(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new E(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},v(y),l(y,c,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}t.a=function(e){var t=e.searchURL,a=e.searchName,l=e.searchID,u=e.placeholder,m=e.otherName,p=e.otherID,d=e.thirdName,f=e.thirdID,h=e.setProdSupplier,g=e.resetfield,b=e.setResetfield,y=e.value,v=(e.showAddProd,Object(o.useState)()),E=Object(n.a)(v,2),O=E[0],N=E[1],j=Object(o.useState)(""),x=Object(n.a)(j,2),w=x[0],S=x[1],C=Object(o.useState)(),D=Object(n.a)(C,2),k=D[0],F=D[1],I=Object(o.useState)(!1),L=Object(n.a)(I,2),T=L[0],P=L[1];Object(o.useEffect)(function(){if(O){var e=O.filter(function(e){if(m&&p&&f){if(w&&""!==w)return(e[a]+e[l]+e[m]+e[p]+e[d]+e[f]).toLowerCase().includes(w.toLowerCase());P(!1)}if(m&&p&&!f){if(w&&""!==w)return(e[a]+e[l]+e[m]+e[p]).toLowerCase().includes(w.toLowerCase());P(!1)}else{if(w&&""!==w)return(e[a]+e[l]).toLowerCase().includes(w.toLowerCase());P(!1)}});F(e)}},[w]);var B,q=Object(o.useRef)([]),Q=Object(o.useRef)(null),$=Object(o.useRef)(null),A=Object(o.useRef)(null),G=Object(o.useRef)(null),_=Object(o.useRef)(null),K=Object(o.useRef)(null);return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{ref:"productID"===l?Q:"customerID"===l?$:"POLID"===l?A:"PODID"===l?G:"trafficID"===l?_:K,placeholder:u,type:"text",value:g?"":w||y,onFocus:function(){i.a.post(t).then(function(e){N(e.data)})},onChange:function(e){b(!1),P(!0),S(e.target.value)},required:!0,className:"canceldrag",onKeyDown:function(e){k&&k.length>0&&"ArrowRight"===e.key&&(e.preventDefault(),B=0,console.log(q.current),console.log(q.current[B]),0===B&&q.current[B].focus())}}),c.a.createElement("div",{className:"flexbreak"}),c.a.createElement("div",{className:"presearchresults"}),c.a.createElement("span",{className:"QSsearchresults-container"},c.a.createElement("ul",{className:T?"searchresults":"QSsearchresults-hide"},k?k.map(function(e,t){return p&&m&&d&&f?c.a.createElement("li",{ref:function(e){return q.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),l){case"productID":Q.current.focus();break;case"customerID":$.current.focus();break;case"POLID":A.current.focus();break;case"PODID":G.current.focus();break;case"trafficID":_.current.focus();break;case"paytermID":K.current.focus()}"ArrowDown"===t.key&&(t.preventDefault(),q.current[B+1]&&(B+=1,q.current[B].focus())),"ArrowUp"===t.key&&(t.preventDefault(),q.current[B-1]&&(B-=1,q.current[B].focus())),"Enter"===t.key&&(h(e[l],e[a],e[p],e[m],e[f],e[d]),S(null))},onClick:function(t){h(e[l],e[a],e[p],e[m],e[f],e[d]),S(null)}},e[l]," - ",e[a]," - ",e[m]):p&&m&&!d&&!f?c.a.createElement("li",{ref:function(e){return q.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),l){case"productID":Q.current.focus();break;case"customerID":$.current.focus();break;case"POLID":A.current.focus();break;case"PODID":G.current.focus();break;case"trafficID":_.current.focus();break;case"paytermID":K.current.focus()}"ArrowDown"===t.key&&(t.preventDefault(),q.current[B+1]&&(B+=1,q.current[B].focus())),"ArrowUp"===t.key&&(t.preventDefault(),q.current[B-1]&&(B-=1,q.current[B].focus())),"Enter"===t.key&&(h(e[l],e[a],e[p],e[m]),S(null))},onClick:function(t){h(e[l],e[a],e[p],e[m]),S(null)}},e[l]," - ",e[a]," - ",e[m]):c.a.createElement("li",{ref:function(e){return q.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),l){case"productID":Q.current.focus();break;case"customerID":$.current.focus();break;case"POLID":A.current.focus();break;case"PODID":G.current.focus();break;case"trafficID":_.current.focus();break;case"paytermID":K.current.focus()}"ArrowDown"===t.key&&(t.preventDefault(),q.current[B+1]&&(B+=1,q.current[B].focus())),"ArrowUp"===t.key&&(t.preventDefault(),q.current[B-1]&&(B-=1,q.current[B].focus())),"Enter"===t.key&&(h(e[l],e[a]),S(null))},onClick:function(){var t=Object(r.a)(s().mark(function t(r){return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:h(e[l],e[a]),S(null);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},e[l]," - ",e[a])}):"")))}},502:function(e,t,a){},504:function(e,t,a){},506:function(e,t,a){},51:function(e,t,a){"use strict";var r=a(1),n=a(0),o=a.n(n),c=a(6),l=a.n(c);a(481);t.a=function(e){var t=e.searchURL,a=e.searchName,c=e.searchID,i=e.placeholder,s=e.otherName,u=e.otherID,m=e.setQSFields,p=e.resetfield,d=e.setEditing,f=e.value,h=Object(n.useState)(),g=Object(r.a)(h,2),b=g[0],y=g[1],v=Object(n.useState)(""),E=Object(r.a)(v,2),O=E[0],N=E[1],j=Object(n.useState)(""),x=Object(r.a)(j,2),w=x[0],S=x[1],C=Object(n.useState)(),D=Object(r.a)(C,2),k=D[0],F=D[1],I=Object(n.useState)(!1),L=Object(r.a)(I,2),T=(L[0],L[1],Object(n.useState)(!1)),P=Object(r.a)(T,2),B=P[0],q=P[1];Object(n.useEffect)(function(){if(b){var e=b.filter(function(e){if(s&&u){if(w&&""!==w)return(e[a]+e[c]+e[s]+e[u]).toLowerCase().includes(w.toLowerCase());q(!1),m("","",a,s,"","")}else{if(w&&""!==w)return(e[a]+e[c]).toLowerCase().includes(w.toLowerCase());q(!1),m("","",a,"","","")}});F(e)}},[w]);var Q,$=Object(n.useRef)([]),A=Object(n.useRef)(null),G=Object(n.useRef)(null),_=Object(n.useRef)(null),K=Object(n.useRef)(null),V=Object(n.useRef)(null),Y=Object(n.useRef)(null);return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{ref:"productID"===c?A:"customerID"===c?G:"POLID"===c?_:"PODID"===c?K:"trafficID"===c?V:Y,placeholder:i,type:"text",value:p?"":O||f,onFocus:function(){l.a.post(t).then(function(e){y(e.data)})},onChange:function(e){q(!0),N(e.target.value),S(e.target.value)},onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:function(e){k&&k.length>0&&"ArrowRight"===e.key&&(e.preventDefault(),Q=0,console.log($.current),console.log($.current[Q]),0===Q&&$.current[Q].focus()),"Enter"===e.key&&e.preventDefault()}}),o.a.createElement("div",{className:"flexbreak"}),o.a.createElement("span",{className:"QSsearchresults-container"},o.a.createElement("ul",{className:B?"QSsearchresults":"QSsearchresults-hide"},k?k.map(function(e,t){return u&&s?o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{ref:function(e){return $.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),c){case"productID":A.current.focus();break;case"customerID":G.current.focus();break;case"POLID":_.current.focus();break;case"PODID":K.current.focus();break;case"trafficID":V.current.focus();break;case"paytermID":Y.current.focus()}if("ArrowDown"===t.key&&(t.preventDefault(),$.current[Q+1]&&(Q+=1,$.current[Q].focus())),"ArrowUp"===t.key&&(t.preventDefault(),$.current[Q-1]&&(Q-=1,$.current[Q].focus())),"Enter"===t.key){t.preventDefault(),d(!0);var r=t.target.innerText,n=r.substring(r.indexOf("(")+1,r.indexOf(")")),o=r.substring(r.indexOf(") ")+2,r.indexOf(" -")),l=r.substring(r.lastIndexOf("(")+1,r.lastIndexOf(")")),i=r.substring(r.lastIndexOf(") ")+2);m(Number(n),Number(l),a,s,o,i),N(null),S(e[a]),q(!1)}},onClick:function(t){d(!0);var r=t.target.innerText,n=r.substring(r.indexOf("(")+1,r.indexOf(")")),o=r.substring(r.indexOf(") ")+2,r.indexOf(" -")),c=r.substring(r.lastIndexOf("(")+1,r.lastIndexOf(")")),l=r.substring(r.lastIndexOf(") ")+2);m(Number(n),Number(c),a,s,o,l),N(null),S(e[a]),q(!1)}},"(",e[c],") ",e[a]," - (",e[u],") ",e[s])):o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{ref:function(e){return $.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),c){case"productID":A.current.focus();break;case"customerID":G.current.focus();break;case"POLID":_.current.focus();break;case"PODID":K.current.focus();break;case"trafficID":V.current.focus();break;case"paytermID":Y.current.focus()}if("ArrowDown"===t.key&&(t.preventDefault(),$.current[Q+1]&&(Q+=1,$.current[Q].focus())),"ArrowUp"===t.key&&(t.preventDefault(),$.current[Q-1]&&(Q-=1,$.current[Q].focus())),"Enter"===t.key){t.preventDefault(),d(!0);var r=t.target.innerText,n=r.substring(r.indexOf("(")+1,r.indexOf(")")),o=r.split(") - ")[1];console.log(n,o),m(Number(n),"",a,"",o,""),N(null),S(e[a]),q(!1)}},onClick:function(t){d(!0);var r=t.target.innerText,n=r.substring(r.indexOf("(")+1,r.indexOf(")")),o=r.split(") - ")[1];console.log(n,o),m(Number(n),"",a,"",o,""),N(null),S(e[a]),q(!1)}},"(",e[c],") - ",e[a]))}):"")))}},510:function(e,t,a){},512:function(e,t,a){},514:function(e,t,a){},57:function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"b",function(){return l});var r=a(1),n=a(0),o=a.n(n),c=o.a.createContext(),l=function(e){var t=e.children,a=Object(n.useState)(),l=Object(r.a)(a,2),i=l[0],s=l[1],u=Object(n.useState)(!0),m=Object(r.a)(u,2),p=m[0],d=m[1],f=Object(n.useState)(JSON.parse(localStorage.getItem("WGusercode"))),h=Object(r.a)(f,2),g=h[0],b=h[1],y=Object(n.useState)(!0),v=Object(r.a)(y,2),E=v[0],O=v[1],N=Object(n.useState)(!1),j=Object(r.a)(N,2),x=j[0],w=j[1];return o.a.createElement(c.Provider,{value:{QStoload:i,setQStoload:s,toggleQSload:function(e){d(function(e){return!e})},diffQS:p,toggleDuplicate:function(e){O(function(e){return!e})},duplicateBoolean:E,loaduser:g,setLoaduser:b,fromdropdown:x,setFromdropdown:w}},t)}},591:function(e,t){},592:function(e,t,a){},594:function(e,t,a){"use strict";a(11),a(1),a(6),a(0),a(85)},595:function(e,t,a){"use strict";(function(e){var r=a(4),n=a(11),o=a(1),c=a(0),l=a.n(c),i=(a(196),a(197),a(32)),s=a.n(i),u=(a(226),a(264)),m=(a(594),a(266)),p=(a(682),a(697),a(696)),d=a(6),f=a.n(d);a(699);function h(){h=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=O(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&a.call(b,n)&&(f=b);var y=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new E(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},v(y),l(y,c,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(){var t=Object(c.useState)(),a=Object(o.a)(t,2),i=(a[0],a[1]),d=JSON.parse(localStorage.getItem("accesstoken")),g=JSON.parse(localStorage.getItem("refreshtoken")),b=f.a.create({headers:{Authorization:"Bearer ".concat(d)}}),y=f.a.create({headers:{Authorization:"Bearer ".concat(g)}});b.interceptors.response.use(function(e){return e},function(){var e=Object(n.a)(h().mark(function e(t){var a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!g||403!==t.response.status){e.next=8;break}return e.next=3,y.post(".refreshtoken");case 3:return a=e.sent,d=a.data.accesstoken,e.next=7,b.post("/waterfallprofit",{},{headers:{Authorization:"Bearer ".concat(d)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Object(c.useEffect)(function(){b.post("/waterfallprofit").then(function(e){i(e.data)})},[]);var v=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-mgmt"))||{}}catch(r){}return a[t]}("layout")||[{i:"a",x:2,y:0,w:28,h:4,isDraggable:!0,isResizable:!1},{i:"b",x:2,y:4,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"c",x:16,y:4,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"d",x:16,y:11,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"e",x:2,y:11,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"f",x:2,y:18,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"g",x:2,y:25,w:28,h:20,isDraggable:!0,isResizable:!1}],E=Object(c.useState)(v),O=Object(o.a)(E,2),N=O[0],j=O[1];return l.a.createElement("div",null,l.a.createElement(s.a,{className:"layout",layout:N,cols:36,rowHeight:30,width:1900,onLayoutChange:function(t){var a,n;a="layout",n=t,e.localStorage&&e.localStorage.setItem("rgl-mgmt",JSON.stringify(Object(r.a)({},a,n))),j(t)},margin:[20,20]},l.a.createElement("div",{id:"keyfigures",key:"a"},l.a.createElement(u.a,null)),l.a.createElement("div",{className:"mgmtchart",id:"graph",key:"b"},l.a.createElement(m.a,null)),l.a.createElement("div",{className:"mgmtchart",id:"graph1",key:"c"}),l.a.createElement("div",{className:"mgmtchart",id:"graph2",key:"d"}),l.a.createElement("div",{className:"mgmtchart",id:"graph3",key:"e"},l.a.createElement(p.a,null)),l.a.createElement("div",{className:"mgmtchart",id:"graph4",key:"f"},l.a.createElement("h3",null,"Profit Waterfall Chart, 2020"))))}}).call(this,a(49))},596:function(e,t,a){"use strict";(function(e){var r=a(25),n=a(4),o=a(11),c=a(1),l=a(0),i=a.n(l),s=a(6),u=a.n(s),m=(a(196),a(197),a(32)),p=(a(226),a(628),a(597)),d=(a(698),a(7)),f=a.n(d),h=a(80),g=a(598),b=a(599),y=a(245);function v(){v=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=O(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new E(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(b),l(b,c,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}function E(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return O(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(l)throw o}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var N=Object(m.WidthProvider)(m.Responsive);t.a=function(){var t=Object(l.useContext)(h.a),a=t.prdata,s=t.setPrdata,m=t.setPrcustomers,d=t.setPrcustomerfilter,O=t.prcustomerfilter,j=t.setPrcustomerchecks,x=t.setPrproducts,w=t.setPrproductfilter,S=t.prproductfilter,C=t.setPrproductchecks,D=t.setPrpgroups,k=t.setPrpgroupfilter,F=t.setPrpgroupchecks,I=t.prpgroupfilter,L=(t.setPrprodcats,t.setPrprodcatfilter,t.setPrprodcatchecks,function(e,t){var a,r=0,n=E(e);try{for(n.s();!(a=n.n()).done;){var o=a.value;O&&O.includes(o.customer)&&S&&S.includes(o.product)&&I&&I.includes(o.productGroup)&&(r+=o[t])}}catch(c){n.e(c)}finally{n.f()}return r}),T=function(e,t,a){var r,n=0,o=E(e);try{for(o.s();!(r=o.n()).done;){var c=r.value;O&&O.includes(c.customer)&&S&&S.includes(c.product)&&I&&I.includes(c.productGroup)&&(n+=c[t]*c[a])}}catch(l){o.e(l)}finally{o.f()}return n},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return t+" "+e.toFixed(a).replace(/\B(?=(\d{3})+(?!\d))/g,",")},B=Object(l.useState)(),q=Object(c.a)(B,2),Q=(q[0],q[1]),$=JSON.parse(localStorage.getItem("accesstoken")),A=JSON.parse(localStorage.getItem("refreshtoken")),G=Object(l.useState)({quantity:0,revenue:0,profit:0,avgprofit:0,pctprofit:0}),_=Object(c.a)(G,2),K=(_[0],_[1],u.a.create({headers:{Authorization:"Bearer ".concat($)}})),V=u.a.create({headers:{Authorization:"Bearer ".concat(A)}});K.interceptors.response.use(function(e){return e},function(){var e=Object(o.a)(v().mark(function e(t){var a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!A||403!==t.response.status){e.next=8;break}return e.next=3,V.post(".refreshtoken");case 3:return a=e.sent,$=a.data.accesstoken,e.next=7,K.post("/waterfallprofit",{},{headers:{Authorization:"Bearer ".concat($)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Object(l.useEffect)(function(){K.post("/waterfallprofit").then(function(e){Q(e.data)})},[]);var Y=function(t,a){var r,o;r="layouts",o=a,e.localStorage&&e.localStorage.setItem("rgl-profitability",JSON.stringify(Object(n.a)({},r,o))),H(a)},M=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-profitability"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],md:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],sm:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],xs:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],xxs:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}]},R=Object(l.useState)(M),W=Object(c.a)(R,2),U=W[0],H=W[1],z=["month","country","customer","productGroup","prodCatName","product","tCode"],J=Object(l.useState)(0),Z=Object(c.a)(J,2),X=Z[0],ee=Z[1],te=Object(l.useState)(0),ae=Object(c.a)(te,2),re=ae[0],ne=ae[1],oe=f()().format("YYYY"),ce=f()().format("MM"),le=(f()().format("DD"),f()().format("YYYY-MM-DD"),f()().year(oe).month(Number(ce)-1).date(1).format("YYYY-MM-DD")),ie=Object(l.useState)(le),se=Object(c.a)(ie,2),ue=se[0],me=se[1],pe=Object(l.useState)(f()().add(1,"years").format("YYYY-MM-DD")),de=Object(c.a)(pe,2),fe=de[0],he=de[1],ge=Object(l.useState)(!1),be=Object(c.a)(ge,2),ye=be[0],ve=be[1],Ee=Object(l.useState)(!1),Oe=Object(c.a)(Ee,2),Ne=Oe[0],je=Oe[1],xe=Object(l.useState)("month"),we=Object(c.a)(xe,2),Se=we[0],Ce=we[1];Object(l.useEffect)(function(){u.a.post("/profitabilityreport",{reportstartdate:ue,reportenddate:fe}).then(function(e){s(e.data);var t=Object(r.a)(new Set(e.data.map(function(e){return e.customer}))).sort();m(t),d(t),j(new Array(t.length).fill(!0));var a=Object(r.a)(new Set(e.data.map(function(e){return e.product}))).sort();x(a),w(a),C(new Array(a.length).fill(!0));var n=Object(r.a)(new Set(e.data.map(function(e){return e.productGroup}))).sort();D(n),k(n),F(new Array(n.length).fill(!0))})},[Ne]);var De=Object(l.useState)(!0),ke=Object(c.a)(De,2),Fe=ke[0],Ie=ke[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(N,{style:{left:"2px"},className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:U,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,t){Y(0,t)},margin:[20,20],draggableCancel:".canceldrag"},i.a.createElement("div",{id:"profitability",key:"h"},i.a.createElement("div",{className:"profreporttitle"},i.a.createElement("h3",null,"Profitability Report"),i.a.createElement(y.a,{csvData:a,fileName:"profitability - "+ue+" to "+fe}),i.a.createElement("button",{onClick:function(e){Ie(!Fe)}},Fe?"Hide Detail":"Show Detail")),i.a.createElement("div",{className:"periodfilter"},i.a.createElement("div",{className:"periodfilterbuttons"},i.a.createElement("p",null,"Period:"),["This month","Last 3 months","This year","Last 12 months","Custom"].map(function(e,t){return i.a.createElement("button",{key:t,name:e,onClick:function(e){return ee(a=t),0===a&&(ve(!1),me(le),je(!Ne)),1===a&&(ve(!1),me(f()().subtract(3,"months").format("YYYY-MM-DD")),je(!Ne)),2===a&&(ve(!1),me(f()().year(oe).month(0).date(1).format("YYYY-MM-DD")),je(!Ne)),3===a&&(ve(!1),me(f()().subtract(12,"months").format("YYYY-MM-DD")),je(!Ne)),void(4===a&&ve(!0));var a},className:t===X?"periodfilterbutton active":"periodfilterbutton"},e)})),i.a.createElement("div",{className:"customdateinputs"},ye?[i.a.createElement("label",null,"From:"),i.a.createElement("input",{value:ue,className:"check",type:"date",onChange:function(e){e.preventDefault(),me(e.target.value)}}),i.a.createElement("label",null,"To:"),i.a.createElement("input",{value:fe,className:"check2",type:"date",onChange:function(e){e.preventDefault(),he(e.target.value)}}),i.a.createElement("button",{onClick:function(e){je(!Ne)},className:"periodfilterbutton"},"Go")]:"")),i.a.createElement("div",{className:"prgroupby"},i.a.createElement("p",null,"Group By:"),["Month","Country","Customer","Product Group","Product Category","Product","Trader"].map(function(e,t){return i.a.createElement("button",{key:t,name:z[t],onClick:function(e){return function(e,t){e.preventDefault(),ne(t),Ce(e.target.name),je(!Ne)}(e,t)},className:t===re?"periodfilterbutton active":"periodfilterbutton"},e)})),i.a.createElement("div",{className:"prsummarystats"},i.a.createElement("div",{className:"prstatgroup"},i.a.createElement("p",null,a?P(L(a,"quantity"),"",0):""),i.a.createElement("h4",null,"Quantity")),i.a.createElement("div",{className:"prstatgroup"},i.a.createElement("p",null,a?P(T(a,"quantity","price"),"$",0):""),i.a.createElement("h4",null,"Revenue")),i.a.createElement("div",{className:"prstatgroup"},i.a.createElement("p",null,a?P(L(a,"profit"),"$",0):""),i.a.createElement("h4",null,"Profit")),i.a.createElement("div",{className:"prstatgroup"},i.a.createElement("p",null,a?P(L(a,"profit")/L(a,"quantity"),"$",2):""),i.a.createElement("h4",null,"Average Profit")),i.a.createElement("div",{className:"prstatgroup"},i.a.createElement("p",null,a?(L(a,"profit")/T(a,"quantity","price")*100).toFixed(2)+"%":""),i.a.createElement("h4",null,"Margin"))),i.a.createElement(p.a,{key:"profitabilityreport",reportstartdate:ue,reportenddate:fe,refreshreport:Ne,profitreportgroupby:Se,prshowdetail:Fe})),i.a.createElement("div",{id:"profitabilitychart",key:"j"},i.a.createElement(g.a,{profitreportgroupby:Se,style:{size:"100%",overflow:"hidden"}})),i.a.createElement("div",{id:"profitabilitychart",key:"k"},i.a.createElement(b.a,{profitreportgroupby:Se,style:{size:"100%",overflow:"hidden"}}))))}}).call(this,a(49))},597:function(e,t,a){"use strict";var r=a(1),n=a(0),o=a.n(n),c=(a(6),a(630),a(7),a(30)),l=a(15),i=a(80);function s(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(l)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}t.a=function(e){e.reportstartdate,e.reportenddate,e.refreshreport;var t=e.profitreportgroupby,a=e.prshowdetail,u=Object(n.useContext)(i.a),m=u.prdata,p=u.prcustomers,d=(u.setPrcustomers,u.setPrcustomerfilter),f=u.prcustomerfilter,h=u.setPrcustomerchecks,g=u.prcustomerchecks,b=u.prproducts,y=(u.setPrproducts,u.setPrproductfilter),v=u.prproductfilter,E=u.setPrproductchecks,O=u.prproductchecks,N=u.prpgroupchecks,j=u.setPrpgroupchecks,x=u.prpgroups,w=u.setPrpgroupfilter,S=u.prpgroupfilter,C=Object(n.useState)(!1),D=Object(r.a)(C,2),k=D[0],F=D[1],I=Object(n.useState)(!1),L=Object(r.a)(I,2),T=L[0],P=L[1],B=Object(n.useState)(!1),q=Object(r.a)(B,2),Q=q[0],$=q[1];Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var A=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!==a&&!1===r&&(t=g.map(function(e,t){return t===a?!e:e}),h(t)),!0===r&&(t=g.map(function(){return!0}),h(t)),null===a&&!1===r&&(t=g.map(function(){return!1}),h(t));var n=t.map(function(e,t){return!0===e?p[t]:""}).filter(function(e){return""!==e});d(n)},G=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!==a&&!1===r&&(t=O.map(function(e,t){return t===a?!e:e}),E(t)),!0===r&&(t=O.map(function(){return!0}),E(t)),null===a&&!1===r&&(t=O.map(function(){return!1}),E(t));var n=t.map(function(e,t){return!0===e?b[t]:""}).filter(function(e){return""!==e});y(n)},_=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!==a&&!1===r&&(t=N.map(function(e,t){return t===a?!e:e}),j(t)),!0===r&&(t=N.map(function(){return!0}),j(t)),null===a&&!1===r&&(t=N.map(function(){return!1}),j(t));var n=t.map(function(e,t){return!0===e?x[t]:""}).filter(function(e){return""!==e});w(n)};var K,V=Object(n.useRef)(null);K=V,Object(n.useEffect)(function(){function e(e){K.current&&!K.current.contains(e.target)&&(console.log("clicked outside"),!0===k&&F(!1))}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[K]);var Y="",M=0,R=0,W=function(e,t){var a,r=0,n=s(e);try{for(n.s();!(a=n.n()).done;){var o=a.value;f&&f.includes(o.customer)&&v&&v.includes(o.product)&&S&&S.includes(o.productGroup)&&(r+=o[t])}}catch(c){n.e(c)}finally{n.f()}return r},U=Object(n.useState)(""),H=Object(r.a)(U,2),z=H[0],J=H[1],Z=Object(n.useState)(""),X=Object(r.a)(Z,2),ee=X[0],te=X[1],ae=function(e,t){J(t),""===ee&&te("DESC"),"DESC"===ee&&te("ASC"),"ASC"===ee&&te("")},re=function(e,t){var a,r=0,n=s(e);try{for(n.s();!(a=n.n()).done;)r+=a.value[t]}catch(o){n.e(o)}finally{n.f()}return r};return o.a.createElement("div",{className:"profitabilityreport"},o.a.createElement("ul",null,o.a.createElement("li",{key:"profitabilityreportheader",className:"profitabilityreportline prheader"},o.a.createElement("p",{className:"profitabilityreportcolumn",style:{display:"flex",flexDirection:"row",alignItems:"center",flexBasis:"14%"}},"QSID"),o.a.createElement("p",{className:"profitabilityreportcolumn",style:{display:"flex",flexDirection:"row",alignItems:"center",flexBasis:"14%"}},"WGP"),o.a.createElement("p",{className:"profitabilityreportcolumn",style:{display:"flex",flexDirection:"row",alignItems:"center",flexBasis:"14%"}},"WGS"),o.a.createElement("p",{className:"profitabilityreportcolumn ",style:{display:"flex",flexDirection:"row",alignItems:"center"}},"ShipmentDate"),o.a.createElement("p",{className:"profitabilityreportcolumn "},"Country"),o.a.createElement("p",{className:"profitabilityreportcolumn ",style:{display:"flex",flexDirection:"row",alignItems:"center"}},"Customer"," ",o.a.createElement(c.a,{className:"ellipsis",key:"icon3",style:{color:"gray",marginLeft:0},icon:g&&g.filter(Boolean).length===p.length?l.d:l.f,onClick:function(e){F(!k)}}),k?o.a.createElement("div",{ref:V,className:"prfiltermenu"},o.a.createElement("p",{className:"prselect",onClick:function(e){return A(e,null,!0)}},"Select All"),o.a.createElement("p",{className:"prselect",onClick:function(e){return A(e,null,!1)}},"Clear All"),p?p.map(function(e,t){return o.a.createElement("div",{className:"prcheckgroup"},o.a.createElement("input",{type:"checkbox",id:e,name:e,value:e,checked:!g||g[t],onChange:function(e){return A(e,t)}}),o.a.createElement("label",{for:e},e))}):""):""),o.a.createElement("p",{className:"profitabilityreportcolumn"},"ProdGroup"," ",o.a.createElement(c.a,{className:"ellipsis",key:"icon3",style:{color:"gray",marginLeft:0},icon:N&&N.filter(Boolean).length===x.length?l.d:l.f,onClick:function(e){$(!Q)}}),Q?o.a.createElement("div",{ref:V,className:"prfiltermenu"},o.a.createElement("p",{className:"prselect",onClick:function(e){return _(e,null,!0)}},"Select All"),o.a.createElement("p",{className:"prselect",onClick:function(e){return _(e,null,!1)}},"Clear All"),x?x.map(function(e,t){return o.a.createElement("div",{className:"prcheckgroup"},o.a.createElement("input",{type:"checkbox",id:e,name:e,value:e,checked:!N||N[t],onChange:function(e){return _(e,t)}}),o.a.createElement("label",{for:e},e))}):""):""),o.a.createElement("p",{className:"profitabilityreportcolumn"},"ProdCat"),o.a.createElement("p",{className:"profitabilityreportcolumn "},"Product",o.a.createElement(c.a,{className:"ellipsis",key:"icon3",style:{color:"gray",marginLeft:0},icon:O&&O.filter(Boolean).length===b.length?l.d:l.f,onClick:function(e){P(!T)}}),T?o.a.createElement("div",{className:"prfiltermenu"},o.a.createElement("p",{className:"prselect",onClick:function(e){return G(e,null,!0)}},"Select All"),o.a.createElement("p",{className:"prselect",onClick:function(e){return G(e,null,!1)}},"Clear All"),b?b.map(function(e,t){return o.a.createElement("div",{className:"prcheckgroup"},o.a.createElement("input",{type:"checkbox",id:e,name:e,value:e,checked:!O||O[t],onChange:function(e){return G(e,t)}}),o.a.createElement("label",{for:e},e))}):""):""),o.a.createElement("p",{className:"profitabilityreportcolumn prfig"},"Quantity"," ",o.a.createElement(c.a,{className:"ellipsis",key:"icon4",style:{color:"gray",marginLeft:0},icon:"DESC"===ee&&"quantity"===z?l.m:"ASC"===ee&&"quantity"===z?l.n:l.l,onClick:function(e){ae(0,"quantity")}})),o.a.createElement("p",{className:"profitabilityreportcolumn prfig"},"Price"),o.a.createElement("p",{className:"profitabilityreportcolumn prfig"},"Profit(pmt)"),o.a.createElement("p",{className:"profitabilityreportcolumn prfig"},"Profit"," ",o.a.createElement(c.a,{className:"ellipsis",key:"icon4",style:{color:"gray",marginLeft:0},icon:"DESC"===ee&&"profit"===z?l.m:"ASC"===ee&&"profit"===z?l.n:l.l,onClick:function(e){ae(0,"profit")}}))),m?Object.entries(m.groupBy(t)).sort(function(e,t){var a=Object(r.a)(e,2)[1],n=Object(r.a)(t,2)[1];return""!==z&&"DESC"===ee?re(n,z)-re(a,z):""!==z&&"ASC"===ee?re(a,z)-re(n,z):void 0}).map(function(e,n){return Y=Object.keys(Object.fromEntries(Object.entries(m.groupBy(t)).sort(function(e,t){var a=Object(r.a)(e,2)[1],n=Object(r.a)(t,2)[1];return""!==z&&"DESC"===ee?re(n,z)-re(a,z):""!==z&&"ASC"===ee?re(a,z)-re(n,z):void 0})))[n],M=0,R=0,[o.a.createElement(o.a.Fragment,null,W(e[1],"quantity")>0?[o.a.createElement("h3",{className:"prmonth"},Y)]:""),e[1].map(function(e){return f&&v&&S&&f.includes(e.customer)&&v.includes(e.product)&&S.includes(e.productGroup)&&(M+=Number(e.profit),R+=Number(e.quantity)),o.a.createElement("li",{key:e.QSID,className:a?"profitabilityreportline":"profitabilityreportline prdisplay-none"},f&&v&&S&&f.includes(e.customer)&&v.includes(e.product)&&S.includes(e.productGroup)?[o.a.createElement("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"},e.QSID),o.a.createElement("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"},e.KTP),o.a.createElement("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"},e.KTS),o.a.createElement("p",{className:"profitabilityreportcolumn"},e.startship," - ",e.endship),o.a.createElement("p",{className:"profitabilityreportcolumn"},e.country),o.a.createElement("p",{className:"profitabilityreportcolumn"},e.customer),o.a.createElement("p",{className:"profitabilityreportcolumn"},e.productGroup),o.a.createElement("p",{className:"profitabilityreportcolumn"},e.prodCatName),o.a.createElement("p",{className:"profitabilityreportcolumn"},e.product),o.a.createElement("p",{className:"profitabilityreportcolumn prfig"},e.quantity.toFixed(2)),o.a.createElement("p",{className:"profitabilityreportcolumn prfig"},e.price.toFixed(2)),o.a.createElement("p",{className:"profitabilityreportcolumn prfig"},e?e.profitpmt.toFixed(2):""),o.a.createElement("p",{className:"profitabilityreportcolumn prfig"},e.profit?"$"+e.profit.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"")]:"")}),o.a.createElement("div",null,W(e[1],"quantity")>0?[o.a.createElement("li",{className:"profitabilityreportline"},o.a.createElement("p",{style:{display:"flex",flexBasis:"14%"},className:"profitabilityreportcolumn"}),o.a.createElement("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"}),o.a.createElement("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"}),o.a.createElement("p",{className:"profitabilityreportcolumn"}),o.a.createElement("p",{className:"profitabilityreportcolumn"}),o.a.createElement("p",{className:"profitabilityreportcolumn"}),o.a.createElement("p",{className:"profitabilityreportcolumn"}),o.a.createElement("p",{className:"profitabilityreportcolumn"}),o.a.createElement("p",{className:"profitabilityreportcolumn"}),o.a.createElement("p",{className:"profitabilityreportcolumn prfig prtotal"},R.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("p",{className:"profitabilityreportcolumn prfig"}),o.a.createElement("p",{className:"profitabilityreportcolumn prfig"}),o.a.createElement("p",{className:"profitabilityreportcolumn prfig prtotal"},"$"+M.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")))]:"")]}):""))}},598:function(e,t,a){"use strict";var r=a(1),n=a(0),o=a.n(n),c=a(29),l=a(208),i=a(80);function s(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(l)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}c.e.register(c.d,c.i,c.b,c.n,c.o,c.g);t.a=function(e){var t=e.profitreportgroupby,a=Object(n.useContext)(i.a).prdata;Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var c=Object(n.useState)(),u=Object(r.a)(c,2),m=u[0],p=u[1],d=Object(n.useState)(),f=Object(r.a)(d,2),h=f[0],g=f[1];Object(n.useEffect)(function(){if(a){var e=a.groupBy(t);g(Object.keys(e).reverse()),p(Object.entries(e).map(function(e,t){return function(e,t){var a,r=0,n=s(e);try{for(n.s();!(a=n.n()).done;)r+=a.value[t]}catch(o){n.e(o)}finally{n.f()}return r}(e[1],"quantity")}).reverse())}},[a,t]);var b={labels:h,datasets:[{label:"Quantity (mt)",data:m,backgroundColor:"rgba(68, 65, 162, 0.7)"}]};return o.a.createElement(l.a,{options:{responsive:!0},data:b})}},599:function(e,t,a){"use strict";var r=a(1),n=a(0),o=a.n(n),c=a(29),l=a(208),i=a(80);function s(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(l)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}c.e.register(c.d,c.i,c.b,c.n,c.o,c.g);t.a=function(e){var t=e.profitreportgroupby,a=Object(n.useContext)(i.a).prdata;Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var c=Object(n.useState)(),u=Object(r.a)(c,2),m=u[0],p=u[1],d=Object(n.useState)(),f=Object(r.a)(d,2),h=f[0],g=f[1];Object(n.useEffect)(function(){if(a){var e=a.groupBy(t);g(Object.keys(e).reverse()),p(Object.entries(e).map(function(e,t){return function(e,t){var a,r=0,n=s(e);try{for(n.s();!(a=n.n()).done;)r+=a.value[t]}catch(o){n.e(o)}finally{n.f()}return r}(e[1],"profit")}).reverse())}},[a,t]);var b={labels:h,datasets:[{label:"Profit ($)",data:m,backgroundColor:"rgba(160, 182, 103, 0.7)"}]};return o.a.createElement(l.a,{options:{responsive:!0},data:b})}},601:function(e,t,a){"use strict";(function(e){var r=a(1),n=a(4),o=a(0),c=a.n(o),l=(a(592),a(6)),i=a.n(l),s=a(602),u=(a(196),a(197),a(32)),m=Object(u.WidthProvider)(u.Responsive);t.a=function(){var t=function(t,a){var r,o;r="layouts",o=a,e.localStorage&&e.localStorage.setItem("rgl-analysis",JSON.stringify(Object(n.a)({},r,o))),d(a)},a=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-analysis"))|{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"a",x:0,y:0,w:30,h:14}],md:[{i:"a",x:0,y:0,w:30,h:14}],sm:[{i:"a",x:0,y:0,w:30,h:14}],xs:[{i:"a",x:0,y:0,w:30,h:14}],xxs:[{i:"a",x:0,y:0,w:30,h:14}]},l=Object(o.useState)(a),u=Object(r.a)(l,2),p=u[0],d=u[1],f=Object(o.useState)(JSON.parse(localStorage.getItem("WGusercode"))),h=Object(r.a)(f,2),g=h[0],b=h[1],y=Object(o.useState)(),v=Object(r.a)(y,2),E=v[0],O=v[1];return Object(o.useEffect)(function(){i.a.post("/traders").then(function(e){O(e.data)})},[]),c.a.createElement("div",null," ",c.a.createElement(m,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:p,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,a){t(0,a)},margin:[20,20],draggableCancel:".canceldrag"},c.a.createElement("div",{id:"lastyearsales",key:"a"},c.a.createElement("div",{className:"lystitlesection"},c.a.createElement("h3",{className:"lystitle"},"Last Year Sales and Indications"),c.a.createElement("select",{onChange:function(e){return b(e.target.value)}},c.a.createElement("option",{value:"all"},"All"),E?E.map(function(e){return e.trader===g?c.a.createElement("option",{selected:!0,value:e.trader},e.trader):c.a.createElement("option",{value:e.trader},e.trader)}):"reload")),c.a.createElement(s.a,{userID:g}))))}}).call(this,a(49))},602:function(e,t,a){"use strict";var r=a(1),n=a(0),o=a.n(n),c=a(6),l=a.n(c),i=a(7),s=a.n(i);t.a=function(e){var t=e.userID,a=Object(n.useState)(),c=Object(r.a)(a,2),i=(c[0],c[1]),u=Object(n.useState)(),m=Object(r.a)(u,2),p=m[0],d=m[1];Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})},Object(n.useEffect)(function(){var e=Number(s()().format("YY"))-1,a=s()().format("DD"),r=Number(s()().format("MM"))-1,n=Number(s()().format("MM"))+1,o=s()(r+"-"+a+"-"+e).format("YYYY-MM"),c=s()(n+"-"+a+"-"+e).format("YYYY-MM");console.log(o),console.log(c),l.a.post("/lysales",{fromdate:o,todate:c,userID:t}).then(function(e){i(e.data);var t=e.data.groupBy("month");d(t)})},[t]);var f="";return o.a.createElement("div",{className:"lysaleslist"},o.a.createElement("ul",{className:"lysalesdata"},o.a.createElement("li",{className:"lysalesline lysalesheader"},o.a.createElement("p",{className:"lysalescolumn"},"QSDate"),o.a.createElement("p",{className:"lysalescolumn"},"QSID"),o.a.createElement("p",{className:"lysalescolumn"},"Customer"),o.a.createElement("p",{className:"lysalescolumn"},"Product"),o.a.createElement("p",{className:"lysalescolumn lysfig"},"Quantity"),o.a.createElement("p",{className:"lysalescolumn lysfig"},"Price"),o.a.createElement("p",{className:"lysalescolumn lysfig"},"Profit"),o.a.createElement("p",{className:"lysalescolumn"},"Status")),p?Object.entries(p).map(function(e,t){return f=Object.keys(p)[t],[o.a.createElement("h3",{className:"lysalesmonth"},f),e[1].map(function(e){return o.a.createElement("li",{className:"lysalesline"},o.a.createElement("p",{className:"lysalescolumn"},e.QSDate),o.a.createElement("p",{className:"lysalescolumn"},e.QSID),o.a.createElement("p",{className:"lysalescolumn"},e.customer),o.a.createElement("p",{className:"lysalescolumn"},e.abbreviation),o.a.createElement("p",{className:"lysalescolumn lysfig"},e.quantity.toFixed(2)),o.a.createElement("p",{className:"lysalescolumn lysfig"},"$ "+e.priceBeforeInterest.toFixed(2)),o.a.createElement("p",{className:"lysalescolumn lysfig"},"$ "+e.tradingProfit.toFixed(2)),o.a.createElement("p",{className:"lysalescolumn"},-1==e.saleComplete?"Sale":"Indication"))})]}):""))}},603:function(e,t,a){"use strict";(function(e){var r=a(1),n=a(4),o=a(0),c=a.n(o),l=(a(196),a(197),a(32)),i=a(604),s=a(7),u=a.n(s),m=a(6),p=a.n(m),d=Object(l.WidthProvider)(l.Responsive);t.a=function(){var t=function(t,a){var r,o;r="layouts",o=a,e.localStorage&&e.localStorage.setItem("rgl-avb",JSON.stringify(Object(n.a)({},r,o))),f(a)},a=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-avb"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"h",x:0,y:0,w:34,h:28},{i:"j",x:34,y:28,w:34,h:28}],md:[{i:"h",x:0,y:0,w:34,h:28},{i:"j",x:34,y:28,w:34,h:28}],sm:[{i:"h",x:0,y:0,w:34,h:28},{i:"j",x:34,y:28,w:34,h:28}],xs:[{i:"h",x:0,y:0,w:34,h:28},{i:"j",x:34,y:28,w:34,h:28}],xxs:[{i:"h",x:0,y:0,w:34,h:28},{i:"j",x:34,y:28,w:34,h:28}]},l=Object(o.useState)(a),s=Object(r.a)(l,2),m=s[0],f=s[1],h=u()().format("YYYY"),g=Object(o.useState)(),b=Object(r.a)(g,2),y=b[0],v=b[1],E=Object(o.useState)("region"),O=Object(r.a)(E,2),N=O[0],j=O[1],x=Object(o.useState)(""),w=Object(r.a)(x,2),S=w[0],C=w[1],D=Object(o.useState)(""),k=Object(r.a)(D,2),F=k[0],I=k[1],L=Object(o.useState)(""),T=Object(r.a)(L,2),P=T[0],B=T[1],q=Object(o.useState)("budget"),Q=Object(r.a)(q,2),$=(Q[0],Q[1],Object(o.useState)("")),A=Object(r.a)($,2),G=A[0],_=A[1],K=Object(o.useState)(""),V=Object(r.a)(K,2),Y=V[0],M=V[1],R=Object(o.useState)(""),W=Object(r.a)(R,2),U=W[0],H=W[1],z=Object(o.useState)("sold"),J=Object(r.a)(z,2),Z=(J[0],J[1],Object(o.useState)("")),X=Object(r.a)(Z,2),ee=(X[0],X[1],Object(o.useState)("")),te=Object(r.a)(ee,2);te[0],te[1];return Object(o.useEffect)(function(){p.a.post("/loadcurrentbudget",{currentyear:h}).then(function(e){v(e.data)})},[]),c.a.createElement("div",null,c.a.createElement(d,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:m,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,a){t(0,a)},margin:[20,20],draggableCancel:".canceldrag"},c.a.createElement("div",{id:"avbbarchart",key:"h"},c.a.createElement(i.a,{groupcriteria:N,groupcriteria2:S,groupcriteria3:F,groupcriteria4:P,loadeddata:y,setGroupcriteria:j,setGroupcriteria2:C,setGroupcriteria3:I,setGroupcriteria4:B,filter1:G,filter2:Y,filter3:U,setFilter1:_,setFilter2:M,setFilter3:H}))))}}).call(this,a(49))},604:function(e,t,a){"use strict";var r=a(2),n=a(1),o=a(0),c=a.n(o),l=a(7),i=a.n(l),s=(a(6),a(640),a(29)),u=a(208);s.e.register(s.d,s.i,s.b,s.n,s.o,s.g);t.a=function(e){var t=e.groupcriteria,a=e.groupcriteria2,l=e.groupcriteria3,s=e.groupcriteria4,m=e.loadeddata,p=e.setGroupcriteria,d=e.setGroupcriteria2,f=e.setGroupcriteria3,h=e.setGroupcriteria4,g=e.filter1,b=e.setFilter1,y=e.filter2,v=e.setFilter2,E=e.filter3,O=e.setFilter3,N=Object(o.useState)(),j=Object(n.a)(N,2),x=j[0],w=j[1],S=Object(o.useState)(),C=Object(n.a)(S,2),D=(C[0],C[1],Object(o.useState)()),k=Object(n.a)(D,2),F=(k[0],k[1],Object(o.useState)()),I=Object(n.a)(F,2),L=I[0],T=I[1],P=Object(o.useState)(),B=Object(n.a)(P,2),q=B[0],Q=B[1],$=Object(o.useState)(),A=Object(n.a)($,2),G=A[0],_=A[1],K=Object(o.useState)(),V=Object(n.a)(K,2),Y=V[0],M=V[1],R=Object(o.useState)(),W=Object(n.a)(R,2),U=W[0],H=W[1],z=Object(o.useState)(),J=Object(n.a)(z,2),Z=J[0],X=J[1],ee=Object(o.useState)(),te=Object(n.a)(ee,2),ae=te[0],re=te[1],ne=Object(o.useState)(),oe=Object(n.a)(ne,2),ce=oe[0],le=oe[1],ie=Object(o.useState)(),se=Object(n.a)(ie,2),ue=se[0],me=se[1],pe=Object(o.useState)(),de=Object(n.a)(pe,2),fe=de[0],he=de[1],ge=Object(o.useState)(),be=Object(n.a)(ge,2),ye=be[0],ve=be[1],Ee=Object(o.useState)(),Oe=Object(n.a)(Ee,2),Ne=Oe[0],je=Oe[1],xe=Object(o.useState)(),we=Object(n.a)(xe,2),Se=we[0],Ce=we[1],De=Object(o.useState)(),ke=Object(n.a)(De,2),Fe=ke[0],Ie=ke[1],Le=Object(o.useState)(),Te=Object(n.a)(Le,2),Pe=Te[0],Be=Te[1],qe=Object(o.useState)(),Qe=Object(n.a)(qe,2),$e=Qe[0],Ae=Qe[1],Ge=Object(o.useState)(),_e=Object(n.a)(Ge,2),Ke=_e[0],Ve=_e[1],Ye=Object(o.useState)(i()().quarter()),Me=Object(n.a)(Ye,2),Re=Me[0],We=(Me[1],Object(o.useState)("budget")),Ue=Object(n.a)(We,2),He=(Ue[0],Ue[1],Object(o.useState)("sold")),ze=Object(n.a)(He,2),Je=(ze[0],ze[1],["Region","Country","Product Group","Product Category","Product"]),Ze=Object(o.useState)(Je),Xe=Object(n.a)(Ze,2),et=Xe[0],tt=Xe[1],at=["region","country","productGroup","productCategory","product"],rt=Object(o.useState)(at),nt=Object(n.a)(rt,2),ot=nt[0],ct=nt[1];Object(o.useEffect)(function(){lt(t,m,a,l)},[m,t,g,y,E,a,l,s]),Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var lt=function(e,t,a,o){if(t){var c=[];""!==g?(c=t.filter(function(t){return t[e]===g}),""!==y&&(c=c.filter(function(e){return e[a]===y}),""!==E&&(c=c.filter(function(e){return e[o]===E})))):c=t;var l=[],i=[],u=[];u=c.groupBy(e),""!==a&&""===o&&(u=c.groupBy(a)),""!==o&&(u=c.groupBy(o)),""!==E&&(u=c.groupBy(s));for(var m=0,p=Object.entries(u);m<p.length;m++){var d=p[m],f=Object(n.a)(d,2);l={group:f[0]};for(var h=f[1].groupBy("qq"),b=0,v=0,O=0,N=0,j=0,x=0,S=0,C=0,D=0,k=0,F=0,I=0,L=0,P=0,B=0,q=0,$=0,A=Object.entries(h);$<A.length;$++){var G=A[$],K=Object(n.a)(G,2),V=K[0],Y=K[1];1===Number(V)&&Y.forEach(function(e){b+=e.budget,j+=e.sold,D+=e.budgetprofit,L+=e.soldprofit}),2===Number(V)&&Y.forEach(function(e){v+=e.budget,x+=e.sold,k+=e.budgetprofit,P+=e.soldprofit}),3===Number(V)&&Y.forEach(function(e){O+=e.budget,S+=e.sold,F+=e.budgetprofit,B+=e.soldprofit}),4===Number(V)&&Y.forEach(function(e){N+=e.budget,C+=e.sold,I+=e.budgetprofit,q+=e.soldprofit})}l=Object(r.a)({},l,{qb1:b,qb2:v,qb3:O,qb4:N,totalb:b+v+O+N,qs1:j,qs2:x,qs3:S,qs4:C,totals:j+x+S+C,qbp1:D,qbp2:k,qbp3:F,qbp4:I,totalbprofit:D+k+F+I,qsp1:L,qsp2:P,qsp3:B,qsp4:q,totalsprofit:L+P+B+q}),i.push(l)}var R=i.sort(function(e,t){return e.totalbp<t.totalb?1:e.totalb>t.totalb?-1:0}).filter(function(e){return e.totalb>0||e.totals>0}),W=R.map(function(e){return e.group}),U=R.map(function(e){return e.qb1}),z=R.map(function(e){return e.qb2}),J=R.map(function(e){return e.qb3}),Z=R.map(function(e){return e.qb4}),ee=R.map(function(e){return e.qs1}),te=R.map(function(e){return e.qs2}),ae=R.map(function(e){return e.qs3}),ne=R.map(function(e){return e.qs4}),oe=R.map(function(e){return e.qbp1}),ce=R.map(function(e){return e.qbp2}),ie=R.map(function(e){return e.qbp3}),se=R.map(function(e){return e.qbp4}),ue=R.map(function(e){return e.qsp1}),pe=R.map(function(e){return e.qsp2}),de=R.map(function(e){return e.qsp3}),fe=R.map(function(e){return e.qsp4});w(W),T(U),Q(z),_(J),M(Z),H(ee),X(te),re(ae),le(ne),me(oe),he(ce),ve(ie),je(se),Ce(ue),Ie(pe),Be(de),Ae(fe),Ve(R)}},it={indexAxis:"y",responsive:!0,plugins:{legend:{display:!1}},aspectRatio:2/1.5,layout:{padding:0},onClick:function(e){""===a&&(b(e.chart.tooltip.title[0]),et.splice(ft,1),ot.splice(ft,1),d(ot[0]),ht(0)),""===l&&""!==a&&(v(e.chart.tooltip.title[0]),et.splice(ft,1),ot.splice(ft,1),f(ot[0]),ht(0)),""===s&&""!==l&&(O(e.chart.tooltip.title[0]),et.splice(ft,1),ot.splice(ft,1),h(ot[0]),ht(0))}},st={indexAxis:"y",responsive:!0,plugins:{legend:{display:!1}},aspectRatio:2/1.5,layout:{padding:0},scales:{x:{ticks:{callback:function(e,t,a){return"$"+e.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}},onClick:function(e){""===a&&(b(e.chart.tooltip.title[0]),et.splice(ft,1),ot.splice(ft,1),d(ot[0]),ht(0)),""===l&&""!==a&&(v(e.chart.tooltip.title[0]),et.splice(ft,1),ot.splice(ft,1),f(ot[0]),ht(0)),""!==l&&""!==a&&(O(e.chart.tooltip.title[0]),et.splice(ft,1),ot.splice(ft,1),h(ot[0]),ht(0))}},ut={labels:x,datasets:[{label:"Budget Q1",data:L,backgroundColor:"rgba(68, 65, 162,1)",stack:"Stack 0"},{label:"Budget Q2",data:q,backgroundColor:"rgba(68, 65, 162,0.7)",stack:"Stack 0"},{label:"Budget Q3",data:G,backgroundColor:"rgba(68, 65, 162,0.4)",stack:"Stack 0"},{label:"Budget Q4",data:Y,backgroundColor:"rgba(68, 65, 162,0.25)",stack:"Stack 0"},{label:"Sales Q1",data:U,backgroundColor:"rgba(160, 182, 103,1)",stack:"Stack 1"},{label:"Sales Q2",data:Z,backgroundColor:"rgba(160, 182, 103,0.7)",stack:"Stack 1"},{label:"Sales Q3",data:ae,backgroundColor:"rgba(160, 182, 103,0.4)",stack:"Stack 1"},{label:"Sales Q4",data:ce,backgroundColor:"rgba(160, 182, 103,0.25)",stack:"Stack 1"}]},mt={labels:x,datasets:[{label:"Budget Q1",data:ue,backgroundColor:"rgba(68, 65, 162,1)",stack:"Stack 0"},{label:"Budget Q2",data:fe,backgroundColor:"rgba(68, 65, 162,0.7)",stack:"Stack 0"},{label:"Budget Q3",data:ye,backgroundColor:"rgba(68, 65, 162,0.4)",stack:"Stack 0"},{label:"Budget Q4",data:Ne,backgroundColor:"rgba(68, 65, 162,0.25)",stack:"Stack 0"},{label:"Sales Q1",data:Se,backgroundColor:"rgba(160, 182, 103,1)",stack:"Stack 1"},{label:"Sales Q2",data:Fe,backgroundColor:"rgba(160, 182, 103,0.7)",stack:"Stack 1"},{label:"Sales Q3",data:Pe,backgroundColor:"rgba(160, 182, 103,0.4)",stack:"Stack 1"},{label:"Sales Q4",data:$e,backgroundColor:"rgba(160, 182, 103,0.25)",stack:"Stack 1"}]},pt=Object(o.useState)(0),dt=Object(n.a)(pt,2),ft=dt[0],ht=dt[1],gt=0,bt=0,yt=0,vt=0,Et=0,Ot=0,Nt=0,jt=0,xt=0,wt=0,St=0,Ct=0,Dt=0,kt=0,Ft=0,It=0,Lt=0,Tt=0,Pt=0,Bt=0;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"AVBTitleArea"},c.a.createElement("div",{className:"AVBTitle"},c.a.createElement("h2",null,t?t.toUpperCase():"",g?" : "+g:"",a?", "+a.toUpperCase():"",y?" : "+y:"",l?", "+l.toUpperCase():"",E?" : "+E:"")),c.a.createElement("div",{className:"groupbuttons"},c.a.createElement("button",{className:"AVBBackbutton",onClick:function(e){return function(){if(""!==E){O("");var e=at.indexOf(l);et.push(Je[e]),ot.push(at[e]),ht(et.indexOf(Je[e])),h("")}else if(""!==y){v("");var r=at.indexOf(a);et.push(Je[r]),ot.push(at[r]),ht(et.indexOf(Je[r])),f("")}else if(""!==g){b("");var n=at.indexOf(t);et.push(Je[n]),ot.push(at[n]),ht(et.indexOf(Je[n])),d("")}}()}},"<< Back"),c.a.createElement("p",null,""!==E?"Level 4:":""!==y?"Level 3:":""!==g?"Level 2:":"Level 1:"),et?et.map(function(e,t){return c.a.createElement("button",{key:t,value:"Product Group"===e?"productGroup":"Product Category"===e?"productCategory":e.toLowerCase(),onClick:function(e){ht(t),""===g?p(e.target.value):""===y?d(e.target.value):""===E?f(e.target.value):h(e.target.value)},className:t===ft?"activegroupbutton":""},e)}):"",c.a.createElement("button",{className:"AVBReset",onClick:function(e){return b(""),v(""),O(""),d(""),f(""),h(""),p("region"),tt(Je),ct(at),void ht(0)}},"Reset"))),c.a.createElement("div",{className:"AVBCharts"},c.a.createElement("div",{className:"AVBChart"},c.a.createElement(u.a,{options:it,data:ut})),c.a.createElement("div",{className:"AVBChart"},c.a.createElement(u.a,{options:st,data:mt}))),c.a.createElement("div",{className:"AVBTable"},c.a.createElement("ul",{className:"AVBTableHeaders"},c.a.createElement("li",{className:"AVBFirstCol"},"(in mt)"),c.a.createElement("li",{className:"AVBTableFig"},"Q1"),c.a.createElement("li",{className:"AVBTableFig"}),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),c.a.createElement("li",{className:"AVBTableFig"},"Q2"),c.a.createElement("li",{className:"AVBTableFig"}),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),c.a.createElement("li",{className:"AVBTableFig"},"Q3"),c.a.createElement("li",{className:"AVBTableFig"}),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),c.a.createElement("li",{className:"AVBTableFig"},"Q4"),c.a.createElement("li",{className:"AVBTableFig"}),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),c.a.createElement("li",{className:"AVBTableFig"},"Totals"),c.a.createElement("li",{className:"AVBTableFig"}),c.a.createElement("li",{className:"AVBTableFig"}),c.a.createElement("li",{className:"AVBTableFig"})),c.a.createElement("ul",{className:"AVBTableHeaders"},c.a.createElement("li",{className:"AVBFirstCol"},""!==s?s.toUpperCase():""!==l?l.toUpperCase():""!==a?a.toUpperCase():t.toUpperCase()),c.a.createElement("li",{className:"AVBTableFig"},"B"),c.a.createElement("li",{className:"AVBTableFig"},"S"),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),c.a.createElement("li",{className:"AVBTableFig"},"B"),c.a.createElement("li",{className:"AVBTableFig"},"S"),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),c.a.createElement("li",{className:"AVBTableFig"},"B"),c.a.createElement("li",{className:"AVBTableFig"},"S"),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),c.a.createElement("li",{className:"AVBTableFig"},"B"),c.a.createElement("li",{className:"AVBTableFig"},"S"),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),c.a.createElement("li",{className:"AVBTableFig"},"Total B")," ",4===Re?"":c.a.createElement("li",{className:"AVBTableFig"},"YTD B"),c.a.createElement("li",{className:"AVBTableFig"},"YTD S"),c.a.createElement("li",{className:"AVBTableFig"},"YTD VAR")),Ke?Ke.map(function(e){return gt+=e.qb1,bt+=e.qb2,yt+=e.qb3,vt+=e.qb4,Et+=e.qs1,Ot+=e.qs2,Nt+=e.qs3,jt+=e.qs4,xt+=e.totalb,wt+=e.totals,[c.a.createElement("ul",{className:"AVBTableRow"},c.a.createElement("li",{className:"AVBFirstCol"},"Dominican Republic"===e.group?"DomRep":e.group),c.a.createElement("li",{className:"AVBTableFig"},e.qb1.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},e.qs1.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qb1>0?(e.qs1/e.qb1*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},e.qb2.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},e.qs2.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qb2>0?(e.qs2/e.qb2*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},e.qb3.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},e.qs3.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qb3>0?(e.qs3/e.qb3*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},e.qb4.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},e.qs4.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qb4>0?(e.qs4/e.qb4*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},e.totalb.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),4===Re?"":c.a.createElement("li",{className:"AVBTableFig"},1===Re?e.qb1.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):2===Re?(e.qb1+e.qb2).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):3===Re?(e.qb1+e.qb2+e.qb3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""),c.a.createElement("li",{className:"AVBTableFig"},e.totals.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),4===Re?e.totalb>0?c.a.createElement("li",{className:"AVBTableFig"},(e.totals/e.totalb*100).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%"):c.a.createElement("li",{className:"AVBTableFig"},' "NB"'):c.a.createElement("li",{className:"AVBTableFig"},1===Re?e.qb1>0?(e.qs1/e.qb1*100).toFixed(0)+"%":"NB":2===Re?e.qb2+e.qb1>0?((e.qs1+e.qs2)/(e.qb1+e.qb2)*100).toFixed(0)+"%":"NB":3===Re?e.qb2+e.qb1+e.qb3>0?((e.qs1+e.qs2+e.qs3)/(e.qb1+e.qb2+e.qb3)*100).toFixed(0)+"%":"NB":""))]}):""," ",c.a.createElement("ul",{className:"AVBTableTotals"},c.a.createElement("li",{className:"AVBFirstCol"},"TOTAL"),c.a.createElement("li",{className:"AVBTableFig"},gt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},Et.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},gt>0?(Et/gt*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},bt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},Ot.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},bt>0?(Ot/bt*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},yt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},Nt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:" AVBTableFig AVBGroupEnd"},yt>0?(Nt/yt*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},vt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},jt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},vt>0?(jt/vt*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},xt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),4===Re?"":c.a.createElement("li",{className:"AVBTableFig"},1===Re?gt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):2===Re?(gt+bt).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):3===Re?(gt+bt+yt).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""),c.a.createElement("li",{className:"AVBTableFig"},wt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},1===Re?gt>0?(wt/gt*100).toFixed(0)+"%":"NB":2===Re?gt+bt>0?(wt/(gt+bt)*100).toFixed(0)+"%":"NB":3===Re?gt+bt+yt>0?(wt/(gt+bt+yt)*100).toFixed(0)+"%":"NB":4===Re?xt>0?(wt/xt*100).toFixed(0)+"%":"NB":""))),c.a.createElement("div",{className:"AVBTable"},c.a.createElement("ul",{className:"AVBTableHeaders"},c.a.createElement("li",{className:"AVBFirstCol"},"(in '000 $)"),c.a.createElement("li",{className:"AVBTableFig"},"Q1"),c.a.createElement("li",{className:"AVBTableFig"}),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),c.a.createElement("li",{className:"AVBTableFig"},"Q2"),c.a.createElement("li",{className:"AVBTableFig"}),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),c.a.createElement("li",{className:"AVBTableFig"},"Q3"),c.a.createElement("li",{className:"AVBTableFig"}),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),c.a.createElement("li",{className:"AVBTableFig"},"Q4"),c.a.createElement("li",{className:"AVBTableFig"}),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),c.a.createElement("li",{className:"AVBTableFig"},"Totals"),c.a.createElement("li",{className:"AVBTableFig"}),c.a.createElement("li",{className:"AVBTableFig"}),c.a.createElement("li",{className:"AVBTableFig"})),c.a.createElement("ul",{className:"AVBTableHeaders"},c.a.createElement("li",{className:"AVBFirstCol"}," ",""!==s?s.toUpperCase():""!==l?l.toUpperCase():""!==a?a.toUpperCase():t.toUpperCase()),c.a.createElement("li",{className:"AVBTableFig"},"B"),c.a.createElement("li",{className:"AVBTableFig"},"S"),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),c.a.createElement("li",{className:"AVBTableFig"},"B"),c.a.createElement("li",{className:"AVBTableFig"},"S"),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),c.a.createElement("li",{className:"AVBTableFig"},"B"),c.a.createElement("li",{className:"AVBTableFig"},"S"),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),c.a.createElement("li",{className:"AVBTableFig"},"B"),c.a.createElement("li",{className:"AVBTableFig"},"S"),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),c.a.createElement("li",{className:"AVBTableFig"},"Total B")," ",4===Re?"":c.a.createElement("li",{className:"AVBTableFig"},"YTD B"),c.a.createElement("li",{className:"AVBTableFig"},"YTD S")," ",c.a.createElement("li",{className:"AVBTableFig"},"YTD VAR")),Ke?Ke.map(function(e){return St+=e.qbp1,Ct+=e.qbp2,Dt+=e.qbp3,kt+=e.qbp4,Ft+=e.qsp1,It+=e.qsp2,Lt+=e.qsp3,Tt+=e.qsp4,Pt+=e.totalbprofit,Bt+=e.totalsprofit,[c.a.createElement("ul",{className:"AVBTableRow"},c.a.createElement("li",{className:"AVBFirstCol"},"Dominican Republic"===e.group?"DomRep":e.group),c.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qbp1/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qsp1/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qbp1>0?(e.qsp1/e.qbp1*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qbp2/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qsp2/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qbp2>0?(e.qsp2/e.qbp2*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qbp3/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qsp3/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qbp3>0?(e.qsp3/e.qbp3*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qbp4/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qsp4/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qbp4>0?(e.qsp4/e.qbp4*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},"$"+(e.totalbprofit/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),4===Re?"":c.a.createElement("li",{className:"AVBTableFig"},1===Re?"$"+(e.qbp1/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):2===Re?"$"+((e.qbp1+e.qbp2)/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):3===Re?"$"+((e.qbp1+e.qbp2+e.qbp3)/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""),c.a.createElement("li",{className:"AVBTableFig"},"$"+(e.totalsprofit/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),4===Re?e.totalbprofit>0?c.a.createElement("li",{className:"AVBTableFig"},(e.totalsprofit/e.totalbprofit*100).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%"):c.a.createElement("li",{className:"AVBTableFig"},' "NB"'):c.a.createElement("li",{className:"AVBTableFig"},1===Re?e.qbp1>0?(e.qsp1/e.qbp1*100).toFixed(0)+"%":"NB":2===Re?e.qbp2+e.qbp1>0?((e.qsp1+e.qsp2)/(e.qbp1+e.qbp2)*100).toFixed(0)+"%":"NB":3===Re?e.qbp2+e.qbp1+e.qbp3>0?((e.qsp1+e.qsp2+e.qsp3)/(e.qbp1+e.qbp2+e.qbp3)*100).toFixed(0)+"%":"NB":""))]}):""," ",c.a.createElement("ul",{className:"AVBTableTotals"},c.a.createElement("li",{className:"AVBFirstCol"},"TOTAL"),c.a.createElement("li",{className:"AVBTableFig"},"$"+(St/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},"$"+(Ft/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},St>0?(Ft/St*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},"$"+(Ct/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},"$"+(It/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},Ct>0?(It/Ct*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},"$"+(Dt/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},"$"+(Lt/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:" AVBTableFig AVBGroupEnd"},Dt>0?(Lt/Dt*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},"$"+(kt/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},"$"+(Tt/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},kt>0?(Tt/kt*100).toFixed()+"%":"NB"),c.a.createElement("li",{className:"AVBTableFig"},"$"+(Pt/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),4===Re?"":c.a.createElement("li",{className:"AVBTableFig"},1===Re?"$"+(St/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):2===Re?"$"+((St+Ct)/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):3===Re?"$"+((St+Ct+Dt)/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""),c.a.createElement("li",{className:"AVBTableFig"},"$"+(Bt/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("li",{className:"AVBTableFig"},1===Re?St>0?(Bt/St*100).toFixed(0)+"%":"NB":2===Re?St+Ct>0?(Bt/(St+Ct)*100).toFixed(0)+"%":"NB":3===Re?St+Ct+Dt>0?(Bt/(St+Ct+Dt)*100).toFixed(0)+"%":"NB":4===Re?Pt>0?(Bt/Pt*100).toFixed(0)+"%":"NB":""))))}},605:function(e,t,a){"use strict";(function(e){var r=a(1),n=a(4),o=a(0),c=a.n(o),l=a(32),i=(a(644),a(6)),s=a.n(i),u=a(606),m=Object(l.WidthProvider)(l.Responsive);t.a=function(){var t=function(t,a){var r,o;r="layouts",o=a,e.localStorage&&e.localStorage.setItem("rgl-matching",JSON.stringify(Object(n.a)({},r,o))),d(a)},a=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-matching"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"h",x:0,y:0,w:30,h:14}],md:[{i:"h",x:0,y:0,w:30,h:14}],sm:[{i:"h",x:0,y:0,w:30,h:14}],xs:[{i:"h",x:0,y:0,w:30,h:14}],xxs:[{i:"h",x:0,y:0,w:30,h:14}]},l=Object(o.useState)(a),i=Object(r.a)(l,2),p=i[0],d=i[1],f=Object(o.useState)(),h=Object(r.a)(f,2),g=h[0],b=h[1],y=Object(o.useState)(),v=Object(r.a)(y,2),E=v[0],O=v[1],N=Object(o.useState)(),j=Object(r.a)(N,2),x=j[0],w=j[1];return Object(o.useEffect)(function(){s.a.post("/matchingposreport").then(function(e){b(e.data),w(e.data),s.a.post("/poslist").then(function(e){console.log(e.data);var t=[];e.data.forEach(function(e){return t.push(e.USWGP)});var a=String(t);console.log(a),s.a.post("/matchingpossales",{posl1:a}).then(function(e){O(e.data)})})})},[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(m,{className:"layout",style:{left:"2px"},breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:p,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,a){t(0,a)},margin:[20,20],draggableCancel:".canceldrag"},c.a.createElement("div",{id:"matching",key:"h"},c.a.createElement("div",{className:"matchreporttitle"},c.a.createElement("h3",null,"Matching Report")),c.a.createElement(u.a,{posdata:g,filteredPosList:x,setFilteredPosList:w,matchingpossales:E}))))}}).call(this,a(49))},606:function(e,t,a){"use strict";var r=a(1),n=a(0),o=a.n(n),c=(a(646),a(648),a(79));a(6);t.a=function(e){var t=e.posdata,a=e.matchingpossales,l=e.filteredPosList,i=e.setFilteredPosList,s=Object(n.useState)(),u=Object(r.a)(s,2),m=u[0],p=u[1];return Object(n.useEffect)(function(){if(t)if(m&&""!==m){var e=t.filter(function(e){if(m&&""!==m)return e.USWGP.includes(m)});i(e)}else i(t)},[m]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"matchreport"},o.a.createElement("label",{htmlFor:""},"Search:"),o.a.createElement("input",{className:"matchsearch",value:m,onChange:function(e){p(e.target.value)}}),l?l.map(function(e){return o.a.createElement(c.a,{allowZeroExpanded:!0,className:"matchaccordion",onChange:function(t){e.USWGP}},o.a.createElement(c.b,null,o.a.createElement(c.d,null,o.a.createElement(c.c,{className:"matchaccordion_button"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("b",null,"USWGP:")," ",e.USWGP),o.a.createElement("li",null,o.a.createElement("b",null,"WGP:")," ",e.USpositionID),o.a.createElement("li",{className:"prodli"},o.a.createElement("b",null,"Product:")," ",e.abbreviation),o.a.createElement("li",null,o.a.createElement("b",null,"Quantity:")," ",e.quantity,"mt"),o.a.createElement("li",null,o.a.createElement("b",null,"Sold:")," ",e.totalSold,"mt"),o.a.createElement("li",null,o.a.createElement("b",null,"Unsold:")," ",e.inventory,"mt")))),o.a.createElement(c.e,null,o.a.createElement("ul",{className:"matchpossales"},o.a.createElement("li",{className:"matchpossalesheader"},o.a.createElement("p",null,"USWGP"),o.a.createElement("p",null,"WGS"),o.a.createElement("p",null,"Customer"),o.a.createElement("p",{className:"matchfig"},"Quantity")),a?a.map(function(t){return t.KTP===e.USWGP?o.a.createElement("li",null,o.a.createElement("p",null,t.KTP),o.a.createElement("p",null,t.KTS),o.a.createElement("p",null,t.companyCode),o.a.createElement("p",{className:"matchfig"},t.quantity)):""}):""))))}):""))}},607:function(e,t,a){"use strict";(function(e){var r=a(25),n=a(2),o=a(1),c=a(4),l=a(0),i=a.n(l),s=a(32),u=a(6),m=a.n(u),p=(a(650),a(71)),d=Object(s.WidthProvider)(s.Responsive);t.a=function(){var t=Object(l.useContext)(p.a),a=t.updateScores,s=t.setUpdateScores,u=function(t,a){var r,n;r="layouts",n=a,e.localStorage&&e.localStorage.setItem("rgl-inprogress",JSON.stringify(Object(c.a)({},r,n))),y(a)},f=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-inprogress"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"h",x:0,y:0,w:30,h:14}],md:[{i:"h",x:0,y:0,w:30,h:14}],sm:[{i:"h",x:0,y:0,w:30,h:14}],xs:[{i:"h",x:0,y:0,w:30,h:14}],xxs:[{i:"h",x:0,y:0,w:30,h:14}]},h=Object(l.useState)(f),g=Object(o.a)(h,2),b=g[0],y=g[1],v=Object(l.useState)(),E=Object(o.a)(v,2),O=E[0],N=E[1],j=Object(l.useState)(),x=Object(o.a)(j,2),w=x[0],S=x[1],C=Object(l.useState)(),D=Object(o.a)(C,2),k=D[0],F=D[1],I=Object(l.useState)([]),L=Object(o.a)(I,2),T=L[0],P=L[1],B=Object(l.useState)([]),q=Object(o.a)(B,2),Q=(q[0],q[1],Object(l.useState)()),$=Object(o.a)(Q,2),A=($[0],$[1]),G=Object(l.useState)(!1),_=Object(o.a)(G,2),K=(_[0],_[1],Object(l.useState)(!1)),V=Object(o.a)(K,2);V[0],V[1];Object(l.useEffect)(function(){m.a.post("/trafficmgrs").then(function(e){F(e.data)})},[]),Object(l.useEffect)(function(){m.a.post("/salesinprogress").then(function(e){N(e.data)}),m.a.post("/salesinprogressassigned").then(function(e){S(e.data)})},[a]);var Y=function(e,t){m.a.post("/saveassignment",{qsid:e,datapacket:T[e]}).then(function(e){A(e.data),s(!a)})},M=Object(l.useState)([]),R=Object(o.a)(M,2),W=R[0],U=R[1],H=function(e,t){P(Object(n.a)({},T,Object(c.a)({},t,Object(n.a)({},T[t],Object(c.a)({},e.target.name,e.target.value)))))};return i.a.createElement(d,{className:"layout",style:{left:"2px"},breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:b,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,t){u(0,t)},margin:[20,20],draggableCancel:".canceldrag"},i.a.createElement("div",{id:"inprogress",key:"h"},i.a.createElement("div",{className:"matchreporttitle"},i.a.createElement("h3",null,"Operations In Progress")),i.a.createElement("ul",{className:"inprogresslist"},i.a.createElement("h4",null,"Unassigned"),i.a.createElement("li",{className:"inprogresslist-header"},i.a.createElement("p",null,"QSID"),i.a.createElement("p",null,"Trader"),i.a.createElement("p",null,"WGS"),i.a.createElement("p",null,"WGP"),i.a.createElement("p",{className:"inprogress-lrg-p"},"Product"),i.a.createElement("p",{className:"inprogress-lrg-p"},"Customer"),i.a.createElement("p",null,"Quantity"),i.a.createElement("p",null,"P Inco"),i.a.createElement("p",null,"S Inco"),i.a.createElement("p",{className:"inprog-center"},"Inspec."),i.a.createElement("p",{className:"inprog-center"},"LC"),i.a.createElement("p",{className:"inprog-center"},"WH"),i.a.createElement("p",null,"Score"),i.a.createElement("p",null,"TMC"),W.length>0?i.a.createElement("p",{className:"inprog-center"},"Finalize"):i.a.createElement("p",null)),O?O.map(function(e){var t=0;return"CPT"===e.pincoterms||"CFR"===e.pincoterms?t+=1:"FOB"!==e.pincoterms&&"CIP"!==e.pincoterms&&"CIF"!==e.pincoterms||(t+=2),"DAP"===e.incoterms&&(t+=1),"yes"===e.hasInspection&&(t+=1),"yes"===e.hasPromisory&&(t+=1),"yes"===e.hasWH&&(t+=1),i.a.createElement("li",null,i.a.createElement("p",null,e.QSID),i.a.createElement("p",null,e.trader),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"KTS",type:"text",onChange:function(t){H(t,e.QSID)},value:T[e.QSID]&&T[e.QSID].KTS||T[e.QSID]&&""===T[e.QSID].KTS?T[e.QSID].KTS:e.KTS})):i.a.createElement("p",null,e.KTS),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"KTP",type:"text",onChange:function(t){H(t,e.QSID)},value:T[e.QSID]&&T[e.QSID].KTP||T[e.QSID]&&""===T[e.QSID].KTP?T[e.QSID].KTP:e.KTP})):i.a.createElement("p",null,e.KTP),i.a.createElement("p",{className:"inprogress-lrg-p"},e.abbreviation),i.a.createElement("p",{className:"inprogress-lrg-p"},e.companyCode),i.a.createElement("p",null,e.quantity),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"pincoterms",type:"text",onChange:function(t){H(t,e.QSID)},value:T[e.QSID]&&T[e.QSID].pincoterms||T[e.QSID]&&""===T[e.QSID].pincoterms?T[e.QSID].pincoterms:e.pincoterms})):i.a.createElement("p",null,e.pincoterms),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"incoterms",type:"text",onChange:function(t){H(t,e.QSID)},value:T[e.QSID]&&T[e.QSID].incoterms||T[e.QSID]&&""===T[e.QSID].incoterms?T[e.QSID].incoterms:e.incoterms})):i.a.createElement("p",null,e.incoterms),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:T[e.QSID]?T[e.QSID].hasInspectionBool:"yes"===e.hasInspection,onClick:function(t){var a,r,o,l;T[e.QSID]&&T[e.QSID].hasInspection?"yes"===T[e.QSID].hasInspection?(console.log("heyyy"),P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(a={},Object(c.a)(a,"hasInspection","no"),Object(c.a)(a,"hasInspectionBool",!1),a)))))):(console.log("hooo"),P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(r={},Object(c.a)(r,"hasInspection","yes"),Object(c.a)(r,"hasInspectionBool",!0),r)))))):"yes"===e.hasInspection?P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(o={},Object(c.a)(o,"hasInspection","no"),Object(c.a)(o,"hasInspectionBool",!1),o))))):P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(l={},Object(c.a)(l,"hasInspection","yes"),Object(c.a)(l,"hasInspectionBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasInspection),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:T[e.QSID]?T[e.QSID].hasPromisoryBool:"yes"===e.hasPromisory,onClick:function(t){var a,r,o,l;T[e.QSID]&&T[e.QSID].hasPromisory?"yes"===T[e.QSID].hasPromisory?P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(a={},Object(c.a)(a,"hasPromisory","no"),Object(c.a)(a,"hasPromisoryBool",!1),a))))):P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(r={},Object(c.a)(r,"hasPromisory","yes"),Object(c.a)(r,"hasPromisoryBool",!0),r))))):"yes"===e.hasPromisory?P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(o={},Object(c.a)(o,"hasPromisory","no"),Object(c.a)(o,"hasPromisoryBool",!1),o))))):P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(l={},Object(c.a)(l,"hasPromisory","yes"),Object(c.a)(l,"hasPromisoryBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasPromisory),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:T[e.QSID]?T[e.QSID].hasWHBool:"yes"===e.hasWH,onClick:function(t){var a,r,o,l;T[e.QSID]&&T[e.QSID].hasWH?"yes"===T[e.QSID].hasWH?(console.log("heyyy"),P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(a={},Object(c.a)(a,"hasWH","no"),Object(c.a)(a,"hasWHBool",!1),a)))))):(console.log("hooo"),P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(r={},Object(c.a)(r,"hasWH","yes"),Object(c.a)(r,"hasWHBool",!0),r)))))):"yes"===e.hasWH?P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(o={},Object(c.a)(o,"hasWH","no"),Object(c.a)(o,"hasWHBool",!1),o))))):P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(l={},Object(c.a)(l,"hasWH","yes"),Object(c.a)(l,"hasWHBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasWH),i.a.createElement("p",null,t.toFixed(1)),W.includes(String(e.QSID))?i.a.createElement("select",{name:e.QSID,onChange:function(e){P(Object(n.a)({},T,Object(c.a)({},e.target.name,Object(n.a)({},T[e.target.name],{trafficID:Number(e.target.value)}))))},value:T[e.QSID]&&T[e.QSID].trafficID||T[e.QSID]&&0===T[e.QSID].trafficID?T[e.QSID].trafficID:e.trafficID},i.a.createElement("option",null,"Select..."),k?k.map(function(e){return i.a.createElement("option",{selected:"na",value:e.trafficID},e.trafficID," - ",e.traffic)}):""):i.a.createElement("p",null,e.traffic),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:T[e.QSID]?T[e.QSID].finalCompleteBool:1===e.finalComplete,onClick:function(t){var a,r,o,l;T[e.QSID]&&T[e.QSID].finalComplete?1===T[e.QSID].finalComplete?P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(a={},Object(c.a)(a,"finalComplete",0),Object(c.a)(a,"finalCompleteBool",!1),a))))):P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(r={},Object(c.a)(r,"finalComplete",1),Object(c.a)(r,"finalCompleteBool",!0),r))))):1===e.finalComplete?P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(o={},Object(c.a)(o,"finalComplete",0),Object(c.a)(o,"finalCompleteBool",!1),o))))):P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(l={},Object(c.a)(l,"finalComplete",1),Object(c.a)(l,"finalCompleteBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"}),W.includes(String(e.QSID))?"":i.a.createElement("button",{name:e.QSID,onClick:function(e){W.includes(e.target.name)||U([].concat(Object(r.a)(W),[e.target.name]))}},"Edit"),W.includes(String(e.QSID))?[i.a.createElement("button",{className:"inprogsavebtn",name:e.QSID,onClick:function(e){e.preventDefault(),Y(e.target.name,T[e.target.name]);var t=T;delete t[e.target.name],P(Object(n.a)({},t));var a=W.indexOf(String(e.target.name));U([].concat(Object(r.a)(W.slice(0,a)),Object(r.a)(W.slice(a+1,W.length))))}},"Save"),i.a.createElement("button",{className:"inprogcancelbtn",name:e.QSID,onClick:function(e){var t=T;delete t[e.target.name],P(Object(n.a)({},t));var a=W.indexOf(String(e.target.name));U([].concat(Object(r.a)(W.slice(0,a)),Object(r.a)(W.slice(a+1,W.length))))}},"Cancel")]:"")}):"",i.a.createElement("h4",null,"Assigned"),i.a.createElement("li",{className:"inprogresslist-header"},i.a.createElement("p",null,"QSID"),i.a.createElement("p",null,"Trader"),i.a.createElement("p",null,"WGS"),i.a.createElement("p",null,"WGP"),i.a.createElement("p",{className:"inprogress-lrg-p"},"Product"),i.a.createElement("p",{className:"inprogress-lrg-p"},"Customer"),i.a.createElement("p",null,"Quantity"),i.a.createElement("p",null,"P Inco"),i.a.createElement("p",null,"S Inco"),i.a.createElement("p",{className:"inprog-center"},"Inspec."),i.a.createElement("p",{className:"inprog-center"},"LC"),i.a.createElement("p",{className:"inprog-center"},"WH"),i.a.createElement("p",null,"Score"),i.a.createElement("p",null,"TMC"),W.length>0?i.a.createElement("p",{className:"inprog-center"},"Finalize"):i.a.createElement("p",null)),w?w.map(function(e){var t=0;return"CPT"===e.pincoterms||"CFR"===e.pincoterms?t+=1:"FOB"!==e.pincoterms&&"CIP"!==e.pincoterms&&"CIF"!==e.pincoterms||(t+=2),"DAP"===e.incoterms&&(t+=1),"yes"===e.hasInspection&&(t+=1),"yes"===e.hasPromisory&&(t+=1),"yes"===e.hasWH&&(t+=1),i.a.createElement("li",null,i.a.createElement("p",null,e.QSID),i.a.createElement("p",null,e.trader),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"KTS",type:"text",onChange:function(t){H(t,e.QSID)},value:T[e.QSID]&&T[e.QSID].KTS||T[e.QSID]&&""===T[e.QSID].KTS?T[e.QSID].KTS:e.KTS})):i.a.createElement("p",null,e.KTS),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"KTP",type:"text",onChange:function(t){H(t,e.QSID)},value:T[e.QSID]&&T[e.QSID].KTP||T[e.QSID]&&""===T[e.QSID].KTP?T[e.QSID].KTP:e.KTP})):i.a.createElement("p",null,e.KTP),i.a.createElement("p",{className:"inprogress-lrg-p"},e.abbreviation),i.a.createElement("p",{className:"inprogress-lrg-p"},e.companyCode),i.a.createElement("p",null,e.quantity),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"pincoterms",type:"text",onChange:function(t){H(t,e.QSID)},value:T[e.QSID]&&T[e.QSID].pincoterms||T[e.QSID]&&""===T[e.QSID].pincoterms?T[e.QSID].pincoterms:e.pincoterms})):i.a.createElement("p",null,e.pincoterms),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"incoterms",type:"text",onChange:function(t){H(t,e.QSID)},value:T[e.QSID]&&T[e.QSID].incoterms||T[e.QSID]&&""===T[e.QSID].incoterms?T[e.QSID].incoterms:e.incoterms})):i.a.createElement("p",null,e.incoterms),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:T[e.QSID]?T[e.QSID].hasInspectionBool:"yes"===e.hasInspection,onClick:function(t){var a,r,o,l;T[e.QSID]&&T[e.QSID].hasInspection?"yes"===T[e.QSID].hasInspection?(console.log("heyyy"),P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(a={},Object(c.a)(a,"hasInspection","no"),Object(c.a)(a,"hasInspectionBool",!1),a)))))):(console.log("hooo"),P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(r={},Object(c.a)(r,"hasInspection","yes"),Object(c.a)(r,"hasInspectionBool",!0),r)))))):"yes"===e.hasInspection?P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(o={},Object(c.a)(o,"hasInspection","no"),Object(c.a)(o,"hasInspectionBool",!1),o))))):P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(l={},Object(c.a)(l,"hasInspection","yes"),Object(c.a)(l,"hasInspectionBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasInspection),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:T[e.QSID]?T[e.QSID].hasPromisoryBool:"yes"===e.hasPromisory,onClick:function(t){var a,r,o,l;T[e.QSID]&&T[e.QSID].hasPromisory?"yes"===T[e.QSID].hasPromisory?(console.log("heyyy"),P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(a={},Object(c.a)(a,"hasPromisory","no"),Object(c.a)(a,"hasPromisoryBool",!1),a)))))):(console.log("hooo"),P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(r={},Object(c.a)(r,"hasPromisory","yes"),Object(c.a)(r,"hasPromisoryBool",!0),r)))))):"yes"===e.hasPromisory?P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(o={},Object(c.a)(o,"hasPromisory","no"),Object(c.a)(o,"hasPromisoryBool",!1),o))))):P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(l={},Object(c.a)(l,"hasPromisory","yes"),Object(c.a)(l,"hasPromisoryBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasPromisory),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:T[e.QSID]?T[e.QSID].hasWHBool:"yes"===e.hasWH,onClick:function(t){var a,r,o,l;T[e.QSID]&&T[e.QSID].hasWH?"yes"===T[e.QSID].hasWH?(console.log("heyyy"),P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(a={},Object(c.a)(a,"hasWH","no"),Object(c.a)(a,"hasWHBool",!1),a)))))):(console.log("hooo"),P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(r={},Object(c.a)(r,"hasWH","yes"),Object(c.a)(r,"hasWHBool",!0),r)))))):"yes"===e.hasWH?P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(o={},Object(c.a)(o,"hasWH","no"),Object(c.a)(o,"hasWHBool",!1),o))))):P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(l={},Object(c.a)(l,"hasWH","yes"),Object(c.a)(l,"hasWHBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasWH),i.a.createElement("p",null,t.toFixed(1)),W.includes(String(e.QSID))?i.a.createElement("select",{name:e.QSID,onChange:function(e){P(Object(n.a)({},T,Object(c.a)({},e.target.name,Object(n.a)({},T[e.target.name],{trafficID:Number(e.target.value)}))))},value:T[e.QSID]&&T[e.QSID].trafficID||T[e.QSID]&&0===T[e.QSID].trafficID?T[e.QSID].trafficID:e.trafficID},i.a.createElement("option",null,"Select..."),k?k.map(function(e){return i.a.createElement("option",{selected:"na",value:e.trafficID},e.trafficID," - ",e.traffic)}):""):i.a.createElement("p",null,e.traffic),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:T[e.QSID]?T[e.QSID].finalCompleteBool:1===e.finalComplete,onClick:function(t){var a,r,o,l;T[e.QSID]&&T[e.QSID].finalComplete?1===T[e.QSID].finalComplete?P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(a={},Object(c.a)(a,"finalComplete",0),Object(c.a)(a,"finalCompleteBool",!1),a))))):P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(r={},Object(c.a)(r,"finalComplete",1),Object(c.a)(r,"finalCompleteBool",!0),r))))):1===e.finalComplete?P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(o={},Object(c.a)(o,"finalComplete",0),Object(c.a)(o,"finalCompleteBool",!1),o))))):P(Object(n.a)({},T,Object(c.a)({},e.QSID,Object(n.a)({},T[e.QSID],(l={},Object(c.a)(l,"finalComplete",1),Object(c.a)(l,"finalCompleteBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"}),W.includes(String(e.QSID))?"":i.a.createElement("button",{name:e.QSID,onClick:function(e){return W.includes(e.target.name)?"":U([].concat(Object(r.a)(W),[e.target.name]))}},"Edit"),W.includes(String(e.QSID))?[i.a.createElement("button",{className:"inprogsavebtn",name:e.QSID,onClick:function(e){e.preventDefault(),Y(e.target.name,T[e.target.name]);var t=T;delete t[e.target.name],P(Object(n.a)({},t));var a=W.indexOf(String(e.target.name));U([].concat(Object(r.a)(W.slice(0,a)),Object(r.a)(W.slice(a+1,W.length))))}},"Save"),i.a.createElement("button",{className:"inprogcancelbtn",name:e.QSID,onClick:function(e){var t=T;delete t[e.target.name],P(Object(n.a)({},t));var a=W.indexOf(String(e.target.name));U([].concat(Object(r.a)(W.slice(0,a)),Object(r.a)(W.slice(a+1,W.length))))}},"Cancel")]:"")}):"")))}}).call(this,a(49))},626:function(e,t,a){},628:function(e,t,a){},630:function(e,t,a){},636:function(e,t){},637:function(e,t,a){},640:function(e,t,a){},642:function(e,t,a){},644:function(e,t,a){},646:function(e,t,a){},650:function(e,t,a){},652:function(e,t,a){},654:function(e,t,a){},656:function(e,t,a){},658:function(e,t,a){},660:function(e,t,a){},662:function(e,t,a){},665:function(e,t,a){"use strict";var r=a(2),n=a(11),o=a(25),c=a(4),l=a(1),i=a(0),s=a.n(i),u=(a(294),a(7)),m=a.n(u),p=a(51),d=a(6),f=a.n(d),h=a(40),g=a(57),b=a(41);a(237);a.p;a.p,a(234);var y=a(30),v=a(15),E=a(86);function O(){O=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=E(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,o,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new v(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(b),l(b,c,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(){var e=Object(i.useContext)(h.a).toggleQSrefresh,t=Object(i.useContext)(g.a),a=t.QStoload,u=t.setLoaduser,d=t.loaduser,N=t.diffQS,j=t.duplicateBoolean,x=t.fromdropdown,w=t.setFromdropdown,S=Object(i.useRef)(null),C=Object(i.useState)(!1),D=Object(l.a)(C,2),k=D[0],F=D[1],I=function(){Ba("")};Object(i.useEffect)(function(){var e=S.current;E.a.fromTo(e,{opacity:1},{opacity:0,duration:2.5,ease:"power1.inOut",onComplete:I})},[k]);var L=Object(c.a)({KTP:"",KTS:"",saleType:"",QSDate:m()().format("yyyy-MM-DD"),QSID:"",abbreviation:"",supplier:"",customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGuserID")),traffic:"",incoterms:"",CADintrate:.07,CADdays:10,paymentTerm:"",shipmentType:1,freightTotal:0,shippingline:"",payload:0,totalinspection:0,quantity:0,materialcost:0,pcommission:0,pfinancecost:0,sfinancecost:0,materialvalue:0,generalduty:0,additionalduty:0,totalduty:0,dutyfee:0,harborfeepct:0,harborfee:0,merchprocfeepct:0,merchprocfee:0,cflatfee:0,tsca:0,isf:0,totalcentryfee:0,centryfeepmt:0,inboundpmt:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,totalinbound:0,freightpmt:0,insurance:0,insurancerate:7e-4,insurancefactor:1.1,inspectionpmt:0,scommission:0,interestcost:0,warehouse:"",storagepmt:0,whentry:"",whexit:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:0,legal:1,pallets:0,other:0,totalcost:1,interestrate:0,interestdays:0,pricebeforeint:0,salesinterest:0,priceafterint:0,profit:0,margin:0,turnover:0,pctmargin:0,netback:0,saleComplete:0,finalComplete:0,outboundpmt:0,loading:0,bolcharges:0,outboundothers:0,totaloutbound:0},"quantitypallets",0),T=Object(c.a)({KTP:"",KTS:"",saleType:"",QSDate:m()().format("yyyy-MM-DD"),QSID:"",abbreviation:"",supplier:"",customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGusercode")),traffic:"",incoterms:"",CADintrate:"7.00%",CADdays:"10",paymentTerm:"",shipmentType:"Container",freightTotal:"$ 0.00",shippingline:"",payload:"0.00",totalinspection:"$ 0.00",quantity:"",materialcost:"$ 0.00",pcommission:"$ 0.00",pfinancecost:"$ 0.00",sfinancecost:"$ 0.00",materialvalue:"$ 0,00",generalduty:"0.00%",additionalduty:"0.00%",totalduty:"0.00%",dutyfee:"$ 0.00",harborfeepct:"0.00%",harborfee:"$ 0.00",merchprocfeepct:"0.00%",merchprocfee:"$ 0.00",cflatfee:"$ 0.00",tsca:"$ 0.00",isf:"$ 0.00",totalcentryfee:"$ 0.00",centryfeepmt:"$ 0.00",inboundpmt:"$ 0.00",drayage:"$ 0.00",unloading:"$ 0.00",collectcharges:"$ 0.00",inboundothers:"$ 0.00",totalinbound:"$ 0.00",freightpmt:"$ 0.00",insurance:"$ 0.00",insurancerate:"0.07%",insurancefactor:"1.10",inspectionpmt:"$ 0.00",scommission:"$ 0.00",interestcost:"$ 0.00",warehouse:"",storagepmt:"$ 0.00",whentry:"",whexit:"",storagefixed:"$ 0.00",storagevariable:"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:"",legal:"$ 1.00",pallets:"$ 0.00",other:"$ 0.00",totalcost:"$ 1.00",interestrate:"0.00%",interestdays:"0",pricebeforeint:"$ 0.00",salesinterest:"$ 0.00",priceafterint:"$ 0.00",profit:"$ 0.00",margin:"$ 0.00",turnover:"$ 0.00",pctmargin:"0.00%",netback:"$ 0.00",saleComplete:"indication",finalComplete:"in progress",outboundpmt:"$ 0.00",loading:"$ 0.00",bolcharges:"$ 0.00",outboundothers:"$ 0.00",totaloutbound:"$ 0.00"},"quantitypallets",""),P=Object(i.useState)(L),B=Object(l.a)(P,2),q=B[0],Q=B[1],$=Object(i.useState)(T),A=Object(l.a)($,2),G=A[0],_=A[1],K=Object(i.useState)(),V=Object(l.a)(K,2),Y=V[0],M=V[1],R=Object(i.useState)(),W=Object(l.a)(R,2),U=W[0],H=W[1],z=Object(i.useState)(!1),J=Object(l.a)(z,2),Z=J[0],X=J[1],ee=Object(i.useState)(!1),te=Object(l.a)(ee,2),ae=te[0],re=te[1],ne=Object(i.useState)(!1),oe=Object(l.a)(ne,2),ce=oe[0],le=oe[1],ie=Object(i.useState)(!1),se=Object(l.a)(ie,2),ue=se[0],me=se[1],pe=Object(i.useState)(!1),de=Object(l.a)(pe,2),fe=de[0],he=de[1],ge=Object(i.useState)([]),be=Object(l.a)(ge,2),ye=be[0],ve=be[1],Ee=Object(i.useState)(),Oe=Object(l.a)(Ee,2),Ne=Oe[0],je=Oe[1],xe=Object(i.useState)(),we=Object(l.a)(xe,2),Se=(we[0],we[1]),Ce=Object(i.useState)(),De=Object(l.a)(Ce,2),ke=De[0],Fe=De[1],Ie=Object(i.useState)(""),Le=Object(l.a)(Ie,2),Te=Le[0],Pe=Le[1],Be=Object(i.useState)(!1),qe=Object(l.a)(Be,2),Qe=qe[0],$e=qe[1],Ae=Object(i.useState)(),Ge=Object(l.a)(Ae,2),_e=Ge[0],Ke=Ge[1],Ve=Object(i.useState)(!1),Ye=Object(l.a)(Ve,2),Me=Ye[0],Re=Ye[1],We=Object(i.useState)(!0),Ue=Object(l.a)(We,2),He=Ue[0],ze=Ue[1],Je=Object(i.useState)({}),Ze=Object(l.a)(Je,2),Xe=Ze[0],et=Ze[1],tt=Object(i.useState)({}),at=Object(l.a)(tt,2),rt=at[0],nt=at[1],ot=Object(i.useState)(!1),ct=Object(l.a)(ot,2),lt=ct[0],it=ct[1],st=Object(i.useState)({}),ut=Object(l.a)(st,2),mt=(ut[0],ut[1],Object(i.useState)(!1)),pt=Object(l.a)(mt,2),dt=pt[0],ft=pt[1],ht=Object(i.useState)(!1),gt=Object(l.a)(ht,2),bt=gt[0],yt=gt[1],vt=Object(i.useState)(!1),Et=Object(l.a)(vt,2),Ot=Et[0],Nt=Et[1],jt=Object(i.useState)(!1),xt=Object(l.a)(jt,2),wt=xt[0],St=xt[1],Ct=Object(i.useState)(!1),Dt=Object(l.a)(Ct,2),kt=Dt[0],Ft=Dt[1],It=Object(i.useState)(!1),Lt=Object(l.a)(It,2),Tt=Lt[0],Pt=Lt[1],Bt=Object(i.useState)(!1),qt=Object(l.a)(Bt,2),Qt=qt[0],$t=qt[1],At=Object(i.useState)(),Gt=Object(l.a)(At,2),_t=Gt[0],Kt=Gt[1],Vt=Object(i.useState)(),Yt=Object(l.a)(Vt,2),Mt=Yt[0],Rt=Yt[1],Wt=Object(i.useState)(JSON.parse(localStorage.getItem("WGusercode"))),Ut=Object(l.a)(Wt,2);Ut[0],Ut[1];Object(i.useEffect)(function(){a||f.a.post("/warehouses").then(function(e){Kt(e.data)})},[]);var Ht=Object(i.useState)(),zt=Object(l.a)(Ht,2),Jt=zt[0],Zt=zt[1];Object(i.useEffect)(function(){f.a.post("/traders").then(function(e){Zt(e.data)})},[]);var Xt=function(e){return new Promise(function(t,a){Kt(e),t()})};Object(i.useEffect)(function(){},[]),Object(i.useEffect)(function(){a||f.a.post("/QSIDList",{user:d}).then(function(e){var t=function(e){return new Promise(function(t,a){var r=Object(o.a)(new Set(e.data.map(function(e){return e.QSID})));ve(r),t()})};!function(){var a=Object(n.a)(O().mark(function a(){return O().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(e);case 2:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}()()}),a&&f.a.post("/warehouses").then(function(){var e=Object(n.a)(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Xt(t.data).then(function(){f.a.post("/QSIDList",{user:d}).then(function(e){var t;(t=e,new Promise(function(e,a){var r=Object(o.a)(new Set(t.data.map(function(e){return e.QSID})));ve(r),e(r)})).then(function(e){!1===x&&(Fe(e.indexOf(a)),je(a)),!0===x&&(Fe(e.length),je(""),w(!1))})})});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},[fe,d,j]),Object(i.useEffect)(function(){a||Fe(ye.length)},[ye]),Object(i.useEffect)(function(){ke===ye.length?(ze(!1),re(!1),me(!1),le(!1)):ze(!0)},[ke]),Object(i.useEffect)(function(){ye.includes(a)&&(!0===lt&&ba(G,Xe,"enter",a),!1===lt&&(Fe(ye.indexOf(a)),je(a)))},[a,N]);var ea=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return t+" "+e.toFixed(a).replace(/\B(?=(\d{3})+(?!\d))/g,",")},ta=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$";return Number(e.replace(t,"").replace(",",""))},aa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u20ac",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"$",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;return a+" "+(Number(e.replace(r,"").replace(",",""))/t).toFixed(n).replace(/\B(?=(\d{3})+(?!\d))/g,",")},ra=function(e,t,a){return new Promise(function(r,n){r(e&&t&&a?e*t*a:0)})},na=function(e,t,a,r,n,o,c,l,i,s,u,m,p,d,f,h){return new Promise(function(g,b){g(e+t+a+r+n+o+c+l+i+s+u+m+p+d+f+h)})},oa=function(e,t){return new Promise(function(a,r){a(e+t)})},ca=function(e,t){return new Promise(function(a,r){a(e*t)})},la=function(e,t){return new Promise(function(a,r){a(e+t)})},ia=function(e,t){return new Promise(function(a,r){a(e*t)})},sa=function(e,t){return new Promise(function(a,r){a(e*t)})},ua=function(e,t){return new Promise(function(a,r){a(e*t)})},ma=function(e,t,a,r,n,o){return new Promise(function(c,l){c(e+t+a+r+n+o)})},pa=function(e,t){return new Promise(function(a,r){a(e/t)})},da=function(e,t,a,r){return new Promise(function(n,o){n(e+t+a+r)})},fa=function(e,t){return new Promise(function(a,r){a(t?e/t:0)})},ha=function(e,t,a){return new Promise(function(r,n){r(e+t+a)})},ga=function(e,t){return new Promise(function(a,r){a(t?e/t:0)})};Object(i.useEffect)(function(){ke<ye.length&&f.a.post("/loadQStoedit",{id:ye[ke]}).then(function(e){var t=e.data[0],a=function(e){return new Promise(function(t,a){e.exchRate&&(Ke(Number(e.exchRate)),t(Number(e.exchRate))),e.exchRate||(Ke(Number(e.exchRate)),t(1))})},o=function(e){return new Promise(function(t,a){e.exchRate&&t(!0),!e.exchRate&&Qe&&($e(!1),Ke(Number(e.exchRate)),Object(b.confirmAlert)({title:"Back to $ dollars!",message:"This QS does not have an Exchange Rate defined. Reverting back to $ dollar currency",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0}),t(!1)),e.exchRate||Qe||(Ke(Number(e.exchRate)),t(!1))})};!function(){var e=Object(n.a)(O().mark(function e(t){var n,c,l,i,s,u,m,p,d,h,g,b,y,v;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t);case 2:return n=e.sent,e.next=5,a(t);case 5:return c=e.sent,e.next=8,new Promise(function(e,t){ft(!0),e()});case 8:if(!t.KTP||3!==t.saleTypeID){e.next=13;break}return e.next=11,f.a.post("/loadusposition",{WGS:t.KTP});case 11:l=e.sent,Rt(l.data[0]);case 13:return e.next=15,ca(Number(t.materialcost.replace("$","").replace(",","")),Number(t.quantity));case 15:if(i=e.sent,!t.generalduty||!t.additionalduty){e.next=22;break}return e.next=19,la(Number(t.generalduty.replace("%","")),Number(t.additionalduty.replace("%","")));case 19:e.t0=e.sent,e.next=23;break;case 22:e.t0=0;case 23:return s=e.t0,e.next=26,ia(i,s/100);case 26:if(u=e.sent,!t.harborfeepct){e.next=33;break}return e.next=30,sa(i,Number(t.harborfeepct.replace("%","")/100));case 30:e.t1=e.sent,e.next=34;break;case 33:e.t1=0;case 34:if(m=e.t1,!t.merchprocfeepct){e.next=41;break}return e.next=38,ua(i,Number(t.merchprocfeepct.replace("%","")/100));case 38:e.t2=e.sent,e.next=42;break;case 41:e.t2=0;case 42:return p=e.t2,e.next=45,ma(u||0,m||0,p||0,t.cflatfee?ta(t.cflatfee,"$"):0,t.tsca?ta(t.tsca,"$"):0,t.isf?ta(t.isf,"$"):0);case 45:if(d=e.sent,!t.quantity){e.next=52;break}return e.next=49,pa(d,t.quantity);case 49:e.t3=e.sent,e.next=53;break;case 52:e.t3=0;case 53:return h=e.t3,e.next=56,da(t.drayage?ta(t.drayage):0,t.unloading?ta(t.unloading):0,t.collectcharges?ta(t.collectcharges):0,t.inboundothers?ta(t.inboundothers):0);case 56:if(g=e.sent,!t.payload){e.next=63;break}return e.next=60,fa(g,t.payload);case 60:e.t4=e.sent,e.next=64;break;case 63:e.t4=0;case 64:return b=e.t4,e.next=67,ha(t.loading?ta(t.loading):0,t.bolcharges?ta(t.bolcharges):0,t.outboundothers?ta(t.outboundothers):0);case 67:return y=e.sent,e.next=70,ga(y,t.payload);case 70:return v=e.sent,_(Object(r.a)({},G,{warehouse:t.warehouseID?_t[t.warehouseID-1].warehouseName:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagepmt:n&&Qe&&t.storagepmt?aa(t.storagepmt,c):n&&Qe&&!t.storagepmt?"\u20ac 0.00":t.storagepmt,storagefixed:n&&Qe&&t.storagefixed?aa(t.storagefixed,c):n&&Qe&&!t.storagefixed?"\u20ac 0.00":t.storagefixed,storagevariable:n&&Qe&&t.storagevariable?aa(t.storagevariable,c):n&&Qe&&!t.storagevariable?"\u20ac 0.00":t.storagevariable,stggraceperiod:t.stggraceperiod?t.stggraceperiod:"0",stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:"0",quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleType,QSID:t.QSID,abbreviation:t.abbreviation,supplier:t.supplier,customer:t.customer,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POL,POD:t.POD,saleComplete:-1===t.saleComplete?"sold":0===t.saleComplete?"indication":1===t.saleComplete?"US Allocation":"",finalComplete:1===t.finalComplete?"finalized":"in progress",TIC:t.trader,traffic:t.traffic,incoterms:t.incoterms,paymentTerm:t.paymentTerm,CADintrate:t.includedrate,insurancerate:t.insurancerate,insurancefactor:t.insurancefactor.toFixed(2),CADdays:t.includedperiod,shipmentType:t.shipmentType?t.shipmentType:"Container",freightTotal:n&&Qe&&t.freightTotal?aa(t.freightTotal,c):n&&Qe&&!t.freightTotal?"\u20ac 0.00":t.freightTotal,shippingline:t.shippingline,payload:t.payload,totalinspection:n&&Qe&&t.totalinspection?aa(t.totalinspection,c):n&&Qe&&!t.totalinspection?"\u20ac 0.00":t.totalinspection,quantity:t.quantity,materialcost:n&&Qe&&t.materialcost?aa(t.materialcost,c):n&&Qe&&!t.materialcost?"\u20ac 0.00":t.materialcost,materialvalue:n&&Qe&&i?aa(i.toFixed(2),c):n&&Qe&&!i?"\u20ac 0.00":ea(i,"$",2),generalduty:t.generalduty?t.generalduty:"0.00%",additionalduty:t.additionalduty?t.additionalduty:"0.00%",totalduty:s?s+"%":"0.00%",dutyfee:n&&Qe&&u?aa(u.toFixed(2),c):n&&Qe&&!u?"\u20ac 0.00":ea(u,"$",2),harborfeepct:t.harborfeepct?t.harborfeepct:"0.00%",harborfee:n&&Qe&&m?aa(m.toFixed(2),c):n&&Qe&&!m?"\u20ac 0.00":ea(m,"$",2),merchprocfeepct:t.merchprocfeepct?t.merchprocfeepct:"0.00%",merchprocfee:n&&Qe&&p?aa(p.toFixed(2),c):n&&Qe&&!p?"\u20ac 0.00":ea(p,"$",2),cflatfee:n&&Qe&&t.cflatfee?aa(t.cflatfee,c):n&&Qe&&!t.cflatfee?"\u20ac 0.00":t.cflatfee,tsca:n&&Qe&&t.tsca?aa(t.tsca,c):n&&Qe&&!t.tsca?"\u20ac 0.00":t.tsca,isf:n&&Qe&&t.isf?aa(t.isf,c):n&&Qe&&!t.isf?"\u20ac 0.00":t.isf,totalcentryfee:n&&Qe&&d?aa(d.toFixed(2),c):n&&Qe&&!d?"\u20ac 0.00":ea(d,"$",2),centryfeepmt:n&&Qe&&h?aa(h.toFixed(2),c):n&&Qe&&!h?"\u20ac 0.00":ea(h,"$",2),drayage:n&&Qe&&t.drayage?aa(t.drayage,c):n&&Qe&&!t.drayage?"\u20ac 0.00":t.drayage,unloading:n&&Qe&&t.unloading?aa(t.unloading,c):n&&Qe&&!t.unloading?"\u20ac 0.00":t.unloading,collectcharges:n&&Qe&&t.collectcharges?aa(t.collectcharges,c):n&&Qe&&!t.collectcharges?"\u20ac 0.00":t.collectcharges,inboundothers:n&&Qe&&t.inboundothers?aa(t.inboundothers,c):n&&Qe&&!t.inboundothers?"\u20ac 0.00":t.inboundothers,totalinbound:n&&Qe&&g?aa(g.toFixed(2),c):n&&Qe&&!g?"\u20ac 0.00":ea(g,"$",2),inboundpmt:n&&Qe&&b?aa(b.toFixed(2),c):n&&Qe&&!b?"\u20ac 0.00":ea(b,"$",2),loading:n&&Qe&&t.loading?aa(t.loading,c):n&&Qe&&!t.loading?"\u20ac 0.00":t.loading,bolcharges:n&&Qe&&t.bolcharges?aa(t.bolcharges,c):n&&Qe&&!t.bolcharges?"\u20ac 0.00":t.bolcharges,outboundothers:n&&Qe&&t.outboundothers?aa(t.outboundothers,c):n&&Qe&&!t.outboundothers?"\u20ac 0.00":t.outboundothers,totaloutbound:n&&Qe&&y?aa(y.toFixed(2),c):n&&Qe&&!y?"\u20ac 0.00":ea(y,"$",2),outboundpmt:n&&Qe&&v?aa(v.toFixed(2),c):n&&Qe&&!v?"\u20ac 0.00":ea(v,"$",2),pcommission:n&&Qe&&t.pcommission?aa(t.pcommission,c):n&&Qe&&!t.pcommission?"\u20ac 0.00":t.pcommission,pfinancecost:n&&Qe&&t.pfinancecost?aa(t.pfinancecost,c):n&&Qe&&!t.pfinancecost?"\u20ac 0.00":t.pfinancecost,sfinancecost:n&&Qe&&t.sfinancecost?aa(t.sfinancecost,c):n&&Qe&&!t.sfinancecost?"\u20ac 0.00":t.sfinancecost,freightpmt:n&&Qe&&t.freightpmt?aa(t.freightpmt,c):n&&Qe&&!t.freightpmt?"\u20ac 0.00":t.freightpmt,insurance:n&&Qe&&t.insurance?aa(t.insurance,c):n&&Qe&&!t.insurance?"\u20ac 0.00":t.insurance,inspectionpmt:n&&Qe&&t.inspectionpmt?aa(t.inspectionpmt,c):n&&Qe&&!t.inspectionpmt?"\u20ac 0.00":t.inspectionpmt,scommission:n&&Qe&&t.scommission?aa(t.scommission,c):n&&Qe&&!t.scommission?"\u20ac 0.00":t.scommission,interestcost:n&&Qe&&t.interestcost?aa(t.interestcost,c):n&&Qe&&!t.interestcost?"\u20ac 0.00":t.interestcost,legal:n&&Qe&&t.legal?aa(t.legal,c):n&&Qe&&!t.legal?"\u20ac 0.00":t.legal,pallets:n&&Qe&&t.pallets?aa(t.pallets,c):n&&Qe&&!t.pallets?"\u20ac 0.00":t.pallets,other:n&&Qe&&t.other?aa(t.other,c):n&&Qe&&!t.other?"\u20ac 0.00":t.other,totalcost:n&&Qe&&t.totalcost?aa(t.totalcost,c):n&&Qe&&!t.totalcost?"\u20ac 0.00":t.totalcost,interestrate:t.interestrate,interestdays:t.interestdays,pricebeforeint:n&&Qe&&t.pricebeforeint?aa(t.pricebeforeint,c):n&&Qe&&!t.pricebeforeint?"\u20ac 0.00":t.pricebeforeint,salesinterest:n&&Qe&&t.salesinterest?aa(t.salesinterest,c):n&&Qe&&!t.salesinterest?"\u20ac 0.00":t.salesinterest,priceafterint:n&&Qe&&t.priceafterint?aa(t.priceafterint,c):n&&Qe&&!t.priceafterint?"\u20ac 0.00":t.priceafterint,profit:n&&Qe&&t.profit?aa(t.profit,c):n&&Qe&&!t.pricebeforeint?"\u20ac 0.00":t.profit,margin:n&&Qe&&t.margin?aa(t.margin,c):n&&Qe&&!t.margin?"\u20ac 0.00":t.margin,turnover:n&&Qe&&t.turnover?aa(t.turnover,c):n&&Qe&&!t.turnover?"\u20ac 0.00":t.turnover,pctmargin:t.pctmargin?t.pctmargin:"0.00%",netback:n&&Qe&&t.netback?aa(t.netback,c):n&&Qe&&!t.netback?"\u20ac 0.00":t.netback})),Q(Object(r.a)({},q,{warehouse:t.warehouseID?t.warehouseID:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagepmt:t.storagepmt?ta(t.storagepmt,"$"):0,storagefixed:t.storagefixed?ta(t.storagefixed,"$"):0,storagevariable:t.storagevariable?ta(t.storagevariable,"$"):0,stggraceperiod:t.stggraceperiod?t.stggraceperiod:0,stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:0,quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleTypeID,QSID:t.QSID,abbreviation:t.productID,supplier:t.supplierID,customer:t.customerID,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POLID,POD:t.PODID,saleComplete:t.saleComplete,finalComplete:t.finalComplete,TIC:t.traderID,traffic:t.trafficID,incoterms:t.incoterms,paymentTerm:t.pTermID,CADintrate:Number(t.includedrate.replace("%",""))/100,insurancerate:Number(t.insurancerate.replace("%",""))/100,insurancefactor:t.insurancefactor,CADdays:t.includedperiod,shipmentType:t.shipmentTypeID?t.shipmentTypeID:1,freightTotal:t.freightTotal?ta(t.freightTotal,"$"):0,shippingline:t.shippingline,payload:t.payload,totalinspection:t.totalinspection?ta(t.totalinspection,"$"):0,quantity:Number(t.quantity.replace(",","")),materialcost:t.materialcost?ta(t.materialcost,"$"):0,materialvalue:i||0,generalduty:t.generalduty?Number(t.generalduty.replace("%",""))/100:0,additionalduty:t.additionalduty?Number(t.additionalduty.replace("%",""))/100:0,totalduty:s?s/100:0,dutyfee:u||0,harborfeepct:t.harborfeepct?Number(t.harborfeepct.replace("%",""))/100:0,harborfee:m||0,merchprocfeepct:t.merchprocfeepct?Number(t.merchprocfeepct.replace("%",""))/100:0,merchprocfee:p||0,cflatfee:t.cflatfee?ta(t.cflatfee,"$"):0,tsca:t.tsca?ta(t.tsca,"$"):0,isf:t.isf?ta(t.isf,"$"):0,totalcentryfee:d||0,centryfeepmt:h||0,drayage:t.drayage?ta(t.drayage,"$"):0,unloading:t.unloading?ta(t.unloading,"$"):0,collectcharges:t.collectcharges?ta(t.collectcharges,"$"):0,inboundothers:t.inboundothers?ta(t.inboundothers,"$"):0,totalinbound:g||0,inboundpmt:b||0,loading:t.loading?ta(t.loading,"$"):0,bolcharges:t.bolcharges?ta(t.bolcharges,"$"):0,outboundothers:t.outboundothers?ta(t.outboundothers,"$"):0,totaloutbound:y||0,outboundpmt:v||0,pcommission:t.pcommission?ta(t.pcommission,"$"):0,pfinancecost:t.pfinancecost?ta(t.pfinancecost,"$"):0,sfinancecost:t.sfinancecost?ta(t.sfinancecost,"$"):0,freightpmt:t.freightpmt?ta(t.freightpmt,"$"):0,insurance:t.insurance?ta(t.insurance,"$"):0,inspectionpmt:t.inspectionpmt?ta(t.inspectionpmt,"$"):0,scommission:t.scommission?ta(t.scommission,"$"):0,interestcost:t.interestcost?ta(t.interestcost,"$"):0,legal:t.legal?ta(t.legal,"$"):0,pallets:t.pallets?ta(t.pallets,"$"):0,other:t.other?ta(t.other,"$"):0,totalcost:t.totalcost?ta(t.totalcost,"$"):0,interestrate:Number(t.interestrate.replace("%",""))/100,interestdays:t.interestdays,pricebeforeint:t.pricebeforeint?ta(t.pricebeforeint,"$"):0,salesinterest:t.salesinterest?ta(t.salesinterest,"$"):0,priceafterint:t.priceafterint?ta(t.priceafterint,"$"):0,profit:t.profit?ta(t.profit,"$"):0,margin:t.margin?ta(t.margin,"$"):0,turnover:t.turnover?ta(t.turnover,"$"):0,pctmargin:t.pctmargin?Number(t.pctmargin.replace("%",""))/100:0,netback:t.netback?ta(t.netback,"$"):0})),et(Object(r.a)({},Xe,{warehouse:t.warehouseID?_t[t.warehouseID-1].warehouseName:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagefixed:t.storagefixed?t.storagefixed:"$ 0.00",storagepmt:t.storagepmt?t.storagepmt:"$ 0.00",storagevariable:t.storagevariable?t.storagevariable:"$ 0.00",stggraceperiod:t.stggraceperiod?t.stggraceperiod:"0",stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:"0",quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleType,QSID:t.QSID,abbreviation:t.abbreviation,supplier:t.supplier,customer:t.customer,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POL,POD:t.POD,saleComplete:-1===t.saleComplete?"sold":0===t.saleComplete?"indication":1===t.saleComplete?"US Allocation":"",finalComplete:1===t.finalComplete?"finalized":"in progress",TIC:t.trader,traffic:t.traffic,incoterms:t.incoterms,paymentTerm:t.paymentTerm,CADintrate:t.includedrate,insurancerate:t.insurancerate,insurancefactor:t.insurancefactor.toFixed(2),CADdays:t.includedperiod,shipmentType:t.shipmentType,freightTotal:t.freightTotal?t.freightTotal:"",shippingline:t.shippingline,payload:t.payload,totalinspection:t.totalinspection?t.totalinspection:"",quantity:t.quantity,materialcost:t.materialcost?t.materialcost:"$ 0.00",materialvalue:i?ea(i):"$ 0.00",generalduty:t.generalduty?t.generalduty:"0.00%",additionalduty:t.additionalduty?t.additionalduty:"0.00%",totalduty:s?s+"%":"0.00%",dutyfee:u?ea(u):"$ 0.00",harborfeepct:t.harborfeepct?t.harborfeepct:"0.00%",harborfee:m?ea(m):"$ 0.00",merchprocfeepct:t.merchprocfeepct?t.merchprocfeepct:"0.00%",merchprocfee:p?ea(p):"$ 0.00",cflatfee:t.cflatfee?t.cflatfee:"$ 0.00",tsca:t.tsca?t.tsca:"$ 0.00",isf:t.isf?t.isf:"$ 0.00",totalcentryfee:d?ea(d):"$ 0.00",centryfeepmt:h?ea(h):"$ 0.00",drayage:t.drayage?t.drayage:"$ 0.00",unloading:t.unloading?t.unloading:"$ 0.00",collectcharges:t.collectcharges?t.collectcharges:"$ 0.00",inboundothers:t.inboundothers?t.inboundothers:"$ 0.00",totalinbound:g?ea(g):"$ 0.00",inboundpmt:b?ea(b):"$ 0.00",loading:t.loading?t.loading:"$ 0.00",bolcharges:t.bolcharges?t.bolcharges:"$ 0.00",outboundothers:t.outboundothers?t.outboundothers:"$ 0.00",totaloutbound:y?ea(y):"$ 0.00",outboundpmt:v?ea(v):"$ 0.00",pcommission:t.pcommission?t.pcommission:"$ 0.00",pfinancecost:t.pfinancecost?t.pfinancecost:"$ 0.00",sfinancecost:t.sfinancecost?t.sfinancecost:"$ 0.00",freightpmt:t.freightpmt?t.freightpmt:"$ 0.00",insurance:t.insurance?t.insurance:"$ 0.00",inspectionpmt:t.inspectionpmt?t.inspectionpmt:"$ 0.00",scommission:t.scommission?t.scommission:"$ 0.00",interestcost:t.interestcost?t.interestcost:"$ 0.00",legal:t.legal?t.legal:"$ 0.00",pallets:t.pallets?t.pallets:"$ 0.00",other:t.other?t.other:"$ 0.00",totalcost:t.totalcost?t.totalcost:"$ 0.00",interestrate:t.interestrate,interestdays:t.interestdays,pricebeforeint:t.pricebeforeint?t.pricebeforeint:"$ 0.00",salesinterest:t.salesinterest?t.salesinterest:"$ 0.00",priceafterint:t.priceafterint?t.priceafterint:"$ 0.00",profit:t.profit?t.profit:"$ 0.00",margin:t.margin?t.margin:"$ 0.00",turnover:t.turnover?t.turnover:"$ 0.00",pctmargin:t.pctmargin?t.pctmargin:"0.00%",netback:t.netback?t.netback:"$ 0.00"})),nt(Object(r.a)({},Xe,{warehouse:t.warehouseID?t.warehouseID:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagepmt:t.storagepmt?ta(t.storagepmt):0,storagefixed:t.storagefixed?ta(t.storagefixed):0,storagevariable:t.storagevariable?ta(t.storagevariable):0,stggraceperiod:t.stggraceperiod?t.stggraceperiod:0,stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:0,quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleTypeID,QSID:t.QSID,abbreviation:t.productID,supplier:t.supplierID,customer:t.customerID,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POLID,POD:t.PODID,saleComplete:t.saleComplete,finalComplete:t.finalComplete,TIC:t.traderID,traffic:t.trafficID,incoterms:t.incoterms,paymentTerm:t.pTermID,CADintrate:Number(t.includedrate.replace("%",""))/100,insurancerate:Number(t.insurancerate.replace("%",""))/100,insurancefactor:t.insurancefactor,CADdays:t.includedperiod,shipmentType:t.shipmentTypeID?t.shipmentTypeID:1,freightTotal:t.freightTotal?ta(t.freightTotal):0,shippingline:t.shippingline,payload:t.payload,totalinspection:t.totalinspection?ta(t.totalinspection):0,quantity:Number(t.quantity.replace(",","")),materialcost:t.materialcost?ta(t.materialcost):0,materialvalue:i||0,generalduty:t.generalduty?ta(t.generalduty,"%")/100:0,additionalduty:t.additionalduty?ta(t.additionalduty,"%")/100:0,totalduty:s?s/100:0,dutyfee:u||0,harborfeepct:t.harborfeepct?ta(t.harborfeepct,"%")/100:0,harborfee:m||0,merchprocfeepct:t.merchprocfeepct?ta(t.merchprocfeepct,"%")/100:0,merchprocfee:p||0,cflatfee:t.cflatfee?ta(t.cflatfee):0,tsca:t.tsca?ta(t.tsca):0,isf:t.isf?ta(t.isf):0,totalcentryfee:d||0,centryfeepmt:h||0,drayage:t.drayage?ta(t.drayage):0,unloading:t.unloading?ta(t.unloading):0,collectcharges:t.collectcharges?ta(t.collectcharges):0,inboundothers:t.inboundothers?ta(t.inboundothers):0,totalinbound:g||0,inboundpmt:b||0,loading:t.loading?ta(t.loading):0,bolcharges:t.bolcharges?ta(t.bolcharges):0,outboundothers:t.outboundothers?ta(t.outboundothers):0,totaloutbound:y||0,outboundpmt:v||0,pcommission:t.pcommission?ta(t.pcommission):0,pfinancecost:t.pfinancecost?ta(t.pfinancecost):0,sfinancecost:t.sfinancecost?ta(t.sfinancecost):0,freightpmt:t.freightpmt?ta(t.freightpmt):0,insurance:t.insurance?ta(t.insurance):0,inspectionpmt:t.inspectionpmt?ta(t.inspectionpmt):0,scommission:t.scommission?ta(t.scommission):0,interestcost:t.interestcost?ta(t.interestcost):0,legal:t.legal?ta(t.legal):0,pallets:t.pallets?ta(t.pallets):0,other:t.other?ta(t.other):0,interestrate:Number(t.interestrate.replace("%",""))/100,interestdays:t.interestdays,pricebeforeint:t.pricebeforeint?ta(t.pricebeforeint):0,salesinterest:t.salesinterest?ta(t.salesinterest):0,priceafterint:t.priceafterint?ta(t.priceafterint):0,profit:t.profit?ta(t.profit):0,margin:t.margin?ta(t.margin):0,turnover:t.turnover?ta(t.turnover):0,pctmargin:t.pctmargin?Number(t.pctmargin.replace("%",""))/100:0,netback:t.netback?ta(t.netback):0})),-1===t.saleComplete&&(re(!0),me(!1)),1===t.saleComplete&&(me(!0),re(!1)),0===t.saleComplete&&(re(!1),me(!1)),1===t.finalComplete&&le(!0),0===t.finalComplete&&le(!1),e.next=82,new Promise(function(e,t){ft(!1),e()});case 82:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(t)}),ke===ye.length&&(_(T),Q(L),Ke(null)),it(!1)},[ke]);var ba=function(e,t,a,r){var n=[],o=[],c=[];for(var l in e)!1===Qe&&e[l]!==t[l]&&(n.push(l),""===t[l]?o.push("(empty)"):o.push(t[l]),c.push(e[l])),!0===Qe&&e[l]&&(e[l].toString().indexOf("\u20ac")>-1?ta(e[l],"\u20ac").toFixed(2)!==(ta(t[l],"$")/_e).toFixed(2)&&(n.push(l),""===t[l]?o.push("(empty)"):o.push(aa(t[l],_e,"\u20ac","$",2)),c.push(e[l])):e[l]!==t[l]&&(n.push(l),""===t[l]?o.push("(empty)"):o.push(t[l]),c.push(e[l])));!0===He&&0!==c.length&&Object(b.confirmAlert)({customUI:function(e){var t=e.onClose;return s.a.createElement("div",{className:"custom-ui"},s.a.createElement("h1",null,"Are you sure?"),s.a.createElement("p",{className:"confirmmsg"},"If you leave this QS now, the following unsaved edits will be lost. Click CONTINUE to leave the QS anyway OR click CANCEL to go back and avoid losing your edits."),s.a.createElement("ul",null,s.a.createElement("li",{className:"editsline editsheader"},s.a.createElement("p",null,"Item:"),s.a.createElement("p",{className:"editfig"},"Original:"),s.a.createElement("p",null,"Edit:")),n.map(function(e,t){return s.a.createElement("li",{className:"editsline"},s.a.createElement("p",{className:"edititem"},n[t]),s.a.createElement("p",{className:"editfig"},o[t]),s.a.createElement("p",{className:"editfig"},c[t]))})),s.a.createElement("button",{onClick:t},"Cancel"),s.a.createElement("button",{onClick:function(e){"prev"===a&&(Fe(ke-1),je(ye[ke-1]),Se(ye[ke-1]),Pe(null)),"next"===a&&(Fe(ke<ye.length?ke+1:ye.length),je(ke<ye.length-1?ye[ke+1]:""),Se(ke<ye.length-1?ye[ke+1]:""),Pe(null)),"enter"===a&&(Fe(ye.indexOf(r)),Pe(""),je(r)),"new"===a&&(Fe(ye.length),je(""),Se(""),re(!1),me(!1),le(!1)),t()}},"Continue"))}}),!1===He&&Object(b.confirmAlert)({customUI:function(e){var t=e.onClose;return s.a.createElement("div",{className:"custom-ui"},s.a.createElement("h1",null,"Are you sure?"),s.a.createElement("p",{className:"confirmmsg"},"You have already added some data to this new QS. If you leave this QS now without saving, the inputed data will be lost. Click CONTINUE to leave the QS anyway OR click CANCEL to go back and avoid losing your added data."),s.a.createElement("button",{onClick:t},"Cancel"),s.a.createElement("button",{onClick:function(e){"prev"===a&&(Fe(ke-1),je(ye[ke-1]),Se(ye[ke-1]),Pe(null)),"enter"===a&&(Fe(ye.indexOf(r)),Pe("")),"new"===a&&(Fe(ye.length),je(""),Se(""),_a()),t()}},"Continue"))}})};Object(i.useEffect)(function(){ae&&(Q(Object(r.a)({},q,{saleComplete:-1})),_(Object(r.a)({},G,{saleComplete:"sold"}))),ue&&(Q(Object(r.a)({},q,{saleComplete:1})),_(Object(r.a)({},G,{saleComplete:"US Allocation"}))),!ae&!ue&&(Q(Object(r.a)({},q,{saleComplete:0})),_(Object(r.a)({},G,{saleComplete:"indication"})))},[ae,ue]);var ya=function(e,t,a,n,o,l){var i,s;""===t&&""===n&&""===l?(Q(Object(r.a)({},q,Object(c.a)({},a,e))),_(Object(r.a)({},G,Object(c.a)({},a,o)))):(Q(Object(r.a)({},q,(i={},Object(c.a)(i,a,e),Object(c.a)(i,n,t),i))),_(Object(r.a)({},G,(s={},Object(c.a)(s,a,o),Object(c.a)(s,n,l),s))))},va=function(e){it(!0),Q(Object(r.a)({},q,Object(c.a)({},e.target.name,e.target.value))),_(Object(r.a)({},G,Object(c.a)({},e.target.name,e.target.value)))},Ea=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;it(!0),!0===Qe&&_e&&!1===Me&&Re(!0),(RegExp("^[0-9.,%]+$").test(e.target.value)||""===e.target.value)&&(e.target.value.toString().includes("%")?(Q(Object(r.a)({},q,Object(c.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(t)/100))),_(Object(r.a)({},G,Object(c.a)({},e.target.name,e.target.value.replace("%",""))))):(Q(Object(r.a)({},q,Object(c.a)({},e.target.name,Number(e.target.value).toFixed(t)/100))),_(Object(r.a)({},G,Object(c.a)({},e.target.name,e.target.value)))))},Oa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;_(Object(r.a)({},G,Object(c.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(t)+"%")))},Na=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;it(!0),!0===Qe&&_e&&!1===Me&&Re(!0),(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&(Q(Object(r.a)({},q,Object(c.a)({},e.target.name,Number(Number(e.target.value).toFixed(t))))),_(Object(r.a)({},G,Object(c.a)({},e.target.name,e.target.value))))},ja=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;_(Object(r.a)({},G,Object(c.a)({},e.target.name,Number(e.target.value.replace(",","")).toFixed(t).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""===e.target.value&&Q(Object(r.a)({},q,Object(c.a)({},e.target.name,0)))},xa=function(e){it(!0),!1===Qe&&(RegExp("^[ $0-9.]+$").test(e.target.value)||""===e.target.value)&&(Q(Object(r.a)({},q,Object(c.a)({},e.target.name,Number(Number(e.target.value.replace("$","")).toFixed(2))))),_(Object(r.a)({},G,Object(c.a)({},e.target.name,e.target.value)))),!0===Qe&&_e&&(Me||Re(!0),(RegExp("^[ \u20ac0-9.]+$").test(e.target.value)||""===e.target.value)&&(Q(Object(r.a)({},q,Object(c.a)({},e.target.name,Number(Number(e.target.value.replace("\u20ac","")).toFixed(2))*_e))),_(Object(r.a)({},G,Object(c.a)({},e.target.name,e.target.value))))),!0!==Qe||_e&&""!==_e||Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},wa=function(e){!1===Qe&&(_(Object(r.a)({},G,Object(c.a)({},e.target.name,"$ "+Number(e.target.value.replace(",","").replace("$","")).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""!==e.target.value&&"$"!==e.target.value||Q(Object(r.a)({},q,Object(c.a)({},e.target.name,0)))),!0===Qe&&(_(Object(r.a)({},G,Object(c.a)({},e.target.name,"\u20ac "+Number(e.target.value.replace(",","").replace("\u20ac","")).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""!==e.target.value&&"\u20ac"!==e.target.value||Q(Object(r.a)({},q,Object(c.a)({},e.target.name,0))))},Sa=function(e){e.preventDefault(),it(!0),(RegExp("^[0-9]+$").test(e.target.value)||""===e.target.value)&&(_(Object(r.a)({},G,Object(c.a)({},e.target.name,e.target.value))),Q(Object(r.a)({},q,Object(c.a)({},e.target.name,e.target.value))))};Object(i.useEffect)(function(){if(G.from&&!G.to&&(_(Object(r.a)({},G,{to:G.from})),Q(Object(r.a)({},q,{to:q.from}))),G.from&&G.to){var e=m()(G.from);m()(G.to).diff(e,"days")<0&&Object(b.confirmAlert)({title:"Check shipment dates",message:"Delivery date (to) cannot be earlier than shipment date (from)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})}},[G.from,G.to]);var Ca=function(e,t){return new Promise(function(a,r){a(e>0&&t>0?e/t:0)})},Da=function(e,t,a){return new Promise(function(r,n){r(e>0&&t>0&&a>0?e*t*a/360:0)})},ka=function(e,t){return new Promise(function(a,r){a(e>0&&t>0?e/t:0)})},Fa=function(){var e=Object(n.a)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,t){me(!1),e()});case 2:Q(Object(r.a)({},q,{saleComplete:0,saleType:3,generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,warehouse:"",whentry:"",whexit:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:"",KTP:""})),_(Object(r.a)({},G,{saleComplete:"indication",saleType:"US Distribution",generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:Qe?"\u20ac 0.00":"$ 0.00",tsca:Qe?"\u20ac 0.00":"$ 0.00",isf:Qe?"\u20ac 0.00":"$ 0.00",drayage:Qe?"\u20ac 0.00":"$ 0.00",unloading:Qe?"\u20ac 0.00":"$ 0.00",collectcharges:Qe?"\u20ac 0.00":"$ 0.00",inboundothers:Qe?"\u20ac 0.00":"$ 0.00",warehouse:"",whentry:"",whexit:"",storagefixed:Qe?"\u20ac 0.00":"$ 0.00",storagevariable:Qe?"\u20ac 0.00":"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:"",KTP:""}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)(function(){var e;e=q.incoterms,new Promise(function(t,a){"CPT"!==e&&"CFR"!==e||(Q(Object(r.a)({},q,{insurancerate:7e-4})),_(Object(r.a)({},G,{insurancerate:"0.07%"}))),"DAP"===e&&(Q(Object(r.a)({},q,{insurancerate:.0011})),_(Object(r.a)({},G,{insurancerate:"0.11%"}))),"CIP"!==e&&"CIF"!==e||(Q(Object(r.a)({},q,{insurancerate:.0014,insurancefactor:1.1})),_(Object(r.a)({},G,{insurancerate:"0.14%",insurancefactor:"1.10"})))})},[q.incoterms]),Object(i.useEffect)(function(){!1===dt&&function(){var e=Object(n.a)(O().mark(function e(){var t,a,n,o,c,l,i,s,u,m,p,d,f,h,g,b,y,v,E,N,j;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0,3!==q.saleType){e.next=11;break}return e.next=4,Qa(q.whentry?q.whentry:Mt.whentry,q.whexit?q.whexit:Mt.whentry);case 4:return a=e.sent,e.next=7,$a(a,Mt.stggraceperiod);case 7:return n=e.sent,e.next=10,Aa(n,Mt.storagefixed,Mt.storagevariable,Mt.quantity,Mt.quantitypallets,Mt.stgaccrualperiod);case 10:t=e.sent;case 11:return e.next=13,Ca(q.freightTotal,q.payload);case 13:return o=e.sent,e.next=16,Da(q.CADintrate,q.CADdays,q.pricebeforeint);case 16:return c=e.sent,e.next=19,Da(q.interestrate,q.interestdays,q.pricebeforeint);case 19:return l=e.sent,e.next=22,ka(q.totalinspection,q.quantity);case 22:return i=e.sent,e.next=25,ra(q.pricebeforeint,q.insurancerate,q.insurancefactor);case 25:return s=e.sent,e.next=28,ca(q.materialcost,q.quantity);case 28:return u=e.sent,e.next=31,la(q.generalduty,q.additionalduty);case 31:return m=e.sent,e.next=34,ia(u,m);case 34:return p=e.sent,e.next=37,sa(u,q.harborfeepct);case 37:return d=e.sent,e.next=40,ua(u,q.merchprocfeepct);case 40:return f=e.sent,e.next=43,ma(p,d,f,q.cflatfee,q.tsca,q.isf);case 43:if(h=e.sent,!q.quantity){e.next=50;break}return e.next=47,pa(h,q.quantity);case 47:e.t0=e.sent,e.next=51;break;case 50:e.t0=0;case 51:return g=e.t0,e.next=54,da(q.drayage,q.unloading,q.collectcharges,q.inboundothers);case 54:if(b=e.sent,!q.payload){e.next=61;break}return e.next=58,fa(b,q.payload);case 58:e.t1=e.sent,e.next=62;break;case 61:e.t1=0;case 62:return y=e.t1,e.next=65,ha(q.loading,q.bolcharges,q.outboundothers);case 65:return v=e.sent,e.next=68,ga(v,q.payload);case 68:return E=e.sent,e.next=71,na(q.materialcost,g,y,E,q.pcommission,q.pfinancecost,q.sfinancecost,o,s,i,q.scommission,c,q.legal,q.pallets,q.other,q.storagepmt);case 71:return N=e.sent,e.next=74,oa(q.pricebeforeint,l);case 74:j=e.sent,Q(Object(r.a)({},q,{freightpmt:o,insurance:s,inspectionpmt:i,interestcost:c,materialvalue:u,totalduty:m,dutyfee:p,harborfee:d,merchprocfee:f,totalcentryfee:h,centryfeepmt:g,totalinbound:b,totaloutbound:v,inboundpmt:y,outboundpmt:E,totalcost:N,salesinterest:l,priceafterint:j,storagepmt:t,profit:0!==q.quantity&&0!==q.pricebeforeint?Number((q.pricebeforeint-N).toFixed(4)):0,margin:0!==q.quantity&&0!==q.pricebeforeint?Number(((q.pricebeforeint-N)*q.quantity).toFixed(4)):0,turnover:0!==q.quantity&&0!==q.pricebeforeint?Number((q.quantity*j).toFixed(4)):0,pctmargin:0!==q.quantity&&0!==q.pricebeforeint?Number(((q.pricebeforeint-N)/q.pricebeforeint).toFixed(4)):0,netback:0!==q.quantity&&0!==q.pricebeforeint?Number((q.pricebeforeint-N+q.materialcost).toFixed(4)):0})),!1===Qe&&_(Object(r.a)({},G,{freightpmt:"$ "+o.toFixed(2),insurance:"$ "+s.toFixed(2),inspectionpmt:"$ "+i.toFixed(2),interestcost:"$ "+c.toFixed(2),materialvalue:ea(u),totalduty:Number(100*m).toFixed(2)+"%",dutyfee:ea(p),harborfee:ea(d),merchprocfee:ea(f),totalcentryfee:ea(h),centryfeepmt:ea(g),totalinbound:ea(b),totaloutbound:ea(v),inboundpmt:ea(y),outboundpmt:ea(E),storagepmt:ea(t),totalcost:"$ "+N.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),salesinterest:"$ "+l.toFixed(2),priceafterint:"$ "+j.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),profit:0!==q.quantity&&0!==q.pricebeforeint?"$ "+Number(q.pricebeforeint-N).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2),margin:0!==q.quantity&&0!==q.pricebeforeint?"$ "+Number((q.pricebeforeint-N)*q.quantity).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2),turnover:0!==q.quantity&&0!==q.pricebeforeint?"$ "+Number(q.quantity*j).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2),pctmargin:0!==q.quantity&&0!==q.pricebeforeint?Number((q.pricebeforeint-N)/q.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==q.quantity&&0!==q.pricebeforeint?"$ "+Number(q.pricebeforeint-N+q.materialcost).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2)})),!0===Qe&&_e&&_(Object(r.a)({},G,{freightpmt:"\u20ac "+(o/_e).toFixed(2),insurance:"\u20ac "+(s/_e).toFixed(2),inspectionpmt:"\u20ac "+(i/_e).toFixed(2),interestcost:"\u20ac "+(c/_e).toFixed(2),materialvalue:aa(u.toFixed(2),_e),totalduty:Number(100*m).toFixed(2)+"%",dutyfee:aa(p.toFixed(2),_e),harborfee:aa(d.toFixed(2),_e),merchprocfee:aa(f.toFixed(2),_e),totalcentryfee:aa(h.toFixed(2),_e),centryfeepmt:aa(g.toFixed(2),_e),totalinbound:aa(b.toFixed(2),_e),totaloutbound:aa(v.toFixed(2),_e),inboundpmt:aa(y.toFixed(2),_e),outboundpmt:aa(E.toFixed(2),_e),totalcost:"\u20ac "+(N/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),salesinterest:"\u20ac "+(l/_e).toFixed(2),priceafterint:"\u20ac "+(j/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),profit:0!==q.quantity&&0!==q.pricebeforeint?"\u20ac "+Number((q.pricebeforeint-N)/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2),margin:0!==q.quantity&&0!==q.pricebeforeint?"\u20ac "+Number((q.pricebeforeint-N)*q.quantity/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2),turnover:0!==q.quantity&&0!==q.pricebeforeint?"\u20ac "+Number(q.quantity*j/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2),pctmargin:0!==q.quantity&&0!==q.pricebeforeint?Number((q.pricebeforeint-N)/q.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==q.quantity&&0!==q.pricebeforeint?"\u20ac "+Number((q.pricebeforeint-N+q.materialcost)/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2)}));case 78:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[q.whexit,q.freightTotal,q.payload,q.CADintrate,q.CADdays,q.pricebeforeint,q.interestrate,q.interestdays,q.totalinspection,q.quantity,q.insurancerate,q.insurancefactor,q.materialcost,q.pcommission,q.generalduty,q.additionalduty,q.harborfeepct,q.merchprocfeepct,q.cflatfee,q.tsca,q.isf,q.drayage,q.unloading,q.collectcharges,q.inboundothers,q.scommission,q.pfinancecost,q.sfinancecost,q.legal,q.pallets,q.other,q.loading,q.bolcharges,q.outboundothers]),Object(i.useEffect)(function(){!0===Qe&&_(Object(r.a)({},G,{freightTotal:ea(q.freightTotal/_e,"\u20ac"),totalinspection:ea(q.totalinspection/_e,"\u20ac"),materialcost:ea(q.materialcost/_e,"\u20ac"),materialvalue:ea(q.materialvalue/_e,"\u20ac"),dutyfee:ea(q.dutyfee/_e,"\u20ac"),harborfee:ea(q.harborfee/_e,"\u20ac"),merchprocfee:ea(q.merchprocfee/_e,"\u20ac"),cflatfee:ea(q.cflatfee/_e,"\u20ac"),tsca:ea(q.tsca/_e,"\u20ac"),isf:ea(q.isf/_e,"\u20ac"),totalcentryfee:ea(q.totalcentryfee/_e,"\u20ac"),centryfeepmt:ea(q.centryfeepmt/_e,"\u20ac"),drayage:ea(q.drayage/_e,"\u20ac"),unloading:ea(q.unloading/_e,"\u20ac"),collectcharges:ea(q.collectcharges/_e,"\u20ac"),inboundothers:ea(q.inboundothers/_e,"\u20ac"),totalinbound:ea(q.totalinbound/_e,"\u20ac"),inboundpmt:ea(q.inboundpmt/_e,"\u20ac"),pcommission:ea(q.pcommission/_e,"\u20ac"),pfinancecost:ea(q.pfinancecost/_e,"\u20ac"),sfinancecost:ea(q.sfinancecost/_e,"\u20ac"),freightpmt:ea(q.freightpmt/_e,"\u20ac"),insurance:ea(q.insurance/_e,"\u20ac"),inspectionpmt:ea(q.inspectionpmt/_e,"\u20ac"),scommission:ea(q.scommission/_e,"\u20ac"),interestcost:ea(q.interestcost/_e,"\u20ac"),legal:ea(q.legal/_e,"\u20ac"),pallets:ea(q.pallets/_e,"\u20ac"),other:ea(q.other/_e,"\u20ac"),totalcost:ea(q.totalcost/_e,"\u20ac"),pricebeforeint:ea(q.pricebeforeint/_e,"\u20ac"),salesinterest:ea(q.salesinterest/_e,"\u20ac"),priceafterint:ea(q.priceafterint/_e,"\u20ac"),profit:ea(q.profit/_e,"\u20ac"),margin:ea(q.margin/_e,"\u20ac"),turnover:ea(q.turnover/_e,"\u20ac"),netback:ea(q.netback/_e,"\u20ac")})),!1===Qe&&_(Object(r.a)({},G,{freightTotal:ea(q.freightTotal,"$"),totalinspection:ea(q.totalinspection,"$"),materialcost:ea(q.materialcost,"$"),materialvalue:ea(q.materialvalue,"$"),dutyfee:ea(q.dutyfee,"$"),harborfee:ea(q.harborfee,"$"),merchprocfee:ea(q.merchprocfee,"$"),cflatfee:ea(q.cflatfee,"$"),tsca:ea(q.tsca,"$"),isf:ea(q.isf,"$"),totalcentryfee:ea(q.totalcentryfee,"$"),centryfeepmt:ea(q.centryfeepmt,"$"),drayage:ea(q.drayage,"$"),unloading:ea(q.unloading,"$"),collectcharges:ea(q.collectcharges,"$"),inboundothers:ea(q.inboundothers,"$"),totalinbound:ea(q.totalinbound,"$"),inboundpmt:ea(q.inboundpmt,"$"),pcommission:ea(q.pcommission,"$"),pfinancecost:ea(q.pfinancecost,"$"),sfinancecost:ea(q.sfinancecost,"$"),freightpmt:ea(q.freightpmt,"$"),insurance:ea(q.insurance,"$"),inspectionpmt:ea(q.inspectionpmt,"$"),scommission:ea(q.scommission,"$"),interestcost:ea(q.interestcost,"$"),legal:ea(q.legal,"$"),pallets:ea(q.pallets,"$"),other:ea(q.other,"$"),totalcost:ea(q.totalcost,"$"),pricebeforeint:ea(q.pricebeforeint,"$"),salesinterest:ea(q.salesinterest,"$"),priceafterint:ea(q.priceafterint,"$"),profit:ea(q.profit,"$"),margin:ea(q.margin,"$"),turnover:ea(q.turnover,"$"),netback:ea(q.netback,"$")}))},[Qe]);var Ia=function(e,t){return new Promise(function(a,r){var n={};for(var o in e)e[o]!==t[o]&&(n[o]=e[o]);a(n)})},La=Object(i.useState)(),Ta=Object(l.a)(La,2),Pa=Ta[0],Ba=Ta[1],qa=function(){var t=Object(n.a)(O().mark(function t(a){var r;return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!He){t.next=7;break}return a.preventDefault(),t.next=4,Ia(q,rt);case 4:r=t.sent,console.log(_e),f.a.post("/updateQS",{QSedits:r,QSID:Ne,exchrate:_e}).then(function(t){Ba(t.data.message),F(!k),it(!1),e()});case 7:if(He){t.next=13;break}return a.preventDefault(),t.next=11,f.a.post("/saveQS",{QSData:q}).then(function(t){Ba(t.data.message),F(!k),e(),he(!fe)});case 11:return t.next=13,_a();case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Qa=function(e,t){return new Promise(function(a,r){e&&t&&m()(t).diff(m()(e),"days")>0?a(m()(t).diff(m()(e),"days")):a(0)})},$a=function(e,t){return new Promise(function(a,r){a(e&&t?e<t?"":e-t:"")})},Aa=function(e,t,a,r,n,o){return new Promise(function(c,l){c(t/r+Math.ceil(e/o)*a*n/r)})},Ga=function(){var e=Object(n.a)(O().mark(function e(t){var a,n,o,c;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return it(!0),a=U[t],Rt(a),e.next=5,Qa(a.whentry,q.whexit?q.whexit:a.whentry);case 5:return n=e.sent,e.next=8,$a(n,a.stggraceperiod);case 8:return o=e.sent,e.next=11,Aa(o,a.storagefixed,a.storagevariable,a.quantity,a.quantitypallets,a.stgaccrualperiod);case 11:c=e.sent,console.log("WH Entry Date: "+a.whentry),console.log("Current Date: "+m()().format("YYYY-MM-DD")),console.log("Days in WH: "+n),console.log("Days in Storage: "+o),console.log("Storage Cost $/mt: "+c),_(Object(r.a)({},G,{KTP:a.USWGP,abbreviation:a.product,supplier:a.supplier,packsize:a.packaging?a.packaging:"",marks:a.marks?a.marks:"",whentry:a.whentry,whexit:q.whexit?q.whexit:a.whentry,storagepmt:ea(c),materialcost:"$ "+Number(a.EWPrice.replace("$","").replace(",","")).toFixed(2)})),Q(Object(r.a)({},q,{KTP:a.USWGP,abbreviation:a.productID,supplier:a.supplierID,packsize:a.packaging?a.packaging:"",marks:a.marks?a.marks:"",whentry:a.whentry,whexit:q.whexit?q.whexit:a.whentry,storagepmt:c,materialcost:Number(a.EWPrice.replace("$","").replace(",",""))}));case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),_a=function(){_(T),Q(L),re(!1),le(!1),me(!1),Re(!1),it(!1)},Ka=function(e){"Enter"===e.key&&(e.preventDefault(),"centryfeepmt"===e.target.name&&(yt(!bt),Nt(!1),St(!1)),"inboundpmt"===e.target.name&&(Nt(!Ot),yt(!1),St(!1)),"storagepmt"===e.target.name&&(St(!wt),yt(!1),Nt(!1)),"insurance"===e.target.name&&(Ft(!kt),yt(!1),Nt(!1)),"outboundpmt"===e.target.name&&(Pt(!Tt),yt(!1),Nt(!1),Ft(!1)))};return s.a.createElement("div",{className:"salesQS"},s.a.createElement("div",{className:"salesQStitleline"},s.a.createElement("h3",{className:"saleslisttitle"},"Quotation Sheet"),s.a.createElement("span",{style:{width:"100px",fontWeight:"bold"}},He?"Edit Mode":"New QS"),s.a.createElement("div",{className:"QSindexbox"},s.a.createElement("div",{className:"salesQSnavbuttons"},s.a.createElement("select",{onChange:function(e){w(!0),u(e.target.value)}},s.a.createElement("option",{value:"all"},"All"),Jt?Jt.map(function(e){return e.trader===d?s.a.createElement("option",{selected:!0,value:e.trader},e.trader):s.a.createElement("option",{value:e.trader},e.trader)}):"reload"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),!0===lt&&!1===He&&ba(G,T,"prev"),!0===lt&&!0===He&&ba(G,Xe,"prev"),!1===lt&&(Fe(ke-1),je(ye[ke-1]),Se(ye[ke-1]),Pe(null))}},"Prev"),s.a.createElement("input",{className:"canceldrag",type:"text",placeholder:" New...",onKeyDown:function(e){"Enter"===e.key&&(ye.includes(Number(e.target.value))?(!0===lt&&ba(G,Xe,"enter",Number(e.target.value)),!1===lt&&(Fe(ye.indexOf(Number(e.target.value))),Pe(""))):Pe("QSID not found."))},onChange:function(e){return je(e.target.value)},value:Ne||""}),s.a.createElement("button",{onClick:function(e){e.preventDefault(),!0===lt&&!0===He&&ba(G,Xe,"next"),!1===lt&&(Fe(ke<ye.length?ke+1:ye.length),je(ke<ye.length-1?ye[ke+1]:""),Se(ke<ye.length-1?ye[ke+1]:""),Pe(null))}},"Next"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),!0===He&&!0===lt&&ba(G,Xe,"new"),!1===He&&!0===lt&&ba(G,T,"new"),!1===lt&&(Fe(ye.length),je(""),Se(""))}},"New")),s.a.createElement("span",{className:"QSIDerror"},Te))),s.a.createElement("form",{className:He?"salesQS-form editmode":"salesQS-form",onSubmit:function(e){qa(e)}},s.a.createElement("section",{id:"salesQS-1"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"QS Date:"),s.a.createElement("input",{readOnly:!0,className:"canceldrag",value:G.QSDate,type:"date",onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"WGP:"),s.a.createElement("input",{name:"KTP",placeholder:"5000...",value:G&&G.KTP||"",onChange:Sa,className:"canceldrag",onKeyDown:Ka})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Sale Type"),s.a.createElement("div",{className:"saletype-group"},s.a.createElement("input",{name:"saletype",type:"radio",checked:!(!q||1!==q.saleType),required:!0,onClick:function(e){it(!0),Q(Object(r.a)({},q,{saleType:1,loading:0,bolcharges:0,outboundothers:0,whexit:"",whentry:"",KTP:""})),_(Object(r.a)({},G,{saleType:"Back-to-back",loading:"$ 0.00",bolcharges:"$ 0.00",outboundothers:"$ 0.00",whexit:"",whentry:"",KTP:""}))},onKeyDown:Ka}),s.a.createElement("label",{htmlFor:""},"Back-to-back")),s.a.createElement("div",{className:"saletype-group"},s.a.createElement("input",{name:"saletype",type:"radio",checked:!(!q||2!==q.saleType),required:!0,onClick:function(e){it(!0),Q(Object(r.a)({},q,{saleType:2,loading:0,bolcharges:0,outboundothers:0,whexit:"",whentry:"",KTP:""})),_(Object(r.a)({},G,{saleType:"Position",loading:"$ 0.00",bolcharges:"$ 0.00",outboundothers:"$ 0.00",whexit:"",whentry:"",KTP:""})),f.a.post("/positiondropdown").then(function(e){M(e.data)})},onKeyDown:Ka}),s.a.createElement("label",{htmlFor:""},"Position"),q&&2===q.saleType?s.a.createElement("select",{className:"WGPSelect",onChange:function(e){return function(e){it(!0);var t=Y[e];""===e?(_(Object(r.a)({},G,{abbreviation:"",supplier:"",from:"",to:"",KTP:"",materialcost:Qe?"\u20ac 0.00":"$ 0.00"})),Q(Object(r.a)({},q,{abbreviation:"",supplier:"",from:"",to:"",KTP:"",materialcost:0}))):(_(Object(r.a)({},G,{abbreviation:t.product,supplier:t.Supplier,from:t.start,to:t.end,KTP:t.KTP,materialcost:"$ "+Number(t.Price.replace("$","").replace(",","")).toFixed(2)})),Q(Object(r.a)({},q,{abbreviation:t.productID,supplier:t.supplierID,from:t.start,to:t.end,KTP:t.KTP,materialcost:Number(t.Price.replace("$","").replace(",",""))})))}(e.target.value)}},s.a.createElement("option",{value:""},"Select..."),Y?Y.map(function(e,t){return s.a.createElement("option",{value:t},e.KTP+" - "+e.product+" - "+e.Supplier)}):""):""),s.a.createElement("div",{className:"saletype-group"},s.a.createElement("input",{name:"saletype",type:"radio",checked:!(!q||3!==q.saleType),required:!0,onClick:function(){var e=Object(n.a)(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:it(!0),Fa(),f.a.post("/uspositiondropdown").then(function(e){H(e.data),console.log(e.data)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}),s.a.createElement("label",null,"US Distribution"),q&&3===q.saleType?s.a.createElement("select",{className:"USWGPSelect",onChange:function(e){return Ga(e.target.value)}},s.a.createElement("option",null,"Select..."),U?U.map(function(e,t){return s.a.createElement("option",{value:t},e.USWGP+" - "+e.product+" - "+e.supplier+" - "+e.Inventory+"mt left")}):""):"")),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"General"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"QSID:"),s.a.createElement("input",{placeholder:"New QS",readOnly:!0,value:q&&q.QSID||"",onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Product:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",placeholder:"Product...",setQSFields:ya,value:G&&G.abbreviation||"",resetfield:Z,setResetfield:X,setEditing:it,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Supplier:"),s.a.createElement("input",{placeholder:"Supplier...",value:G.supplier,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Customer:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/customers",searchName:"customer",searchID:"customerID",placeholder:"Customer...",setQSFields:ya,value:G&&G.customer||"",setEditing:it,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Contact:"),s.a.createElement("input",{className:"canceldrag",type:"text",onKeyDown:Ka}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Packaging"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Pack Size:"),s.a.createElement("input",{value:q.packsize,onChange:va,name:"packsize",type:"text",placeholder:"9kg, 25kg, 50kg, bigbag",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Marks:"),s.a.createElement("input",{name:"marks",onChange:va,value:q.marks,type:"text",placeholder:"neutral, WG, seller, buyer",onDoubleClick:function(e){e.target.select()},className:"canceldrag",onKeyDown:Ka}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Delivery"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"From:"),s.a.createElement("input",{name:"from",onChange:va,value:q.from,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"To:"),s.a.createElement("input",{name:"to",onChange:va,value:q.to,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"POL:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/POLS",searchName:"POL",searchID:"POLID",placeholder:"POL...",setQSFields:ya,value:G&&G.POL||"",setEditing:it,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"POD:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/PODS",searchName:"POD",searchID:"PODID",placeholder:"POD...",setQSFields:ya,value:G&&G.POD||"",setEditing:it,required:!0})))),s.a.createElement("section",{id:"salesQS-2"},s.a.createElement("div",{className:"saleboxes"},s.a.createElement("div",{className:"soldcheckbox"},s.a.createElement("input",{className:"canceldrag",name:"saleComplete",type:"checkbox",checked:ae,onClick:function(){ue&&(_(Object(r.a)({},G,{customer:"",CADdays:10,saleComplete:"Indication",generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:Qe?"\u20ac 0.00":"$ 0.00",tsca:Qe?"\u20ac 0.00":"$ 0.00",isf:Qe?"\u20ac 0.00":"$ 0.00",drayage:Qe?"\u20ac 0.00":"$ 0.00",unloading:Qe?"\u20ac 0.00":"$ 0.00",collectcharges:Qe?"\u20ac 0.00":"$ 0.00",inboundothers:Qe?"\u20ac 0.00":"$ 0.00",warehouse:"",whentry:"",storagefixed:Qe?"\u20ac 0.00":"$ 0.00",storagevariable:Qe?"\u20ac 0.00":"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:""})),Q(Object(r.a)({},q,{customer:"",CADdays:10,saleComplete:0,generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,warehouse:"",whentry:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:""}))),re(!ae),me(!1),it(!0)},onKeyDown:Ka}),s.a.createElement("label",null,"Sold")),s.a.createElement("div",{className:"soldcheckbox"},s.a.createElement("input",{className:"canceldrag",name:"allocationComplete",type:"checkbox",checked:ue,onClick:function(){3!==q.saleType&&!1===ue&&(_(Object(r.a)({},G,{customer:"USA Distribution",CADdays:100,saleComplete:"US Allocation",scommission:Qe?"\u20ac 0.00":"$ 0.00",sfinancecost:Qe?"\u20ac 0.00":"$ 0.00"})),Q(Object(r.a)({},q,{customer:452,CADdays:100,saleComplete:1,scommission:0,sfinancecost:0})),me(!0),re(!1),it(!0)),!0===ue&&(_(Object(r.a)({},G,{customer:"",CADdays:10,saleComplete:"Indication",generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:Qe?"\u20ac 0.00":"$ 0.00",tsca:Qe?"\u20ac 0.00":"$ 0.00",isf:Qe?"\u20ac 0.00":"$ 0.00",drayage:Qe?"\u20ac 0.00":"$ 0.00",unloading:Qe?"\u20ac 0.00":"$ 0.00",collectcharges:Qe?"\u20ac 0.00":"$ 0.00",inboundothers:Qe?"\u20ac 0.00":"$ 0.00",warehouse:"",whentry:"",storagefixed:Qe?"\u20ac 0.00":"$ 0.00",storagevariable:Qe?"\u20ac 0.00":"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:""})),Q(Object(r.a)({},q,{customer:"",CADdays:10,saleComplete:0,generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,warehouse:"",whentry:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:""})),me(!1),re(!1),it(!0))},onKeyDown:Ka}),s.a.createElement("label",null,"US-Allocation"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"WGS:"),s.a.createElement("input",{name:"KTS",placeholder:"5000...",value:G&&G.KTS||"",onChange:Sa,className:"canceldrag",onKeyDown:Ka})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"In Charge"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Trader:"),s.a.createElement("input",{className:"canceldrag",value:G.TIC,type:"text",readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Traffic:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/trafficmgrs",searchName:"traffic",searchID:"trafficID",placeholder:"Traffic...",setQSFields:ya,value:G&&G.traffic||"",setEditing:it,required:!0}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Terms"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Incoterms:"),s.a.createElement("input",{placeholder:"Incoterms...",onChange:va,name:"incoterms",value:G.incoterms,type:"text",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payment Terms:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/paymentterms",searchName:"paymentTerm",searchID:"paytermID",placeholder:"Payment terms...",setQSFields:ya,value:G&&G.paymentTerm||"",setEditing:it,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inc. Interest:"),s.a.createElement("input",{value:G.CADintrate,placeholder:"Interest rate...",type:"text",name:"CADintrate",onKeyDown:Ka,onChange:function(e){!0!==Qe||_e?Ea(e):Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},onBlur:Oa,className:"canceldrag",required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inc. Days:"),s.a.createElement("input",{value:G.CADdays,name:"CADdays",onKeyDown:Ka,onChange:function(e){!0!==Qe||_e?Na(e):Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},type:"text",placeholder:"Days...",className:"canceldrag",required:!0}))),s.a.createElement("div",{id:"shipmenttyperadio",className:"form-group"},s.a.createElement("input",{name:"shipmenttype",type:"radio",defaultChecked:!0,required:!0,onKeyDown:Ka,onClick:function(e){Q(Object(r.a)({},q,{shipmentType:1})),_(Object(r.a)({},G,{shipmentType:"Container"}))},checked:1===q.shipmentType}),s.a.createElement("label",{style:{minWidth:"auto"},htmlFor:""},"Container"),s.a.createElement("input",{name:"shipmenttype",type:"radio",required:!0,onKeyDown:Ka,onClick:function(e){Q(Object(r.a)({},q,{shipmentType:2})),_(Object(r.a)({},G,{shipmentType:"Breakbulk"}))},checked:2===q.shipmentType}),s.a.createElement("label",{style:{minWidth:"auto"},htmlFor:""},"Breakbulk"),s.a.createElement("input",{name:"shipmenttype",type:"radio",required:!0,onKeyDown:Ka,onClick:function(e){Q(Object(r.a)({},q,{shipmentType:3})),_(Object(r.a)({},G,{shipmentType:"Truck"}))},checked:3===q.shipmentType}),s.a.createElement("label",{style:{minWidth:"auto"},htmlFor:""},"Truck")),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Freight"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight ID:"),s.a.createElement("input",{placeholder:"[Leave Blank]",type:"text",onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight Total:"),s.a.createElement("input",{type:"text",name:"freightTotal",className:"QSfig2 canceldrag",value:G.freightTotal,onChange:xa,onBlur:wa,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Shipping Line:"),s.a.createElement("input",{className:"canceldrag",placeholder:"Shipping Line...",name:"shippingline",onChange:va,value:G&&G.shippingline||"",type:"text",onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payload (mt/FCL):"),s.a.createElement("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:G.payload,onChange:Na,onBlur:ja,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Inspection:"),s.a.createElement("input",{name:"totalinspection",className:"QSfig2 canceldrag",value:G.totalinspection,onChange:xa,onBlur:wa,type:"text",onKeyDown:Ka}))),3===q.saleType?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"WH Entry Date:"),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)",marginLeft:0,flexBasis:"50%",minWidth:"50%"},type:"date",value:q.whentry,onKeyDown:Ka,readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"WH Exit Date:"),s.a.createElement("input",{style:{marginLeft:0,flexBasis:"50%",minWidth:"50%"},name:"whexit",type:"date",value:q.whexit,onChange:va,onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka}))):"",s.a.createElement("div",{className:"soldcheckbox"},s.a.createElement("input",{className:"canceldrag",name:"finalComplete",type:"checkbox",checked:ce,onClick:function(){ce?(_(Object(r.a)({},G,{finalComplete:"in progress"})),Q(Object(r.a)({},q,{finalComplete:0}))):(_(Object(r.a)({},G,{finalComplete:"finalized"})),Q(Object(r.a)({},q,{finalComplete:1}))),le(!ce)},onKeyDown:Ka}),s.a.createElement("label",null,"Finalized"))),s.a.createElement("section",{id:"salesQS-3"},s.a.createElement("fieldset",{id:"salesQS-3-fieldset",style:{paddingBottom:"2rem"}},s.a.createElement("legend",null,"Figures"),s.a.createElement("section",{id:"salesQS-3-col1",style:{flexBasis:"50%"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Quantity:"),s.a.createElement("input",{className:"QSfig2 canceldrag",name:"quantity",value:G.quantity,onChange:Na,type:"text",placeholder:"MT",onBlur:ja,required:!0,onKeyDown:Ka})),3===q.saleType?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"# Pallets:"),s.a.createElement("input",{className:"QSfig2 canceldrag",name:"quantitypallets",value:G.quantitypallets,type:"text",placeholder:"# pallets",onChange:Na,onBlur:ja,required:!0,onKeyDown:Ka})):"",s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Costs (per mt)"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Material Cost:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Material Cost pmt",onChange:xa,name:"materialcost",value:G.materialcost,onBlur:wa,required:!0,onKeyDown:Ka})),3===q.saleType?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{position:"relative"}},"Outbound Cost:"," ",s.a.createElement(y.a,{icon:v.a,onClick:function(e){Pt(!Tt),!0===Ot&&Nt(!1),!0===kt&&Ft(!1),!0===Qt&&$t(!1)}})),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.outboundpmt,name:"outboundpmt",placeholder:"...Outbound Cost pmt",onChange:xa,onBlur:wa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})):"",Tt&&1!==q.saleComplete?s.a.createElement("div",{className:"bottompopupcalculator",style:{position:"absolute"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payload (mt/FCL):"),s.a.createElement("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:G.payload,onChange:Na,onBlur:ja,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Loading per FCL:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"loading",value:G.loading,onChange:xa,type:"text",placeholder:"Loading/FCL $",onBlur:wa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"BOL Charges:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"bolcharges",value:G.bolcharges,onChange:xa,type:"text",placeholder:"BOL Charges $",onBlur:wa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Outbound Others:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"outboundothers",value:G.outboundothers,onChange:xa,type:"text",placeholder:"Outbound Others $",onBlur:wa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Outbound:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",name:"totaloutbound",value:G.totaloutbound,onChange:xa,type:"text",placeholder:"Total Outbound $",onBlur:wa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("button",{onClick:function(e){e.preventDefault(),it(!0),Q(Object(r.a)({},q,{loading:0,bolcharges:0,outboundothers:0})),_(Object(r.a)({},G,{loading:Qe?"\u20ac 0.00":"$ 0.00",bolcharges:Qe?"\u20ac 0.00":"$ 0.00",outboundothers:Qe?"\u20ac 0.00":"$ 0.00"}))}},"Reset"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),Pt(!1)}},"OK")):"",3===q.saleType?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{position:"relative"}},"Storage:"," ",s.a.createElement(y.a,{icon:v.g,onClick:function(e){$t(!Qt),Pt(!1)}})),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",type:"text",placeholder:"...Storage $",onChange:xa,name:"storagepmt",value:G.storagepmt,onBlur:wa,required:!0,readOnly:!0,onKeyDown:Ka})):"",Qt&&3===q.saleType?s.a.createElement("div",{className:"bottompopupcalculator"},s.a.createElement("p",null,"Storage Cost of ",ea(q.storagepmt),"/mt is based on:"),s.a.createElement("ul",null,s.a.createElement("li",null,"WH Entry Date: ",q.whentry?q.whentry:"N/A"),s.a.createElement("li",null,"WH Exit Date: ",q.whexit?q.whexit:"N/A"),s.a.createElement("li",null,"Fixed Storage Cost:"," ",Mt?ea(Mt.storagefixed):"N/A"),s.a.createElement("li",null,"Variable Storage Cost:"," ",Mt?ea(Mt.storagevariable)+"/pallet":"N/A"),s.a.createElement("li",null,"Position Quantity: ",Mt?Mt.quantity+"mt":"N/A"),s.a.createElement("li",null,"Total Pallets: ",Mt?Mt.quantitypallets:"N/A"),s.a.createElement("li",null,"Grace Period: ",Mt?Mt.stggraceperiod:"N/A"),s.a.createElement("li",null,"Accrual Period: ",Mt?Mt.stgaccrualperiod:"N/A"))):"",1!==q.saleComplete?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"S Finance Cost:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.sfinancecost,name:"sfinancecost",placeholder:"...S Finance Cost pmt",onChange:xa,onBlur:wa,type:"text",required:!0,onKeyDown:Ka})):"",1===q.saleComplete&&3!==q.saleType?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{position:"relative"}},"Customs Entry:"," ",s.a.createElement(y.a,{icon:v.a,onClick:function(e){yt(!bt),!0===Ot&&Nt(!1),!0===kt&&Ft(!1)}})),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.centryfeepmt,name:"centryfeepmt",placeholder:"...Customs Entry pmt",onChange:xa,onBlur:wa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})):"",bt&(1===q.saleComplete&&3!==q.saleType)?s.a.createElement("div",{className:"bottompopupcalculator",style:{position:"absolute"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Quantity:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"quantity",value:G.quantity,onChange:Na,type:"text",placeholder:"MT",onBlur:ja,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Material Cost/mt:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Material Cost pmt",onChange:xa,name:"materialcost",value:G.materialcost,onBlur:wa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Entry Value:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Material Value $",onChange:xa,name:"materialvalue",value:G.materialvalue,onBlur:wa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"General Duty (%):"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...General Duty",onChange:Ea,name:"generalduty",value:G.generalduty,onBlur:Oa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Additional Duty (%):"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Additional Duty",onChange:Ea,name:"additionalduty",value:G.additionalduty,onBlur:Oa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Duty:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Total Duty %",onChange:Ea,name:"totalduty",value:G.totalduty,onBlur:Oa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Duty Fee:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Duty Fee $",onChange:xa,name:"dutyfee",value:G.dutyfee,onBlur:wa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Harbor Fee %:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...HarborFee %",onChange:function(e){return Ea(e,3)},name:"harborfeepct",value:G.harborfeepct,onBlur:function(e){return Oa(e,3)},required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Harbor Fee:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Harbor Fee $",onChange:xa,name:"harborfee",value:G.harborfee,onBlur:wa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Merch. Proc. Fee %:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Merch. Proc. %",onChange:function(e){return Ea(e,4)},name:"merchprocfeepct",value:G.merchprocfeepct,onBlur:function(e){return Oa(e,4)},required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Merch. Proc. Fee:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...MP Fee $",onChange:xa,name:"merchprocfee",value:G.merchprocfee,onBlur:wa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Flat Fee:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Flat Fee $",onChange:xa,name:"cflatfee",value:G.cflatfee,onBlur:wa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"TSCA:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...TSCA $",onChange:xa,name:"tsca",value:G.tsca,onBlur:wa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"ISF:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...ISF $",onChange:xa,name:"isf",value:G.isf,onBlur:wa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Entry Fee:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Total Entry Fee $",onChange:xa,name:"totalcentryfee",value:G.totalcentryfee,onBlur:wa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("button",{onClick:function(e){e.preventDefault(),it(!0),Q(Object(r.a)({},q,{generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0})),_(Object(r.a)({},G,{generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:Qe?"\u20ac 0.00":"$ 0.00",tsca:Qe?"\u20ac 0.00":"$ 0.00",isf:Qe?"\u20ac 0.00":"$ 0.00"}))}},"Reset"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),yt(!1)}},"OK")):"",1===q.saleComplete&&3!==q.saleType?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{position:"relative"}},"Inbound Cost:"," ",s.a.createElement(y.a,{icon:v.a,onClick:function(e){Nt(!Ot),!0===bt&&yt(!1),!0===kt&&Ft(!1)}})),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.inboundpmt,name:"inboundpmt",placeholder:"...Inbound costs pmt",onChange:xa,onBlur:wa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})):"",Ot&(1===q.saleComplete&&3!==q.saleType)?s.a.createElement("div",{className:"bottompopupcalculator",style:{position:"absolute"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payload (mt/FCL):"),s.a.createElement("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:G.payload,onChange:Na,onBlur:ja,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Drayage per FCL:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"drayage",value:G.drayage,onChange:xa,type:"text",placeholder:"Drayage/FCL $",onBlur:wa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Unloading per FCL:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"unloading",value:G.unloading,onChange:xa,type:"text",placeholder:"Unloading/FCL $",onBlur:wa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Collect Charges:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"collectcharges",value:G.collectcharges,onChange:xa,type:"text",placeholder:"Collect Charges $",onBlur:wa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inbound Others:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"inboundothers",value:G.inboundothers,onChange:xa,type:"text",placeholder:"Inbound Others $",onBlur:wa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Inbound:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",name:"totalinbound",value:G.totalinbound,onChange:xa,type:"text",placeholder:"Total Inbound $",onBlur:wa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("button",{onClick:function(e){e.preventDefault(),it(!0),Q(Object(r.a)({},q,{drayage:0,unloading:0,collectcharges:0,inboundothers:0})),_(Object(r.a)({},G,{drayage:Qe?"\u20ac 0.00":"$ 0.00",unloading:Qe?"\u20ac 0.00":"$ 0.00",collectcharges:Qe?"\u20ac 0.00":"$ 0.00",inboundothers:Qe?"\u20ac 0.00":"$ 0.00"}))}},"Reset"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),Nt(!1)}},"OK")):"",s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"P Commission:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Commission pmt",name:"pcommission",value:G.pcommission,onChange:xa,onBlur:wa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"P Finance Cost:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Finance Cost pmt",name:"pfinancecost",value:G.pfinancecost,onChange:xa,onBlur:wa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight (pmt):"),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.freightpmt,name:"freightpmt",placeholder:"...Freight pmt",onChange:function(e){xa(e)},onBlur:function(e){wa(e)},type:"text",required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{position:"relative"}},"Insurance Cost:",s.a.createElement(y.a,{icon:v.a,onClick:function(e){Ft(!kt),!0===bt&&yt(!1),!0===Ot&&Nt(!1)}})),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.insurance,name:"insurance",placeholder:"...Insurance Cost pmt",onChange:xa,onBlur:wa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})),kt?s.a.createElement("div",{className:"bottompopupcalculator",style:{position:"absolute"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Incoterms:"),s.a.createElement("input",{placeholder:"Incoterms...",onChange:va,name:"incoterms",value:G.incoterms,type:"text",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Insurance Rate %:"),s.a.createElement("input",{type:"text",name:"insurancerate",className:"QSfig2 canceldrag",value:G.insurancerate,onChange:Ea,onBlur:Oa,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Insurance Factor:"),s.a.createElement("input",{type:"text",name:"insurancefactor",className:"QSfig2 canceldrag",value:G.insurancefactor,onChange:function(e){Na(e,2)},onBlur:ja,onKeyDown:Ka})),s.a.createElement("button",{onClick:function(e){e.preventDefault(),Ft(!1)}},"OK")):"",s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inspection Cost:"),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.inspectionpmt,name:"inspectionpmt",placeholder:"...Inspection Cost pmt",onChange:xa,onBlur:wa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})),1!==q.saleComplete?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"S Commission:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.scommission,name:"scommission",placeholder:"...S Commission pmt",onChange:xa,onBlur:wa,type:"text",required:!0,onKeyDown:Ka})):"",s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Cost:"),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.interestcost,name:"interestcost",placeholder:"...Interest Cost pmt",onChange:xa,onBlur:wa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Legal:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.legal,name:"legal",placeholder:"...Legal Cost pmt",onChange:xa,onBlur:wa,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Pallets:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.pallets,name:"pallets",placeholder:"...Pallets Cost pmt",onChange:xa,onBlur:wa,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Other:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.other,name:"other",placeholder:"...Other Costs pmt",onChange:xa,onBlur:wa,type:"text",required:!0,onKeyDown:Ka}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Cost:"),s.a.createElement("input",{className:"QSfig2 canceldrag",readOnly:!0,value:G.totalcost,type:"text",required:!0,onKeyDown:Ka})),1===q.saleComplete?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Price Before Int.:"),s.a.createElement("input",{style:{paddingRight:"15px"},className:"QSfig canceldrag",value:G.pricebeforeint,name:"pricebeforeint",placeholder:"...Price Before Int pmt",onChange:xa,onBlur:wa,type:"text",required:!0,onKeyDown:Ka})):""),1!==q.saleComplete?s.a.createElement("section",{id:"salesQS-3-col2"},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Sales Interest"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Rate:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.interestrate,placeholder:"...Interest Rate",name:"interestrate",onChange:function(e){!0!==Qe||_e?Ea(e):Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},onBlur:Oa,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Days:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.interestdays,name:"interestdays",onChange:function(e){!0!==Qe||_e?Na(e):Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},placeholder:"...Interest Days",type:"text",required:!0,onKeyDown:Ka}))),s.a.createElement("fieldset",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Price Before Int.:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.pricebeforeint,name:"pricebeforeint",placeholder:"...Price Before Int pmt",onChange:xa,onBlur:wa,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Sales Interest:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.salesinterest,readOnly:!0,type:"text",required:!0,onKeyDown:Ka}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Price After Int.:"),s.a.createElement("input",{readOnly:!0,className:"QSfig2 canceldrag",value:G.priceafterint,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Economics"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Profit:"),s.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:G.profit,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Margin:"),s.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:G.margin,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Turnover:"),s.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:G.turnover,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"% Margin:"),s.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:G.pctmargin,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Netback:"),s.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:G.netback,type:"text",required:!0,onKeyDown:Ka}))),s.a.createElement("div",{id:"exchangerate",className:"form-group"},s.a.createElement("label",null,"Exch. Rate ($/\u20ac):"),s.a.createElement("input",{className:"canceldrag",onChange:function(e){e.preventDefault(),it(!0),(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&Ke(e.target.value)},value:_e||"",placeholder:"$/\u20ac (up to 4 decimals)",readOnly:Me,onKeyDown:Ka}),s.a.createElement(y.a,{icon:v.q,onClick:function(e){Re(!Me)},className:Me?"unlockicon display-none":"unlockicon display-block"}),s.a.createElement(y.a,{icon:v.h,onClick:function(e){e.preventDefault(),Object(b.confirmAlert)({title:"Warning",message:"If you have already entered data with a different exchange rate. Changing the rate at this point will likely cause currency and calculation inconsistencies in the QS.",buttons:[{label:"Go ahead",onClick:function(){return Re(!Me)}},{label:"Cancel"}],closeOnClickOutside:!0,closeOnEscape:!0})},className:Me?"lockicon display-block":"lockicon display-none"}),s.a.createElement("button",{onClick:function(e){e.preventDefault(),_e&&""!==_e?$e(!Qe):Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})}},Qe?"Convert To USD":"Convert To Euros"))):s.a.createElement("section",{id:"salesQS-3-col2",className:"storagefields"},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Storage Details"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{minWidth:"90px"},htmlFor:""},"Warehouse"),s.a.createElement("select",{style:{flexBasis:"42%",marginRight:0,marginLeft:"15px",padding:"0.25rem 0"},required:!0,onChange:function(e){!function(e){it(!0);var t=_t[e];""===e?(_(Object(r.a)({},G,{warehouse:""})),Q(Object(r.a)({},q,{warehouse:""}))):(_(Object(r.a)({},G,{warehouse:t.warehouseName})),Q(Object(r.a)({},q,{warehouse:t.warehouseID})))}(e.target.value)}},s.a.createElement("option",{value:""},"Select..."),_t?_t.map(function(e,t){return e.warehouseName===G.warehouse?s.a.createElement("option",{selected:!0,value:t},e.warehouseName):s.a.createElement("option",{value:t},e.warehouseName)}):"")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{minWidth:"95px"}},"Entry Date:"),s.a.createElement("input",{style:{minWidth:"55%"},name:"whentry",onChange:va,value:q.whentry,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Fixed Cost:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"storagefixed",value:G.storagefixed,onChange:xa,type:"text",placeholder:"Storage Fixed Cost $",onBlur:wa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Var. Cost ($/pallet):"),s.a.createElement("input",{className:"QSfig canceldrag",name:"storagevariable",value:G.storagevariable,onChange:xa,type:"text",placeholder:"Storage Variable Cost $",onBlur:wa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Grace Period (days):"),s.a.createElement("input",{className:"QSfig canceldrag",name:"stggraceperiod",value:G.stggraceperiod,onChange:function(e){return Na(e,0)},type:"text",placeholder:"(days)",onBlur:function(e){return ja(e,0)},required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Accrual Period (days):"),s.a.createElement("input",{className:"QSfig canceldrag",name:"stgaccrualperiod",value:G.stgaccrualperiod,onChange:function(e){return Na(e,0)},type:"text",placeholder:"(days)",onBlur:function(e){return ja(e,0)},required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Pallets (#):"),s.a.createElement("input",{className:"QSfig canceldrag",name:"quantitypallets",value:G.quantitypallets,onChange:function(e){return Na(e,0)},type:"text",placeholder:"(# of pallets)",onBlur:function(e){return ja(e,0)},required:!0,onKeyDown:Ka}))))),s.a.createElement("div",{id:"QSbuttons"},""!==Ne&&Ne?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{ref:S},Pa),s.a.createElement("button",{className:"saveQSbutton",type:"submit"},"Save Edits")):s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{ref:S},Pa),s.a.createElement("button",{className:"saveQSbutton",type:"button",onClick:function(e){_a()}},"Clear"),s.a.createElement("button",{className:"saveQSbutton",type:"submit"},"Save and New"))))))}},682:function(e,t,a){"use strict";a(11),a(1),a(6),a(0),a(267),a(85)},696:function(e,t,a){"use strict";var r=a(11),n=a(1),o=a(6),c=a.n(o),l=a(0),i=a.n(l),s=a(236);function u(){u=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof p?t:p,o=Object.create(n.prototype),c=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=O(c,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var m={};function p(){}function d(){}function f(){}var h={};l(h,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&a.call(b,n)&&(h=b);var y=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=f,l(y,"constructor",f),l(f,"constructor",d),d.displayName=l(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new E(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},v(y),l(y,c,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}t.a=function(){var e=Object(l.useState)(),t=Object(n.a)(e,2),a=t[0],o=t[1],m=Object(l.useState)(),p=Object(n.a)(m,2),d=p[0],f=p[1];return Object(l.useEffect)(Object(r.a)(u().mark(function e(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.post("/pieprofitbycountry").then(function(e){o(e.data)});case 2:return e.next=4,c.a.post("/pievolumebycountry").then(function(e){f(e.data)});case 4:case"end":return e.stop()}},e)})),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",{style:{display:"absolute",top:0}},"Profit and Volume, by Country"),i.a.createElement("div",{style:{height:"100%",display:"flex"}},a&&d?i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{data:a,id:"country",value:"profit",margin:{top:40,right:20,bottom:40,left:40},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"blues"},valueFormat:">-$,",startAngle:-90,endAngle:270,arcLinkLabelsSkipAngle:15,sliceLabelsTextColor:"white",enableArcLabels:!1}),i.a.createElement(s.a,{data:d,id:"country",value:"quantity",margin:{top:40,right:40,bottom:40,left:0},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"yellow_orange_red"},valueFormat:">-,",startAngle:-90,endAngle:270,arcLinkLabelsSkipAngle:15,sliceLabelsTextColor:"white",enableArcLabels:!1})):""))}},697:function(e,t,a){"use strict";a(11),a(1),a(6),a(0),a(267)},698:function(e,t){},699:function(e,t,a){},705:function(e,t,a){"use strict";var r=a(11),n=a(1),o=a(0),c=a.n(o),l=a(6),i=a.n(l),s=a(81),u=(a(497),a(40)),m=a(7),p=a.n(m),d=(a(499),a(200),function(e){var t=e.posnumber,a=e.posmatchnumber,r=t===a?"postooltip":"postooltip display-none",l=Object(o.useState)(),s=Object(n.a)(l,2),u=s[0],m=s[1];return Object(o.useEffect)(function(){t===a&&i.a.post("/posmatching",{posnumber:t}).then(function(e){m(e.data)})},[a]),c.a.createElement("span",{className:r},c.a.createElement("h4",null,"Matching Sales for Position ",t),c.a.createElement("ul",null,c.a.createElement("li",{className:"posmatchitem"},c.a.createElement("h4",null,"Trader"),c.a.createElement("h4",null,"WGS"),c.a.createElement("h4",null,"Customer"),c.a.createElement("h4",null,"Quantity (mt)"),c.a.createElement("h4",null,"Profit (pmt)")),u?u.map(function(e){return c.a.createElement("li",{className:"posmatchitem"},c.a.createElement("p",null,e.tCode),c.a.createElement("p",null,e.KTS),c.a.createElement("p",null,e.companyCode),c.a.createElement("p",null,e.quantity),c.a.createElement("p",null,e.tradingProfit))}):"No matching sales found"))});function f(){f=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=O(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var h={};l(h,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&a.call(b,n)&&(h=b);var y=d.prototype=m.prototype=Object.create(h);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new E(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},v(y),l(y,c,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(){var e=Object(o.useState)(0),t=Object(n.a)(e,2),a=t[0],l=t[1],m=(Object(o.useContext)(s.a).state,Object(o.useContext)(u.a)),h=m.posrefresh,g=(m.togglePosrefresh,JSON.parse(localStorage.getItem("accesstoken"))),b=JSON.parse(localStorage.getItem("refreshtoken")),y=i.a.create({headers:{Authorization:"Bearer ".concat(g)}}),v=i.a.create({headers:{Authorization:"Bearer ".concat(b)}});y.interceptors.response.use(function(e){return e},function(){var e=Object(r.a)(f().mark(function e(t){var a;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b||403!==t.response.status){e.next=8;break}return e.next=3,v.post("/refreshtoken");case 3:return a=e.sent,g=a.data.accesstoken,e.next=7,y.post("/positionreport",{},{headers:{Authorization:"Bearer ".concat(g)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var E=Object(o.useState)({}),O=Object(n.a)(E,2),N=O[0],j=O[1];Object(o.useEffect)(Object(r.a)(f().mark(function e(){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/positionreport").then(function(e){var t=e.data.groupBy("productGroup");j(t)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)})),[h]);var x=0,w="",S={};return c.a.createElement("div",{className:"positionreport"},c.a.createElement("table",{id:"positionreporttable"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"WGP"),c.a.createElement("th",{className:"fig"},"Quantity"),c.a.createElement("th",{className:"fig"},"Inventory"),c.a.createElement("th",{className:"fig"},"FOB"),c.a.createElement("th",null,"Supplier"),c.a.createElement("th",null,"From"),c.a.createElement("th",null,"To"),c.a.createElement("th",{className:"fig"},"Value"))),c.a.createElement("tbody",null,Object.entries(N).map(function(e,t){return w=Object.keys(N)[t],S=N[w].groupBy("product"),[c.a.createElement("tr",null,c.a.createElement("td",{className:"prodgroup",colSpan:8},c.a.createElement("p",null,w))),Object.entries(S).map(function(e,t){return x=0,[c.a.createElement("tr",null,c.a.createElement("td",{className:"product",colSpan:8},c.a.createElement("h4",null,Object.keys(S)[t]))),e[1].map(function(e){return x+=Number(e.Inventory),c.a.createElement(c.a.Fragment,null,c.a.createElement("tr",null,c.a.createElement("td",{className:"postooltipsource",onMouseOver:function(t){!function(e){l(e)}(e.KTP)},onMouseLeave:function(e){l(0)}},e.KTP,c.a.createElement(d,{posnumber:e.KTP,posmatchnumber:a})),c.a.createElement("td",{className:"fig"},e.quantity.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("td",{className:"fig"},Number(e.Inventory).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("td",{className:"fig"},e.Price.replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("td",null,e.Supplier),c.a.createElement("td",null,p()(e.Start).format("DD-MMM-YYYY").toString()),c.a.createElement("td",null,p()(e.End).format("DD-MMM-YYYY").toString()),c.a.createElement("td",{className:"fig"},"$"+(e.quantity*Number(e.Price.replace(/[^0-9.-]+/g,""))).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))))}),c.a.createElement("tr",{className:"totals"},c.a.createElement("td",{colSpan:2},c.a.createElement("h4",null,"Total")),c.a.createElement("td",{className:"fig"},c.a.createElement("h4",null,x.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),c.a.createElement("td",{colSpan:5}))]})]}))))}},706:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(4),c=a(2),l=a(1),i=a(11),s=a(6),u=a.n(s),m=a(198),p=a.n(m),d=(a(293),a(81)),f=a(40),h=a(41),g=(a(237),a(7)),b=a.n(g);function y(){y=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=O(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function O(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new E(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},v(b),l(b,c,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var v=function(e){Object(r.useContext)(d.a).state;var t=JSON.parse(localStorage.getItem("role")),a=Object(r.useContext)(f.a),s=a.posrefresh,m=a.togglePosrefresh,g=JSON.parse(localStorage.getItem("accesstoken")),v=JSON.parse(localStorage.getItem("refreshtoken")),E=u.a.create({headers:{Authorization:"Bearer ".concat(g)}}),O=u.a.create({headers:{Authorization:"Bearer ".concat(v)}});E.interceptors.response.use(function(e){return e},function(){var e=Object(i.a)(y().mark(function e(t){var a;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!v||403!==t.response.status){e.next=8;break}return e.next=3,O.post("/refreshtoken");case 3:return a=e.sent,g=a.data.accesstoken,e.next=7,E.post("/positions",{},{headers:{Authorization:"Bearer ".concat(g)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var N=Object(r.useState)([]),j=Object(l.a)(N,2),x=j[0],w=j[1],S=Object(r.useState)(e.config.sort||{column:"",order:""}),C=Object(l.a)(S,2),D=C[0],k=C[1],F=Object(r.useState)(e.config.columns),I=Object(l.a)(F,2),L=I[0],T=I[1],P=Object(r.useState)([]),B=Object(l.a)(P,2),q=B[0],Q=B[1];Object(r.useEffect)(Object(i.a)(y().mark(function e(){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("/positions").then(function(e){w(e.data),Q(Object.keys(L))});case 2:case"end":return e.stop()}},e)})),[s]);var $=function(e){var t="asc"===D.order?"headerSortAsc":"headerSortDesc";return D.column===e?t:""},A={"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t}},G=[],_={},K=/^((?:(?:[<>]=?)|==))\s?([-]?\d+(?:\.\d+)?)$/;q.forEach(function(e){var t,a=L[e].filterText;if(_[e]=null,a.length>0){var r=K.exec(a);r&&3===r.length?_[e]=(t=r,function(e){if(e)return A[t[1]](e,t[2])}):_[e]=function(e){if(e)return e.toString().toLowerCase().indexOf(a.toLowerCase())>-1}}});var V=p.a.filter(x,function(e){return p.a.every(q,function(t){return!_[t]||_[t](e[t])})}),Y=p.a.sortBy(V,D.column);"desc"===D.order&&Y.reverse();Y.forEach(function(a,r){var o;G.push(n.a.createElement("tr",{id:r,key:r},(o=a,q.map(function(e,t){return"quantity"===e?n.a.createElement("td",{className:"canceldrag",id:e+"-"+o.id,key:e+"-"+o.id},o[e].toFixed(2)):"FOB"===e?n.a.createElement("td",{className:"canceldrag",id:e+"-"+o.id,key:e+"-"+o.id},"$"+o[e].toFixed(2)):"Start"===e||"End"===e?n.a.createElement("td",{className:"canceldrag",id:e+"-"+o.id,key:e+"-"+o.id},b()(o[e]).format("DD-MMM-YYYY").toString()):n.a.createElement("td",{className:"canceldrag",id:e+"-"+o.id,key:e+"-"+o.id},o[e])})),n.a.createElement("div",{className:"crudbuttons"},n.a.createElement("button",{className:"editbutton",onClick:function(t){e.showEditModal(t,a)}},"Edit"),1===t||2===t?n.a.createElement("button",{className:"editbutton",onClick:function(e){Object(h.confirmAlert)({title:"Are you sure?",message:"You are about to delete position (".concat(a.WGP,") for ").concat(a.abbreviation," from ").concat(a.companyCode,". This deletion is irreversible. Click Delete to confirm or Cancel to exit."),buttons:[{label:"Cancel",onClick:function(){console.log("cancelled")}},{label:"Delete",onClick:function(){var e=Object(i.a)(y().mark(function e(){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.delete("/deletePosition",{data:{WGP:a.WGP}}).then(function(e){return m()}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}],closeOnClickOutside:!0,closeOnEscape:!0})}},"Delete"):"")))});var M=q.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("th",{onClick:(t=e,function(e){var a="asc"===D.order?"desc":"asc";D.column!==t&&(a=L[t].defaultSortOrder),k({column:t,order:a})}),className:"header "+$(e)},L[e].name));var t}),R=q.map(function(e){return n.a.createElement("td",{className:"filter-"+e},n.a.createElement("input",{className:"canceldrag",type:"text",value:L[e].filterText,onChange:function(t){!function(e,t){T(Object(c.a)({},L,Object(o.a)({},t,Object(c.a)({},L[t],{filterText:e.target.value}))))}(t,e)}}))});return n.a.createElement("div",null,n.a.createElement("table",{cellSpacing:"0",className:"tablesorter"},n.a.createElement("thead",null,n.a.createElement("tr",null,M,n.a.createElement("th",{className:"header lastheader"})),n.a.createElement("tr",{className:"searchboxes"},R,n.a.createElement("td",null))),n.a.createElement("tbody",null,G)))},E=(a(502),a(200));t.a=function(e){var t=Object(r.useContext)(f.a).togglePosrefresh;return n.a.createElement("div",{className:"positionslist"},n.a.createElement("div",{className:"positionstitleline"},n.a.createElement("h3",{className:"positionslisttitle"},"Positions List"),n.a.createElement(E.a,{className:"refreshicon",onClick:function(e){t()}})),n.a.createElement(v,{config:{sort:{column:"year",order:"desc"},columns:{WGP:{name:"WGP",filterText:"",defaultSortOrder:"asc"},abbreviation:{name:"Product",filterText:"",defaultSortOrder:"desc"},companyCode:{name:"Supplier",filterText:"",defaultSortOrder:"desc"},packaging:{name:"Packaging",filterText:"",defaultSortOrder:"asc"},Start:{name:"Start",filterText:"",defaultSortOrder:"asc"},End:{name:"End",filterText:"",defaultSortOrder:"asc"},FOB:{name:"FOB",filterText:"",defaultSortOrder:"asc"},quantity:{name:"Quantity",filterText:"",defaultSortOrder:"asc"},year:{name:"Year",filterText:">=2020",defaultSortOrder:"asc"}}},showEditModal:e.showEditModal,hideEditModal:e.hideEditModal,modalState:e.modalState,postoedit:e.postoedit,key:"positionstablesort"}))}},71:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return s});var r=a(1),n=a(0),o=a.n(n),c=a(6),l=a.n(c),i=o.a.createContext(),s=function(e){var t=e.children,a=(JSON.parse(localStorage.getItem("WGusercode")),Object(n.useState)(0)),c=Object(r.a)(a,2),s=c[0],u=c[1],m=Object(n.useState)(),p=Object(r.a)(m,2),d=p[0],f=p[1],h=Object(n.useState)(),g=Object(r.a)(h,2),b=g[0],y=g[1],v=Object(n.useState)([]),E=Object(r.a)(v,2),O=E[0],N=E[1];Object(n.useEffect)(function(){l.a.post("/getopnotes",{QSID:s}).then(function(e){Array.isArray(e.data)?f(e.data):f([])})},[s]),Object(n.useEffect)(function(){l.a.post("/getQSListwithNewMsg").then(function(e){Array.isArray(e.data)&&N(e.data)}),l.a.post("/getActiveUsers").then(function(e){var t="";e.data.forEach(function(e){t+=e.traderID+e.tCode}),y(t)})},[]);var j=Object(n.useState)(!1),x=Object(r.a)(j,2),w=x[0],S=x[1];return o.a.createElement(i.Provider,{value:{updateScores:w,setUpdateScores:S,opToEdit:s,setOpToEdit:u,opNotes:d,setOpNotes:f,activeusers:b,setActiveusers:y,opsWithNewNotes1:O,setOpsWithNewNotes1:N}},t)}},773:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(199),c=a.n(o),l=a(81),i=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,775)).then(function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),o(e),c(e)})};c.a.render(n.a.createElement(l.b,null),document.getElementById("root")),i()},80:function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"b",function(){return l});var r=a(1),n=a(0),o=a.n(n),c=o.a.createContext(),l=function(e){var t=e.children,a=Object(n.useState)(),l=Object(r.a)(a,2),i=l[0],s=l[1],u=Object(n.useState)(),m=Object(r.a)(u,2),p=m[0],d=m[1],f=Object(n.useState)(),h=Object(r.a)(f,2),g=h[0],b=h[1],y=Object(n.useState)(),v=Object(r.a)(y,2),E=v[0],O=v[1],N=Object(n.useState)(),j=Object(r.a)(N,2),x=j[0],w=j[1],S=Object(n.useState)(),C=Object(r.a)(S,2),D=C[0],k=C[1],F=Object(n.useState)(),I=Object(r.a)(F,2),L=I[0],T=I[1],P=Object(n.useState)(),B=Object(r.a)(P,2),q=B[0],Q=B[1],$=Object(n.useState)(),A=Object(r.a)($,2),G=A[0],_=A[1],K=Object(n.useState)(),V=Object(r.a)(K,2),Y=V[0],M=V[1],R=Object(n.useState)(),W=Object(r.a)(R,2),U=W[0],H=W[1],z=Object(n.useState)(),J=Object(r.a)(z,2),Z=J[0],X=J[1],ee=Object(n.useState)(),te=Object(r.a)(ee,2),ae=te[0],re=te[1];return o.a.createElement(c.Provider,{value:{prdata:i,setPrdata:s,prcustomers:p,setPrcustomers:d,prcustomerfilter:g,setPrcustomerfilter:b,prcustomerchecks:E,setPrcustomerchecks:O,prproducts:x,setPrproducts:w,prproductfilter:D,setPrproductfilter:k,prproductchecks:L,setPrproductchecks:T,prpgroups:q,setPrpgroups:Q,prpgroupfilter:G,setPrpgroupfilter:_,prpgroupchecks:Y,setPrpgroupchecks:M,prprodcats:U,setPrprodcats:H,prprodcatfilter:Z,setPrprodcatfilter:X,prprodcatchecks:ae,setPrprodcatchecks:re}},t)}},81:function(e,t,a){"use strict";var r,n=a(1),o=a(2),c=(a(430),a(0)),l=a.n(c),i=a(35),s=a(18),u=a(4),m=(a(432),a(6)),p=a.n(m);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var f,h,g=function(e){return l.a.createElement("svg",d({version:1.1,id:"Capa_1",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"403px",height:"229px",viewBox:"0 0 403 229",enableBackground:"new 0 0 403 229",xmlSpace:"preserve"},e),r||(r=l.a.createElement("g",null,l.a.createElement("g",null,l.a.createElement("path",{fill:"#93AD3C",d:"M277.342,30.401c-6.546,0-20.163,3.273-20.897,21.889c-0.326,8.282-2.662,15.368-6.543,20.845 c-0.001,0.002-0.002,0.004-0.003,0.006c-5.947,25.626-21.224,44.279-43.731,53.633l12.057,0.169 c36.073,0.476,62.866-16.788,74.653-46.792C304.666,50.147,294.494,30.401,277.342,30.401z"}),l.a.createElement("path",{fill:"#11159A",d:"M248.394,49.114c-0.068-4.4-0.527-8.411-1.322-12.048c-0.023,0.002-0.045,0.006-0.068,0.008 c-3.46-18.081-19.68-27.903-19.68-27.903s-10.071-7.466-29.091-7.466c-13.848,0-46.946,8.647-44.84,52.173 c0.016,0.589,0.039,1.183,0.079,1.788c0.195,2.982-0.057,22.965,19.704,26.415c15.914,2.779,23.11-7.347,23.504-19.51 c0.153-4.714,0.102-7.964,0.003-8.596c0-3.773,0.183-10.357,5.357-10.909c5.52-0.588,5.513,4.643,5.529,10.528 c0,0.026,0.201,9.389-4.208,17.606c-2.736,6.024-8.522,13.264-20.684,14.941c-1.538,0.212-3.063,0.317-4.566,0.317 c-7.826,0-15.114-2.846-21.089-8.248c-6.693-5.798-10.85-14.827-11.294-26.075c-0.734-18.616-14.351-21.889-20.897-21.889 c-12.089,0-20.709,9.81-20.618,26.107c-0.009,6.895,1.549,14.965,5.082,23.959c11.787,30.004,38.58,47.268,74.653,46.792 c5.252-0.069,10.266-0.77,15.017-2.027c0.731-0.239,1.454-0.489,2.171-0.747c20.192-7.271,34.721-22.071,42.042-42.703 c0.213-0.709,0.414-1.421,0.602-2.137c0.056-0.215,0.119-0.429,0.173-0.645c2.292-7.209,3.754-14.991,4.291-23.18 c0.113-1.721,0.162-3.382,0.165-4.997c0.001-0.246,0.001-0.491,0.001-0.735C248.404,49.659,248.399,49.386,248.394,49.114z"})),l.a.createElement("g",null,l.a.createElement("path",{fill:"#11159A",d:"M4.063,152.53h8.117c0.753,0,1.506,0,2.26,0c0.753,0,1.336,0.172,1.747,0.514 c0.547,0.411,0.907,0.976,1.079,1.695c0.17,0.719,0.36,1.456,0.565,2.209c0.273,0.96,0.514,1.936,0.719,2.928 c0.205,0.994,0.445,1.97,0.719,2.928c0.136,0.344,0.205,0.634,0.205,0.873c0,0.241,0.034,0.531,0.103,0.873 c0.273,0.96,0.496,1.919,0.668,2.877c0.17,0.96,0.393,1.919,0.668,2.877c0.273,0.755,0.478,1.541,0.617,2.363 c0.136,0.822,0.308,1.644,0.514,2.466c0.684,2.26,1.249,4.556,1.695,6.884c0.444,2.329,0.976,4.624,1.593,6.884 c0.342,1.027,0.599,2.055,0.77,3.082c0.17,1.027,0.393,2.055,0.668,3.082c0.273,0.822,0.478,1.525,0.617,2.106 c0.136,0.583,0.478,1.148,1.027,1.695c0.136,0,0.221,0.018,0.257,0.051c0.034,0.035,0.119,0.018,0.257-0.051 c0.411-0.136,0.719-0.514,0.925-1.13c0.206-0.617,0.376-1.13,0.514-1.541c0.273-0.889,0.496-1.798,0.668-2.723 c0.17-0.925,0.427-1.832,0.77-2.723c0.068-0.342,0.137-0.668,0.206-0.976c0.067-0.308,0.136-0.632,0.205-0.976 c0.342-0.89,0.599-1.798,0.77-2.723c0.17-0.925,0.393-1.832,0.668-2.723c0.068-0.273,0.137-0.547,0.205-0.822 c0.068-0.273,0.137-0.581,0.206-0.924c0.205-0.617,0.375-1.249,0.514-1.901c0.136-0.65,0.308-1.284,0.514-1.901 c0.136-0.548,0.205-0.958,0.205-1.233c0.136-0.478,0.273-0.958,0.411-1.438c0.137-0.478,0.273-0.958,0.411-1.438 c0.616-1.917,1.13-3.853,1.541-5.805c0.411-1.952,0.89-3.886,1.439-5.805c0.342-0.958,0.599-1.917,0.77-2.877 c0.17-0.958,0.393-1.917,0.668-2.877c0.273-0.753,0.514-1.454,0.719-2.106c0.205-0.65,0.684-1.146,1.438-1.49 c0.478-0.136,1.027-0.205,1.644-0.205c0.617,0,1.233,0,1.849,0h6.062c0.753,0,1.454,0.018,2.106,0.052 c0.65,0.035,1.215,0.223,1.695,0.565c0.478,0.344,0.787,0.84,0.925,1.49c0.136,0.652,0.308,1.319,0.514,2.003 c0.342,1.233,0.65,2.484,0.925,3.75c0.273,1.268,0.581,2.517,0.925,3.75c0.273,0.891,0.496,1.782,0.668,2.671 c0.17,0.891,0.393,1.782,0.668,2.671c0.206,0.755,0.376,1.49,0.514,2.209c0.136,0.719,0.342,1.456,0.617,2.209 c0.753,2.535,1.403,5.121,1.952,7.757c0.548,2.638,1.198,5.224,1.952,7.757c0.342,1.027,0.599,2.09,0.771,3.185 c0.17,1.097,0.427,2.124,0.77,3.082c0.205,0.685,0.376,1.319,0.514,1.901c0.136,0.583,0.375,1.114,0.719,1.593 c0.068,0.069,0.239,0.172,0.514,0.308h0.411c0.068-0.068,0.137-0.119,0.205-0.154c0.068-0.034,0.137-0.085,0.206-0.154 c0.411-0.548,0.684-1.146,0.822-1.798c0.137-0.65,0.308-1.318,0.514-2.004c0.342-1.095,0.599-2.191,0.77-3.288 c0.17-1.095,0.427-2.191,0.77-3.288c0.89-3.013,1.627-6.027,2.209-9.042c0.581-3.014,1.318-6.027,2.209-9.042 c0.342-1.095,0.599-2.192,0.77-3.288c0.17-1.095,0.427-2.191,0.77-3.288c0.137-0.342,0.206-0.633,0.206-0.873 c0-0.239,0.034-0.53,0.103-0.874c0.273-0.958,0.514-1.917,0.719-2.877c0.205-0.958,0.444-1.917,0.719-2.877 c0.137-0.547,0.291-1.164,0.462-1.849c0.17-0.684,0.462-1.198,0.874-1.541c0.478-0.342,1.061-0.548,1.746-0.617 c0.684-0.067,1.472-0.103,2.363-0.103h5.857c0.684,0,1.352,0,2.003,0c0.65,0,1.215,0.103,1.695,0.308 c0.684,0.344,0.992,0.925,0.925,1.746c-0.069,0.822-0.205,1.577-0.411,2.261c-0.549,1.576-1.011,3.236-1.387,4.983 c-0.377,1.747-0.84,3.442-1.387,5.086c-0.138,0.411-0.241,0.806-0.308,1.181c-0.069,0.378-0.172,0.771-0.308,1.182 c-0.344,1.166-0.668,2.381-0.976,3.647c-0.308,1.268-0.634,2.484-0.976,3.647c-0.138,0.344-0.223,0.686-0.257,1.028 c-0.035,0.343-0.121,0.685-0.257,1.027c-0.344,0.891-0.601,1.782-0.77,2.671c-0.172,0.891-0.429,1.782-0.771,2.671 c-0.138,0.344-0.205,0.652-0.205,0.925c0,0.274-0.069,0.583-0.205,0.925c-0.344,0.96-0.601,1.936-0.77,2.928 c-0.172,0.994-0.429,1.97-0.771,2.928c-0.205,0.685-0.395,1.353-0.565,2.003c-0.172,0.652-0.36,1.32-0.565,2.004 c-0.822,2.604-1.525,5.24-2.106,7.911c-0.583,2.671-1.32,5.275-2.209,7.809c-0.138,0.48-0.241,0.924-0.308,1.336 c-0.069,0.411-0.172,0.857-0.308,1.336c-0.344,1.166-0.668,2.381-0.976,3.647c-0.308,1.268-0.668,2.484-1.079,3.648 c-0.274,0.891-0.514,1.713-0.719,2.466c-0.206,0.754-0.719,1.302-1.541,1.644c-0.48,0.138-1.063,0.205-1.747,0.205 c-0.685,0-1.336,0-1.952,0h-6.678c-0.755,0-1.474-0.016-2.158-0.052c-0.685-0.034-1.268-0.222-1.746-0.565 c-0.411-0.342-0.686-0.77-0.822-1.284c-0.138-0.514-0.308-1.043-0.514-1.593c-0.411-1.369-0.754-2.723-1.027-4.058 c-0.274-1.336-0.583-2.688-0.925-4.059c-0.274-0.822-0.497-1.66-0.668-2.517c-0.172-0.856-0.395-1.729-0.668-2.62 c-0.205-0.617-0.36-1.249-0.462-1.901c-0.103-0.65-0.257-1.284-0.462-1.901c-0.549-1.644-0.994-3.339-1.336-5.086 c-0.344-1.747-0.755-3.476-1.233-5.189c-0.343-0.958-0.6-1.883-0.77-2.774c-0.172-0.889-0.395-1.814-0.668-2.774 c-0.344-1.164-0.617-2.294-0.822-3.39c-0.205-1.095-0.48-2.192-0.822-3.288c-0.205-0.548-0.36-1.061-0.462-1.541 c-0.103-0.478-0.292-0.925-0.565-1.336c-0.138-0.137-0.344-0.273-0.616-0.411c-0.206-0.067-0.344-0.067-0.411,0 c-0.48,0.138-0.822,0.549-1.027,1.233c-0.205,0.685-0.377,1.268-0.514,1.746c-0.48,1.439-0.857,2.928-1.13,4.469 c-0.274,1.541-0.617,3.066-1.027,4.572c-0.891,3.082-1.662,6.165-2.312,9.247c-0.652,3.082-1.423,6.165-2.312,9.247 c-0.344,1.097-0.601,2.175-0.77,3.237c-0.172,1.063-0.429,2.142-0.771,3.236c-0.344,0.96-0.6,1.919-0.77,2.877 c-0.172,0.96-0.395,1.919-0.668,2.877c-0.205,0.686-0.395,1.302-0.565,1.849c-0.172,0.549-0.531,0.994-1.079,1.336 c-0.48,0.275-1.063,0.411-1.746,0.411c-0.686,0-1.405,0-2.158,0h-8.939c-0.48-0.136-0.891-0.221-1.233-0.257 c-0.344-0.034-0.685-0.188-1.027-0.462c-0.549-0.342-0.891-0.907-1.027-1.695c-0.138-0.787-0.308-1.557-0.514-2.312 c-0.344-1.095-0.668-2.225-0.976-3.39c-0.308-1.164-0.634-2.328-0.976-3.494c-0.138-0.411-0.223-0.804-0.257-1.181 c-0.035-0.376-0.121-0.804-0.257-1.284c-0.411-1.164-0.754-2.328-1.027-3.494c-0.274-1.164-0.583-2.328-0.925-3.493 c-0.138-0.273-0.205-0.53-0.205-0.771c0-0.239-0.035-0.496-0.103-0.77c-0.344-0.958-0.634-1.968-0.874-3.031 c-0.241-1.061-0.531-2.106-0.873-3.134c-0.069-0.205-0.103-0.411-0.103-0.617c0-0.205-0.069-0.444-0.205-0.719 c-0.344-0.959-0.601-1.935-0.771-2.928c-0.172-0.992-0.428-2.003-0.77-3.031c-0.205-0.684-0.395-1.387-0.565-2.106 c-0.172-0.719-0.36-1.421-0.565-2.106c-0.205-0.684-0.377-1.369-0.514-2.055c-0.138-0.684-0.343-1.369-0.616-2.055 c-0.617-1.986-1.148-4.007-1.593-6.062c-0.446-2.055-0.976-4.074-1.593-6.062c-0.138-0.411-0.241-0.822-0.308-1.233 c-0.069-0.411-0.172-0.822-0.308-1.233c-0.48-1.439-0.891-2.911-1.233-4.418c-0.344-1.506-0.755-3.013-1.233-4.521 c-0.138-0.478-0.326-1.198-0.565-2.158c-0.241-0.958-0.189-1.678,0.154-2.158c0.342-0.411,0.822-0.684,1.439-0.822 c0.136-0.067,0.273-0.085,0.411-0.051C3.789,152.617,3.925,152.599,4.063,152.53z"}),l.a.createElement("path",{fill:"#11159A",d:"M145.543,198.766c0.136,0.549,0.136,1.166,0,1.849c-0.138,0.685-0.377,1.13-0.719,1.336 c-0.344,0.275-0.84,0.462-1.49,0.565c-0.652,0.103-1.371,0.172-2.158,0.205c-0.788,0.035-1.576,0.035-2.363,0 c-0.788-0.034-1.49-0.051-2.106-0.051h-25.07c-0.48,0-0.942,0-1.387,0c-0.446,0-0.84,0.069-1.182,0.205 c-0.549,0.274-0.891,0.549-1.027,0.822c-0.138,0.138-0.274,0.395-0.411,0.77c-0.138,0.377-0.172,0.737-0.103,1.079 c0.136,0.411,0.221,0.806,0.257,1.181c0.034,0.377,0.119,0.771,0.257,1.182c0.548,1.644,1.215,2.997,2.004,4.059 c0.787,1.063,1.866,2.003,3.237,2.825c0.547,0.344,1.112,0.565,1.695,0.668c0.581,0.103,1.182,0.257,1.798,0.462 c0.548,0.138,1.3,0.241,2.26,0.308c0.959,0.069,1.78,0.035,2.466-0.103h0.925c0.684-0.136,1.318-0.291,1.901-0.462 c0.581-0.17,1.146-0.36,1.696-0.565c0.684-0.342,1.454-0.787,2.311-1.336c0.856-0.548,1.49-1.095,1.901-1.644 c0.342-0.478,0.701-0.941,1.079-1.387c0.376-0.444,0.838-0.77,1.387-0.976c0.684-0.342,1.557-0.496,2.62-0.462 c1.061,0.035,2.037,0.051,2.928,0.051c0.411,0,0.838-0.016,1.284-0.051c0.444-0.034,0.838,0.018,1.181,0.154h1.027 c0.684,0.138,1.164,0.308,1.439,0.514c0.273,0.138,0.427,0.446,0.462,0.925c0.034,0.48-0.018,0.891-0.154,1.233 c-0.344,0.96-0.719,1.816-1.13,2.569c-0.411,0.754-0.891,1.507-1.439,2.26c-1.507,2.26-3.22,4.076-5.137,5.446 c-1.918,1.371-4.315,2.535-7.192,3.493c-0.754,0.273-1.507,0.445-2.26,0.514c-0.755,0.067-1.541,0.205-2.363,0.411 c-0.274,0.068-0.565,0.085-0.873,0.052c-0.308-0.035-0.601-0.018-0.873,0.051h-1.13c-0.344,0.136-0.737,0.188-1.182,0.154 c-0.446-0.035-0.84-0.087-1.182-0.154c-0.549-0.069-1.027-0.069-1.438,0c-0.411,0.068-0.857,0.034-1.336-0.103 c-0.344-0.138-0.719-0.205-1.13-0.205c-0.411,0-0.788-0.069-1.13-0.205c-0.754-0.138-1.507-0.292-2.26-0.462 c-0.755-0.17-1.439-0.427-2.055-0.771c-0.755-0.273-1.456-0.53-2.106-0.77c-0.652-0.239-1.25-0.53-1.798-0.873 c-2.193-1.37-4.145-2.962-5.857-4.778c-1.713-1.814-3.118-3.92-4.212-6.319c-0.344-0.753-0.617-1.524-0.822-2.312 c-0.205-0.787-0.48-1.593-0.822-2.415c-0.069-0.273-0.103-0.53-0.103-0.77c0-0.239-0.035-0.496-0.103-0.771 c-0.274-0.822-0.446-1.711-0.514-2.671c-0.069-0.959-0.138-1.917-0.205-2.877c0-0.342-0.018-0.719-0.051-1.13 c-0.035-0.411-0.018-0.787,0.051-1.131v-1.233l0.308-2.466c0.273-1.164,0.514-2.294,0.719-3.391 c0.205-1.095,0.514-2.122,0.925-3.082c2.944-7.123,7.945-12.158,15.001-15.104c0.958-0.411,1.935-0.701,2.928-0.873 c0.992-0.17,2.037-0.394,3.133-0.668c0.548-0.067,1.061-0.103,1.541-0.103c0.478,0,0.992-0.034,1.541-0.103 c3.494-0.067,6.489,0.326,8.99,1.182c2.5,0.857,4.742,1.97,6.73,3.339c0.617,0.411,1.233,0.873,1.849,1.387 c0.617,0.514,1.164,1.045,1.644,1.593c0.205,0.344,0.478,0.616,0.822,0.822c0.547,0.754,1.061,1.525,1.541,2.311 c0.478,0.788,0.992,1.593,1.541,2.415c0.342,0.617,0.632,1.251,0.873,1.901c0.239,0.652,0.496,1.353,0.77,2.106 c0.342,0.891,0.617,1.816,0.822,2.774c0.205,0.96,0.445,1.919,0.719,2.877c0.136,0.549,0.188,1.148,0.154,1.798 c-0.035,0.652,0.016,1.251,0.154,1.798V198.766z M130.132,192.704c0.478-0.684,0.53-1.524,0.154-2.517 c-0.377-0.992-0.668-1.729-0.873-2.209c-0.96-1.849-2.227-3.27-3.802-4.264c-1.576-0.992-3.768-1.523-6.576-1.593 c-0.205,0.138-0.446,0.172-0.719,0.103c-0.274-0.067-0.514-0.067-0.719,0c-0.344,0.138-0.719,0.223-1.13,0.257 c-0.411,0.035-0.788,0.12-1.13,0.257c-3.015,0.96-5.24,2.843-6.679,5.651c-0.138,0.274-0.292,0.634-0.462,1.079 c-0.172,0.446-0.292,0.891-0.36,1.336c-0.069,0.446-0.051,0.874,0.052,1.284c0.103,0.411,0.324,0.754,0.668,1.027 c0.548,0.344,1.3,0.514,2.26,0.514c0.958,0,1.883,0,2.774,0h11.405c0.959,0,1.968-0.016,3.031-0.052 C129.086,193.543,129.788,193.253,130.132,192.704z"}),l.a.createElement("path",{fill:"#93AD3C",d:"M185.202,150.681c6.918-0.136,12.705,1.097,17.364,3.699c4.657,2.604,8.287,5.959,10.891,10.069 c1.3,2.193,2.363,4.726,3.185,7.603c0.137,0.48,0.239,1.079,0.308,1.798c0.067,0.719-0.069,1.251-0.411,1.593 c-0.344,0.48-0.822,0.755-1.438,0.822c-0.617,0.069-1.302,0.103-2.055,0.103h-6.679c-0.754,0-1.456-0.016-2.106-0.051 c-0.652-0.034-1.181-0.221-1.593-0.565c-0.616-0.411-1.045-0.992-1.284-1.747c-0.241-0.753-0.531-1.472-0.874-2.158 c-0.616-0.958-1.268-1.866-1.952-2.723c-0.685-0.856-1.507-1.626-2.466-2.311c-1.302-0.89-2.877-1.609-4.726-2.158 c-0.344-0.136-0.719-0.221-1.13-0.257c-0.411-0.034-0.788-0.085-1.13-0.154c-0.206-0.067-0.514-0.103-0.925-0.103 c-0.822-0.136-1.849-0.154-3.082-0.052c-1.233,0.103-2.193,0.223-2.877,0.36c-0.48,0.138-0.925,0.241-1.336,0.308 c-0.411,0.069-0.822,0.205-1.233,0.411c-1.782,0.754-3.374,1.644-4.778,2.672c-1.405,1.027-2.62,2.329-3.647,3.904 c-0.96,1.302-1.713,2.707-2.261,4.212c-0.549,1.507-1.063,3.118-1.541,4.829c-0.205,0.754-0.344,1.507-0.411,2.26 c-0.069,0.754-0.171,1.507-0.308,2.26v1.336c-0.138,0.411-0.189,0.857-0.154,1.336c0.034,0.48,0.051,0.96,0.051,1.438 c0,1.166,0.034,2.33,0.103,3.494c0.068,1.166,0.239,2.26,0.514,3.288c0.067,0.274,0.103,0.514,0.103,0.719 c0,0.205,0.034,0.446,0.103,0.719c0.958,3.493,2.26,6.457,3.904,8.887c1.644,2.432,4.007,4.333,7.089,5.702 c0.617,0.274,1.249,0.514,1.901,0.719c0.65,0.205,1.352,0.411,2.106,0.617c0.411,0.069,0.804,0.087,1.182,0.051 c0.375-0.034,0.735,0.018,1.079,0.154c0.411,0.138,0.925,0.205,1.541,0.205c0.616,0,1.164-0.067,1.644-0.205 c0.342-0.068,0.65-0.085,0.925-0.052c0.273,0.035,0.548,0.018,0.822-0.051c0.342-0.068,0.633-0.085,0.874-0.052 c0.239,0.035,0.496-0.016,0.77-0.154c0.958-0.273,1.849-0.53,2.671-0.771c0.822-0.239,1.609-0.565,2.363-0.976 c1.711-1.027,3.082-2.209,4.11-3.545c1.027-1.336,1.917-2.996,2.671-4.983c0.273-0.753,0.462-1.644,0.565-2.671 c0.103-1.027-0.223-1.747-0.976-2.158c-0.411-0.273-0.942-0.411-1.593-0.411c-0.652,0-1.284,0-1.901,0h-5.24 c-0.411,0-0.857,0.018-1.336,0.052c-0.48,0.035-0.925-0.016-1.336-0.154h-0.925c-0.274-0.068-0.549-0.119-0.822-0.154 c-0.275-0.034-0.514-0.119-0.719-0.257c-0.344-0.273-0.583-0.684-0.719-1.233c-0.138-0.548-0.223-1.146-0.257-1.798 c-0.035-0.65-0.035-1.336,0-2.055c0.034-0.719,0.051-1.387,0.051-2.004c0-0.547,0.016-1.061,0.052-1.541 c0.034-0.478,0.119-0.89,0.257-1.233c0.273-0.617,0.65-1.028,1.13-1.233c0.411-0.136,0.753-0.205,1.027-0.205h1.13 c0.205-0.067,0.462-0.103,0.77-0.103c0.308,0,0.599,0,0.874,0h2.98h15.001c1.164,0,2.482,0,3.956,0 c1.472,0,2.448,0.308,2.928,0.925c0.342,0.549,0.514,1.268,0.514,2.158c0,0.891,0,1.747,0,2.569v10.685v16.85 c0,1.302-0.018,2.553-0.051,3.75c-0.035,1.199-0.498,1.97-1.387,2.311c-0.411,0.206-0.909,0.308-1.49,0.308 c-0.583,0-1.148,0-1.695,0c-1.371,0-2.553-0.052-3.545-0.154c-0.994-0.103-1.696-0.632-2.106-1.593 c-0.274-0.617-0.48-1.3-0.617-2.055c-0.138-0.753-0.377-1.403-0.719-1.952c-0.138-0.136-0.308-0.291-0.514-0.462 c-0.205-0.17-0.48-0.221-0.822-0.154c-0.549,0.138-1.011,0.411-1.387,0.822c-0.377,0.411-0.77,0.788-1.181,1.13 c-0.686,0.549-1.336,1.045-1.952,1.49c-0.617,0.446-1.302,0.909-2.055,1.387c-0.891,0.549-1.833,0.994-2.826,1.336 c-0.994,0.344-2.003,0.684-3.031,1.027c-0.344,0.136-0.703,0.222-1.079,0.257c-0.377,0.034-0.737,0.085-1.079,0.154 c-0.549,0.136-1.131,0.205-1.747,0.205c-0.617,0-1.233,0.068-1.849,0.205c-0.275,0.068-0.668,0.085-1.182,0.052 c-0.514-0.035-0.873-0.087-1.079-0.154h-1.027c-0.344-0.069-0.668-0.103-0.976-0.103s-0.634-0.035-0.976-0.103h-0.822 c-0.549-0.138-1.097-0.241-1.644-0.308c-0.549-0.069-1.097-0.172-1.644-0.308c-0.48-0.138-0.96-0.257-1.439-0.36 c-0.48-0.103-0.96-0.221-1.438-0.36c-2.055-0.617-3.871-1.336-5.446-2.158c-4.042-2.123-7.33-4.64-9.864-7.552 c-2.535-2.911-4.692-6.525-6.473-10.84c-0.411-0.958-0.719-1.917-0.925-2.877c-0.205-0.958-0.48-1.917-0.822-2.877 c-0.069-0.342-0.103-0.632-0.103-0.873c0-0.239-0.069-0.53-0.205-0.873c-0.138-0.478-0.206-0.976-0.206-1.49 c0-0.514-0.069-1.044-0.205-1.593c-0.138-0.342-0.189-0.632-0.154-0.873c0.034-0.239,0.016-0.53-0.052-0.873v-1.849 c-0.138-0.342-0.205-0.874-0.205-1.593c0-0.719,0.067-1.249,0.205-1.593v-1.131c0.068-0.411,0.085-0.838,0.052-1.284 c-0.035-0.445,0.016-0.838,0.154-1.182c0.137-0.617,0.205-1.233,0.205-1.849c0-0.616,0.068-1.197,0.206-1.747 c0.205-0.753,0.375-1.49,0.514-2.209c0.137-0.719,0.342-1.455,0.617-2.209c0.342-0.958,0.668-1.901,0.976-2.825 c0.308-0.925,0.668-1.832,1.079-2.723c0.411-0.958,0.889-1.901,1.438-2.825c0.548-0.925,1.095-1.798,1.644-2.62 c2.055-2.877,4.383-5.325,6.987-7.346c2.602-2.019,5.754-3.715,9.453-5.086c0.753-0.342,1.575-0.599,2.466-0.77 c0.889-0.17,1.78-0.36,2.671-0.565c0.342-0.136,0.701-0.205,1.079-0.205c0.376,0,0.735-0.068,1.079-0.205 c0.478-0.137,0.941-0.17,1.387-0.103c0.444,0.069,0.907,0.035,1.387-0.103c0.136-0.067,0.324-0.067,0.565,0 C184.876,150.75,185.064,150.75,185.202,150.681z"}),l.a.createElement("path",{fill:"#93AD3C",d:"M258.253,171.435c0.753,0,1.421,0.069,2.003,0.206c0.581,0.138,1.044,0.446,1.387,0.924 c0.411,0.549,0.617,1.49,0.617,2.826c0,1.336,0,2.517,0,3.545c0,0.754,0.016,1.61,0.051,2.568c0.034,0.96-0.087,1.713-0.359,2.261 c-0.275,0.48-0.668,0.788-1.182,0.925c-0.514,0.138-1.097,0.205-1.747,0.205c-0.652,0-1.336-0.034-2.055-0.103 c-0.719-0.068-1.387-0.034-2.003,0.103c-0.48,0.138-0.96,0.223-1.439,0.257c-0.48,0.035-0.925,0.12-1.336,0.257 c-1.097,0.344-2.193,0.84-3.288,1.49c-1.096,0.652-1.952,1.387-2.568,2.209c-0.344,0.549-0.703,1.114-1.079,1.695 c-0.377,0.583-0.737,1.182-1.079,1.798c-0.205,0.549-0.395,1.114-0.565,1.695c-0.172,0.583-0.326,1.148-0.462,1.695 c-0.138,0.48-0.206,0.976-0.206,1.49s-0.069,1.011-0.205,1.49c-0.069,0.274-0.087,0.531-0.051,0.77 c0.034,0.241,0.016,0.462-0.052,0.668v1.644c-0.138,0.48-0.172,1.011-0.103,1.593c0.068,0.583,0.103,1.148,0.103,1.695v6.576 v8.733c0,0.891-0.035,1.713-0.103,2.466c-0.069,0.755-0.275,1.371-0.617,1.849c-0.138,0.205-0.359,0.36-0.668,0.462 c-0.308,0.103-0.634,0.189-0.976,0.257h-0.514c-0.344,0.069-0.719,0.103-1.13,0.103c-0.411,0-0.788,0-1.13,0h-4.418 c-0.411-0.067-0.84-0.103-1.284-0.103c-0.446,0-0.909,0-1.387,0c-0.344-0.136-0.686-0.257-1.027-0.36 c-0.344-0.103-0.583-0.324-0.719-0.668c-0.274-0.342-0.429-0.838-0.462-1.49c-0.035-0.65-0.051-1.318-0.051-2.004v-6.987v-28.974 V177.6c0-0.684,0-1.352,0-2.004c0-0.65,0.136-1.182,0.411-1.593c0.342-0.548,0.856-0.889,1.541-1.027 c0.684-0.136,1.506-0.205,2.466-0.205h5.24c0.822,0,1.541,0.051,2.158,0.154c0.617,0.103,1.095,0.429,1.439,0.976 c0.205,0.344,0.324,0.822,0.36,1.438c0.034,0.617,0.085,1.217,0.154,1.798c0.068,0.583,0.188,1.114,0.36,1.593 c0.17,0.48,0.496,0.719,0.976,0.719c0.136-0.136,0.273-0.205,0.411-0.205c0.137,0,0.273-0.067,0.411-0.205 c0.411-0.342,0.77-0.735,1.079-1.182c0.308-0.444,0.702-0.838,1.182-1.181c0.273-0.206,0.514-0.427,0.719-0.668 c0.205-0.239,0.444-0.462,0.719-0.668c0.617-0.411,1.249-0.822,1.901-1.233c0.65-0.411,1.318-0.787,2.003-1.13 c0.684-0.273,1.387-0.514,2.106-0.719c0.719-0.205,1.454-0.411,2.209-0.616c0.205-0.068,0.599-0.085,1.181-0.052 C257.755,171.625,258.115,171.573,258.253,171.435z"}),l.a.createElement("path",{fill:"#93AD3C",d:"M317.229,197.122c0.136,0.411,0.205,0.994,0.205,1.747c0,0.754-0.069,1.336-0.205,1.747v1.027 c-0.138,0.549-0.189,1.097-0.154,1.644c0.034,0.549-0.018,1.097-0.154,1.644c-0.138,0.48-0.241,0.925-0.309,1.336 c-0.069,0.411-0.138,0.857-0.205,1.336c-0.275,0.754-0.514,1.525-0.719,2.312c-0.205,0.788-0.48,1.525-0.822,2.209 c-1.439,3.288-3.323,5.959-5.651,8.014c-2.329,2.055-5.137,3.768-8.425,5.137c-0.822,0.344-1.662,0.599-2.517,0.771 c-0.857,0.17-1.73,0.36-2.62,0.565c-0.344,0.136-0.719,0.205-1.13,0.205c-0.411,0-0.788,0.034-1.13,0.103 c-0.205,0-0.429,0.016-0.668,0.052c-0.241,0.034-0.462,0.051-0.668,0.051c-0.344,0.068-0.891,0.119-1.644,0.154 c-0.754,0.034-1.336-0.018-1.747-0.154h-1.027c-0.344-0.069-0.703-0.087-1.079-0.051c-0.378,0.034-0.737-0.018-1.079-0.154 c-0.275-0.069-0.531-0.103-0.77-0.103c-0.241,0-0.531-0.035-0.874-0.103c-0.685-0.205-1.371-0.377-2.055-0.514 c-0.685-0.138-1.336-0.342-1.952-0.616c-0.822-0.273-1.593-0.548-2.312-0.822c-0.719-0.273-1.456-0.617-2.209-1.027 c-2.398-1.439-4.453-3.116-6.165-5.035c-1.713-1.917-3.151-4.212-4.316-6.884c-0.344-0.617-0.6-1.267-0.771-1.952 c-0.172-0.684-0.36-1.403-0.565-2.158c-0.138-0.342-0.205-0.65-0.205-0.925c0-0.273-0.069-0.581-0.206-0.925 c-0.138-0.548-0.205-1.113-0.205-1.695c0-0.581-0.069-1.146-0.205-1.696c-0.069-0.342-0.103-0.65-0.103-0.925 c0-0.273,0-0.581,0-0.924c-0.138-0.411-0.189-0.992-0.154-1.747c0.034-0.753,0.119-1.336,0.257-1.747V196.3 c0.068-0.342,0.085-0.701,0.052-1.079c-0.035-0.376,0.016-0.735,0.154-1.079c0.068-0.342,0.103-0.668,0.103-0.976 c0-0.308,0.068-0.633,0.206-0.976c0.273-0.889,0.514-1.762,0.719-2.62c0.205-0.856,0.478-1.695,0.822-2.517 c1.233-2.808,2.705-5.153,4.418-7.038c1.711-1.883,3.801-3.612,6.267-5.188c0.684-0.342,1.403-0.65,2.158-0.925 c0.753-0.273,1.506-0.581,2.26-0.925c0.89-0.342,1.814-0.581,2.774-0.719c0.958-0.136,1.952-0.342,2.98-0.616 c0.548-0.068,1.061-0.103,1.541-0.103c0.478,0,0.958-0.034,1.438-0.103c3.972-0.067,7.414,0.344,10.326,1.233 c2.911,0.891,5.497,2.124,7.757,3.699c0.753,0.549,1.524,1.148,2.312,1.798c0.787,0.652,1.454,1.353,2.004,2.106 c0.547,0.686,1.044,1.371,1.49,2.055c0.444,0.686,0.907,1.405,1.387,2.158c0.478,0.755,0.856,1.559,1.13,2.415 c0.273,0.857,0.581,1.764,0.925,2.723c0.205,0.549,0.375,1.13,0.514,1.746c0.136,0.617,0.273,1.233,0.411,1.849 c0.067,0.275,0.103,0.549,0.103,0.822c0,0.274,0.034,0.549,0.103,0.822c0.136,0.344,0.17,0.719,0.103,1.13 C317.057,196.402,317.091,196.78,317.229,197.122z M302.845,200.821c0.068-0.342,0.103-0.838,0.103-1.49 c0-0.65-0.035-1.146-0.103-1.49v-0.822c-0.138-0.342-0.205-0.719-0.205-1.13c0-0.411-0.035-0.787-0.103-1.13 c0-0.273-0.035-0.478-0.103-0.617c-0.138-0.548-0.257-1.113-0.36-1.695c-0.103-0.581-0.257-1.146-0.462-1.695 c-0.754-1.78-1.644-3.304-2.671-4.572c-1.027-1.267-2.398-2.277-4.11-3.031c-0.411-0.136-0.822-0.257-1.233-0.36 c-0.411-0.103-0.857-0.221-1.336-0.36c-0.549-0.136-1.13-0.188-1.747-0.154c-0.617,0.035-1.233,0.051-1.849,0.051 c-0.205,0.138-0.446,0.19-0.719,0.154c-0.275-0.034-0.514-0.016-0.719,0.051c-0.48,0.138-0.943,0.257-1.387,0.36 c-0.446,0.103-0.84,0.257-1.182,0.462c-1.713,0.755-3.1,1.833-4.161,3.237c-1.063,1.405-1.901,3.031-2.517,4.88 c-0.205,0.686-0.359,1.405-0.462,2.158c-0.103,0.754-0.223,1.507-0.359,2.26c-0.069,0.344-0.103,0.685-0.103,1.027 c0,0.344,0,0.685,0,1.027c-0.138,0.48-0.19,1.199-0.154,2.158c0.034,0.96,0.119,1.679,0.257,2.158v0.925 c0.136,0.549,0.239,1.079,0.308,1.593c0.067,0.514,0.17,1.045,0.308,1.593c0.684,2.055,1.421,3.716,2.209,4.983 c0.787,1.268,2.037,2.415,3.75,3.442c0.478,0.344,1.01,0.617,1.593,0.822c0.581,0.205,1.182,0.377,1.798,0.514 c0.273,0.069,0.514,0.087,0.719,0.052c0.206-0.034,0.445-0.016,0.719,0.051c0.273,0.069,0.565,0.121,0.873,0.154 c0.308,0.035,0.599,0.018,0.874-0.052h0.822c0.547-0.136,1.095-0.239,1.644-0.308c0.548-0.067,1.061-0.205,1.541-0.411 c1.78-0.684,3.219-1.609,4.315-2.774c1.095-1.164,2.02-2.602,2.774-4.315c0.273-0.684,0.478-1.37,0.617-2.055 c0.136-0.684,0.308-1.403,0.514-2.158c0.068-0.273,0.103-0.53,0.103-0.77c0-0.239,0.034-0.496,0.103-0.77c0-0.342,0-0.668,0-0.976 C302.742,201.488,302.776,201.164,302.845,200.821z"}),l.a.createElement("path",{fill:"#93AD3C",d:"M323.29,172.669h7.603c0.753,0,1.472,0.018,2.158,0.051c0.684,0.035,1.233,0.189,1.644,0.462 c0.411,0.274,0.735,0.634,0.976,1.079c0.239,0.446,0.427,0.96,0.565,1.541c0.136,0.583,0.273,1.166,0.411,1.747 c0.137,0.583,0.273,1.114,0.411,1.593c0.822,2.398,1.523,4.865,2.106,7.398c0.581,2.535,1.249,5.035,2.004,7.501 c0.136,0.411,0.239,0.806,0.308,1.182c0.068,0.377,0.17,0.77,0.308,1.181c0.342,1.027,0.632,2.073,0.873,3.134 c0.239,1.063,0.53,2.106,0.873,3.134c0.137,0.48,0.309,1.027,0.514,1.644c0.205,0.617,0.581,0.994,1.13,1.131 c0.342,0.069,0.617-0.119,0.822-0.565c0.205-0.444,0.376-0.77,0.514-0.976c0.342-0.958,0.599-1.952,0.771-2.98 c0.17-1.027,0.427-2.019,0.771-2.98c0.205-0.617,0.376-1.249,0.514-1.901c0.137-0.65,0.273-1.284,0.411-1.901 c0.478-1.644,0.907-3.321,1.284-5.035c0.375-1.711,0.804-3.39,1.284-5.035c0.206-0.753,0.376-1.472,0.514-2.158 c0.136-0.684,0.308-1.37,0.514-2.055c0.273-1.027,0.548-2.26,0.822-3.699c0.273-1.438,0.787-2.431,1.541-2.98 c0.478-0.273,1.027-0.427,1.644-0.462c0.617-0.034,1.3-0.051,2.055-0.051h5.343c0.822,0,1.575,0.035,2.26,0.103 c0.684,0.069,1.267,0.275,1.747,0.616c0.342,0.274,0.581,0.634,0.719,1.079c0.136,0.446,0.273,0.873,0.411,1.284 c0.273,0.96,0.496,1.901,0.668,2.825c0.17,0.925,0.427,1.867,0.77,2.825c0.822,2.671,1.524,5.412,2.106,8.22 c0.581,2.809,1.249,5.548,2.004,8.22c0.273,0.822,0.496,1.662,0.668,2.517c0.17,0.857,0.393,1.662,0.668,2.415 c0.273,0.96,0.548,1.679,0.822,2.158c0.067,0.069,0.154,0.12,0.257,0.154c0.103,0.035,0.188,0.12,0.257,0.257 c0.617-0.067,1.01-0.291,1.182-0.668c0.17-0.376,0.36-0.804,0.565-1.284c0.411-1.095,0.753-2.242,1.027-3.442 c0.273-1.197,0.581-2.379,0.925-3.545c0.205-0.684,0.376-1.352,0.514-2.003c0.136-0.65,0.308-1.318,0.514-2.004 c0.753-2.122,1.37-4.28,1.849-6.473c0.478-2.192,1.061-4.315,1.747-6.37c0.342-0.958,0.65-2.106,0.925-3.442 c0.273-1.336,0.719-2.243,1.336-2.723c0.478-0.342,1.027-0.547,1.644-0.616c0.616-0.068,1.3-0.103,2.055-0.103h5.445 c0.548,0,1.13,0,1.747,0c0.617,0,1.13,0.069,1.541,0.205c0.684,0.275,1.061,0.719,1.131,1.336 c0.067,0.617-0.035,1.302-0.308,2.055c-0.48,1.576-0.942,3.1-1.387,4.572c-0.446,1.474-0.942,2.998-1.49,4.572 c-1.644,5.001-3.236,10.018-4.778,15.052c-1.541,5.035-3.134,10.053-4.778,15.052c-0.344,1.097-0.668,2.175-0.976,3.236 c-0.308,1.063-0.634,2.142-0.976,3.237c-0.275,0.755-0.531,1.423-0.771,2.004c-0.241,0.583-0.703,1.011-1.387,1.284 c-0.686,0.344-1.577,0.48-2.671,0.411c-1.097-0.068-2.09-0.103-2.98-0.103c-1.096,0-2.466,0.018-4.11,0.051 c-1.644,0.035-2.81-0.119-3.494-0.462c-0.411-0.342-0.719-0.735-0.925-1.181c-0.205-0.445-0.377-0.941-0.514-1.49 c-0.344-0.958-0.601-1.901-0.77-2.826c-0.172-0.925-0.395-1.865-0.668-2.825c-0.205-0.617-0.377-1.249-0.514-1.901 c-0.138-0.65-0.344-1.318-0.617-2.004c-0.616-1.986-1.148-4.041-1.593-6.165c-0.446-2.123-1.011-4.212-1.695-6.267 c-0.411-1.233-0.754-2.533-1.027-3.904c-0.275-1.37-0.822-2.466-1.644-3.288c-0.685,0-1.114,0.257-1.284,0.771 c-0.171,0.514-0.359,1.045-0.565,1.593c-0.48,1.371-0.84,2.74-1.079,4.11c-0.241,1.371-0.601,2.74-1.079,4.11 c-0.754,2.466-1.387,4.983-1.901,7.552c-0.514,2.569-1.148,5.086-1.901,7.552c-0.138,0.48-0.275,1.027-0.411,1.644 c-0.138,0.616-0.275,1.199-0.411,1.747c-0.138,0.549-0.326,1.063-0.565,1.541c-0.241,0.48-0.531,0.857-0.874,1.13 c-0.344,0.274-0.822,0.429-1.438,0.462c-0.617,0.035-1.302,0.052-2.055,0.052h-5.446h-2.98c-0.411-0.068-0.788-0.137-1.13-0.205 c-0.344-0.068-0.652-0.17-0.925-0.308c-0.48-0.342-0.822-0.822-1.027-1.438c-0.205-0.617-0.411-1.233-0.617-1.849 c-0.343-1.027-0.685-2.089-1.027-3.185c-0.344-1.095-0.685-2.192-1.027-3.288c-1.713-5.068-3.339-10.136-4.88-15.206 c-1.541-5.068-3.134-10.136-4.778-15.206c-0.48-1.37-0.925-2.705-1.336-4.007c-0.411-1.3-0.822-2.602-1.233-3.904 c-0.138-0.411-0.292-0.976-0.462-1.695c-0.172-0.719-0.12-1.284,0.154-1.696c0.205-0.273,0.65-0.547,1.336-0.822 C322.88,172.771,323.152,172.737,323.29,172.669z"})))))},b=(a.p,a(452),function(e){var t=e.confirmPwdChange,a=e.cancelPwdChange,r=e.show,i=e.name,s=e.oldpwd,m=e.username,d=e.setCpwdsuccessmsg,f=e.accesstoken,h=e.setData,g=e.data,b={oldpassword:"",newpassword:"",cnewpassword:""},y=Object(c.useState)(b),v=Object(n.a)(y,2),E=v[0],O=v[1],N=Object(c.useState)({oldpassword:"",newpassword:"",cnewpassword:""}),j=Object(n.a)(N,2),x=j[0],w=j[1],S=r?"modal chngpwdmodal display-block":"modal chngpwdmodal display-none",C=Object(c.useCallback)(function(e){e&&r&&""===e.value&&e.focus()}),D=function(e){O(Object(o.a)({},E,Object(u.a)({},e.target.name,e.target.value)))},k=function(e){var t=e.target.name,a=e.target.value,r=RegExp("^(?=.{8,})(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[@#$%^&+=!]).*$");switch(t){case"oldpassword":w(Object(o.a)({},x,Object(u.a)({},t,a!==s?"Old password is incorrect. Please check.":"")));break;case"newpassword":w(Object(o.a)({},x,Object(u.a)({},t,r.test(a)?"":l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"must contain at least 1 lowercase"),l.a.createElement("p",null,"at least 1 uppercase"),l.a.createElement("p",null,"at least 1 numeric"),l.a.createElement("p",null,"at least one symbol @#$%^&+="),l.a.createElement("p",null," at least 8 characters long")))));break;case"cnewpassword":w(Object(o.a)({},x,Object(u.a)({},t,E.newpassword!==E.cnewpassword?"Passwords don't match":"")))}};return l.a.createElement("div",{className:S},l.a.createElement("section",{id:"chpwdmodal",className:"modal-main"},l.a.createElement("h1",null,"Welcome ",i,"!"),l.a.createElement("h2",null,"Seems like its the first time you are logging in."),l.a.createElement("p",null,"Please take a minute to change your Password"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),Object.values(x).every(function(e){return""===e})&&(p.a.post("/changepassword",{oldpassword:E.oldpassword,newpassword:E.newpassword,username:m},{headers:{Authorization:"Bearer ".concat(f)}}).then(function(e){d(l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,e.data.msg.split(".")[0]),l.a.createElement("p",null,e.data.msg.split(".")[1])))}).catch(function(e){h(Object(o.a)({},g,{errorMessage:"You took to long. Please login again with original password."}))}),t(),O(b))},className:"changePwdModalForm"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Old Password"),l.a.createElement("input",{required:!0,type:"password",name:"oldpassword",id:"oldpassword",value:E.oldpassword,onChange:D,onBlur:k,ref:C})),l.a.createElement("span",{className:"cpwdinputerror"},x.oldpassword),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"New Password"),l.a.createElement("input",{required:!0,type:"password",name:"newpassword",id:"newpassword",value:E.newpassword,onChange:D,onBlur:k})),l.a.createElement("span",{className:"cpwdinputerror"},x.newpassword),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Confirm Password"),l.a.createElement("input",{required:!0,type:"password",name:"cnewpassword",id:"cnewpassword",value:E.cnewpassword,onChange:D,onBlur:k})),l.a.createElement("span",{className:"cpwdinputerror"},x.cnewpassword),l.a.createElement("button",{type:"submit",className:"confirmbutton"},"Confirm"),l.a.createElement("button",{className:"cancelbutton",onClick:a},"Cancel"))))}),y=function(){var e=Object(c.useContext)(ke).dispatch,t=Object(c.useState)(),a=Object(n.a)(t,2),r=a[0],i=a[1],s=Object(c.useState)(),m=Object(n.a)(s,2),d=m[0],f=m[1],h=Object(c.useState)(),y=Object(n.a)(h,2),v=y[0],E=y[1],O=Object(c.useState)(),N=Object(n.a)(O,2),j=N[0],x=N[1],w=Object(c.useState)({username:"",password:""}),S=Object(n.a)(w,2),C=S[0],D=S[1],k=Object(c.useState)(!1),F=Object(n.a)(k,2),I=F[0],L=F[1],T=function(e){e.preventDefault(),D(Object(o.a)({},C,Object(u.a)({},e.target.name,e.target.value)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(b,{show:I,confirmPwdChange:function(e){L(!1)},cancelPwdChange:function(e){e.preventDefault(),L(!1)},name:r,oldpwd:d,username:C.username,setCpwdsuccessmsg:E,accesstoken:j,setData:D,data:C}),l.a.createElement("div",{className:"Login"},l.a.createElement("form",{className:"LoginForm",onSubmit:function(t){t.preventDefault(),p.a.post("/login",{username:C.username,password:C.password}).then(function(t){"y"===t.data.firstlogin?(i(t.data.user),L(!0),f(C.password),x(t.data.accesstoken)):(D(Object(o.a)({},C,{errorMessage:t.data.message})),t.data.success&&e({type:"LOGIN",payload:t.data}))}).catch(function(e){console.log(e),D(Object(o.a)({},C,{password:"",errorMessage:e.message||e.statusText}))}),D(Object(o.a)({},C,{password:"",errorMessage:""})),E("")}},l.a.createElement("h2",null," Login "),l.a.createElement(g,{className:"Logo"}),l.a.createElement("input",{autoFocus:!0,type:"text",placeholder:"username",name:"username",id:"username",value:C.username,onChange:T}),l.a.createElement("input",{type:"password",placeholder:"password",name:"password",id:"password",value:C.password,onChange:T}),l.a.createElement("button",null,"Login"),C.errorMessage&&l.a.createElement("span",{className:"errormessage"},C.errorMessage),l.a.createElement("span",{className:"successmessage"},v))))},v=(a(284),a(454),a(248));a(495);function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var O=function(e){return l.a.createElement("svg",E({viewBox:"0 0 193.75 125.4086"},e),f||(f=l.a.createElement("defs",null)),h||(h=l.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},l.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},l.a.createElement("g",{id:"Layer_2-2","data-name":"Layer 2"},l.a.createElement("g",{id:"Layer_1-2-2","data-name":"Layer 1-2"},l.a.createElement("path",{className:"cls-1",d:"M173.13,28.696c-6.5459,0-20.163,3.273-20.897,21.889-.3259,8.282-2.662,15.368-6.543,20.845l-.003.006c-5.947,25.626-21.224,44.279-43.731,53.633l12.057.169c36.073.476,62.866-16.788,74.653-46.792S190.2817,28.696,173.13,28.696Z"}),l.a.createElement("path",{className:"cls-1",d:"M144.1817,47.409a60.8054,60.8054,0,0,0-1.322-12.048c-.023.002-.045.006-.068.008-3.46-18.081-19.68-27.903-19.68-27.903S113.0407,0,94.0207,0c-13.848,0-46.946,8.647-44.84,52.173.016.589.039,1.183.079,1.788.195,2.982-.057,22.965,19.704,26.415,15.914,2.779,23.11-7.347,23.504-19.51a85.874,85.874,0,0,0,.003-8.596c0-3.773.183-10.357,5.357-10.909,5.52-.588,5.513,4.643,5.529,10.528a40.0458,40.0458,0,0,1-4.208,17.606c-2.736,6.024-8.522,13.264-20.684,14.941a33.45,33.45,0,0,1-4.566.317A31.0279,31.0279,0,0,1,52.81,76.505C46.117,70.707,41.96,61.678,41.516,50.43c-.734-18.616-14.351-21.889-20.897-21.889C8.53,28.541-.09,38.351.0007,54.648c-.009,6.895,1.549,14.965,5.082,23.959,11.787,30.004,38.58,47.268,74.653,46.792a61.7314,61.7314,0,0,0,15.017-2.027q1.0965-.3585,2.171-.747c20.192-7.271,34.721-22.071,42.042-42.703q.3195-1.0635.602-2.137c.056-.215.119-.429.173-.645a97.6,97.6,0,0,0,4.291-23.18c.113-1.721.162-3.382.165-4.997q.0015-.369.001-.735Q144.1887,47.817,144.1817,47.409Z"})))))))},N=(a.p,function(){var e=l.a.useContext(ke),t=e.state,a=e.dispatch;return l.a.createElement("div",{id:"navigation"},l.a.createElement("h2",null,"Dashboard"),t.isAuthenticated?l.a.createElement(l.a.Fragment,null," ",l.a.createElement("div",{className:"welcomemsg"},l.a.createElement(O,{className:"Logoheader"}),l.a.createElement("p",{className:"userwelcome"},"Welcome ",t.user)),l.a.createElement("button",{className:"logoutButton",onClick:function(e){a({type:"LOGOUT"})}},"Logout")):"")}),j=a(249),x=(a(510),a(512),function(){var e=JSON.parse(localStorage.getItem("role"));return l.a.createElement("div",{id:"navbarcontainer"},l.a.createElement("ul",{id:"navbar"},1===e||2===e?l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/management"},"Management")):"",1===e||2===e||3===e?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/analysis/actualvsbudget"},"Analysis")),l.a.createElement("li",null,l.a.createElement(i.b,{exact:!0,activeClassName:"navbaractive",to:"/"},"Positions")),l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/sales"},"Sales"))):"",l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/logistics/inprogress"},"Logistics")),1===e||2===e?l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/budget/budget2023"},"Budget")):"",1===e?l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/admin"},"Admin")):""))}),w=a(40),S=(a(196),a(197),a(32),a(226),a(264),a(594),a(266),a(682),a(697),a(696),a(698),a(699),a(704)),C=a.n(S),D=(a(626),{width:"800px"}),k=function(){Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var e={name:"Total",children:[]},t=Object(c.useState)({data:{},criteria:"quantity"}),a=Object(n.a)(t,2),r=a[0],i=a[1];return Object(c.useEffect)(function(){p.a.post("/sunburstdata").then(function(t){var a=t.data.groupBy("productGroup"),n=Object.keys(a),c=0;n.forEach(function(t){e.children.push({name:t,children:[]});var r=a[t].groupBy("prodCatName"),n=Object.keys(r),o=0;n.forEach(function(t){e.children[c].children.push({name:t,children:[]});var a=r[t].groupBy("abbreviation");Object.keys(a).forEach(function(t){e.children[c].children[o].children.push({name:t,quantity:a[t][0].quantity,profit:a[t][0].profit})}),o++}),c++}),console.log(e),i(Object(o.a)({},r,{data:e}))})},[]),l.a.createElement("div",{className:"sunburst"},l.a.createElement(C.a,{data:r.data,scale:"exponential",tooltipContent:l.a.createElement("div",{class:"sunburstTooltip",style:"position:absolute; color:black; z-index:10; background: #FFF; padding: 2px; text-align: center;"}),tooltip:!0,tooltipPosition:"right",keyId:"Sunburst",width:.9*window.innerWidth,value:r.criteria,height:.9*window.innerHeight,styles:D}))},F=a(595),I=a(596),L=a(80),T=function(){return l.a.createElement("div",{className:"mgmtcontainer"},l.a.createElement("div",{className:"mgmtnav"},l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/management/keyfigures",exact:!0},"Key Figures"),l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/management/sunburstcharts",exact:!0},"Sun Burst Charts"),l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/management/profitability",exact:!0},"Profitability")),l.a.createElement("div",{className:"gridcontainer mgmtgridcontainer"},l.a.createElement(s.a,{active:!0,path:"/management/keyfigures"},l.a.createElement(F.a,null)),l.a.createElement(s.a,{path:"/management/sunburstcharts"},l.a.createElement(k,null)),l.a.createElement(L.b,null,l.a.createElement(s.a,{path:"/management/profitability"},l.a.createElement(I.a,null)))))},P=a(11),B=(a(637),function(e){var t=e.tCode,a=e.tName,r=e.tLastName,n=e.active,o=e.role,c=e.email,i=e.findtrader;return l.a.createElement("div",{style:{backgroundColor:"y"===n?"":"#D3D3D3"},className:"tradercard",name:t,onClick:function(){return i(t)}},l.a.createElement("h4",null,a," ",r),l.a.createElement("p",null,"y"===n?"Active":"n"===n?"Inactive":""),l.a.createElement("p",{className:"traderemail"},c),l.a.createElement("p",{className:"traderrole"},o))});function q(){q=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new j(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return w()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=E(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,o,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new v(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(b),l(b,c,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var Q=function(e){var t=e.searchcode,a=e.setSelectedTrader,r=e.addNewTrader,o=e.updateList,i=e.setShowedit,s=e.setShowadd,u=Object(c.useState)([]),m=Object(n.a)(u,2),d=m[0],f=m[1];Object(c.useEffect)(Object(P.a)(q().mark(function e(){return q().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(t).then(function(e){f(e.data)});case 2:case"end":return e.stop()}},e)})),[o]);var h=function(e){a(d.find(function(t){return t.tCode===e})),i(!0),s(!1)};return l.a.createElement("div",{className:"traderlistresults"},l.a.createElement(B,{tName:"Add New",findtrader:r}),d.map(function(e){return l.a.createElement(B,{tName:e.tName,tLastName:e.tLastName,active:e.active,role:e.role,email:e.userName,tCode:e.tCode,findtrader:h,key:"trad"+e.traderID})}))},$=function(e){var t=e.companyName,a=e.companyCode,r=e.country,n=e.findCustomer,o=e.city,c=e.street;e.website;return l.a.createElement("div",{className:"customercard",onClick:function(){return n(a)}},l.a.createElement("div",{className:"customercardtopline"},l.a.createElement("h4",null,a," "),l.a.createElement("p",{className:"customercountry"}," ",r)),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"Name:"),l.a.createElement("p",{className:"addressfield"},t)),l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"Street:"),l.a.createElement("p",{className:"addressfield"},c)),l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"City:"),l.a.createElement("p",{className:"addressfield"},o))))};function A(){A=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new j(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return w()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=E(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,o,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new v(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(b),l(b,c,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var G=function(e){var t=e.searchcode,a=e.updateList,r=e.setShowaddcustomer,o=e.setShoweditcustomer,i=e.setSelectedcustomer,s=e.addNewCustomer,u=Object(c.useState)([]),m=Object(n.a)(u,2),d=m[0],f=m[1],h=Object(c.useState)([]),g=Object(n.a)(h,2),b=g[0],y=g[1],v=Object(c.useState)(),E=Object(n.a)(v,2),O=E[0],N=E[1];Object(c.useEffect)(Object(P.a)(A().mark(function e(){return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(t).then(function(e){f(e.data),y(e.data)});case 2:case"end":return e.stop()}},e)})),[a]);Object(c.useEffect)(function(){if(d)if(O&&""!==O){var e=d.filter(function(e){if(O&&""!==O)return e.companyName.toLowerCase().includes(O.toLowerCase())||e.companyCode.toLowerCase().includes(O.toLowerCase())||e.country.toLowerCase().includes(O.toLowerCase())});y(e)}else y(d)},[O]);var j=function(e){i(b.find(function(t){return t.companyCode===e})),o(!0),r(!1)};return l.a.createElement("div",null,l.a.createElement("input",{className:"adminsearchbar",placeholder:"...Search",onChange:function(e){N(e.target.value)}}),l.a.createElement("div",{className:"customerlistresults"},l.a.createElement($,{companyCode:"Add New",findCustomer:s}),b.map(function(e){return l.a.createElement($,{companyName:e.companyName,companyCode:e.companyCode,country:e.country,street:e.streetAddress,city:e.city,website:e.website,key:"cust"+e.customerID,findCustomer:j})})))},_=function(e){var t=e.companyName,a=e.companyCode,r=e.country,n=e.findProducer,o=e.city,c=e.street;e.website;return l.a.createElement("div",{className:"customercard",onClick:function(){return n(a)}},l.a.createElement("div",{className:"customercardtopline"},l.a.createElement("h4",null,a," "),l.a.createElement("p",{className:"producercountry"}," ",r)),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"Name:"),l.a.createElement("p",{className:"addressfield"},t)),l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"Street:"),l.a.createElement("p",{className:"addressfield"},c)),l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"City:"),l.a.createElement("p",{className:"addressfield"},o))))};function K(){K=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new j(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return w()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=E(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,o,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new v(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(b),l(b,c,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var V=function(e){var t=e.searchcode,a=e.updateList,r=e.setShowaddproducer,o=e.setShoweditproducer,i=e.setSelectedproducer,s=e.addNewProducer,u=Object(c.useState)([]),m=Object(n.a)(u,2),d=m[0],f=m[1],h=Object(c.useState)([]),g=Object(n.a)(h,2),b=g[0],y=g[1],v=Object(c.useState)(),E=Object(n.a)(v,2),O=E[0],N=E[1];Object(c.useEffect)(Object(P.a)(K().mark(function e(){return K().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(t).then(function(e){f(e.data),y(e.data)});case 2:case"end":return e.stop()}},e)})),[a]);Object(c.useEffect)(function(){if(d)if(O&&""!==O){var e=d.filter(function(e){if(O&&""!==O)return e.companyName.toLowerCase().includes(O.toLowerCase())||e.companyCode.toLowerCase().includes(O.toLowerCase())||e.country.toLowerCase().includes(O.toLowerCase())});y(e)}else y(d)},[O]);var j=function(e){i(b.find(function(t){return t.companyCode===e})),o(!0),r(!1)};return l.a.createElement("div",null,l.a.createElement("input",{className:"adminsearchbar",placeholder:"...Search",onChange:function(e){N(e.target.value)}}),l.a.createElement("div",{className:"customerlistresults"},l.a.createElement(_,{companyCode:"Add New",findProducer:s}),b.map(function(e){return l.a.createElement(_,{companyName:e.companyName,companyCode:e.companyCode,country:e.country,street:e.streetAddress,city:e.city,website:e.website,key:"prod"+e.producerID,findProducer:j})})))},Y=function(e){var t=e.group,a=e.data,r=e.handleProductClick,n=e.handleProdGroupClick;return l.a.createElement("div",{className:"prodgroupcard"},l.a.createElement("h4",{onClick:function(e){e.preventDefault(),n(t)}},t),Object.entries(a).map(function(e,t){return[l.a.createElement("p",{className:"productlink",onClick:function(e){e.preventDefault(),r(Object.keys(a)[t])}},Object.keys(a)[t])]}))};function M(){M=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new j(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return w()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=E(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,o,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new v(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(b),l(b,c,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var R=function(e){var t=e.searchcode,a=e.handleProductClick,r=e.addNewProdGroup,o=e.addNewProdCatName,i=e.updateList,s=e.updateList2,u=e.handleProdGroupClick,m=Object(c.useState)([]),d=Object(n.a)(m,2),f=(d[0],d[1]);Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var h=Object(c.useState)({}),g=Object(n.a)(h,2),b=g[0],y=g[1],v="",E={};return Object(c.useEffect)(Object(P.a)(M().mark(function e(){return M().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(t).then(function(e){f(e.data);var t=e.data.groupBy("productGroup");y(t),console.log("called this too")});case 2:case"end":return e.stop()}},e)})),[i,s]),l.a.createElement("div",{className:"prodgroupcards"},Object.entries(b).map(function(e,t){return v=Object.keys(b)[t],E=b[v].groupBy("prodCatName"),[l.a.createElement(Y,{group:v,data:E,handleProductClick:a,handleProdGroupClick:u})]}),l.a.createElement("div",{className:"prodgroupcard prodaddcard"},l.a.createElement("p",{onClick:r},"+ Add New Group"),l.a.createElement("p",{onClick:o},"+ Add New ProdCatName")))};function W(){W=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new j(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return w()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=E(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,o,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new v(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(b),l(b,c,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var U=function(e){var t=e.selectedgprods,a=e.selectedprodgroup,r=e.handleProdNameClick,o=e.updateList,i=Object(c.useState)(),s=Object(n.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(),f=Object(n.a)(d,2),h=f[0],g=f[1],b=Object(c.useState)(),y=Object(n.a)(b,2),v=y[0],E=y[1],O=Object(c.useState)(),N=Object(n.a)(O,2),j=N[0],x=N[1];Object(c.useEffect)(function(){p.a.post("/selectgroupedprods",{selectedprod:a}).then(function(e){m(e.data)})},[o,t]),Object(c.useEffect)(Object(P.a)(W().mark(function e(){return W().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:h&&console.log(h);case 1:case"end":return e.stop()}},e)})),[h,o,t]);return l.a.createElement("div",{className:"selectedprods"},l.a.createElement("div",{className:"selectedprodgroup"},l.a.createElement("h4",null,a),u?u.map(function(e){return l.a.createElement("p",{name:e.prodNameID,className:"prodnameadmin",onClick:function(t){var a;t.preventDefault(),g(e.prodNameID),E(e.abbreviation),r(e.prodNameID),a=e.prodNameID,p.a.post("/selectproducts",{prodnameID:a}).then(function(e){x(e.data)})}},"PG: ",e.prodGroupID," - ",e.abbreviation)}):""),l.a.createElement("div",{className:"selectedproddetails"},v?[l.a.createElement("h4",null," ",v," "),l.a.createElement("h4",null," productID - supplier")]:"",j?j.map(function(e){return l.a.createElement("p",null,e.productID," - ",e.companyCode)}):""))},H=a(50);function z(){z=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new j(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return w()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=E(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,o,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new v(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(b),l(b,c,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var J=function(){var e=Object(c.useState)(!0),t=Object(n.a)(e,2),a=(t[0],t[1]),r=Object(c.useState)("/traderslist"),i=Object(n.a)(r,2),s=i[0],m=i[1],d=Object(c.useState)(),f=Object(n.a)(d,2),h=f[0],g=f[1],b=Object(c.useState)(),y=Object(n.a)(b,2),v=y[0],E=y[1],O=Object(c.useState)(),N=Object(n.a)(O,2),j=N[0],x=N[1],w=Object(c.useState)([]),S=Object(n.a)(w,2),C=S[0],D=S[1],k=Object(c.useState)(),F=Object(n.a)(k,2),I=F[0],L=F[1],T=Object(c.useState)(),B=Object(n.a)(T,2),q=B[0],$=B[1],A=Object(c.useState)(),_=Object(n.a)(A,2),K=_[0],Y=_[1],M=Object(c.useState)([]),W=Object(n.a)(M,2),J=W[0],Z=W[1],X=Object(c.useState)({role:"3"}),ee=Object(n.a)(X,2),te=ee[0],ae=ee[1],re=Object(c.useState)({}),ne=Object(n.a)(re,2),oe=ne[0],ce=ne[1],le=Object(c.useState)({}),ie=Object(n.a)(le,2),se=ie[0],ue=ie[1],me=Object(c.useState)(),pe=Object(n.a)(me,2),de=pe[0],fe=pe[1],he=Object(c.useState)(),ge=Object(n.a)(he,2),be=ge[0],ye=ge[1],ve=Object(c.useState)(),Ee=Object(n.a)(ve,2),Oe=Ee[0],Ne=Ee[1],je=Object(c.useState)(),xe=Object(n.a)(je,2),we=xe[0],Se=xe[1],Ce=Object(c.useState)(!0),De=Object(n.a)(Ce,2),ke=De[0],Fe=De[1],Ie=Object(c.useState)(!0),Le=Object(n.a)(Ie,2),Te=Le[0],Pe=Le[1],Be=Object(c.useState)(!0),qe=Object(n.a)(Be,2),Qe=qe[0],$e=qe[1],Ae=Object(c.useState)(!0),Ge=Object(n.a)(Ae,2),_e=Ge[0],Ke=Ge[1],Ve=Object(c.useState)(!0),Ye=Object(n.a)(Ve,2),Me=Ye[0],Re=Ye[1],We=Object(c.useState)(!1),Ue=Object(n.a)(We,2),He=Ue[0],ze=Ue[1],Je=Object(c.useState)(!1),Ze=Object(n.a)(Je,2),Xe=Ze[0],et=Ze[1],tt=Object(c.useState)(!1),at=Object(n.a)(tt,2),rt=at[0],nt=at[1],ot=Object(c.useState)(!1),ct=Object(n.a)(ot,2),lt=ct[0],it=ct[1],st=Object(c.useState)(!1),ut=Object(n.a)(st,2),mt=ut[0],pt=ut[1],dt=Object(c.useState)(!1),ft=Object(n.a)(dt,2),ht=ft[0],gt=ft[1],bt=Object(c.useState)(!1),yt=Object(n.a)(bt,2),vt=yt[0],Et=yt[1],Ot=Object(c.useState)(!1),Nt=Object(n.a)(Ot,2),jt=Nt[0],xt=Nt[1],wt=Object(c.useState)(!1),St=Object(n.a)(wt,2),Ct=St[0],Dt=St[1],kt=Object(c.useState)(!1),Ft=Object(n.a)(kt,2),It=Ft[0],Lt=Ft[1],Tt=Object(c.useState)(!1),Pt=Object(n.a)(Tt,2),Bt=Pt[0],qt=Pt[1],Qt=Xe?"editTrader displayblock":"displaynone",$t=He?"editTrader displayblock":"editTrader displaynone",At=rt?"editCustomer displayblock":"editCustomer displaynone",Gt=lt?"editCustomer displayblock":"editCustomer displaynone",_t=mt?"editCustomer displayblock":"editCustomer displaynone",Kt=ht?"editCustomer displayblock":"editCustomer displaynone",Vt=vt?"editProdGroup displayblock":"displaynone",Yt=jt?"editProdGroup displayblock":"displaynone",Mt=It?"editProdCatName displayblock":"displaynone",Rt=Ct?"editProdCatName displayblock":"displaynone",Wt=Bt?"editProdName displayblock":"displaynone",Ut=function(e){e.preventDefault(),m("/"+e.target.name),et(!1),ze(!1),nt(!1),it(!1),pt(!1),gt(!1),Et(!1),xt(!1),Lt(!1),Dt(!1),qt(!1)},Ht=function(e,t){e.preventDefault(),E(Object(o.a)({},v,Object(u.a)({},t,e.target.value)))},zt=function(e,t){e.preventDefault(),x(Object(o.a)({},j,Object(u.a)({},t,e.target.value)))},Jt=function(e,t){$(Object(o.a)({},q,Object(u.a)({},t,e.target.value)))},Zt=function(e,t){Z(Object(o.a)({},J,Object(u.a)({},t,e.target.value)))},Xt=Object(c.useState)([]),ea=Object(n.a)(Xt,2),ta=ea[0],aa=ea[1];Object(c.useEffect)(function(){p.a.post("/roles").then(function(e){aa(e.data)})},[]);var ra=function(){var e=Object(P.a)(z().mark(function e(t){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/updateprodname",{selectedprodname:J}).then(function(e){console.log(e.data.message),Re(!Me)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),na=function(e){e.preventDefault(),ae(Object(o.a)({},te,Object(u.a)({},e.target.name,e.target.value)))},oa={companyCode:"",companyName:"",country:"",city:"",streetAddress:"",website:""},ca={companyCode:"",companyName:"",country:"",city:"",streetAddress:"",website:""},la=function(e){e.preventDefault(),ce(Object(o.a)({},oe,Object(u.a)({},e.target.name,e.target.value)))},ia=function(e){e.preventDefault(),ue(Object(o.a)({},se,Object(u.a)({},e.target.name,e.target.value)))},sa=function(){var e=Object(P.a)(z().mark(function e(t){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/addNewCustomer",{newcustomer:oe}).then(function(e){Pe(!Te)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ua=function(){var e=Object(P.a)(z().mark(function e(t){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/addNewProducer",{newproducer:se}).then(function(e){$e(!Qe)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ma=function(){var e=Object(P.a)(z().mark(function e(t){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/addNewProdGroup",{newprodgroup:de}).then(function(e){Ke(!_e),fe("")});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),pa=function(){var e=Object(P.a)(z().mark(function e(t){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/addNewProdCatName",{newprodcatname:be}).then(function(e){Ke(!_e),ye("")});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"adminpage"},l.a.createElement("div",{className:"adminnav"},l.a.createElement("button",{name:"traderslist",onClick:Ut},"Traders"),l.a.createElement("button",{name:"customerlist",onClick:Ut},"Customers"),l.a.createElement("button",{name:"producerlist",onClick:Ut},"Producers"),l.a.createElement("button",{name:"prodnameslist",onClick:Ut},"Products")),l.a.createElement("div",{className:"adminresults"},"/traderslist"===s?l.a.createElement(Q,{searchcode:"/traderslist",setSelectedTrader:g,setShowedit:ze,setShowadd:et,addNewTrader:function(){ze(!1),et(!0)},updateList:ke}):"","/customerlist"===s?l.a.createElement(G,{searchcode:"/customerlist",updateList:Te,setShowaddcustomer:nt,setShoweditcustomer:it,setSelectedcustomer:E,addNewCustomer:function(){it(!1),nt(!0)}}):"","/producerlist"===s?l.a.createElement(V,{searchcode:"/producerlist",updateList:Qe,setShowaddproducer:pt,setShoweditproducer:gt,setSelectedproducer:x,addNewProducer:function(){gt(!1),pt(!0)}}):"","/prodnameslist"===s?[l.a.createElement(R,{searchcode:"/prodnameslist",handleProductClick:function(e){L(e),Lt(!0),Dt(!1),xt(!1),Et(!1),qt(!1),p.a.post("/selectedprodcatname",{prodcatname:e}).then(function(e){Y(e.data[0])}),p.a.post("/selectgroupedprods",{selectedprod:e}).then(function(e){console.log(e),D(e.data)})},addNewProdGroup:function(){Et(!0),xt(!1),Lt(!1),Dt(!1)},addNewProdCatName:function(){Et(!1),xt(!1),Lt(!1),Dt(!0)},updateList:_e,updateList2:Me,handleProdGroupClick:function(e){xt(!0),Et(!1),Lt(!1),Dt(!1),p.a.post("/selectprodgroup",{productGroup:e}).then(function(e){$(e.data[0]),Re(!Me),qt(!1)})}}),l.a.createElement(U,{selectedgprods:C,selectedprodgroup:I,handleProdNameClick:function(e){xt(!1),Et(!1),Lt(!1),Dt(!1),qt(!0),p.a.post("/selectprodname",{prodnameID:e}).then(function(e){Z(e.data[0])})},updateList:Me})]:""),l.a.createElement("div",{className:"adminedit"},l.a.createElement("form",{className:Qt,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/addNewTrader",{newtrader:te}).then(function(e){console.log(e)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add Item"),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"traderID:"),l.a.createElement("input",{placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"tCode:"),l.a.createElement("input",{placeholder:"...Three Letter Code (in CAPS)",name:"tCode",onChange:na,required:!0})),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"tName:"),l.a.createElement("input",{placeholder:"...Trader Name",name:"tName",onChange:na,required:!0})),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"tLastName:"),l.a.createElement("input",{placeholder:"...Trader Last Name",name:"tLastName",onChange:na,required:!0})),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"userName:"),l.a.createElement("input",{placeholder:"...Email (weGrow)",name:"userName",onChange:na,required:!0})),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"Active:"),l.a.createElement("input",{name:"active",className:"activeradio",type:"radio",onClick:function(e){return ae(Object(o.a)({},te,{active:"y"}))},required:!0}),l.a.createElement("label",{htmlFor:""},"Yes"),l.a.createElement("input",{name:"active",className:"activeradio",type:"radio",onClick:function(e){return ae(Object(o.a)({},te,{active:"n"}))},required:!0}),l.a.createElement("label",{htmlFor:""},"No")),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"Role:"),l.a.createElement("select",{onChange:function(e){return ae(Object(o.a)({},te,{role:e.target.value}))},required:!0},ta?ta.map(function(e,t){return"sales"===e.role?l.a.createElement("option",{selected:!0,value:t+1},e.role):l.a.createElement("option",{value:t+1},e.role)}):"")),l.a.createElement("button",{type:"submit"},"Add New Trader"))),l.a.createElement("form",{className:$t,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/updatetrader",{selectedtrader:h}).then(function(e){Fe(!ke)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Trader Info"),h?Object.keys(h).map(function(e,t){return"traderID"===e?l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:h[e],readOnly:!0})):"active"===e?l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{name:"active",className:"activeradio",type:"radio",checked:"y"===h[e],onClick:function(t){return g(Object(o.a)({},h,Object(u.a)({},e,"y")))}}),l.a.createElement("label",{htmlFor:""},"Yes"),l.a.createElement("input",{name:"active",className:"activeradio",type:"radio",checked:"n"===h[e],onClick:function(t){return g(Object(o.a)({},h,Object(u.a)({},e,"n")))}}),l.a.createElement("label",{htmlFor:""},"No")):"role"===e?l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("select",{onChange:function(t){return g(Object(o.a)({},h,Object(u.a)({},e,t.target.value)))}},ta?ta.map(function(t,a){return t.role===h[e]?l.a.createElement("option",{selected:!0,value:a+1},t.role):l.a.createElement("option",{value:a+1},t.role)}):"")):l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:h[e],onChange:function(t){return function(e,t){e.preventDefault(),g(Object(o.a)({},h,Object(u.a)({},t,e.target.value)))}(t,e)}}))}):"",l.a.createElement("button",{type:"submit"},"Save Edits"))),l.a.createElement("form",{className:Gt,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/updatecustomer",{selectedcustomer:v}).then(function(e){Pe(!Te)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Customer Info"),v?Object.keys(v).map(function(e,t){return"customerID"===e?l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:v[e],readOnly:!0})):"companyName"===e||"streetAddress"===e?l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("textarea",{value:v[e],onChange:function(t){return Ht(t,e)},required:!0})):l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:v[e],onChange:function(t){return Ht(t,e)},required:!0}))}):"",l.a.createElement("button",{type:"submit"},"Save Edits"))),l.a.createElement("form",{className:At,onSubmit:function(e){sa(e),ce(oa)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add New Customer"),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"customerID:"),l.a.createElement("input",{placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyCode:"),l.a.createElement("input",{placeholder:"...short company name",name:"companyCode",onChange:la,value:oe.companyCode,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyName:"),l.a.createElement("textarea",{placeholder:"...full company name",name:"companyName",onChange:la,value:oe.companyName,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"country:"),l.a.createElement("input",{placeholder:"...country",name:"country",onChange:la,value:oe.country,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"city:"),l.a.createElement("input",{placeholder:"...city",name:"city",onChange:la,value:oe.city,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"streetAddress:"),l.a.createElement("textarea",{placeholder:"...street address",name:"streetAddress",onChange:la,value:oe.streetAddress,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"website:"),l.a.createElement("input",{placeholder:"...website",name:"website",onChange:la,value:oe.website,required:!0})),l.a.createElement("button",{type:"submit"},"Add New Customer"))),l.a.createElement("form",{className:Gt,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/deleteCustomer",{selectedcustomer:v}).then(function(e){console.log(e),Pe(!Te),Ne("")})}(e),it(!1)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Delete Customer"),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyCode:"),v?l.a.createElement("input",{value:v.companyCode,onChange:la,readOnly:!0}):""),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"reType:"),l.a.createElement("input",{value:Oe,placeholder:"retype company name to delete",onChange:function(e){e.preventDefault(),Ne(e.target.value)}})),v&&v.companyCode===Oe?l.a.createElement("button",{type:"submit"},"Delete Customer"):"")),l.a.createElement("form",{className:Kt,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/updateproducer",{selectedproducer:j}).then(function(e){$e(!Qe)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Producer Info"),j?Object.keys(j).map(function(e,t){return"producerID"===e?l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:j[e],readOnly:!0})):"companyName"===e||"streetAddress"===e?l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("textarea",{value:j[e],onChange:function(t){return zt(t,e)},required:!0})):l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:j[e],onChange:function(t){return zt(t,e)},required:!0}))}):"",l.a.createElement("button",{type:"submit"},"Save Edits"))),l.a.createElement("form",{className:_t,onSubmit:function(e){ua(e),ue(ca)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add New Producer"),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"producerID:"),l.a.createElement("input",{placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyCode:"),l.a.createElement("input",{placeholder:"...short company name",name:"companyCode",onChange:ia,value:se.companyCode,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyName:"),l.a.createElement("textarea",{placeholder:"...full company name",name:"companyName",onChange:ia,value:se.companyName,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"country:"),l.a.createElement("input",{placeholder:"...country",name:"country",onChange:ia,value:se.country,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"city:"),l.a.createElement("input",{placeholder:"...city",name:"city",onChange:ia,value:se.city,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"streetAddress:"),l.a.createElement("textarea",{placeholder:"...street address",name:"streetAddress",onChange:ia,value:se.streetAddress,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"website:"),l.a.createElement("input",{placeholder:"...website",name:"website",onChange:ia,value:se.website,required:!0})),l.a.createElement("button",{type:"submit"},"Add New Producer"))),l.a.createElement("form",{className:Kt,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/deleteProducer",{selectedproducer:j}).then(function(e){console.log(e),$e(!Qe),Se("")})}(e),gt(!1)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Delete Producer"),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyCode:"),j?l.a.createElement("input",{value:j.companyCode,onChange:ia,readOnly:!0}):""),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"reType:"),l.a.createElement("input",{value:we,placeholder:"retype company name to delete",onChange:function(e){e.preventDefault(),Se(e.target.value)}})),j&&j.companyCode===we?l.a.createElement("button",{type:"submit"},"Delete Producer"):"")),l.a.createElement("form",{className:Yt,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/updateprodgroup",{selectedprodgroup1:q}).then(function(e){Ke(!_e)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Product Group"),l.a.createElement("div",{className:"editprodgroup-form-group"},l.a.createElement("label",null,"prodGroupID:"),l.a.createElement("input",{readOnly:!0,type:"text",onChange:function(e){e.preventDefault(),Jt(e,"prodGroupID")},value:q?q.prodGroupID:""})),l.a.createElement("div",{className:"editprodgroup-form-group"},l.a.createElement("label",null,"productGroup:"),l.a.createElement("input",{value:q?q.productGroup:"",onChange:function(e){e.preventDefault(),Jt(e,"productGroup")},type:"text"})),l.a.createElement("button",{type:"submit"},"Save Edits"))),l.a.createElement("form",{className:Vt,onSubmit:function(e){ma(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add New Product Group:"),l.a.createElement("div",{className:"editprodgroup-form-group"},l.a.createElement("label",null,"prodGroupID:"),l.a.createElement("input",{type:"text",placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"editprodgroup-form-group"},l.a.createElement("label",null,"productGroup:"),l.a.createElement("input",{name:"productGroup",type:"text",placeholder:"...New Prod Group Name",value:de?de.productGroup:"",onChange:function(e){e.preventDefault(),fe(Object(o.a)({},de,Object(u.a)({},e.target.name,e.target.value)))},required:!0})),l.a.createElement("button",{type:"submit"},"Add New Product Group"))),l.a.createElement("form",{className:Mt,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/updateprodcatname",{selectedprodcatname:K}).then(function(e){Ke(!_e)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Product Category Name:"),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodCatNameID:"),l.a.createElement("input",{value:K?K.prodCatNameID:"",readOnly:!0})),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodCatName:"),l.a.createElement("input",{value:K?K.prodCatName:"",onChange:function(e){e.preventDefault(),function(e,t){Y(Object(o.a)({},K,Object(u.a)({},t,e.target.value)))}(e,"prodCatName")}})),l.a.createElement("button",{type:"submit"},"Save Edits"))),l.a.createElement("form",{className:Rt,onSubmit:function(e){pa(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add New ProdCatName: "),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodCatNameID:"),l.a.createElement("input",{placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodCatName:"),l.a.createElement("input",{name:"prodCatName",placeholder:"...Type New Product Category Name",onChange:function(e){e.preventDefault(),ye(Object(o.a)({},be,Object(u.a)({},e.target.name,e.target.value)))},value:be?be.prodCatName:""})),l.a.createElement("button",{type:"submit"},"Add New Prod Cat Name"))),l.a.createElement("form",{className:Wt,onSubmit:function(e){ra(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Product Name: "),l.a.createElement("div",{className:"editprodname-form-group"},l.a.createElement("label",null,"prodNameID:"),l.a.createElement("input",{value:J.prodNameID,readOnly:!0})),l.a.createElement("div",{className:"editprodname-form-group"},l.a.createElement("label",null,"abbreviation:"),l.a.createElement("input",{value:J.abbreviation,required:!0,onChange:function(e){e.preventDefault(),Zt(e,"abbreviation")}})),l.a.createElement("div",{className:"editprodname-form-group"},l.a.createElement("label",null,"prodName:"),l.a.createElement("input",{value:J.prodName,required:!0,onChange:function(e){e.preventDefault(),Zt(e,"prodName")}})),l.a.createElement("div",{className:"editprodname-form-group"},l.a.createElement("label",null,"prodCatName:"),l.a.createElement("div",{className:"prodnamesearchv"},l.a.createElement(H.a,{searchURL:"/prodcatnameslist",searchName:"prodCatName",searchID:"prodCatNameID",setResetfield:a,value:J?J.prodCatName:"",setProdSupplier:function(e,t){Z(Object(o.a)({},J,{prodCatNameID:e,prodCatName:t}))}}))),l.a.createElement("div",{className:"editprodname-form-group"},l.a.createElement("label",null,"prodGroup:"),l.a.createElement("div",{className:"prodnamesearchv"},l.a.createElement(H.a,{searchURL:"/prodgroups",searchName:"productGroup",searchID:"prodGroupID",setResetfield:a,value:J?J.productGroup:"",setProdSupplier:function(e,t){Z(Object(o.a)({},J,{prodGroupID:e,productGroup:t}))}}))),l.a.createElement("button",{type:"submit"},"Edit Product Name Details")))))},Z=(a(592),a(601)),X=a(603),ee=function(){return l.a.createElement("div",{className:"analysiscontainer"},l.a.createElement("div",{className:"analysisnav"},l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/analysis/lyqsales",exact:!0},"Last Year Q Sales"),l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/analysis/actualvsbudget",exact:!0},"Actual vs. Budget")),l.a.createElement("div",{className:"gridcontainer analysisgridcontainer"},l.a.createElement(s.a,{path:"/analysis/lyqsales"},l.a.createElement(Z.a,null)),l.a.createElement(s.a,{path:"/analysis/actualvsbudget"},l.a.createElement(X.a,null))))},te=(a(642),a(605)),ae=a(607),re=a(71),ne=a(25),oe=(a(652),a(654),a(7)),ce=a.n(oe),le=a(30),ie=a(15),se=a(608),ue=function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),r=a[0],o=a[1];return Object(c.useEffect)(function(){var t=window.matchMedia(e);t.matches!==r&&o(t.matches);var a=function(){return o(t.matches)};return window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}},[r,e]),r},me=function(e){var t,a=e.operation,r=(e.selectedTraffic,e.setReloadops),i=e.reloadops,s=e.timeline,m=e.timelinelength,d=e.timeintervals,f=e.setToggleOpDetail,h=(e.toggleOpDetail,e.socket),g=ue("(max-width:1440px)"),b=Object(c.useContext)(re.a),y=b.updateScores,v=b.setUpdateScores,E=b.setOpToEdit,O=b.opToEdit,N=(b.opsWithNewNotes,b.setOpsWithNewNotes,b.opsWithNewNotes1),j=(b.setOpsWithNewNotes1,Object(c.useState)(ce()())),x=Object(n.a)(j,2),w=(x[0],x[1],Object(c.useState)(ce()().diff(ce()(a.end),"days"))),S=Object(n.a)(w,2),C=(S[0],S[1],Object(c.useState)(ce()().diff(ce()(a.start),"days"))),D=Object(n.a)(C,2),k=(D[0],D[1],Object(c.useState)(!1)),F=Object(n.a)(k,2),I=F[0],L=F[1],T=JSON.parse(localStorage.getItem("WGusercode")),P=JSON.parse(localStorage.getItem("WGuserID")),B=(t={SCCompleteBool:a.SCComplete,SCComplete:null!==a.SCComplete&&0!==a.SCComplete,PCCompleteBool:a.PCComplete,PCComplete:null!==a.PCComplete&&0!==a.PCComplete,bookingCompleteBool:a.bookingComplete,bookingComplete:null!==a.bookingComplete&&0!==a.bookingComplete,bookingnumber:a.bookingnumber,vesselName:a.vesselName,freightCompany:a.freightCompany,incoterms:a.incoterms,pincoterms:a.pincoterms},Object(u.a)(t,"incoterms",a.incoterms),Object(u.a)(t,"ETS",a.ETS?ce()(a.ETS).format("YYYY-MM-DD"):""),Object(u.a)(t,"ETA",a.ETA?ce()(a.ETA).format("YYYY-MM-DD"):""),t),q=Object(c.useState)(B),Q=Object(n.a)(q,2),$=Q[0],A=Q[1];function G(e){return null!=e&&"object"===typeof e}var _=function(e){L(!1),function e(t,a){var r=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(a);if(r.length!=n.length)return!1;for(var o=0;o<r.length;o++){var c=t[r[o]],l=a[r[o]],i=G(c)&&G(l);if(i&&!e(c,l)||!i&&c!==l)return!1}return!0}(B,$)||p.a.post("/saveopedits",{id:e,opedits:$}).then(function(e){console.log(e),r(!i),v(!y)})};return l.a.createElement("div",{className:"operation"},!1===I?l.a.createElement(le.a,{icon:se.a,className:"opeditbutton",onClick:function(e){L(!0)}}):l.a.createElement("div",{className:"editbuttons"},l.a.createElement("button",{className:"opsavebutton",onClick:function(e){_(a.QSID)}},"Save"),l.a.createElement("button",{className:"opsavebutton opcancelbutton",onClick:function(e){L(!1)}},"Cancel")),l.a.createElement("p",{className:"optrader"},a.trader),l.a.createElement("p",{className:"optraffic"},a.traffic),l.a.createElement("div",{onClick:function(e){var t;f(!0),E(a.QSID),t=a.QSID,h.emit("leaveroom",O),""!==T&&""!==t&&h.emit("joinroom",t);var r=N.findIndex(function(e){return e.QSID===a.QSID});-1!==r&&(N[r].unreadusers===P+T?(N.splice(r,1),p.a.post("/removeQSfromNewmsglist",{QSID:a.QSID})):N[r].unreadusers.includes(P+T)&&(N[r].unreadusers=N[r].unreadusers.replace(P+T,""),p.a.post("/removeUnreaduser",{QSID:a.QSID,unreadusers:N[r].unreadusers})))},className:"opleftlabel"},l.a.createElement("h2",null,a.customer),l.a.createElement("h3",null,a.abbreviation),l.a.createElement("h4",null,a.quantity.toFixed(3)," mt"),l.a.createElement("div",{className:"opleftlabelbottom"},l.a.createElement("p",null,a.supplier),1===a.shipmentTypeID?l.a.createElement(le.a,{className:"fa-2x",icon:ie.o}):2===a.shipmentTypeID?l.a.createElement(le.a,{className:"fa-2x",icon:ie.k}):3===a.shipmentTypeID?l.a.createElement(le.a,{className:"fa-2x",icon:ie.p}):""),N&&N.filter(function(e){return e.QSID==a.QSID})[0]&&N.filter(function(e){return e.QSID==a.QSID})[0].unreadusers.includes(P+T)?l.a.createElement("div",{className:"iconopwithmsg-wrapper"},l.a.createElement(le.a,{className:"iconopwithmsg",icon:ie.e})):""),l.a.createElement("div",{className:"opnumberlabel"},l.a.createElement("p",null,"WGS: ",a.KTS),l.a.createElement("p",null,"WGP: ",a.KTP),l.a.createElement("p",null,"QSID: ",a.QSID)),l.a.createElement("div",{className:"opprogress"},l.a.createElement("div",{className:"oporigindestination"},l.a.createElement("ul",null,l.a.createElement("li",null,a.portOfLoad),l.a.createElement("li",null,a.portOfDestination))),l.a.createElement("div",{className:"optimeline"},s?s.map(function(e,t){var a=g?200:300;return l.a.createElement("div",{className:"tlfsegment"},l.a.createElement("div",null,e.Detail),l.a.createElement("div",{style:{width:a*d[t]/m,minWidth:38},className:"Now"===e.Detail?"tlsegment tlnow":"tlsegment"},ce()(e.Date).format("MMM DD")))}):"")),l.a.createElement("div",{className:"opchecklistsnapshot"},l.a.createElement("div",{className:"opchecklist"},l.a.createElement("div",{className:"checklistitem"},!1===I?1===a.SCComplete?l.a.createElement(le.a,{icon:ie.b,className:"opgreencheck"}):l.a.createElement(le.a,{icon:ie.i}):l.a.createElement("input",{type:"checkbox",checked:null===$.SCComplete?1===a.SCComplete:$.SCComplete,onClick:function(e){null!==$.SCComplete?A(Object(o.a)({},$,{SCComplete:!$.SCComplete,SCCompleteBool:!0===$.SCComplete?0:1})):1===a.SCComplete?A(Object(o.a)({},$,{SCComplete:!1,SCCompleteBool:0})):0!==a.SCComplete&&null!=a.SCComplete||A(Object(o.a)({},$,{SCComplete:!0,SCCompleteBool:1}))}}),l.a.createElement("p",{className:"opcontract"},"Sales Contract")),l.a.createElement("div",{className:"checklistitem"},!1===I?1===a.PCComplete?l.a.createElement(le.a,{icon:ie.b,className:"opgreencheck"}):l.a.createElement(le.a,{icon:ie.i}):l.a.createElement("input",{type:"checkbox",checked:null===$.PCComplete?1===a.PCComplete:$.PCComplete,onClick:function(e){null!==$.PCComplete?A(Object(o.a)({},$,{PCComplete:!$.PCComplete,PCCompleteBool:!0===$.PCComplete?0:1})):1===a.PCComplete?A(Object(o.a)({},$,{PCComplete:!1,PCCompleteBool:0})):0!==a.PCComplete&&null!=a.PCComplete||A(Object(o.a)({},$,{PCComplete:!0,PCCompleteBool:1}))}}),l.a.createElement("p",{className:"opcontract"},"Purchase Contract")),l.a.createElement("p",{style:{marginTop:"1rem"}},"INCOTERMS"),l.a.createElement("div",{className:"checklistitem incoitem"},l.a.createElement("p",null,"Purchase: "),!0===I?l.a.createElement("input",{className:"opincoterms",type:"text",value:$.pincoterms,onChange:function(e){return A(Object(o.a)({},$,{pincoterms:e.target.value}))}}):l.a.createElement("p",null,a.pincoterms)),l.a.createElement("div",{className:"checklistitem incoitem"},l.a.createElement("p",null,"Sales: "),!0===I?l.a.createElement("input",{className:"opincoterms",type:"text",value:$.incoterms,onChange:function(e){return A(Object(o.a)({},$,{incoterms:e.target.value}))}}):l.a.createElement("p",null,a.incoterms))),l.a.createElement("div",{className:"opchecklist"},l.a.createElement("div",{className:"checklistitem"},!1===I?1===a.bookingComplete?l.a.createElement(le.a,{icon:ie.b,className:"opgreencheck"}):l.a.createElement(le.a,{icon:ie.i}):l.a.createElement("input",{type:"checkbox",checked:null===$.bookingComplete?1===a.bookingComplete:$.bookingComplete,onClick:function(e){null!==$.bookingComplete?A(Object(o.a)({},$,{bookingComplete:!$.bookingComplete,bookingCompleteBool:!0===$.bookingComplete?0:1})):1===a.bookingComplete?A(Object(o.a)({},$,{bookingComplete:!1,bookingCompleteBool:0})):0!==a.bookingComplete&&null!=a.bookingComplete||A(Object(o.a)({},$,{bookingComplete:!0,bookingCompleteBool:1}))}}),l.a.createElement("p",null,"Booking")),!0===I&&!0===$.bookingComplete?l.a.createElement("div",{className:"bookinginputs"}," ",l.a.createElement("input",{type:"text",className:"bookinginfo",placeholder:"booking#",value:$.bookingnumber,onChange:function(e){return A(Object(o.a)({},$,{bookingnumber:e.target.value}))}}),l.a.createElement("input",{type:"text",className:"bookinginfo",placeholder:"vesselName",value:$.vesselName,onChange:function(e){return A(Object(o.a)({},$,{vesselName:e.target.value}))}}),l.a.createElement("input",{type:"text",className:"bookinginfo",placeholder:"freightCompany",value:$.freightCompany,onChange:function(e){return A(Object(o.a)({},$,{freightCompany:e.target.value}))}})):l.a.createElement(l.a.Fragment,null," ",l.a.createElement("p",{className:"setbookinginfo"},a.bookingnumber),l.a.createElement("p",{className:"setbookinginfo"},a.vesselName),l.a.createElement("p",{className:"setbookinginfo"},a.freightCompany)),l.a.createElement("div",{className:"opETDETA"},l.a.createElement("div",{className:!1===I?"checklistitem opETDETAitem":"checklistitem opETDETAitem1"},l.a.createElement("p",null,"ETD: "),!0===I&&!0===$.bookingComplete?l.a.createElement("input",{type:"date",value:$.ETS,className:"bookingdateinfo",onChange:function(e){A(Object(o.a)({},$,{ETS:e.target.value}))}}):l.a.createElement("p",null,a.ETS?ce()(a.ETS).format("MMM DD"):"")),l.a.createElement("div",{className:!1===I?"checklistitem opETDETAitem":"checklistitem opETDETAitem1"},l.a.createElement("p",null,"ETA: "),!0===I&&!0===$.bookingComplete?l.a.createElement("input",{type:"date",value:$.ETA,className:"bookingdateinfo",onChange:function(e){A(Object(o.a)({},$,{ETA:e.target.value}))}}):l.a.createElement("p",null,a.ETA?ce()(a.ETA).format("MMM DD"):"")))),l.a.createElement("div",{className:"opchecklist"},l.a.createElement("div",{className:"checklistitem"},"Insurance"),l.a.createElement("div",{className:"checklistitem"},"Inspection"))))},pe=a(86);a(656);function de(){de=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new j(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return w()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=E(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,o,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new v(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(b),l(b,c,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var fe=function(e){e.reloadnotes,e.setReloadnotes;var t=e.socket,a=Object(c.useContext)(re.a),r=a.opToEdit,o=a.opNotes,i=a.setOpNotes,s=a.activeusers,u=a.opsWithNewNotes1,m=a.setOpsWithNewNotes1,d=JSON.parse(localStorage.getItem("WGusercode")),f=JSON.parse(localStorage.getItem("WGuserID")),h=Object(c.useState)(ce()().format("YYYY-MM-DD")),g=Object(n.a)(h,2),b=(g[0],g[1],Object(c.useState)("")),y=Object(n.a)(b,2),v=y[0],E=y[1],O=Object(c.useState)(),N=Object(n.a)(O,2);N[0],N[1];Object(c.useEffect)(function(){t.on("receivemsg",function(e){console.log(e),i(function(t){return[].concat(Object(ne.a)(t),[e])})})},[t]);var j=function(e){var a=s.replace(f+d,"");if(""!==v&&""!==d){var r={QSID:e,opnote:v,opNoteDate:ce()().format("YYYY-MM-DD HH:mm"),userCode:d,unreadusers:a};p.a.post("/savenewnote",{QSID:e,opNote:v,opNoteDate:ce()().format("YYYY-MM-DD HH:mm"),userCode:d}).then(function(){var e=Object(P.a)(de().mark(function e(a){return de().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.emit("sendmsg",r);case 2:i([].concat(Object(ne.a)(o),[r]));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var n=u.findIndex(function(t){return t.QSID===e});-1===n&&p.a.post("/addQStonewmsglist",{QSID:e,user:d,activeusers:a}).then(m(function(t){return[].concat(Object(ne.a)(t),[{QSID:e,user:d,unreadusers:a}])})),-1!==n&&u[n].unreadusers!==a&&p.a.post("/resetunreadusers",{QSID:e,unreadusers:a}).then(u[n].unreadusers=a)}E("")},x=Object(c.useRef)(null);return Object(c.useEffect)(function(){x.current&&x.current.scrollIntoView({behavior:"smooth"})},[o]),l.a.createElement("div",{className:"operationNotes"},l.a.createElement("div",{className:"opnotes"},o?o.map(function(e,t){if(e.opnote)return l.a.createElement("div",{className:e.userCode===d?"opnotegroup":"opnotegroup otherusermsg"},t===o.length-1?l.a.createElement("p",{ref:x,className:"opnote"},e.opnote):l.a.createElement("p",{className:"opnote"},e.opnote),l.a.createElement("div",{className:"opnotemetadata"},l.a.createElement("p",null,ce()(e.opnotedate).format("MMM DD - HH:mm")),l.a.createElement("p",null,e.userCode)))}):o?l.a.createElement("p",null,o.message):""),l.a.createElement("div",{className:"opnoteinputs"},l.a.createElement("textarea",{value:v,onChange:function(e){return E(e.target.value)},type:"text",placeholder:"type new note",className:"opnoteinput",onKeyDown:function(e){"Enter"===e.key&&j(r)}}),l.a.createElement("button",{className:"opnotepost",onClick:function(e){return j(r)}},"Post")))};a(658),a(660);var he=function(e){var t=e.opToEditFull,a=e.setOpToEditFull,r=e.socket,i=Object(c.useContext)(re.a),s=(i.opToEdit,i.setOpToEdit,i.opNotes,i.setOpNotes,Object(c.useState)(!1)),u=Object(n.a)(s,2),m=u[0],p=u[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"opDetailHeader"},t?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"opDetailQSID"},l.a.createElement("h2",null,"QSID:"),l.a.createElement("h2",null,t.QSID)),l.a.createElement("div",{className:"opDetailMainInfo"},l.a.createElement("div",{className:"opDetailMIItem"},l.a.createElement("h3",null,"Product:")," ",l.a.createElement("h3",null,t.abbreviation)),l.a.createElement("div",{className:"opDetailMIItem"},l.a.createElement("h3",null,"Quantity:")," ",l.a.createElement("h3",null,t.quantity)))):""),l.a.createElement("div",{className:"operationDetail"},l.a.createElement("div",{className:"opDetailSupplyside"},t?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"opDetailItem"},l.a.createElement("p",null,"WGP:"),l.a.createElement("input",{type:"text",value:t.KTP,onChange:function(e){a(Object(o.a)({},t,{KTP:e.target.value}))}})),l.a.createElement("div",{className:"opDetailItem"},l.a.createElement("p",null,"Supplier:"),l.a.createElement("p",{className:"opDItext"},t.supplier))):""),l.a.createElement("div",{className:"opDetailDemandside"},t?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"opDetailItem"},l.a.createElement("p",null,"WGS:"),l.a.createElement("input",{type:"text",value:t.KTS,onChange:function(e){a(Object(o.a)({},t,{KTS:e.target.value}))}})),l.a.createElement("div",{className:"opDetailItem"},l.a.createElement("p",null,"Customer:"),l.a.createElement("p",{className:"opDItext"},t.customer))):""),l.a.createElement(fe,{reloadnotes:m,setReloadnotes:p,socket:r})))};function ge(){ge=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new j(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return w()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=E(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,o,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new v(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(b),l(b,c,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var be=a(610).a.connect("https://www.wgappdev.com"),ye=function(){var e=Object(c.useContext)(re.a),t=e.opToEdit,a=(e.opNotes,e.setOpNotes,e.activeusers,e.opsWithNewNotes1,e.setOpsWithNewNotes1),r=JSON.parse(localStorage.getItem("role")),o=JSON.parse(localStorage.getItem("WGusercode")),i=JSON.parse(localStorage.getItem("WGuserID")),s=Object(c.useState)(),u=Object(n.a)(s,2),m=u[0],d=u[1],f=Object(c.useState)(),h=Object(n.a)(f,2),g=h[0],b=h[1],y=Object(c.useState)(),v=Object(n.a)(y,2),E=v[0],O=v[1],N=Object(c.useState)(!1),j=Object(n.a)(N,2),x=j[0],w=j[1],S=Object(c.useState)(),C=Object(n.a)(S,2),D=C[0],k=C[1],F=Object(c.useState)(!1),I=Object(n.a)(F,2),L=I[0],T=I[1],B=Object(c.useState)(),q=Object(n.a)(B,2),Q=q[0],$=q[1],A=Object(c.useState)(!1),G=Object(n.a)(A,2),_=G[0],K=G[1],V=Object(c.useRef)(null);Object(c.useEffect)(function(){be.emit("joinmyoperations",123)},[]);Object(c.useEffect)(function(){be.on("receivemsg2",function(e){a(function(t){var a=t.findIndex(function(t){return t.QSID===e.QSID});if(-1!==a){var r=t;return r[a].unreadusers=e.unreadusers,r}if(-1===a)return[].concat(Object(ne.a)(t),[{user:e.user,QSID:e.QSID,unreadusers:e.unreadusers}])})})},[be]),Object(c.useEffect)(function(){if(!0===_){var e=V.current;pe.a.fromTo(e,{x:0},{x:"-120%",display:"block",duration:.2})}if(!1===_){var t=V.current;pe.a.fromTo(t,{x:"-120%"},{x:0,display:"none",duration:.2})}},[_]),Object(c.useEffect)(Object(P.a)(ge().mark(function e(){return ge().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:p.a.post("/trafficmgrs").then(function(e){if(d(e.data),4===r){b(JSON.parse(localStorage.getItem("WGusercode")));var t=e.data.findIndex(function(e){return e.traffic===JSON.parse(localStorage.getItem("WGusercode"))});O(e.data[t].trafficID)}else b(e.data[0].traffic),e.data.findIndex(function(t){return t.traffic===e.data[0].traffic})});case 1:case"end":return e.stop()}},e)})),[]),Object(c.useEffect)(function(){if(m&&g){var e=m.findIndex(function(e){return e.traffic===g});O(m[e].trafficID)}},[m,g]),Object(c.useEffect)(function(){E&&p.a.post("/getmyoperations",{selectedTrafficID:E}).then(function(e){k(e.data),J(e.data)})},[E,L]);var Y=Object(c.useState)(""),M=Object(n.a)(Y,2),R=M[0],W=M[1],U=Object(c.useState)(),H=Object(n.a)(U,2),z=H[0],J=H[1];Object(c.useEffect)(function(){if(D&&D.length>0){var e=D.filter(function(e){return e.customer.toLowerCase().includes(R.toLowerCase())||e.abbreviation.toLowerCase().includes(R.toLowerCase())||e.supplier.toLowerCase().includes(R.toLowerCase())||e.portOfDestination.toLowerCase().includes(R.toLowerCase())||e.portOfLoad.toLowerCase().includes(R.toLowerCase())||e.QSID.toFixed().includes(R)||e.trader.toLowerCase().includes(R.toLowerCase())||e.traffic.toLowerCase().includes(R.toLowerCase())});J(e),console.log(e)}},[R]),Object(c.useEffect)(function(){p.a.post("/getfulloptoedit",{QSID:t}).then(function(e){$(e.data[0])})},[t]),Object(c.useEffect)(function(){function e(e){V.current&&!V.current.contains(e.target)&&K(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[V]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"opheader"},l.a.createElement("div",{ref:V,className:"operationdetail"},l.a.createElement(he,{opToEditFull:Q,setOpToEditFull:$,socket:be})),l.a.createElement("div",{className:"trafficbuttons"},m?m.map(function(e){return"na"!==e.traffic?l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:g===e.traffic&&!1===x?"activetrfbtn":"",value:e.traffic,onClick:function(e){w(!1),b(e.target.value),W("")}},e.traffic)):""}):""," ",1==r||2==r||3==r?l.a.createElement("button",{onClick:function(e){var t;w(!0),W(""),t=i,p.a.post("/gettraderoperations",{userID:t}).then(function(e){k(e.data),J(e.data)})},className:!0===x?"traderOpButtonActive":"traderOpButton"}," ",o):""),l.a.createElement("div",{className:"opsearchbar"},l.a.createElement("input",{type:"text",placeholder:"search",value:R,onChange:function(e){return W(e.target.value)}}),""!==R?l.a.createElement("button",{onClick:function(e){return W("")},className:"opsearchclearbtn"},"Clear"):"")),l.a.createElement("div",{className:"operations"},z&&z.length>0?z.map(function(e){var t=[{Date:ce()().format("YYYY-MM-DD"),Detail:"Now"}];null!==e.start&&t.push({Date:ce()(e.start).format("YYYY-MM-DD"),Detail:"From"}),null!==e.end&&t.push({Date:ce()(e.end).format("YYYY-MM-DD"),Detail:"To"}),null!==e.ETS&&t.push({Date:ce()(e.ETS).format("YYYY-MM-DD"),Detail:"ETD"}),null!==e.ETA&&t.push({Date:ce()(e.ETA).format("YYYY-MM-DD"),Detail:"ETA"}),t.sort(function(e,t){return ce()(e.Date)-ce()(t.Date)});var a=ce()(t.slice(-1)[0].Date).diff(t[0].Date,"days"),r=[];return t.forEach(function(e,a){a+1<t.length&&r.push(ce()(t[a+1].Date).diff(t[a].Date,"days"))}),r.push(0),l.a.createElement(me,{key:e.QSID,operation:e,selectedTraffic:g,setReloadops:T,reloadops:L,timeline:t,timelinelength:a,timeintervals:r,setToggleOpDetail:K,toggleOpDetail:_,socket:be})}):l.a.createElement("div",null,"No files assigned to this traffic manager at the moment.")))},ve=function(){var e=Object(c.useContext)(re.a).updateScores,t=Object(c.useState)(),a=Object(n.a)(t,2),r=a[0],o=a[1];return Object(c.useEffect)(function(){p.a.post("/tmcscores").then(function(e){o(e.data)})},[e]),l.a.createElement("div",{className:"logcontainer"},l.a.createElement("div",{className:"lognav"},l.a.createElement(i.b,{className:"myoper",activeClassName:"navbaractive",to:"/logistics/myoperations",exact:!0},"My Operations"),l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/logistics/inprogress",exact:!0},"In Progress"),l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/logistics/matching",exact:!0},"Matching Report"),l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/logistics/chat",exact:!0},"Chat"),l.a.createElement("div",{className:"scores"},l.a.createElement("h4",{style:{marginBottom:"1rem"}},"Scores:"),r?r.map(function(e){return[l.a.createElement("div",{className:"score"},l.a.createElement("p",null,e.tCode)," ",l.a.createElement("p",null,e.totalscore.toFixed(1)))]}):"")),l.a.createElement("div",{className:"gridcontainer loggridcontainer"},l.a.createElement(s.a,{path:"/logistics/myoperations"},l.a.createElement(ye,null)),l.a.createElement(s.a,{path:"/logistics/matching"},l.a.createElement(te.a,null)),l.a.createElement(s.a,{path:"/logistics/inprogress"},l.a.createElement(ae.a,null))))},Ee=a(57),Oe=(a(662),a(79)),Ne=a(245),je=a(232);function xe(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return we(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return we(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(l)throw o}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Se(){Se=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),c=new j(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return w()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=E(c,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,o){function c(){return new t(function(r,c){!function r(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,l)})}l(i.arg)}(n,o,r,c)})}return r=r?r.then(c,c):c()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,o,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new v(i(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(b),l(b,c,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var Ce=function(){var e=Object(c.useRef)(null),t=Object(c.useState)(!1),a=Object(n.a)(t,2),r=a[0],i=a[1],s=function(){ze("")},m=Object(c.useState)(2023),d=Object(n.a)(m,2),f=d[0];d[1];Object(c.useEffect)(function(){var t=e.current;pe.a.fromTo(t,{opacity:1},{opacity:0,duration:2,ease:"power1.inOut",onComplete:s})},[r]);var h=Object(c.useRef)(null);Object(c.useEffect)(function(){var e=h.current;pe.a.fromTo(e,{opacity:1},{opacity:0,duration:15,ease:"power1.inOut"})},[cn]);var g=Object(c.useState)(),b=Object(n.a)(g,2),y=b[0],v=b[1],E=Object(c.useRef)(null);Object(c.useEffect)(function(){p.a.post("/budgetprodNames").then(function(e){v(e.data),q(e.data)})},[]);var O=Object(c.useState)(!1),N=Object(n.a)(O,2),j=N[0],x=N[1],w=function(){var e=Object(P.a)(Se().mark(function e(){return Se().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,t){x(!j),e()});case 2:!1===j&&E.current.focus(),I("");case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),S=[],C=[],D=Object(c.useState)(),k=Object(n.a)(D,2),F=k[0],I=k[1],L=Object(c.useState)(),T=Object(n.a)(L,2),B=T[0],q=T[1];Object(c.useEffect)(function(){if(y)if(F&&""!==F){var e=y.filter(function(e){if(F&&""!==F)return e.abbreviation.toLowerCase().includes(F.toLowerCase())});q(e)}else q(y)},[F]);var Q=Object(c.useState)(!1),$=Object(n.a)(Q,2),A=$[0],G=$[1],_=Object(c.useState)(),K=Object(n.a)(_,2),V=K[0],Y=K[1],M=Object(c.useState)(),R=Object(n.a)(M,2),W=R[0],U=R[1],H=Object(c.useState)(),z=Object(n.a)(H,2),J=z[0],Z=z[1],X=Object(c.useState)(4),ee=Object(n.a)(X,2),te=ee[0],ae=(ee[1],Object(c.useState)(2)),re=Object(n.a)(ae,2),oe=re[0],ce=(re[1],Object(c.useState)(-1)),se=Object(n.a)(ce,2),ue=se[0],me=se[1],de=Object(c.useState)(-1),fe=Object(n.a)(de,2),he=fe[0],ge=fe[1],be=Object(c.useState)(!1),ye=Object(n.a)(be,2),ve=(ye[0],ye[1]),Ee=Object(c.useState)(!1),we=Object(n.a)(Ee,2),Ce=we[0],De=we[1],ke=Object(c.useState)([]),Fe=Object(n.a)(ke,2),Ie=(Fe[0],Fe[1],Object(c.useRef)()),Le=Object(c.useRef)([]),Te=Object(c.useRef)([]),Pe=function(e,t,a,r,n){Va(Object(o.a)({},Ka,Object(u.a)({},t,Object(o.a)({},Ka[t],Object(u.a)({},a,Object(o.a)({},Ka[t][a],Object(u.a)({},r,Object(o.a)({},Ka[t][a][r],Object(u.a)({},n,Number(e.target.value))))))))))},Be=Object(c.useState)(!1),qe=Object(n.a)(Be,2),Qe=qe[0],$e=qe[1],Ae=Object(c.useState)({}),Ge=Object(n.a)(Ae,2),_e=Ge[0],Ke=Ge[1],Ve=Object(c.useState)(),Ye=Object(n.a)(Ve,2),Me=Ye[0],Re=Ye[1];Object(c.useEffect)(function(){p.a.post("/yearbudgetdata",{year:f}).then(function(e){hr(e.data),Ke(gr(e.data))}),p.a.post("/budgetgroupbtns",{year:f}).then(function(e){Y(e.data)}),p.a.post("/budgetfilterbtns",{year:f}).then(function(e){U(e.data)}),p.a.post("/bdgtregiondata",{year:f}).then(function(e){Re(e.data)})},[Qe]),Object(c.useEffect)(function(){p.a.post("/budgetfilterbtns",{year:f}).then(function(e){U(e.data)})},[A]);var We=Object(c.useState)(),Ue=Object(n.a)(We,2),He=Ue[0],ze=Ue[1],Je=function(e,t,a,r,n,o){var c=Number(e.target.value);c!==Number(Ra[a][r][n][o])&&c!==Number(za[a][r][n][o])&&p.a.post("/savebdgteconfig",{year:f,item:o,value:c,prod:va[a],cty:ha[n]}).then(function(e){ze(e.data.msg),Ja(Ka),$e(!Qe)}),c===Number(Ra[a][r][n][o])&&Number(za[a][r][n][o])!==Number(Ra[a][r][n][o])&&p.a.post("/savebdgteconfig",{year:f,item:o,value:c,prod:va[a],cty:ha[n]}).then(function(e){ze(e.data.msg),Ja(Ka),$e(!Qe)})},Ze=Object(c.useCallback)(function(e){Ie.current&&Ie.current.contains(e.target)?"cell-input"===e.target.className&&(ve(!0),De(!0)):ve(!1)},[Ie,ve]),Xe=Object(c.useState)(!1),et=Object(n.a)(Xe,2),tt=et[0],at=et[1],rt=Object(c.useState)(!1),nt=Object(n.a)(rt,2),ot=nt[0],ct=nt[1],lt=Object(c.useCallback)(function(e){if(tt)switch(e.key){case"ArrowUp":ue>=te&&me(ue-te);break;case"ArrowDown":ue<te*J-te&&me(ue+te);break;case"ArrowRight":ue<J*te-1&&me(ue+1);break;case"ArrowLeft":ue>0&&me(ue-1)}if(ot)switch(e.key){case"ArrowUp":he>=oe&&ge(he-oe);break;case"ArrowDown":he<oe*J-oe&&ge(he+oe);break;case"ArrowRight":he<J*oe-1&&ge(he+1);break;case"ArrowLeft":he>0&&ge(he-1)}});Object(c.useEffect)(function(){return window.addEventListener("mousedown",Ze),window.addEventListener("keydown",lt),function(){window.removeEventListener("mousedown",Ze),window.removeEventListener("keydown",lt)}},[Ze,lt]);var it=Object(c.useCallback)(function(){if(ue>=0&&ue<J*te){var e=Le.current[ue];e&&(Ce?e.focus():e.blur())}},[ue,Ce,Le,J,te]);Object(c.useEffect)(it,[ue,it]);var st=Object(c.useCallback)(function(){if(he>=0&&he<J*oe){var e=Te.current[he];e&&(Ce?e.focus():e.blur())}},[he,Ce,Te,J,oe]);Object(c.useEffect)(st,[he,st]);var ut=Object(c.useState)(),mt=Object(n.a)(ut,2),pt=mt[0],dt=mt[1],ft=Object(c.useState)(),ht=Object(n.a)(ft,2),gt=ht[0],bt=ht[1],yt=Object(c.useState)(1),vt=Object(n.a)(yt,2),Et=vt[0],Ot=vt[1],Nt=Object(c.useState)(5),jt=Object(n.a)(Nt,2),xt=jt[0],wt=jt[1],St=Object(c.useState)(1),Ct=Object(n.a)(St,2),Dt=Ct[0],kt=Ct[1],Ft=Object(c.useState)(),It=Object(n.a)(Ft,2),Lt=It[0],Tt=It[1],Pt=Object(c.useState)(),Bt=Object(n.a)(Pt,2);Bt[0],Bt[1];Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var qt=Object(c.useState)(),Qt=Object(n.a)(qt,2),$t=Qt[0],At=Qt[1],Gt=Object(c.useState)(),_t=Object(n.a)(Gt,2),Kt=(_t[0],_t[1],Object(c.useState)()),Vt=Object(n.a)(Kt,2),Yt=(Vt[0],Vt[1],Object(c.useState)()),Mt=Object(n.a)(Yt,2),Rt=(Mt[0],Mt[1],Object(c.useState)({})),Wt=Object(n.a)(Rt,2),Ut=Wt[0],Ht=Wt[1],zt=Object(c.useState)({}),Jt=Object(n.a)(zt,2),Zt=Jt[0],Xt=Jt[1],ea=function(e){var t={},a={},r={},n={},o={},c={},l={},i={},s={},u={};return Object.entries(e.groupBy("abbreviation")).forEach(function(e){var m=e[0],p=Object.entries(e[1].groupBy("region"));u[m]=!1,p.forEach(function(e){var n=e[0];o[n]=!1,Object.entries(e[1].groupBy("country")).forEach(function(e){var r=e[0];l[r]=!1,e[1].forEach(function(e,a){t[a]=e.quantity}),a[r]=t,t={}}),c[m]=o,i[n]=l,l={},nr(c),r[n]=a,a={}}),s[m]=i,i={},o={},n[m]=r,r={}}),Ht(s),Xt(u),n},ta=Object(c.useState)(),aa=Object(n.a)(ta,2),ra=aa[0],na=aa[1],oa=Object(c.useState)(),ca=Object(n.a)(oa,2),la=ca[0],ia=ca[1],sa=Object(c.useState)(),ua=Object(n.a)(sa,2),ma=ua[0],pa=ua[1],da=Object(c.useState)(),fa=Object(n.a)(da,2),ha=fa[0],ga=fa[1],ba=Object(c.useState)(),ya=Object(n.a)(ba,2),va=ya[0],Ea=ya[1],Oa=Object(c.useState)(),Na=Object(n.a)(Oa,2),ja=(Na[0],Na[1],Object(c.useState)({})),xa=Object(n.a)(ja,2),wa=xa[0],Sa=xa[1],Ca=function(e){p.a.post("/addbdgtcty",{countries:Object.keys(wa[e]),pname:va[e],pcatname:Fa,year:f}).then(function(){Ba(!Pa)})},Da=Object(c.useState)(),ka=Object(n.a)(Da,2),Fa=ka[0],Ia=ka[1],La=Object(c.useState)(!1),Ta=Object(n.a)(La,2),Pa=Ta[0],Ba=Ta[1],qa=Object(c.useState)({}),Qa=Object(n.a)(qa,2),$a=Qa[0],Aa=Qa[1],Ga=Object(c.useState)({}),_a=Object(n.a)(Ga,2),Ka=_a[0],Va=_a[1],Ya=Object(c.useState)({}),Ma=Object(n.a)(Ya,2),Ra=Ma[0],Wa=Ma[1],Ua=Object(c.useState)({}),Ha=Object(n.a)(Ua,2),za=Ha[0],Ja=Ha[1],Za=function(e){var t={},a={},r={},n=0,o=0,c=0;return Object.entries(e.groupBy("abbreviation")).forEach(function(e){var l=e[0];Object.entries(e[1].groupBy("region")).forEach(function(e){var r=e[0];Object.entries(e[1].groupBy("country")).forEach(function(e){var a=e[0];e[1].forEach(function(e){n+=e.quantity,o+=e.quantity*e.price,c+=e.quantity*e.profit}),t[a]={price:0===n||0===o?0:o/n,profit:0===n||0===c?0:c/n,quantity:n},n=0,o=0,c=0}),a[r]=t,t={}}),r[l]=a,a={}}),r};Object(c.useEffect)(function(){Fa&&""!==Fa&&(p.a.post("/getbudgetdata",{prodcat:Fa,year:f}).then(function(e){At(e.data),Z(e.data.length/4),na(ea(e.data)),ia(ea(e.data)),pa(ea(e.data)),function(e){var t=Object(ne.a)(new Set(e.map(function(e){return e.country}))),a=Object(ne.a)(new Set(e.map(function(e){return e.countryID}))),r={};t.forEach(function(e,t){return r[e]=a[t]}),ga(r);var n=Object(ne.a)(new Set(e.map(function(e){return e.abbreviation}))),o=Object(ne.a)(new Set(e.map(function(e){return e.prodNameID}))),c={};n.forEach(function(e,t){return c[e]=o[t]}),Ea(c)}(e.data),Va(Za(e.data)),Wa(Za(e.data)),Ja(Za(e.data))}),p.a.post("/budgetlyearsales",{year:f,prodcat:Fa}).then(function(e){Aa(function(e){var t={},a={},r={};return Object.entries(e.groupBy("abbreviation")).forEach(function(e){var n=e[0];Object.entries(e[1].groupBy("region")).forEach(function(e){var r=e[0];e[1].forEach(function(e){t[e.country]={quantity:Number(e.quantity),avgprice:Number(e.avgprice.replace(/,/g,"")),avgprofit:Number(e.avgprofit.replace(/,/g,""))}}),a[r]=t,t={}}),r[n]=a,a={}}),r}(e.data))}))},[Fa,Pa]);var Xa=0,er=0,tr=Object(c.useState)(),ar=Object(n.a)(tr,2),rr=ar[0],nr=ar[1],or=Object(c.useState)(),cr=Object(n.a)(or,2),lr=cr[0],ir=cr[1],sr=Object(c.useState)(),ur=Object(n.a)(sr,2),mr=ur[0],pr=ur[1];Object(c.useEffect)(function(){p.a.post("/bdgtfullcountrylist").then(function(e){pr(e.data)})},[]);var dr=Object(c.useState)(),fr=Object(n.a)(dr,2),hr=(fr[0],fr[1]),gr=function(e){var t=0,a=0,r=0,n={};return Object.entries(e.groupBy("year")).forEach(function(e){var o=e[0];e[1].forEach(function(e){t+=e.quantity,a+=e.revenue,r+=e.totalprofit}),n[o]={quantity:t,revenue:a,totalprofit:r},t=0,a=0,r=0}),n},br=Object(c.useState)("region"),yr=Object(n.a)(br,2),vr=yr[0],Er=yr[1],Or=Object(c.useState)("country"),Nr=Object(n.a)(Or,2),jr=Nr[0],xr=Nr[1],wr=Object(c.useState)("quantity"),Sr=Object(n.a)(wr,2),Cr=Sr[0],Dr=Sr[1],kr=Object(c.useState)(),Fr=Object(n.a)(kr,2),Ir=(Fr[0],Fr[1]);Object(c.useEffect)(function(){p.a.post("/bdgtlyearsalestotals",{year:f}).then(function(e){Ir(e.data)})},[]);var Lr=0,Tr=0,Pr=0,Br=0,qr=0,Qr=0,$r=0,Ar=0,Gr=0,_r=0,Kr=0,Vr=0,Yr=function(e,t){var a,r=0,n=xe(e);try{for(n.s();!(a=n.n()).done;)r+=a.value[t]}catch(o){n.e(o)}finally{n.f()}return r},Mr=function(e,t,a){var r,n=0,o=0,c=xe(e);try{for(c.s();!(r=c.n()).done;){var l=r.value;n+=l[t],o+=l[a]}}catch(i){c.e(i)}finally{c.f()}return 0!==n&&0!==o?n/o:0},Rr=Object(c.useState)(),Wr=Object(n.a)(Rr,2),Ur=Wr[0],Hr=Wr[1],zr=Object(c.useState)(),Jr=Object(n.a)(zr,2),Zr=Jr[0],Xr=Jr[1],en=Object(c.useState)(),tn=Object(n.a)(en,2),an=tn[0],rn=tn[1],nn=Object(c.useState)(!1),on=Object(n.a)(nn,2),cn=on[0],ln=on[1];return l.a.createElement("div",null,l.a.createElement("div",{className:"bdgttitles"},l.a.createElement("h2",{className:"bdgttitle"},f," Budget"),l.a.createElement("div",{className:"addprodgroup"},l.a.createElement("button",{className:"addprodbutton",onClick:function(e){w()}},"Add Product"),j?l.a.createElement("div",{className:"addprodpane"},l.a.createElement("input",{ref:E,value:F,onChange:function(e){I(e.target.value)},placeholder:"Search Product Name",type:"text"}),l.a.createElement("ul",null,B?B.map(function(e){return[l.a.createElement("div",{className:"addprodrow"},l.a.createElement("input",{type:"checkbox",name:e.prodNameID,id:e.prodNameID,value:e.prodNameID,onClick:function(t){if(t.target.checked)S.push(e.prodNameID),C.push(e.prodCatNameID);else for(var a=0;a<S.length;a++)S[a]===e.prodNameID&&S.splice(a,1),C[a]===e.prodCatNameID&&C.splice(a,1)}})," ",l.a.createElement("label",{for:e.prodNameID},e.abbreviation))]}):"Please add a product."),l.a.createElement("div",{className:"addprodcanceladd"},l.a.createElement("button",{className:"cancelprodbutton",onClick:function(e){x(!1),I("")}},"Cancel"),l.a.createElement("button",{onClick:function(e){p.a.post("/addprodbudget",{prodstoadd:S,prodscattoadd:C,year:f}).then(function(e){console.log(e),G(!A)}),x(!1)},className:"addprodbutton"},"Confirm"))):""),l.a.createElement(Ne.a,{csvData:Me,fileName:"budget2023"}),l.a.createElement("form",null,l.a.createElement("label",{htmlFor:"upload",className:"budgetselectfilebutton"},"Select File to Load:"),l.a.createElement("input",{type:"file",name:"upload",id:"upload",onChange:function(e){if(e.preventDefault(),Xr(e.target.files[0].name),e.target.files){var t=new FileReader;t.onload=function(e){var t=e.target.result,a=je.read(t,{type:"array"}),r=a.SheetNames[0],n=a.Sheets[r],o=je.utils.sheet_to_json(n);Hr(o)},t.readAsArrayBuffer(e.target.files[0])}}}),l.a.createElement("input",{className:"bdgtloadfileinput",value:Zr}),l.a.createElement("button",{className:Zr?"bdgtloadbtn showloadbutton":"bdgtloadbtn hideloadbutton",onClick:function(e){e.preventDefault(),p.a.post("/loadbudgetfile",{data:Ur}).then(function(e){console.log(e),Xr(""),rn(e.data.msg),ln(!cn)})}},"Load File"),l.a.createElement("span",{ref:h,className:"loadmsg"},an))),l.a.createElement("div",{className:"bdgttotals"},l.a.createElement("ul",{className:"bdgttotalsul"},l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},_e&&_e[f]&&_e[f].quantity?_e[f].quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0," ","mt"),l.a.createElement("p",{className:"bdgttyearname"},"Quantity"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Budget:"),l.a.createElement("p",null,_e&&_e[f-1]&&_e[f-1].quantity?_e[f-1].quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0," ","mt")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-2," Budget:"),l.a.createElement("p",null,"152,915 mt"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},_e&&_e[f]&&_e[f].revenue?"$"+_e[f].revenue.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0),l.a.createElement("p",{className:"bdgttyearname"},"Revenue"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Budget:"),l.a.createElement("p",null,_e&&_e[f-1]&&_e[f-1].revenue?"$"+_e[f-1].revenue.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-2," Revenue:"),l.a.createElement("p",null,"$98,083,156"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},_e&&_e[f]&&_e[f].totalprofit?"$"+_e[f].totalprofit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0),l.a.createElement("p",{className:"bdgttyearname"},"Profit"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Budget:"),l.a.createElement("p",null,_e&&_e[f-1]&&_e[f-1].totalprofit?"$"+_e[f-1].totalprofit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-2," Budget:"),l.a.createElement("p",null,"$4,007,228"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},_e&&_e[f]&&_e[f].totalprofit?"$"+(_e[f].totalprofit/_e[f].quantity).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0),l.a.createElement("p",{className:"bdgttyearname"},"Avg Profit"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Budget:"),l.a.createElement("p",null,_e&&_e[f-1]&&_e[f-1].totalprofit?"$"+(_e[f-1].totalprofit/_e[f].quantity).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-2," Budget:"),l.a.createElement("p",null,"$26"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},_e&&_e[f]&&_e[f].totalprofit?(_e[f].totalprofit/_e[f].revenue*100).toFixed(1)+"%":0),l.a.createElement("p",{className:"bdgttyearname"},"Margin"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Budget:"),l.a.createElement("p",null,_e&&_e[f-1]&&_e[f-1].totalprofit?(_e[f-1].totalprofit/_e[f].revenue*100).toFixed(1)+"%":"0.0%")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-2," Margin:"),l.a.createElement("p",null,"4.1%"))))),l.a.createElement("div",{className:"budgetfilterbuttons"},l.a.createElement("div",{className:"pgroupfbtns"},l.a.createElement("p",null,"Product Groups:"),V?V.map(function(e,t){return l.a.createElement("button",{key:t,onClick:function(a){return function(e,t,a){e.preventDefault(),dt(t),bt(a)}(a,t,e.productGroup)},className:t===pt?"budgetfilterbutton budgetfilterbuttonactive":"budgetfilterbutton"},l.a.createElement("div",null,l.a.createElement("p",{className:"bdgtbtntitle"},e.productGroup),l.a.createElement("p",null,e.quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")+" mt"),l.a.createElement("p",null,"$ "+e.profit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","))))}):"Please add a product."),l.a.createElement("div",{className:"pnamefbtns"},l.a.createElement("p",null,"Product Name:"),W?W.map(function(e,t){if(e.productGroup===gt)return l.a.createElement("button",{key:t,onClick:function(a){!function(e,t,a){e.preventDefault(),Tt(t),Ia(a.prodCatNameID)}(a,t,e)},className:t===Lt?"pnamebutton pnamebuttonactive":"pnamebutton"},l.a.createElement("div",null,l.a.createElement("p",{className:"bdgtbtntitle"},e.prodCatName),l.a.createElement("p",null,e.quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")+" mt"),l.a.createElement("p",null,"$ "+e.profit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","))))}):"Please add a product.")),l.a.createElement("div",{className:"budgetprepdata"},l.a.createElement("div",{className:"bdgtleftbottompanel"},l.a.createElement("div",{className:"budgettablesandresponse"},l.a.createElement("div",{className:"budgettables",ref:Ie},ra?Object.keys(ra).map(function(e,t){var a=0,n=0,c=0,s=0,m=0,d=0;return[l.a.createElement("div",{className:"bdgtpnametable"},l.a.createElement("div",{className:"bdgtpnametabletitle"},l.a.createElement("h3",null,"2023 ",e," Budget"),l.a.createElement(le.a,{icon:ie.j,onClick:function(t){Xt(Object(o.a)({},Zt,Object(u.a)({},e,!Zt[e])))}}),l.a.createElement("div",{className:Zt&&Zt[e]?"bdgtselectallcty showbdgtpane":"bdgtselectallcty hidebdgtpane"},l.a.createElement("h4",null,"Select countries to add."),l.a.createElement("div",{className:"bdgtselectctycty"},mr?mr.map(function(t){return l.a.createElement("div",{className:"addctyrow"},l.a.createElement("input",{type:"checkbox",name:t.countryID,onClick:function(a){a.target.checked&&wa?Sa(Object(o.a)({},wa,Object(u.a)({},e,Object(o.a)({},wa[e],Object(u.a)({},t.countryID,t.country))))):Sa(function(a){var r=Object(o.a)({},a);return delete r[e][t.countryID],r})}}),l.a.createElement("label",{for:t.countyID},t.country))}):""),l.a.createElement("div",{className:"addprodcanceladd"},l.a.createElement("button",{className:"cancelprodbutton",onClick:function(t){Xt(Object(o.a)({},Zt,Object(u.a)({},e,!1)))}},"Cancel"),l.a.createElement("button",{className:"addprodbutton",onClick:function(t){Ca(e)}},"Confirm")))),l.a.createElement("div",{className:"board"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"countrycol"},"Country"),l.a.createElement("td",{className:"bdgtdatacol"},"Q1"),l.a.createElement("td",{className:"bdgtdatacol"},"Q2"),l.a.createElement("td",{className:"bdgtdatacol"},"Q3"),l.a.createElement("td",{className:"bdgtdatacol"},"Q4"),l.a.createElement("td",{className:"bdgtdatacol"},"Total"),l.a.createElement("td",{className:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgtdatacol"},"Price"),l.a.createElement("td",{className:"bdgtdatacol"},"Profit"),l.a.createElement("td",{className:"bdgtdatacol"},"Ttl Profit"),l.a.createElement("td",{className:"bdgtdatacol"},"% Mgn"))),l.a.createElement("tbody",null,Object.keys(ra[e]).map(function(t,h){var g=0,b=0,y=0,v=0,E=0,O=0;Object.keys(ra[e][t]).forEach(function(a){g+=ra[e][t][a][0],b+=ra[e][t][a][1],y+=ra[e][t][a][2],v+=ra[e][t][a][3],Ka&&Ka[e]&&Ka[e][t]&&Ka[e][t][a]&&Ka[e][t][a].price&&(E+=Ka[e][t][a].price*(ra[e][t][a][0]+ra[e][t][a][1]+ra[e][t][a][2]+ra[e][t][a][3])),Ka&&Ka[e]&&Ka[e][t]&&Ka[e][t][a]&&Ka[e][t][a].profit&&(O+=Ka[e][t][a].profit*(ra[e][t][a][0]+ra[e][t][a][1]+ra[e][t][a][2]+ra[e][t][a][3]))}),a+=g,n+=b,c+=y,s+=v;var N=0===E?0:E/(g+b+y+v),j=0===O?0:O/(g+b+y+v);return m+=E,d+=O,[l.a.createElement("tr",{className:"bdgtregionrow"},l.a.createElement("td",{className:"bdgtregioncol"},l.a.createElement(le.a,{className:"bdgtctyrowadd",icon:ie.j,onClick:function(a){nr(Object(o.a)({},rr,Object(u.a)({},e,Object(o.a)({},rr[e],Object(u.a)({},t,!rr[e][t]))))),function(e){p.a.post("/bdgtloadregcty",{reg:e}).then(function(t){ir(Object(o.a)({},lr,Object(u.a)({},e,[t.data])))})}(t)}}),"Latin America"===t?"L. America":t,l.a.createElement("div",{className:rr&&rr[e]?rr[e][t]?"bdgtselectcty showbdgtpane":"bdgtselectcty hidebdgtpane":""},l.a.createElement("h4",null,"Select countries to add in ",t),l.a.createElement("div",{className:"bdgtselectctycty"},lr&&lr[t]?lr[t][0].map(function(t){return l.a.createElement("div",{className:"addctyrow"},l.a.createElement("input",{type:"checkbox",name:t.countryID,value:e,onClick:function(a){a.target.checked&&wa?Sa(Object(o.a)({},wa,Object(u.a)({},e,Object(o.a)({},wa[e],Object(u.a)({},t.countryID,t.country))))):Sa(function(a){var r=Object(o.a)({},a);return delete r[e][t.countryID],r})}}),l.a.createElement("label",{for:t.countryID},t.country))}):""),l.a.createElement("div",{className:"addprodcanceladd"},l.a.createElement("button",{className:"cancelprodbutton",onClick:function(a){nr(Object(o.a)({},rr,Object(u.a)({},e,Object(o.a)({},rr[e],Object(u.a)({},t,!rr[e][t])))))}},"Cancel"),l.a.createElement("button",{className:"addprodbutton",onClick:function(t){Ca(e)}},"Confirm")))),l.a.createElement("td",{className:"bdgtregioncolttl"},g),l.a.createElement("td",{className:"bdgtregioncolttl"},b),l.a.createElement("td",{className:"bdgtregioncolttl"},y),l.a.createElement("td",{className:"bdgtregioncolttl"},v),l.a.createElement("td",{className:"bdgtregioncolttl"},g+b+y+v),l.a.createElement("td",{className:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgtregioncolttl"},"$"+N.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgtregioncolttl"},"$"+j.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgtregioncolttl"},"$"+(j*(g+b+y+v)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgtregioncolttl"},0===j||0===N?"0%":(j/N*100).toFixed(1)+"%")),Object.keys(ra[e][t]).map(function(a){var n=er;return er+=2,[l.a.createElement("tr",null,l.a.createElement("td",{className:"countrycol"},"Dominican Republic"===a?"Dom Rep":a),Object.keys(ra[e][t][a]).map(function(n){var c=Xa;return Xa+=1,[l.a.createElement("td",{className:"bdgtdatacol"},l.a.createElement("div",{className:"tile ".concat(ue===c?"active":"")},l.a.createElement("input",{value:ra[e][t][a][n],onChange:function(r){!function(e,t,a,r,n){na(Object(o.a)({},ra,Object(u.a)({},t,Object(o.a)({},ra[t],Object(u.a)({},a,Object(o.a)({},ra[t][a],Object(u.a)({},r,Object(o.a)({},ra[t][a][r],Object(u.a)({},n,Number(e.target.value))))))))))}(r,e,t,a,n)},className:"cell-input",onFocus:function(e){me(c),e.target.select(),at(!0),ct(!1)},ref:function(e){return Le.current[c]=e},onBlur:function(o){!function(e,t,a,r,n,o){var c=Number(e.target.value);c!==Number(la[a][r][n][o])&&c!==Number(ma[a][r][n][o])&&p.a.post("/savebdgtqty",{newqty:c,entryID:$t[t].budgetentryID}).then(function(e){ze(e.data.msg),pa(ra),$e(!Qe)}),c===Number(la[a][r][n][o])&&Number(ma[a][r][n][o])!==Number(la[a][r][n][o])&&p.a.post("/savebdgtqty",{newqty:c,entryID:$t[t].budgetentryID}).then(function(e){ze(e.data.msg),pa(ra),$e(!Qe)})}(o,c,e,t,a,n),i(!r)}})))]}),l.a.createElement("td",{className:"bdgtcountrytotals"},ra[e][t][a][0]+ra[e][t][a][1]+ra[e][t][a][2]+ra[e][t][a][3]),l.a.createElement("td",{className:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgtctyeconomics"},l.a.createElement("input",{className:"cell-input",value:Ka&&Ka[e]&&Ka[e][t]&&Ka[e][t][a]&&null!==Ka[e][t][a].price?Ka[e][t][a].price:"na",onChange:function(r){Pe(r,e,t,a,"price")},onFocus:function(e){ge(n),e.target.select(),at(!1),ct(!0),me(-1)},ref:function(e){return Te.current[n]=e},onBlur:function(n){Je(n,0,e,t,a,"price"),i(!r)}})),l.a.createElement("td",{className:"bdgtctyeconomics"},l.a.createElement("input",{className:"cell-input",value:Ka&&Ka[e]&&Ka[e][t]&&Ka[e][t][a]&&null!==Ka[e][t][a].profit?Ka[e][t][a].profit:"na",onChange:function(r){Pe(r,e,t,a,"profit")},onFocus:function(e){ge(n+1),e.target.select(),at(!1),ct(!0),me(-1)},ref:function(e){return Te.current[n+1]=e},onBlur:function(n){Je(n,0,e,t,a,"profit"),i(!r)}})),l.a.createElement("td",{className:"bdgtctyeconomics"},Ka&&ra&&Ka[e]&&ra[e]&&Ka[e][t]&&ra[e][t]&&Ka[e][t][a]&&ra[e][t][a]&&null!==Ka[e][t][a].profit?(Ka[e][t][a].profit*(ra[e][t][a][0]+ra[e][t][a][1]+ra[e][t][a][2]+ra[e][t][a][3])).toFixed(0):0),l.a.createElement("td",{className:"bdgtctyeconomics"},Ka&&Ka[e]&&Ka[e][t]&&Ka[e][t][a]&&null!==Ka[e][t][a].profit&&0!==Ka[e][t][a].price?(Ka[e][t][a].profit/Ka[e][t][a].price*100).toFixed(1)+"%":"0%"),l.a.createElement(le.a,{className:"bdgtctydelete",icon:ie.i,onClick:function(r){Ht(Object(o.a)({},Ut,Object(u.a)({},e,Object(o.a)({},Ut[e],Object(u.a)({},t,Object(o.a)({},Ut[e][t],Object(u.a)({},a,!Ut[e][t][a])))))))}}),l.a.createElement("button",{className:Ut&&Ut[e]&&!0===Ut[e][t][a]?"bdgtctydeletebtn showbdgtpane":"bdgtctydeletebtn hidebdgtpane",onClick:function(t){var r,n;r=e,n=a,p.a.post("/bdgtdelctyrow",{pname:va[r],countryid:ha[n],year:f}).then(function(e){Ba(!Pa)})}},"Delete"))]})]}),l.a.createElement("tr",null,l.a.createElement("td",{className:"bdgttotal"},"Total"),l.a.createElement("td",{className:"bdgttotalqty"},a),l.a.createElement("td",{className:"bdgttotalqty"},n),l.a.createElement("td",{className:"bdgttotalqty"},c),l.a.createElement("td",{className:"bdgttotalqty"},s),l.a.createElement("td",{className:"bdgttotalqty"},a+n+c+s),l.a.createElement("td",{class:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgttotalqty"},0===m||a+n+c+s===0?0:"$"+(m/(a+n+c+s)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgttotalqty"},0===d||a+n+c+s===0?0:"$"+(d/(a+n+c+s)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgttotalqty"},0===d?0:"$"+d.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgttotalqty"},0===d||0==m?0:(d/m*100).toFixed(1)+"%"))))))]}):""),l.a.createElement("span",{className:"bdgtresponsemsg",ref:e},He)),l.a.createElement("div",{className:"lyearfigures"},ra&&$a?Object.keys(ra).map(function(e){var t=0,a=0,r=0;return[l.a.createElement("h3",null,f-1," ",e," Sales Figures"),l.a.createElement("table",{className:"lyeartable"},l.a.createElement("thead",{className:"lyearhead"},l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearcountrycol"},"Country"),l.a.createElement("td",{className:"lyeardatah"},"Qty"),l.a.createElement("td",{className:"lyeardatah"},"Price"),l.a.createElement("td",{className:"lyeardatah"},"Profit"))),l.a.createElement("tbody",null,Object.keys(ra[e]).map(function(n){var o=0,c=0,i=0;return Object.keys(ra[e][n]).forEach(function(t){$a&&$a[e]&&$a[e][n]&&$a[e][n][t]&&$a[e][n][t].quantity&&$a[e][n][t].avgprice&&$a[e][n][t].avgprofit&&(o+=$a[e][n][t].quantity,c+=$a[e][n][t].quantity*$a[e][n][t].avgprice,i+=$a[e][n][t].quantity*$a[e][n][t].avgprofit)}),[l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearregrow lyearcountrycol"},"Latin America"===n?"L. America":n),l.a.createElement("td",{className:"lyearregrowdata"},o),l.a.createElement("td",{className:"lyearregrowdata"},0===o?0:"$ "+(c/o).toFixed(0)),l.a.createElement("td",{className:"lyearregrowdata"},0===o?0:"$ "+(i/o).toFixed(0))),Object.keys(ra[e][n]).map(function(o){return $a&&$a[e]&&$a[e][n]&&$a[e][n][o]&&$a[e][n][o].quantity&&(t+=$a[e][n][o].quantity),$a&&$a[e]&&$a[e][n]&&$a[e][n][o]&&$a[e][n][o].quantity&&$a[e][n][o].avgprice&&(a+=$a[e][n][o].avgprice*$a[e][n][o].quantity),$a&&$a[e]&&$a[e][n]&&$a[e][n][o]&&$a[e][n][o].quantity&&$a[e][n][o].avgprofit&&(r+=$a[e][n][o].avgprofit*$a[e][n][o].quantity),[l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearcountrycol"},"Dominican Republic"===o?"Dom Rep":o),l.a.createElement("td",{className:"lyeardata"},$a&&$a[e]&&$a[e][n]&&$a[e][n][o]&&$a[e][n][o].quantity?$a[e][n][o].quantity:0),l.a.createElement("td",{className:"lyeardata"},$a&&$a[e]&&$a[e][n]&&$a[e][n][o]&&$a[e][n][o].avgprice?"$ "+$a[e][n][o].avgprice:0),l.a.createElement("td",{className:"lyeardata"},$a&&$a[e]&&$a[e][n]&&$a[e][n][o]&&$a[e][n][o].avgprofit?"$ "+$a[e][n][o].avgprofit:0))]})]}),l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearcountrycolttl"},"Total"),l.a.createElement("td",{className:"lyeardatattl"},t),l.a.createElement("td",{className:"lyeardatattl"},0===t?0:"$ "+(a/t).toFixed(0)),l.a.createElement("td",{className:"lyeardatattl"},0===t?0:"$ "+(r/t).toFixed(0)))))]}):"")),l.a.createElement("div",{className:"budgetbyprod"},l.a.createElement("h4",null,"Budget Summary Figures 2023"),l.a.createElement("div",{className:"bdgtsummarybuttons1"},l.a.createElement("p",null,"Level 1:"),l.a.createElement("button",{onClick:function(e){Er("region"),Ot(1)},className:1===Et?"bdgtlvl1active":""},"Region"),l.a.createElement("button",{onClick:function(e){Er("productGroup"),Ot(2)},className:2===Et?"bdgtlvl1active":""},"Group"),l.a.createElement("button",{onClick:function(e){Er("prodCatName"),Ot(3)},className:3===Et?"bdgtlvl1active":""},"Category"),l.a.createElement("button",{onClick:function(e){Er("abbreviation"),Ot(4)},className:4===Et?"bdgtlvl1active":""},"Name"),l.a.createElement("button",{onClick:function(e){Er("country"),Ot(5)},className:5===Et?"bdgtlvl1active":""},"Country")),l.a.createElement("div",{className:"bdgtsummarybuttons2"},l.a.createElement("p",null,"Level 2:"),l.a.createElement("button",{onClick:function(e){xr("region"),wt(1)},className:1===xt?"bdgtlvl2active":""},"Region"),l.a.createElement("button",{onClick:function(e){xr("productGroup"),wt(2)},className:2===xt?"bdgtlvl2active":""},"Group"),l.a.createElement("button",{onClick:function(e){xr("prodCatName"),wt(3)},className:3===xt?"bdgtlvl2active":""},"Category"),l.a.createElement("button",{onClick:function(e){xr("abbreviation"),wt(4)},className:4===xt?"bdgtlvl2active":""},"Name"),l.a.createElement("button",{onClick:function(e){xr("country"),wt(5)},className:5===xt?"bdgtlvl2active":""},"Country")),l.a.createElement("div",{className:"bdgtsummarybuttons"},l.a.createElement("p",null,"Show:"),l.a.createElement("button",{onClick:function(e){Dr("quantity"),kt(1)},className:1===Dt?"bdgtlvl3active":""},"Quantity (mt)"),l.a.createElement("button",{onClick:function(e){Dr("profit"),kt(2)},className:2===Dt?"bdgtlvl3active":""},"Profit ($)"),l.a.createElement("button",{onClick:function(e){Dr("avgprofit"),kt(3)},className:3===Dt?"bdgtlvl3active":""},"Avg. Profit ($)"),l.a.createElement("button",{onClick:function(e){Dr("margin"),kt(4)},className:4===Dt?"bdgtlvl3active":""},"Margin (%)")),l.a.createElement("ul",{className:"bdgtsummarytable"},l.a.createElement("li",{className:"stblrow stblheader"},l.a.createElement("p",{className:"stblcollarge"},"Country"),l.a.createElement("p",{className:"stblfig"},"Q1"),l.a.createElement("p",{className:"stblfig"},"Q2"),l.a.createElement("p",{className:"stblfig"},"Q3"),l.a.createElement("p",{className:"stblfig"},"Q4"),l.a.createElement("p",{className:"stblfig"},"Total")),l.a.createElement("div",{className:"bdgtsummarydata"},Me?Object.entries(Me.groupBy(vr)).sort(function(e,t){var a=Object(n.a)(e,2)[1],r=Object(n.a)(t,2)[1];return"quantity"===Cr||"profit"===Cr?Yr(r,Cr)-Yr(a,Cr):"avgprofit"===Cr?Mr(r,"profit","quantity")-Mr(a,"profit","quantity"):"margin"===Cr?Mr(r,"profit","revenue")-Mr(a,"profit","revenue"):void 0}).map(function(e,t){var a=0,r=0,o=0,c=0,i=0,s=0,u=0,m=0,p=0,d=0,f=0,h=0;return e[1].forEach(function(e){1===e.quarter&&(a+=e.quantity,i+=e.profit,p+=e.revenue),2===e.quarter&&(r+=e.quantity,s+=e.profit,d+=e.revenue),3===e.quarter&&(o+=e.quantity,u+=e.profit,f+=e.revenue),4===e.quarter&&(c+=e.quantity,m+=e.profit,h+=e.revenue)}),[l.a.createElement(Oe.a,{className:"bdgtacc",allowZeroExpanded:!0},l.a.createElement(Oe.b,{style:{border:"none"}},l.a.createElement(Oe.d,null,l.a.createElement(Oe.c,{className:"bsummaccordion_button"},l.a.createElement("li",{className:"stblrow"},l.a.createElement("p",{className:"stblcollarge"},"Latin America"===e[0]?"L. America":"Dominican Republic"===e[0]?"Dom Rep":e[0]),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?a.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$"+i.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==i&&0!==a&&"avgprofit"===Cr?"$"+(i/a).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==i&&0!==a&&"margin"===Cr?(i/p*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?r.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+s.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==s&&0!==r&&"avgprofit"===Cr?"$"+(s/r).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==s&&0!==r&&"margin"===Cr?(s/d*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?o.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+u.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==u&&0!==o&&"avgprofit"===Cr?"$"+(u/o).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==u&&0!==o&&"margin"===Cr?(u/f*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?c.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+m.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==m&&0!==c&&"avgprofit"===Cr?"$"+(m/c).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==m&&0!==c&&"margin"===Cr?(m/h*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===Cr?(a+r+o+c).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+(i+s+u+m).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):i+s+u+m!==0&&a+r+o+c!==0&&"avgprofit"===Cr?"$"+((i+s+u+m)/(a+r+o+c)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):i+s+u+m!==0&&p+d+f+h!==0&&"margin"===Cr?((i+s+u+m)/(p+d+f+h)*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-")))),l.a.createElement(Oe.e,{className:"bdgtaccpanel"},Object.entries(e[1].groupBy(jr)).sort(function(e,t){var a=Object(n.a)(e,2)[1],r=Object(n.a)(t,2)[1];return"quantity"===Cr||"profit"===Cr?Yr(r,Cr)-Yr(a,Cr):"avgprofit"===Cr?Mr(r,"profit","quantity")-Mr(a,"profit","quantity"):"margin"===Cr?Mr(r,"profit","revenue")-Mr(a,"profit","revenue"):void 0}).map(function(e){var t=0,a=0,r=0,n=0,o=0,c=0,i=0,s=0,u=0,m=0,p=0,d=0;return e[1].forEach(function(e){1===e.quarter&&(t+=e.quantity,o+=e.profit,u+=e.revenue,Lr+=e.quantity,qr+=e.profit,Gr+=e.revenue),2===e.quarter&&(a+=e.quantity,c+=e.profit,m+=e.revenue,Tr+=e.quantity,Qr+=e.profit,_r+=e.revenue),3===e.quarter&&(r+=e.quantity,i+=e.profit,p+=e.revenue,Pr+=e.quantity,$r+=e.profit,Kr+=e.revenue),4===e.quarter&&(n+=e.quantity,s+=e.profit,d+=e.revenue,Br+=e.quantity,Ar+=e.profit,Vr+=e.revenue)}),l.a.createElement("li",{className:"stblrow"},l.a.createElement("p",{className:"stblcollarge"},"Dominican Republic"===e[0]?"Dom Rep":"Latin America"===e[0]?"L. America":e[0]),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?t.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+o.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==o&&0!==t&&"avgprofit"===Cr?"$ "+(o/t).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==o&&0!==u&&"margin"===Cr?(o/u*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?a.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+c.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==c&&0!==a&&"avgprofit"===Cr?"$ "+(c/a).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==c&&0!==m&&"margin"===Cr?(c/m*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?r.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+i.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==i&&0!==r&&"avgprofit"===Cr?"$ "+(i/r).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==i&&0!==p&&"margin"===Cr?(i/p*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?n.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+s.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==s&&0!==n&&"avgprofit"===Cr?"$ "+(s/n).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==s&&0!==d&&"margin"===Cr?(s/d*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===Cr?(t+a+r+n).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+(o+c+i+s).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):o+c+i+s!==0&&t+a+r+n!==0&&"avgprofit"===Cr?"$ "+((o+c+i+s)/(t+a+r+n)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):o+c+i+s!==0&&u+m+p+d!==0&&"margin"===Cr?((o+c+i+s)/(u+m+p+d)*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"))}))))]}):"",l.a.createElement("li",{className:"stblrow stblfooter"},l.a.createElement("p",{className:"stblcollarge  stbltotal"},"TOTAL"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===Cr?Lr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+qr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==Lr&&0!==qr&&"avgprofit"===Cr?"$"+(qr/Lr).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==Lr&&0!==Gr&&"margin"===Cr?(qr/Gr*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===Cr?Tr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+Qr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==Tr&&0!==Qr&&"avgprofit"===Cr?"$"+(Qr/Tr).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==_r&&0!==Qr&&"margin"===Cr?(Qr/_r*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===Cr?Pr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+$r.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==Pr&&0!==$r&&"avgprofit"===Cr?"$"+($r/Pr).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==Kr&&0!==$r&&"margin"===Cr?($r/Kr*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===Cr?Br.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+Ar.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==Br&&0!==Ar&&"avgprofit"===Cr?"$"+(Ar/Br).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==Vr&&0!==Ar&&"margin"===Cr?(Ar/Vr*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===Cr?(Lr+Tr+Pr+Br).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+(qr+Qr+$r+Ar).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):Lr+Tr+Pr+Br!==0&&qr+Qr+$r+Ar!==0&&"avgprofit"===Cr?"$"+((qr+Qr+$r+Ar)/(Lr+Tr+Pr+Br)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):Gr+_r+Kr+Vr!==0&&qr+Qr+$r+Ar!==0&&"margin"===Cr?((qr+Qr+$r+Ar)/(Gr+_r+Kr+Vr)*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-")))))))},De=function(){return l.a.createElement("div",{className:"budgetcontainer"},l.a.createElement("div",{className:"budgetnav"},l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/budget/budget2023",exact:!0},"2023")),l.a.createElement("div",{className:"gridcontainer budgetgridcontainer"},l.a.createElement(s.a,{path:"/budget/budget2023"},l.a.createElement(Ce,null))))};a.d(t,"a",function(){return ke});var ke=Object(c.createContext)(),Fe={isAuthenticated:JSON.parse(localStorage.getItem("isAuthenticated"))||!1,user:JSON.parse(localStorage.getItem("user"))||null,accesstoken:null,refreshtoken:JSON.parse(localStorage.getItem("refreshtoken"))||null},Ie=function(e,t){switch(t.type){case"LOGIN":return localStorage.setItem("user",JSON.stringify(t.payload.user)),localStorage.setItem("WGusercode",JSON.stringify(t.payload.usercode)),localStorage.setItem("WGuserID",JSON.stringify(t.payload.userID)),localStorage.setItem("refreshtoken",JSON.stringify(t.payload.refreshtoken)),localStorage.setItem("accesstoken",JSON.stringify(t.payload.accesstoken)),localStorage.setItem("isAuthenticated",!0),localStorage.setItem("role",t.payload.role),Object(o.a)({},e,{isAuthenticated:!0,user:t.payload.user,usercode:t.payload.usercode,refreshtoken:t.payload.refreshtoken,accesstoken:t.payload.accesstoken});case"LOGOUT":return localStorage.removeItem("user"),localStorage.removeItem("WGusercode"),localStorage.removeItem("WGuserID"),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("refreshtoken"),localStorage.removeItem("accesstoken"),localStorage.removeItem("role"),localStorage.removeItem("rgl-mgmt"),Object(o.a)({},e,{isAuthenticated:!1,user:null});default:return}};t.b=function(){var e=JSON.parse(localStorage.getItem("role")),t=Object(c.useReducer)(Ie,Fe),a=Object(n.a)(t,2),r=a[0],o=a[1];return l.a.createElement(Ee.b,null,l.a.createElement(w.b,null,l.a.createElement(ke.Provider,{value:{state:r,dispatch:o}},l.a.createElement("div",{className:"App"},r.isAuthenticated?l.a.createElement(l.a.Fragment,null,l.a.createElement(N,null),l.a.createElement(i.a,null,l.a.createElement(x,null),l.a.createElement(s.c,null,4===e?l.a.createElement(s.a,{path:"/"},l.a.createElement(re.b,null,l.a.createElement(ve,null))):3===e?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{path:"/analysis"},l.a.createElement(ee,null)),l.a.createElement(s.a,{exact:!0,path:"/"},l.a.createElement(j.a,null)),l.a.createElement(s.a,{path:"/sales"},l.a.createElement(v.a,null)),l.a.createElement(s.a,{path:"/logistics"},l.a.createElement(re.b,null,l.a.createElement(ve,null)))):2===e?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{path:"/management"},l.a.createElement(T,null)),l.a.createElement(s.a,{path:"/analysis"},l.a.createElement(ee,null)),l.a.createElement(s.a,{exact:!0,path:"/"},l.a.createElement(j.a,null)),l.a.createElement(s.a,{path:"/sales"},l.a.createElement(v.a,null)),l.a.createElement(s.a,{path:"/logistics"},l.a.createElement(re.b,null,l.a.createElement(ve,null))),l.a.createElement(s.a,{path:"/budget"},l.a.createElement(De,null))):1===e?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{path:"/management"},l.a.createElement(T,null)),l.a.createElement(s.a,{path:"/analysis"},l.a.createElement(ee,null)),l.a.createElement(s.a,{exact:!0,path:"/"},l.a.createElement(j.a,null)),l.a.createElement(s.a,{path:"/sales"},l.a.createElement(v.a,null)),l.a.createElement(s.a,{path:"/logistics"},l.a.createElement(re.b,null,l.a.createElement(ve,null))),l.a.createElement(s.a,{path:"/budget"},l.a.createElement(De,null)),l.a.createElement(s.a,{path:"/admin"},l.a.createElement(J,null))):""))):l.a.createElement(y,null)))))}}},[[425,3,2]]]);
//# sourceMappingURL=main.c52ec875.chunk.js.map