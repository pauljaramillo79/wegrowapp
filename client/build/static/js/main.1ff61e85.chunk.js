(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var r,n,c=a(0),o=a.n(c);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var i=function(e){return o.a.createElement("svg",l({viewBox:"0 0 25.4686 20.6502"},e),r||(r=o.a.createElement("defs",null)),n||(n=o.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},o.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},o.a.createElement("path",{className:"cls-1",d:"M4.3456,9.448A8.0011,8.0011,0,0,1,18.1469,4.51"}),o.a.createElement("polygon",{className:"cls-2",points:"8.8 6.723 6.647 15.64 0 9.317 8.8 6.723"}),o.a.createElement("path",{className:"cls-3",d:"M21.122,11.1279A8.001,8.001,0,0,1,7.3673,16.1942"}),o.a.createElement("polygon",{className:"cls-4",points:"16.693 13.895 18.763 4.958 25.469 11.218 16.693 13.895"})))))};a.p},117:function(e,t,a){},167:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return s});var r=a(1),n=a(0),c=a.n(n),o=a(5),l=a.n(o),i=c.a.createContext(),s=function(e){var t=e.children,a=Object(n.useState)(),o=Object(r.a)(a,2),s=o[0],u=o[1];return Object(n.useEffect)(function(){l.a.post("/usmktpriceupdates").then(function(e){u(e.data)})},[]),c.a.createElement(i.Provider,{value:{mktpricedata:s,setMktpricedata:u}},t)}},227:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(638),o=a(108),l=a(39),i=a(9);t.a=function(e){var t=e.csvData,a=e.fileName;return n.a.createElement("div",{className:"bdgtexport",onClick:function(e){return function(e,t){var a={Sheets:{data:o.utils.json_to_sheet(e)},SheetNames:["data"]},r=o.write(a,{bookType:"xlsx",type:"array"}),n=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});c.saveAs(n,t+".xlsx")}(t,a)}},n.a.createElement(l.a,{style:{marginRight:"0.5rem"},icon:i.c}),"Export")}},256:function(e,t,a){"use strict";a(7),a(1),a(5),a(0),a(295),a(122)},267:function(e,t,a){"use strict";(function(e){var r=a(1),n=a(4),c=a(0),o=a.n(c),l=(a(110),a(111),a(43)),i=(a(117),a(281)),s=a(729),u=a(279),m=(a(287),Object(l.WidthProvider)(l.Responsive));t.a=function(){var t=function(t,a){var r,c;r="layouts",c=a,e.localStorage&&e.localStorage.setItem("rgl-sales",JSON.stringify(Object(n.a)({},r,c))),f(a)},a=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-sales"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],md:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],sm:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],xs:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}],xxs:[{i:"a",x:0,y:13,w:35,h:6},{i:"b",x:0,y:0,w:29,h:13}]},l=Object(c.useState)(a),p=Object(r.a)(l,2),d=p[0],f=p[1],h=Object(c.useState)(!1),g=Object(r.a)(h,2),b=g[0],y=g[1],v=Object(c.useState)({}),E=Object(r.a)(v,2),N=E[0],O=E[1],j=function(){y(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"gridcontainer"},o.a.createElement(u.a,{show:b,handleClose:j,QStoedit:N}),o.a.createElement(m,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:d,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,a){t(0,a)},margin:[20,20],draggableCancel:".canceldrag"},o.a.createElement("div",{id:"sales1",key:"a"},o.a.createElement(i.a,{showEditModal:function(e,t){y(!0),O(t)},hideEditModal:j,QSmodalState:b,QStoedit:N})),o.a.createElement("div",{id:"sales2",key:"b"},o.a.createElement(s.a,null)))))}}).call(this,a(74))},272:function(e,t,a){"use strict";(function(e){var r=a(1),n=a(4),c=a(0),o=a.n(c),l=(a(110),a(111),a(43)),i=(a(117),a(313),a(731)),s=a(732),u=a(394),m=a(290),p=a(395),d=(a(287),a(131)),f=(a(537),a(113)),h=a(47),g=a(167),b=a(296),y=Object(l.WidthProvider)(l.Responsive);t.a=function(){var t=Object(c.useContext)(h.a),a=(t.posrefresh,t.togglePosrefresh),l=function(t,a){var r,c;r="layouts",c=a,e.localStorage&&e.localStorage.setItem("rgl-positions",JSON.stringify(Object(n.a)({},r,c))),j(a)},v=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-positions"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],md:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],sm:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],xs:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}],xxs:[{i:"a",x:0,y:0,w:21,h:12},{i:"b",x:21,y:0,w:10,h:12},{i:"c",x:0,y:12,w:21,h:8}]},E=Object(c.useState)(v),N=Object(r.a)(E,2),O=N[0],j=N[1],x=Object(c.useState)(!1),w=Object(r.a)(x,2),S=w[0],C=w[1],D=Object(c.useState)(!1),k=Object(r.a)(D,2),F=k[0],I=k[1],L=Object(c.useState)({}),B=Object(r.a)(L,2),P=B[0],T=B[1],q=function(e){e.preventDefault(),C(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"gridcontainer"},o.a.createElement(p.a,{showAddProd:F,handleClose:function(e){e.preventDefault(),I(!1)}}),o.a.createElement(m.a,{show:S,handleClose:q,positiontoedit:P}),o.a.createElement(y,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:O,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,t){l(0,t)},margin:[20,20],draggableCancel:".canceldrag"},o.a.createElement("div",{id:"positions1",key:"a"},o.a.createElement("div",{className:"positionreporttitleline"},o.a.createElement("h3",{className:"positionreporttitle"},"Position Report"),o.a.createElement(f.a,{className:"refreshicon",onClick:function(e){a()}})),o.a.createElement(g.b,null,o.a.createElement(d.d,null,o.a.createElement(d.b,null,o.a.createElement(d.a,null,"Global"),o.a.createElement(d.a,null,"USA Distribution")),o.a.createElement(d.c,null,o.a.createElement(i.a,{key:"positionreport"})),o.a.createElement(d.c,null,o.a.createElement(b.a,{key:"usapositionreport"}))))),o.a.createElement("div",{id:"positions2",key:"b"},o.a.createElement(u.a,{key:"positionadd",showAddProd:function(e){I(!0)}})),o.a.createElement("div",{id:"positions2",key:"c"},o.a.createElement(s.a,{showEditModal:function(e,t){C(!0),T(t)},hideEditModal:q,modalState:S,postoedit:P,key:"positions"})))))}}).call(this,a(74))},279:function(e,t,a){"use strict";var r=a(7),n=a(4),c=a(2),o=a(34),l=a(1),i=a(0),s=a.n(i),u=(a(512),a(5)),m=a.n(u),p=a(51),d=a(47),f=a(54),h=(a(268),a(6)),g=a.n(h);function b(){b=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new x(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=N(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var y=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function N(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(e){var t=e.handleClose,a=e.show,u=e.QStoedit,h=Object(i.useContext)(d.a).toggleQSrefresh,y=a?"modal QSmodal display-block":"modal QSmodal display-none",v=Object(i.useState)(),E=Object(l.a)(v,2),N=E[0],O=E[1],j=Object(i.useState)(),x=Object(l.a)(j,2),w=x[0],S=x[1],C=Object(i.useState)([]),D=Object(l.a)(C,2),k=D[0],F=D[1],I=Object(i.useState)(),L=Object(l.a)(I,2),B=L[0],P=L[1],T=Object(i.useState)(!0),q=Object(l.a)(T,2),$=q[0],Q=q[1];Object(i.useEffect)(function(){a&&m.a.post("/QSIDList").then(function(e){var t=Object(o.a)(new Set(e.data.map(function(e){return e.QSID})));O(u.QSID),S(u.QSID),F(t),Q(!$)})},[a]),Object(i.useEffect)(function(){P(k.indexOf(N))},[$]);var A={includedrate:"",includedperiod:"",quantity:"",materialcost:"",pcommission:"",pfinancecost:"",sfinancecost:"",freightpmt:"",insurancecost:"",inspectioncost:"",scommission:"",interestcost:"",legal:"",pallets:"",other:"",totalcost:"",interestrate:"",interestdays:"",pricebeforeint:"",salesinterest:"",priceafterint:""},G=Object(i.useState)(A),_=Object(l.a)(G,2),R=_[0],K=_[1],M=Object(i.useState)(null),Y=Object(l.a)(M,2),V=(Y[0],Y[1]),W=Object(i.useState)(!1),U=Object(l.a)(W,2),H=U[0],z=U[1],J=Object(i.useState)(),Z=Object(l.a)(J,2),X=Z[0],ee=Z[1],te=Object(i.useState)(),ae=Object(l.a)(te,2),re=ae[0],ne=ae[1],ce=Object(i.useState)(),oe=Object(l.a)(ce,2),le=oe[0],ie=oe[1];Object(i.useEffect)(function(){a&&N&&m.a.post("/QStoedit",{id:N}).then(function(e){K(e.data[0]),V(e.data[0]),ie(e.data[0].saleComplete),ee(Object(c.a)({},X,{totalcost:Number(e.data[0].totalcost.replace("$","").replace(",","")),interestcost:Number(e.data[0].interestcost.replace("$","").replace(",","")),salesinterest:Number(e.data[0].salesinterest.replace("$","").replace(",","")),pricebeforeint:Number(e.data[0].pricebeforeint.replace("$","").replace(",","")),priceafterint:Number(e.data[0].priceafterint.replace("$","").replace(",","")),profit:Number(e.data[0].profit.replace("$","").replace(",","")),margin:Number(e.data[0].margin.replace("$","").replace(",","")),turnover:Number(e.data[0].turnover.replace("$","").replace(",","")),pctmargin:Number(e.data[0].pctmargin.replace("%","").replace(",","")/100),netback:Number(e.data[0].netback.replace("$","").replace(",",""))}))})},[a,N]);var se=function(e){e.preventDefault(),K(Object(c.a)({},R,Object(n.a)({},e.target.name,e.target.value))),ee(Object(c.a)({},X,Object(n.a)({},e.target.name,e.target.value)))},ue=function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""==e.target.value)&&(K(Object(c.a)({},R,Object(n.a)({},e.target.name,e.target.value))),ee(Object(c.a)({},X,Object(n.a)({},e.target.name,e.target.value))))},me=function(e){e.preventDefault(),RegExp("^[0-9.,$]+$").test(e.target.value)&&(K(Object(c.a)({},R,Object(n.a)({},e.target.name,e.target.value))),ee(Object(c.a)({},X,Object(n.a)({},e.target.name,e.target.value.includes("$")?e.target.value.replace("$",""):e.target.value))))},pe=function(e){e.preventDefault(),RegExp("^[0-9.%]+$").test(e.target.value)&&(K(Object(c.a)({},R,Object(n.a)({},e.target.name,e.target.value))),ee(Object(c.a)({},X,Object(n.a)({},e.target.name,e.target.value.includes("%")?Number(e.target.value.replace("%",""))/100:Number(e.target.value)/100))))},de=function(e){var t,a;t=e.target.value,a=e.target.name,null!==t&&""!==t?t.toString().includes("$")||t.toString().includes(",")?K(Object(c.a)({},R,Object(n.a)({},a,"$"+Number(t.replace("$","").replace(",","")).toFixed(2)))):K(Object(c.a)({},R,Object(n.a)({},a,"$"+Number(t).toFixed(2)))):K(Object(c.a)({},R,Object(n.a)({},a,"$0.00")))},fe=function(e){var t,a;t=e.target.value,a=e.target.name,null!==t&&""!==t?t.toString().includes("%")?K(Object(c.a)({},R,Object(n.a)({},a,Number(t.replace("%","")).toFixed(2)+"%"))):K(Object(c.a)({},R,Object(n.a)({},a,Number(t).toFixed(2)+"%"))):K(Object(c.a)({},R,Object(n.a)({},a,"0.00%")))};Object(i.useEffect)(function(){le&&(K(Object(c.a)({},R,{saleComplete:-1})),ee(Object(c.a)({},X,{saleComplete:-1}))),le||(K(Object(c.a)({},R,{saleComplete:0})),ee(Object(c.a)({},X,{saleComplete:0})))},[le]);var he=Object(i.useState)(!1),ge=Object(l.a)(he,2),be=ge[0],ye=ge[1];Object(i.useEffect)(function(){be&&(K(Object(c.a)({},R,{finalComplete:1})),ee(Object(c.a)({},X,{finalComplete:1}))),be||(K(Object(c.a)({},R,{finalComplete:0})),ee(Object(c.a)({},X,{finalComplete:0})))},[be]),Object(i.useEffect)(function(){if(R.from&&!R.to&&(K(Object(c.a)({},R,{to:R.from})),ee(Object(c.a)({},X,{to:R.from}))),R.from&&R.to){var e=g()(R.from);g()(R.to).diff(e,"days")<0&&Object(f.confirmAlert)({title:"Check shipment dates",message:"Delivery date (to) cannot be earlier than shipment date (from)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})}},[R.from,R.to]),Object(i.useEffect)(function(){R.freightTotal&&R.payload&&Number(R.freightTotal.replace("$","").replace(",",""))>0&&Number(R.payload)>0&&(K(Object(c.a)({},R,{freightpmt:"$"+(Number(R.freightTotal.replace("$","").replace(",",""))/Number(R.payload)).toFixed(2)})),ee(Object(c.a)({},X,{freightTotal:Number(R.freightTotal.replace("$","").replace(",","")),payload:Number(R.payload),freightpmt:Number(R.freightTotal.replace("$","").replace(",",""))/Number(R.payload)})))},[R.freightTotal,R.payload]),Object(i.useEffect)(function(){K(Object(c.a)({},R,{salesinterest:"$"+(Number(R.interestrate.replace("%",""))/100*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360).toFixed(2)})),ee(Object(c.a)({},X,{salesinterest:Number(R.interestrate.replace("%",""))/100*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360}))},[R.interestdays,R.interestrate,R.pricebeforeint]),Object(i.useEffect)(function(){K(Object(c.a)({},R,{interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?"$"+(Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2)})),ee(Object(c.a)({},X,{interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0}))},[R.includedrate,R.includedperiod,R.pricebeforeint]),Object(i.useEffect)(function(){0===Number(R.interestrate.replace("%",""))||0===R.interestdays?(K(Object(c.a)({},R,{interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?"$"+(Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2),salesinterest:"$"+(Number(R.interestrate.replace("%",""))*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360/100).toFixed(2),priceafterint:"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))+Number(R.salesinterest.replace("$",""))).toFixed(2)})),ee(Object(c.a)({},X,{interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0,salesinterest:Number(R.interestrate.replace("%",""))*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360/100,priceafterint:Number(R.pricebeforeint.replace("$","").replace(",",""))+Number(R.salesinterest.replace("$",""))}))):(K(Object(c.a)({},R,{interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?"$"+(Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2),salesinterest:"$"+(Number(R.interestrate.replace("%",""))*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360/100).toFixed(2),priceafterint:"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))+Number(R.salesinterest.replace("$",""))).toFixed(2)})),ee(Object(c.a)({},X,{interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0,salesinterest:Number(R.interestrate.replace("%",""))*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360/100})))},[R.pricebeforeint]),Object(i.useEffect)(function(){K(Object(c.a)({},R,{priceafterint:"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))+Number(R.salesinterest.replace("$",""))).toFixed(2)})),ee(Object(c.a)({},X,{priceafterint:Number(R.pricebeforeint.replace("$","").replace(",",""))+Number(R.salesinterest.replace("$",""))}))},[R.salesinterest]),Object(i.useEffect)(function(){K(Object(c.a)({},R,{insurancecost:"CPT"===R.incoterms||"CFR"===R.incoterms||"DAP"===R.incoterms?"$"+(.07*Number(R.pricebeforeint.replace("$","").replace(",",""))*1.1/100).toFixed(2):"CIF"===R.incoterms||"CIP"===R.incoterms?"$"+(.14*Number(R.pricebeforeint.replace("$","").replace(",",""))*1.1/100).toFixed(2):"$0.00",inspectioncost:Number(R.quantity.replace(",",""))>0&&R.totalinspection?"$"+Number(Number(R.totalinspection.replace("$","").replace(",",""))/Number(R.quantity.replace(",",""))).toFixed(2):"$0.00",interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?"$"+(Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100).toFixed(2):"$"+Number(0).toFixed(2),salesinterest:"$"+(Number(R.interestrate.replace("%",""))*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360/100).toFixed(2),priceafterint:"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))+Number(R.salesinterest.replace("$",""))).toFixed(2),profit:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",",""))).toFixed(2):"$0.00",margin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+((Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))*Number(R.quantity.replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",turnover:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(R.quantity.replace(",",""))*Number(R.pricebeforeint.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",pctmargin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?((Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))/Number(R.pricebeforeint.replace("$","").replace(",",""))*100).toFixed(2)+"%":"0.00%",netback:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",",""))+Number(R.materialcost.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00"})),ee(Object(c.a)({},X,{insurancecost:"CFR"===R.incoterms||"CPT"===R.incoterms||"DAP"===R.incoterms?.07*Number(R.pricebeforeint.replace("$","").replace(",",""))*1.1/100:"CIP"===R.incoterms||"CIF"===R.incoterms?.14*Number(R.pricebeforeint.replace("$","").replace(",",""))*1.1/100:0,inspectioncost:Number(R.quantity.replace(",",""))>0&&R.totalinspection?Number(Number(R.totalinspection.replace("$","").replace(",",""))/Number(R.quantity.replace(",",""))):0,interestcost:Number(R.includedrate.toString().replace("%","")>0)&&Number(R.includedperiod)>0?Number(R.includedrate.toString().replace("%",""))*Number(R.includedperiod)*Number(R.pricebeforeint.toString().replace("$","").replace(",",""))/360/100:0,salesinterest:Number(R.interestrate.replace("%",""))*Number(R.interestdays)*Number(R.pricebeforeint.replace("$","").replace(",",""))/360/100,priceafterint:Number(R.pricebeforeint.replace("$","").replace(",",""))+Number(R.salesinterest.replace("$","")),profit:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")):0,margin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))*Number(R.quantity.replace(",","")):0,turnover:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?Number(R.quantity.replace(",",""))*Number(R.pricebeforeint.replace("$","").replace(",","")):0,pctmargin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))/Number(R.pricebeforeint.replace("$","").replace(",","")):0,netback:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",",""))+Number(R.materialcost.replace("$","").replace(",","")):0}))},[R.quantity,R.pricebeforeint,R.incoterms,R.totalinspection]),Object(i.useEffect)(function(){K(Object(c.a)({},R,{profit:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",",""))).toFixed(2):"$0.00",margin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+((Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))*Number(R.quantity.replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",turnover:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(R.quantity.replace(",",""))*Number(R.pricebeforeint.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00",pctmargin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?((Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))/Number(R.pricebeforeint.replace("$","").replace(",",""))*100).toFixed(2)+"%":"0.00%",netback:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?"$"+(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",",""))+Number(R.materialcost.replace("$","").replace(",",""))).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0.00"})),ee(Object(c.a)({},X,{profit:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")):0,margin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))*Number(R.quantity.replace(",","")):0,turnover:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?Number(R.quantity.replace(",",""))*Number(R.pricebeforeint.replace("$","").replace(",","")):0,pctmargin:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?(Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",","")))/Number(R.pricebeforeint.replace("$","").replace(",","")):0,netback:Number(R.quantity.replace(",",""))>0&&Number(R.pricebeforeint.replace("$","").replace(",",""))>0?Number(R.pricebeforeint.replace("$","").replace(",",""))-Number(R.totalcost.replace("$","").replace(",",""))+Number(R.materialcost.replace("$","").replace(",","")):0}))},[R.totalcost]),Object(i.useEffect)(function(){K(Object(c.a)({},R,{totalcost:"$"+(Number(R.materialcost.replace("$","").replace(",",""))+Number(R.pcommission.replace("$","").replace(",",""))+Number(R.pfinancecost.replace("$","").replace(",",""))+Number(R.sfinancecost.replace("$","").replace(",",""))+Number(R.freightpmt.replace("$","").replace(",",""))+Number(R.insurancecost.replace("$","").replace(",",""))+Number(R.inspectioncost.replace("$","").replace(",",""))+Number(R.scommission.replace("$","").replace(",",""))+Number(R.interestcost.replace("$","").replace(",",""))+Number(R.legal.replace("$","").replace(",",""))+Number(R.pallets.replace("$","").replace(",",""))+Number(R.other.replace("$","").replace(",",""))).toFixed(2)})),ee(Object(c.a)({},X,{totalcost:Number(R.materialcost.replace("$","").replace(",",""))+Number(R.pcommission.replace("$","").replace(",",""))+Number(R.pfinancecost.replace("$","").replace(",",""))+Number(R.sfinancecost.replace("$","").replace(",",""))+Number(R.freightpmt.replace("$","").replace(",",""))+Number(R.insurancecost.replace("$","").replace(",",""))+Number(R.inspectioncost.replace("$","").replace(",",""))+Number(R.scommission.replace("$","").replace(",",""))+Number(R.interestcost.replace("$","").replace(",",""))+Number(R.legal.replace("$","").replace(",",""))+Number(R.pallets.replace("$","").replace(",",""))+Number(R.other.replace("$","").replace(",",""))}))},[R.materialcost,R.pcommission,R.pfinancecost,R.sfinancecost,R.freightpmt,R.insurancecost,R.inspectioncost,R.scommission,R.interestcost,R.legal,R.pallets,R.other]);var ve=function(){var e=Object(r.a)(b().mark(function e(a){return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,m.a.post("/updateQS",{QSedits:X,QSID:N}).then(function(e){h(),K(A)}).catch(ee({}));case 3:return e.next=5,t();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a?s.a.createElement("div",{className:y},s.a.createElement("section",{className:"modal-main"},s.a.createElement("div",{className:"QSeditmodaltitle"},s.a.createElement("h2",null,"Edit Quotation Sheet"),s.a.createElement("div",null,s.a.createElement("button",null,"Prev"),s.a.createElement("input",{className:"QSeditmodalsearch",onKeyDown:function(e){a&&"ArrowRight"===e.key&&(e.preventDefault(),O(k[B+1]),S(k[B+1]),P(B+1)),a&&"ArrowLeft"===e.key&&(e.preventDefault(),O(k[B-1]),S(k[B-1]),P(B-1)),a&&"Enter"===e.key&&k.includes(Number(e.target.value))&&O(Number(e.target.value))},value:w&&w||"",onChange:function(e){e.preventDefault(),S(e.target.value),P(k.indexOf(Number(e.target.value)))}}),s.a.createElement("button",null,"Next"))),s.a.createElement("form",{className:"QSModalForm",action:"",onSubmit:function(e){ve(e)}},s.a.createElement("section",{id:"edtQS-1"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"QS Date:"),s.a.createElement("input",{name:"QSDate",type:"date",readOnly:!0,value:R&&R.QSDate||"",className:"canceldrag"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"WGP:"),s.a.createElement("input",{name:"KTP",placeholder:"5000...",value:R&&R.KTP||"",onChange:ue,className:"canceldrag"})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Sale Type"),s.a.createElement("div",null,s.a.createElement("input",{type:"radio",name:"saleTypeID",required:!0,checked:!(!R||1!==R.saleTypeID),onClick:function(e){K(Object(c.a)({},R,{saleTypeID:1})),ee(Object(c.a)({},X,{saleTypeID:1}))}}),s.a.createElement("label",{htmlFor:""},"Back-to-back")),s.a.createElement("div",null,s.a.createElement("input",{type:"radio",name:"saleTypeID",required:!0,checked:!(!R||2!==R.saleTypeID),onClick:function(e){K(Object(c.a)({},R,{saleTypeID:2})),ee(Object(c.a)({},X,{saleTypeID:2}))}}),s.a.createElement("label",{htmlFor:""},"Position"),R&&2===R.saleTypeID?s.a.createElement("select",{className:"WGPSelect2",onClick:function(){m.a.post("/positiondropdown").then(function(e){ne(e.data)})},onChange:function(e){return function(e){var t=re[e];console.log(t),K(Object(c.a)({},R,{KTP:t.KTP,product:t.product,supplier:t.Supplier,from:t.start,to:t.end,materialcost:t.Price})),ee(Object(c.a)({},X,{KTP:t.KTP,productID:t.productID,supplierID:t.supplierID,from:t.start,to:t.end,materialcost:t.Price.replace("$","").replace(",","")}))}(e.target.value)}},s.a.createElement("option",null,"Select..."),R&&re?re.map(function(e,t){return s.a.createElement("option",{value:t},e.KTP+" - "+e.product+" - "+e.Supplier)}):""):"")),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"General"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"QSID:"),s.a.createElement("input",{name:"QSID",type:"text",required:!0,value:R&&R.QSID||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Product:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",thirdName:"productGroup",thirdID:"prodGroupID",value:R&&R.product||"",resetfield:H,setResetfield:z,setProdSupplier:function(e,t,a,r,n,o){K(Object(c.a)({},R,{product:t,supplier:r,productgroup:o})),ee(Object(c.a)({},X,{productID:e,supplierID:a}))}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Supplier:"),s.a.createElement("input",{name:"supplier",type:"text",required:!0,value:R&&R.supplier||""})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Customer:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/customers",searchID:"customerID",searchName:"customer",value:R&&R.customer||"",resetfield:H,setResetfield:z,setProdSupplier:function(e,t){K(Object(c.a)({},R,{customer:t})),ee(Object(c.a)({},X,{customerID:e}))}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Contact:"),s.a.createElement("input",{name:"contact",type:"text"}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Packaging"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Pack Size:"),s.a.createElement("input",{name:"packsize",type:"text",required:!0,value:R&&R.packsize||"",onChange:se})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Marks:"),s.a.createElement("input",{name:"marks",type:"text",required:!0,value:R&&R.marks||"",onChange:se}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Delivery"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"From:"),s.a.createElement("input",{name:"from",type:"date",required:!0,value:R&&R.from||"",onChange:se})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"To:"),s.a.createElement("input",{name:"to",type:"date",required:!0,value:R&&R.to||"",onChange:se})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"POL:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/POLS",searchID:"POLID",searchName:"POL",value:R&&R.POL||"",resetfield:H,setResetfield:z,setProdSupplier:function(e,t){K(Object(c.a)({},R,{POL:t})),ee(Object(c.a)({},X,{POLID:e}))}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"POD:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/PODS",searchID:"PODID",searchName:"POD",value:R&&R.POD||"",resetfield:H,setResetfield:z,setProdSupplier:function(e,t){K(Object(c.a)({},R,{POD:t})),ee(Object(c.a)({},X,{PODID:e}))}})))),s.a.createElement("section",{id:"editQS-2"},s.a.createElement("div",{className:"soldcheckbox",style:{marginBottom:"1rem"}},s.a.createElement("input",{className:"canceldrag",name:"saleComplete",type:"checkbox",checked:le,onClick:function(){ie(!le)}}),s.a.createElement("label",null,"Sold")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"WGS:"),s.a.createElement("input",{name:"KTS",placeholder:"5000...",value:R&&R.KTS||"",onChange:ue,className:"canceldrag"})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"In Charge"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Trader:"),s.a.createElement("input",{name:"trader",type:"text",required:!0,value:R&&R.trader||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Traffic:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/trafficmgrs",searchID:"trafficID",searchName:"traffic",value:R&&R.traffic||"",resetfield:H,setResetfield:z,setProdSupplier:function(e,t){K(Object(c.a)({},R,{traffic:t})),ee(Object(c.a)({},X,{trafficID:e}))}}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Terms"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Incoterms:"),s.a.createElement("input",{name:"incoterms",type:"text",required:!0,value:R&&R.incoterms||"",onChange:se})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payment Terms:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/paymentterms",searchID:"paytermID",searchName:"paymentTerm",value:R&&R.paymentterms||"",resetfield:H,setResetfield:z,setProdSupplier:function(e,t){K(Object(c.a)({},R,{paymentterms:t})),ee(Object(c.a)({},X,{pTermID:e}))}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inc. Interest:"),s.a.createElement("input",{name:"includedrate",type:"text",required:!0,value:R&&R.includedrate||"",onChange:pe,onBlur:fe})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inc. Days:"),s.a.createElement("input",{name:"includedperiod",type:"text",required:!0,value:R&&R.includedperiod||"",onChange:se}))),s.a.createElement("div",{className:"shipmentType"},s.a.createElement("input",{type:"radio",name:"shipmenttype"}),s.a.createElement("label",{htmlFor:""},"Container"),s.a.createElement("input",{type:"radio",name:"shipmenttype"}),s.a.createElement("label",{htmlFor:""},"Breakbulk"),s.a.createElement("input",{type:"radio",name:"shipmenttype"}),s.a.createElement("label",{htmlFor:""},"Distribution")),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Freight"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight ID:"),s.a.createElement("input",{name:"freightID",type:"text"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight Total:"),s.a.createElement("input",{name:"freightTotal",className:"QSfig",type:"text",value:R&&R.freightTotal||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Shipping Line:"),s.a.createElement("input",{name:"shippingline",value:R&&R.shippingline||"",onChange:se,type:"text"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payload:"),s.a.createElement("input",{name:"payload",className:"QSfig",type:"text",value:R&&R.payload||"",onChange:me})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Inspection:"),s.a.createElement("input",{name:"totalinspection",type:"text",className:"QSfig",value:R&&R.totalinspection||"",onChange:me,onBlur:de}))),s.a.createElement("div",null,s.a.createElement("input",{type:"checkbox",className:"canceldrag",name:"finalComplete",checked:be,onClick:function(){ye(!be)}}),s.a.createElement("label",{htmlFor:""},"Finalized"))),s.a.createElement("section",{id:"editQS-3"},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Figures"),s.a.createElement("section",{id:"editQS-3-col1"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Quantity:"),s.a.createElement("input",{className:"QSfig",name:"quantity",type:"text",required:!0,value:R&&R.quantity||"",onChange:me})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Costs"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Material Cost:"),s.a.createElement("input",{className:"QSfig",name:"materialcost",type:"text",required:!0,value:R&&R.materialcost||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"P Commission:"),s.a.createElement("input",{className:"QSfig",name:"pcommission",type:"text",required:!0,value:R&&R.pcommission||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"P Finance Cost:"),s.a.createElement("input",{className:"QSfig",name:"pfinancecost",type:"text",required:!0,value:R&&R.pfinancecost||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"S Finance Cost:"),s.a.createElement("input",{className:"QSfig",name:"sfinancecost",type:"text",required:!0,value:R&&R.sfinancecost||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight:"),s.a.createElement("input",{className:"QSfig",name:"freightpmt",type:"text",required:!0,value:R&&R.freightpmt||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Insurance Cost:"),s.a.createElement("input",{className:"QSfig",name:"insurancecost",type:"text",required:!0,value:R&&R.insurancecost||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inspection Cost:"),s.a.createElement("input",{className:"QSfig",name:"inspectioncost",type:"text",required:!0,value:R&&R.inspectioncost||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"S Commission:"),s.a.createElement("input",{className:"QSfig",name:"scommission",type:"text",required:!0,value:R&&R.scommission||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Cost:"),s.a.createElement("input",{className:"QSfig",name:"interestcost",type:"text",required:!0,value:R&&R.interestcost||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Legal:"),s.a.createElement("input",{className:"QSfig",name:"legal",type:"text",required:!0,value:R&&R.legal||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Pallets:"),s.a.createElement("input",{className:"QSfig",name:"pallets",type:"text",required:!0,value:R&&R.pallets||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Other:"),s.a.createElement("input",{className:"QSfig",name:"other",type:"text",required:!0,value:R&&R.other||"",onChange:me,onBlur:de}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Cost:"),s.a.createElement("input",{className:"QSfig",name:"totalcost",type:"text",required:!0,readOnly:!0,value:R&&R.totalcost||"",onChange:me,onBlur:de}))),s.a.createElement("section",{id:"editQS-3-col2"},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Sales Interest"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Rate:"),s.a.createElement("input",{className:"QSfig",name:"interestrate",type:"text",required:!0,value:R&&R.interestrate||"",onChange:pe,onBlur:fe})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Days:"),s.a.createElement("input",{className:"QSfig",name:"interestdays",type:"text",required:!0,value:R&&Number(R.interestdays).toFixed(0)||"",onChange:se}))),s.a.createElement("fieldset",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Price Before Int.:"),s.a.createElement("input",{className:"QSfig",name:"pricebeforeint",type:"text",required:!0,value:R&&R.pricebeforeint||"",onChange:me,onBlur:de})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Sales Interest:"),s.a.createElement("input",{className:"QSfig",name:"salesinterest",type:"text",required:!0,value:R&&R.salesinterest||"",readOnly:!0}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Price After Int.:"),s.a.createElement("input",{className:"QSfig",name:"priceafterint",type:"text",required:!0,value:R&&R.priceafterint||"",readOnly:!0})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Economics"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Profit:"),s.a.createElement("input",{className:"QSfig",name:"profit",type:"text",required:!0,value:R&&R.profit||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Margin:"),s.a.createElement("input",{className:"QSfig",name:"margin",type:"text",required:!0,value:R&&R.margin||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Turnover:"),s.a.createElement("input",{className:"QSfig",name:"turnover",type:"text",required:!0,value:R&&R.turnover||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"% Margin:"),s.a.createElement("input",{className:"QSfig",name:"pctmargin",type:"text",required:!0,value:R&&R.pctmargin||"",readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Netback:"),s.a.createElement("input",{className:"QSfig",name:"netback",type:"text",required:!0,value:R&&R.netback||"",readOnly:!0}))))),s.a.createElement("div",{className:"QSedit-buttons"},s.a.createElement("button",{className:"confirmbutton",type:"submit"},"Save Edits"),s.a.createElement("button",{className:"cancelbutton",onClick:function(){K(A),t(),ee(null)}},"Cancel")))))):""}},281:function(e,t,a){"use strict";var r=a(2),n=a(1),c=a(0),o=a.n(c),l=a(5),i=a.n(l),s=a(4),u=a(7),m=a(112),p=a.n(m),d=(a(322),a(290),a(99)),f=a(47),h=a(97),g=a(6),b=a.n(g),y=a(54);a(268),a(505);function v(){v=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new x(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=N(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function N(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var E=function(e){var t=JSON.parse(localStorage.getItem("role")),a=JSON.parse(localStorage.getItem("WGusercode")),l=(Object(c.useContext)(d.a).state,Object(c.useContext)(f.a)),m=l.QSrefresh,g=l.toggleQSrefresh,E=Object(c.useContext)(h.a),N=E.toggleQSload,O=(E.loaduser,E.QStoload,E.setFromdropdown),j=E.setQStoload,x=E.toggleDuplicate,w=JSON.parse(localStorage.getItem("accesstoken")),S=JSON.parse(localStorage.getItem("refreshtoken")),C=i.a.create({headers:{Authorization:"Bearer ".concat(w)}}),D=i.a.create({headers:{Authorization:"Bearer ".concat(S)}});C.interceptors.response.use(function(e){return e},function(){var t=Object(u.a)(v().mark(function t(a){var r;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!S||403!==a.response.status){t.next=8;break}return t.next=3,D.post("/refreshtoken");case 3:return r=t.sent,w=r.data.accesstoken,t.next=7,C.post("/sales",{userID:e.userID,limit:e.limit},{headers:{Authorization:"Bearer ".concat(w)}});case 7:return t.abrupt("return",t.sent);case 8:return t.abrupt("return",Promise.reject(a.response));case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());var k=Object(c.useState)([]),F=Object(n.a)(k,2),I=F[0],L=F[1],B=Object(c.useState)(e.config.sort||{column:"",order:""}),P=Object(n.a)(B,2),T=P[0],q=P[1],$=Object(c.useState)([]),Q=Object(n.a)($,2),A=Q[0],G=Q[1];Object(c.useState)(function(){e.setColumns(e.config.columns)},[]),Object(c.useEffect)(Object(u.a)(v().mark(function t(){return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.post("/sales",{userID:e.userID,limit:e.limit}).then(function(t){L(t.data),e.columns&&G(Object.keys(e.columns))});case 2:case"end":return t.stop()}},t)})),[m,e.userID,e.limit,e.columns]);var _=function(e){var t="asc"===T.order?"headerSortAsc":"headerSortDesc";return T.column===e?t:""},R={"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t}},K=[],M={},Y=/^((?:(?:[<>]=?)|==))\s?([-]?\d+(?:\.\d+)?)$/;A.forEach(function(t){var a,r=e.columns[t].filterText;if(M[t]=null,r.length>0){var n=Y.exec(r);n&&3===n.length?M[t]=(a=n,function(e){if(e)return R[a[1]](e,a[2])}):M[t]=function(e){if(e)return e.toString().toLowerCase().indexOf(r.toLowerCase())>-1}}});var V=p.a.filter(I,function(e){return p.a.every(A,function(t){return!M[t]||M[t](e[t])})}),W=p.a.sortBy(V,T.column);"desc"===T.order&&W.reverse();W.forEach(function(e,r){var n;K.push(o.a.createElement("tr",{id:r,key:r},(n=e,A.map(function(e,t){return"quantity"===e?n[e]?o.a.createElement("td",{className:"canceldrag",id:e+"-"+n.QSID,key:e+"-"+n.QSID},n[e].toFixed(2)):o.a.createElement("td",{className:"canceldrag",id:e+"-"+n.QSID,key:e+"-"+n.QSID},"na"):"materialCost"===e||"oFreight"===e||"priceBeforeInterest"===e||"tradingProfit"===e||"tradingMargin"===e||"netback"===e?n[e]?o.a.createElement("td",{className:"canceldrag",id:e+"-"+n.QSID,key:e+"-"+n.QSID},"$"+n[e].toFixed(2)):o.a.createElement("td",{className:"canceldrag",id:e+"-"+n.QSID,key:e+"-"+n.QSID},""):"percentageMargin"===e?n[e]?o.a.createElement("td",{className:"canceldrag",id:e+"-"+n.QSID,key:e+"-"+n.QSID},n[e].toFixed(2)+"%"):o.a.createElement("td",{className:"canceldrag",id:e+"-"+n.QSID,key:e+"-"+n.QSID},""):n[e]?o.a.createElement("td",{className:"canceldrag",id:e+"-"+n.QSID,key:e+"-"+n.QSID},n[e]):o.a.createElement("td",{className:"canceldrag",id:e+"-"+n.QSID,key:e+"-"+n.QSID},"")})),o.a.createElement("div",{className:"crudbuttons"},o.a.createElement("button",{className:"editbutton",onClick:function(t){j(e.QSID),N()}},"Edit"),o.a.createElement("button",{className:"editbutton",onClick:function(t){var a;t.preventDefault(),O(!0),a=e.QSID,i.a.post("duplicateQS",{QSID:a,QSDate:b()().format("yyyy-MM-DD")}).then(function(e){g(),x()})}},"Duplicate"),1===t||2===t||"NIR"===a?o.a.createElement("button",{className:"editbutton",onClick:function(t){O(!0),Object(y.confirmAlert)({title:"Are you sure?",message:"You are about to delete QS (".concat(e.QSID,"). This deletion is irreversible. Click Delete to continue or Cancel"),buttons:[{label:"Cancel",onClick:function(){return console.log("cancelled")}},{label:"Delete",onClick:function(){var t=Object(u.a)(v().mark(function t(){return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.delete("/deleteQS",{data:{id:e.QSID}}).then(function(e){g(),x()}).catch(function(e){return console.log(e)});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}],closeOnClickOutside:!0,closeOnEscape:!0})}},"Delete"):"")))});var U=A.map(function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("th",{onClick:(a=t,function(t){var r="asc"===T.order?"desc":"asc";T.column!==a&&(r=e.columns[a].defaultSortOrder),q({column:a,order:r})}),className:"header canceldrag "+_(t)},e.columns[t].name));var a}),H=A.map(function(t){return o.a.createElement("td",{className:"sales-filter canceldrag"},o.a.createElement("input",{type:"text",value:e.columns[t].filterText,onChange:function(a){!function(t,a){e.setColumns(Object(r.a)({},e.columns,Object(s.a)({},a,Object(r.a)({},e.columns[a],{filterText:t.target.value}))))}(a,t)}}))});return o.a.createElement("div",null,o.a.createElement("table",{cellSpacing:"0",className:"tablesorter"},o.a.createElement("thead",null,o.a.createElement("tr",null,U,o.a.createElement("th",{className:"header lastheader"})),o.a.createElement("tr",{className:"searchboxes"},H,o.a.createElement("td",null))),o.a.createElement("tbody",null,K)))},N=(a(507),a(113));t.a=function(e){var t=JSON.parse(localStorage.getItem("role")),a=Object(c.useContext)(f.a).toggleQSrefresh,l=Object(c.useContext)(h.a),s=l.loaduser,u=l.setLoaduser,m=(l.QStoload,l.setFromdropdown),p=Object(c.useState)(),d=Object(n.a)(p,2),g=d[0],b=d[1],y=Object(c.useState)(s),v=Object(n.a)(y,2),O=(v[0],v[1],Object(c.useState)(300)),j=Object(n.a)(O,2),x=j[0],w=j[1],S=Object(c.useState)(),C=Object(n.a)(S,2),D=C[0],k=C[1];Object(c.useEffect)(function(){i.a.post("/traders").then(function(e){b(e.data)})},[]);return o.a.createElement("div",{className:"saleslist"},o.a.createElement("div",{className:"salestitleline"},o.a.createElement("h3",{className:"saleslisttitle"},"Sales List"),o.a.createElement("button",{className:"clearfilterbutton",onClick:function(e){k(Object(r.a)({},D,{QSDate:Object(r.a)({},D.QSDate,{filterText:""}),QSID:Object(r.a)({},D.QSID,{filterText:""}),saleType:Object(r.a)({},D.saleType,{filterText:""}),WGP:Object(r.a)({},D.WGP,{filterText:""}),WGS:Object(r.a)({},D.WGS,{filterText:""}),abbreviation:Object(r.a)({},D.abbreviation,{filterText:""}),supplier:Object(r.a)({},D.supplie,{filterText:""}),customer:Object(r.a)({},D.customer,{filterText:""}),beginning:Object(r.a)({},D.beginning,{filterText:""}),finish:Object(r.a)({},D.finish,{filterText:""}),portOfLoad:Object(r.a)({},D.portOfLoad,{filterText:""}),portOfDestination:Object(r.a)({},D.portOfDestination,{filterText:""}),quantity:Object(r.a)({},D.quantity,{filterText:""}),materialCost:Object(r.a)({},D.materialCost,{filterText:""}),oFreight:Object(r.a)({},D.oFreight,{filterText:""}),priceBeforeInterest:Object(r.a)({},D.priceBeforeInterest,{filterText:""}),tradingProfit:Object(r.a)({},D.tradingProfit,{filterText:""}),tradingMargin:Object(r.a)({},D.tradingMargin,{filterText:""}),percentageMargin:Object(r.a)({},D.percentageMargin,{filterText:""}),netback:Object(r.a)({},D.netback,{filterText:""}),saleComplete:Object(r.a)({},D.saleComplete,{filterText:""})}))}},"Clear Filters"),o.a.createElement("select",{onChange:function(e){return w(e.target.value)}},o.a.createElement("option",{value:300},"300"),o.a.createElement("option",{value:1e3},"1000"),o.a.createElement("option",{value:"no limit"},"no limit")),1===t||2===t||3===t?o.a.createElement("select",{onChange:function(e){m(!0),u(e.target.value)}},o.a.createElement("option",{value:"all"},"All"),g?g.map(function(e){return e.trader===s?o.a.createElement("option",{selected:!0,value:e.trader},e.trader):o.a.createElement("option",{value:e.trader},e.trader)}):"reload"):"",o.a.createElement(N.a,{className:"refreshicon",onClick:function(e){a()}})),o.a.createElement(E,{config:{sort:{column:"QSID",order:"desc"},columns:{QSDate:{name:"QSDate",filterText:"",defaultSortOrder:"asc"},QSID:{name:"QSID",filterText:"",defaultSortOrder:"asc"},saleType:{name:"SaleType",filterText:"",defaultSortOrder:"asc"},WGP:{name:"WGP",filterText:"",defaultSortOrder:"asc"},WGS:{name:"WGS",filterText:"",defaultSortOrder:"asc"},abbreviation:{name:"Product",filterText:"",defaultSortOrder:"asc"},supplier:{name:"Supplier",filterText:"",defaultSortOrder:"asc"},customer:{name:"Customer",filterText:"",defaultSortOrder:"asc"},beginning:{name:"From",filterText:"",defaultSortOrder:"asc"},finish:{name:"To",filterText:"",defaultSortOrder:"asc"},portOfLoad:{name:"POL",filterText:"",defaultSortOrder:"asc"},portOfDestination:{name:"POD",filterText:"",defaultSortOrder:"asc"},quantity:{name:"Quantity",filterText:"",defaultSortOrder:"asc"},materialCost:{name:"Cost",filterText:"",defaultSortOrder:"asc"},oFreight:{name:"Freight",filterText:"",defaultSortOrder:"asc"},priceBeforeInterest:{name:"SalesPrice",filterText:"",defaultSortOrder:"asc"},tradingProfit:{name:"Profit",filterText:"",defaultSortOrder:"asc"},tradingMargin:{name:"TotalProfit",filterText:"",defaultSortOrder:"asc"},percentageMargin:{name:"Margin",filterText:"",defaultSortOrder:"asc"},netback:{name:"Netback",filterText:"",defaultSortOrder:"asc"},saleComplete:{name:"Status",filterText:"",defaultSortOrder:"asc"}}},userID:s,limit:x,showEditModal:e.showEditModal,hideEditModal:e.hideEditModal,QSmodalState:e.QSmodalState,QStoedit:e.QStoedit,columns:D,setColumns:k}))}},287:function(e,t,a){},290:function(e,t,a){"use strict";var r=a(7),n=a(4),c=a(2),o=a(1),l=a(0),i=a.n(l),s=(a(500),a(5)),u=a.n(s),m=a(6),p=a.n(m),d=a(47),f=a(51);function h(){h=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new x(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=N(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&a.call(b,n)&&(f=b);var y=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function N(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(e){var t=e.handleClose,a=e.show,s=e.positiontoedit,m=Object(l.useContext)(d.a),g=(m.posrefresh,m.togglePosrefresh),b=a?"modal display-block":"modal display-none",y=s.WGP,v=Object(l.useState)(),E=Object(o.a)(v,2),N=E[0],O=E[1],j=Object(l.useState)(),x=Object(o.a)(j,2),w=x[0],S=x[1],C=Object(l.useState)(),D=Object(o.a)(C,2),k=D[0],F=D[1],I=Object(l.useState)(!1),L=Object(o.a)(I,2),B=L[0],P=L[1];Object(l.useEffect)(function(){y&&a&&u.a.post("/positiontoedit",{id:y}).then(function(e){O(e.data[0]),S(e.data[0]),F({id:e.data[0].positionID,WGP:e.data[0].WGP})})},[a]);var T=function(e){e.preventDefault(),O(Object(c.a)({},N,Object(n.a)({},e.target.name,e.target.value)))},q=function(e){e.preventDefault(),(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&O(Object(c.a)({},N,Object(n.a)({},e.target.name,e.target.value)))};Object(l.useEffect)(function(){N&&w&&function(e,t){for(var a=0,r=Object.keys(e);a<r.length;a++){var o=r[a];e[o]!==t[o]&&(F(Object(c.a)({},k,Object(n.a)({},o,e[o]))),console.log(k))}}(N,w)},[N]);var $=function(){var e=Object(r.a)(h().mark(function e(){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({});case 2:return e.next=4,g();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(r.a)(h().mark(function e(a){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t(a),e.next=4,u.a.post("/positionupdate",{poschanges:k}).then(function(e){return $()});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:b},i.a.createElement("section",{className:"modal-main"},i.a.createElement("form",{className:"positionModalForm",onSubmit:Q},i.a.createElement("h2",null,"Edit Position"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"WGP:"),i.a.createElement("input",{name:"WGP",type:"text",value:N&&N.WGP||"",onChange:function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""===e.target.value)&&O(Object(c.a)({},N,Object(n.a)({},e.target.name,e.target.value)))},className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Product:"),i.a.createElement(f.a,{className:"searchfield canceldrag",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",thirdName:"productGroup",thirdID:"prodGroupID",resetfield:B,setResetfield:P,value:N&&N.product||"",setProdSupplier:function(e,t,a,r,n,o){O(Object(c.a)({},N,{product:t,supplier:r,productGroup:o})),F(Object(c.a)({},k,{productID:e,supplierID:a,productGroupID:n}))}})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Supplier:"),i.a.createElement("input",{name:"supplier",type:"text",value:N&&N.supplier||"",className:"canceldrag",readOnly:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"ProdGroup:"),i.a.createElement("input",{name:"productgroup",type:"text",value:N&&N.productGroup||"",className:"canceldrag",readOnly:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"QuantityL:"),i.a.createElement("input",{name:"quantityLow",type:"text",value:N&&N.quantityLow||"",onChange:q,className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"QuantityH:"),i.a.createElement("input",{name:"quantityHigh",type:"text",value:N&&N.quantityHigh||"",onChange:q,className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"FOB:"),i.a.createElement("input",{name:"FOBCost",type:"text",value:N&&N.FOBCost||"",onChange:T,className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"From:"),i.a.createElement("input",{name:"shipmentStart",type:"date",value:N&&p()(N.shipmentStart).format("YYYY-MM-DD")||"",onChange:T,className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"To:"),i.a.createElement("input",{name:"shipmentEnd",type:"date",value:N&&p()(N.shipmentEnd).format("YYYY-MM-DD")||"",onChange:T,className:"canceldrag"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Notes:"),i.a.createElement("textarea",Object(n.a)({name:"notes",className:"canceldrag",value:N&&N.notes||"",onChange:T},"className","canceldrag"))),i.a.createElement("button",{className:"confirmbutton",type:"submit"},"Save Edits"),i.a.createElement("button",{className:"cancelbutton",onClick:function(e){e.preventDefault(),t(e),F({})}},"Cancel"))))}},291:function(e,t,a){"use strict";var r=a(1),n=a(0),c=a.n(n),o=(a(543),a(5)),l=a.n(o),i=a(6),s=a.n(i);t.a=function(){var e=Object(n.useState)(),t=Object(r.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(s()().format("YYYY-1-1")),u=Object(r.a)(i,2),m=u[0],p=u[1],d=Object(n.useState)(s()().format("YYYY-M-D")),f=Object(r.a)(d,2),h=f[0],g=f[1];return Object(n.useEffect)(function(){m&&h&&l.a.post("/keyfigures",{startdate:m,enddate:h}).then(function(e){o(e.data[0])})},[m,h]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"keyfigures-buttons"},"From ",s()(m).format("MMM D YYYY")," to"," ",s()(h).format("MMM D YYYY"),":",c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){e.preventDefault(),p(s()().format("YYYY-1-1")),g(s()().format("YYYY-M-D"))}},"YTD"),c.a.createElement("button",{onClick:function(e){e.preventDefault(),p(s()().format("YYYY-M-1")),g(s()().format("YYYY-M-D"))}},"This Month"),c.a.createElement("button",{onClick:function(e){e.preventDefault();var t=s()().month()-1;console.log(t),p(s()().format("YYYY-".concat(t,"-D"))),g(s()().format("YYYY-M-D"))}},"30 days"))),c.a.createElement("div",{className:"keyfigures-list"},c.a.createElement("div",{className:"keyfigure-volume"},c.a.createElement("h1",{className:"kfig"},a?a.Sales.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"reload"),c.a.createElement("h4",null,"Volume (mt)")),c.a.createElement("div",{className:"keyfigure-revenue"},c.a.createElement("h1",{className:"kfig"},a?"$"+(a.Revenue/1e6).toFixed(2).toString()+"mio":"reload"),c.a.createElement("h4",null,"Revenue")),c.a.createElement("div",{className:"keyfigure-profit"},c.a.createElement("h1",{className:"kfig"},a?"$"+(a.Margin/1e3).toFixed(0).toString()+"K":"reload"),c.a.createElement("h4",null,"Profit")),c.a.createElement("div",{className:"keyfigure-profitpmt"},c.a.createElement("h1",{className:"kfig"},a?"$"+a.Profit.toFixed(2).toString():"reload"),c.a.createElement("h4",null,"Avg. Profit (pmt)")),c.a.createElement("div",{className:"keyfigure-profitpct"},c.a.createElement("h1",{className:"kfig"},a?(a.Margin/a.Revenue*100).toFixed(2).toString()+"%":"reload"),c.a.createElement("h4",null,"Profit (%)"))))}},293:function(e,t,a){"use strict";var r=a(7),n=a(1),c=a(5),o=a.n(c),l=a(0),i=a.n(l),s=a(266);function u(){u=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof p?t:p,c=Object.create(n.prototype),o=new x(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=N(o,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var m={};function p(){}function d(){}function f(){}var h={};l(h,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&a.call(b,n)&&(h=b);var y=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function N(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=f,l(y,"constructor",f),l(f,"constructor",d),d.displayName=l(f,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}t.a=function(){var e=Object(l.useState)(),t=Object(n.a)(e,2),a=t[0],c=t[1],m=Object(l.useState)(),p=Object(n.a)(m,2),d=p[0],f=p[1];return Object(l.useEffect)(Object(r.a)(u().mark(function e(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/donut").then(function(e){c(e.data)});case 2:return e.next=4,o.a.post("/donutqty").then(function(e){f(e.data)});case 4:case"end":return e.stop()}},e)})),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",{style:{display:"sticky"}},"Profit and Volume, by Trader"),i.a.createElement("div",{style:{height:"100%",display:"flex"}},a&&d?i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{data:a,margin:{top:40,right:0,bottom:40,left:20},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"blues"},valueFormat:">-$,",startAngle:-90,endAngle:270,arcLinkLabelsSkipAngle:10,sliceLabelsTextColor:"white",enableArcLabels:!1}),i.a.createElement(s.a,{data:d,margin:{top:40,right:20,bottom:40,left:0},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"yellow_orange_red"},valueFormat:">-,",startAngle:-90,endAngle:270,arcLinkLabelsSkipAngle:10,sliceLabelsTextColor:"white",enableArcLabels:!1})):""))}},294:function(e,t,a){"use strict";var r=a(7),n=a(1),c=a(5),o=a.n(c),l=a(0),i=a.n(l),s=a(266);function u(){u=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof p?t:p,c=Object.create(n.prototype),o=new x(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=N(o,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var m={};function p(){}function d(){}function f(){}var h={};l(h,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&a.call(b,n)&&(h=b);var y=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function N(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=f,l(y,"constructor",f),l(f,"constructor",d),d.displayName=l(f,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}t.a=function(){var e=Object(l.useState)(),t=Object(n.a)(e,2),a=t[0],c=t[1],m=Object(l.useState)(),p=Object(n.a)(m,2),d=p[0],f=p[1];return Object(l.useEffect)(Object(r.a)(u().mark(function e(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/pieprofitbycountry").then(function(e){c(e.data)});case 2:return e.next=4,o.a.post("/pievolumebycountry").then(function(e){f(e.data)});case 4:case"end":return e.stop()}},e)})),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",{style:{display:"absolute",top:0}},"Profit and Volume, by Country"),i.a.createElement("div",{style:{height:"100%",display:"flex"}},a&&d?i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{data:a,id:"country",value:"profit",margin:{top:40,right:20,bottom:40,left:40},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"blues"},valueFormat:">-$,",startAngle:-90,endAngle:270,arcLinkLabelsSkipAngle:15,sliceLabelsTextColor:"white",enableArcLabels:!1}),i.a.createElement(s.a,{data:d,id:"country",value:"quantity",margin:{top:40,right:40,bottom:40,left:0},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"yellow_orange_red"},valueFormat:">-,",startAngle:-90,endAngle:270,arcLinkLabelsSkipAngle:15,sliceLabelsTextColor:"white",enableArcLabels:!1})):""))}},296:function(e,t,a){"use strict";var r=a(1),n=a(0),c=a.n(n),o=a(5),l=a.n(o),i=a(6),s=a.n(i),u=(a(515),a(44)),m=a(97),p=function(e){var t=e.usposnumber,a=e.usposmatchnumber,o=t===a?"postooltip":"postooltip display-none",i=Object(n.useState)(),s=Object(r.a)(i,2),u=s[0],m=s[1];return Object(n.useEffect)(function(){t===a&&l.a.post("/usposmatching",{usposnumber:t}).then(function(e){m(e.data)})},[a]),c.a.createElement("span",{className:o},c.a.createElement("h4",null,"Matching Sales for Lot ",t),c.a.createElement("ul",null,c.a.createElement("li",{className:"posmatchitem"},c.a.createElement("h4",null,"WGS"),c.a.createElement("h4",null,"Trader"),c.a.createElement("h4",null,"Customer"),c.a.createElement("h4",null,"Qty (mt)"),c.a.createElement("h4",null,"Qty (pallets)"),c.a.createElement("h4",null,"Sales Price (/mt)"),c.a.createElement("h4",null,"Profit (pmt)"),c.a.createElement("h4",null,"Shipment Date")),u?u.map(function(e){return c.a.createElement("li",{className:"posmatchitem"},c.a.createElement("p",null,e.KTS),c.a.createElement("p",null,e.tCode),c.a.createElement("p",null,e.companyCode),c.a.createElement("p",null,e.quantity),c.a.createElement("p",null,e.quantitypallets),c.a.createElement("p",null,"$"+e.priceAfterInterest),c.a.createElement("p",null,"$"+e.tradingProfit),c.a.createElement("p",null,e.whexit))}):"No matching sales found"))},d=a(39),f=a(9),h=a(167),g=function(e){var t=e.usqsid,a=e.usqsidmatch,o=e.setUsqsidmatch,i=Object(n.useContext)(h.a).setMktpricedata,s=t===a?"mktpriceupdatemenu":"mktpriceupdatemenu display-none",u=Object(n.useState)(),m=Object(r.a)(u,2),p=m[0],d=m[1];return c.a.createElement("div",{className:s},c.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),l.a.post("/addusmktprice",{mktprice:p,usqsid:t}).then(function(){l.a.post("/usmktpriceupdates").then(function(e){i(e.data),o(0),d("")})})}(e)}},c.a.createElement("input",{value:p,onChange:function(e){!function(e){(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&d(e.target.value)}(e)},onDoubleClick:function(e){e.target.select()},required:!0}),c.a.createElement("button",{type:"submit"},"Update")))};t.a=function(){var e=Object(n.useContext)(m.a),t=e.setQStoload,a=e.setLoaduser,o=e.setFromdropdown,i=Object(n.useContext)(h.a).mktpricedata;Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var b=Object(n.useState)({}),y=Object(r.a)(b,2),v=y[0],E=y[1];Object(n.useEffect)(function(){l.a.post("/usapositionreport").then(function(e){var t=e.data.groupBy("productGroup");E(t)})},[]);var N=function(e,t,a,r,n,c,o){var l=s()().diff(s()(e),"days")>0?s()().diff(s()(e),"days"):0,i=l>r?l=r:0;return t/o+Math.ceil(i/n)*a*c/o},O=Object(n.useState)(0),j=Object(r.a)(O,2),x=j[0],w=j[1],S=Object(n.useState)(0),C=Object(r.a)(S,2),D=C[0],k=C[1],F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return t+" "+e.toFixed(a).replace(/\B(?=(\d{3})+(?!\d))/g,",")},I=function(e,t,a){if(i){var r=i.filter(function(t){return t.QSID===e});return r[0]?F(r[0].mktpriceupdate*t-t*Number(a.replace(/[^0-9.-]+/g,"")),"$",0):"N/A"}},L="",B={},P=0,T=0,q=0,$=0;return c.a.createElement("div",{className:"uspositionreport"},c.a.createElement("table",{id:"uspositionreporttable"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"USWGP"),c.a.createElement("th",{className:"fig"},"Quantity"),c.a.createElement("th",{className:"fig"},"Inventory"),c.a.createElement("th",{className:"fig"},"In Pallets"),c.a.createElement("th",null,"Warehouse"),c.a.createElement("th",{className:"fig"},"EW Price"),c.a.createElement("th",{className:"fig"},"Storage"),c.a.createElement("th",null,"Supplier"),c.a.createElement("th",null,"From"),c.a.createElement("th",null,"To"),c.a.createElement("th",{className:"fig"},"CostValue"),c.a.createElement("th",{className:"fig"},"MktPrice"),c.a.createElement("th",{className:"fig"},"MktValue"),c.a.createElement("th",{className:"fig"},"PProfit"))),c.a.createElement("tbody",null,Object.entries(v).map(function(e,r){return L=Object.keys(v)[r],B=v[L].groupBy("product"),[c.a.createElement("tr",null,c.a.createElement("td",{className:"usprodgroup",colSpan:14},c.a.createElement("p",null,L))),Object.entries(B).map(function(e,r){return P=0,T=0,q=0,$=0,[c.a.createElement("tr",null,c.a.createElement("td",{className:"usproduct",colSpan:14},c.a.createElement("h4",null,Object.keys(B)[r]))),e[1].map(function(e){P+=Number(e.Inventory),T+=Number(e.InventoryPallets);var r=I(e.QSID,e.Inventory,e.EWPrice);return q+=Number(r.replace("$","").replace(",","")),$+=e.Inventory*(Number(e.EWPrice.replace(/[^0-9.-]+/g,""))+N(e.whentry,e.storagefixed,e.storagevariable,e.stggraceperiod,e.stgaccrualperiod,e.quantitypallets,e.quantity)),c.a.createElement(c.a.Fragment,null,c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("div",{className:"postooltipsource",onMouseOver:function(t){!function(e){w(e)}(e.USWGP)},onMouseLeave:function(e){w(0)}},c.a.createElement(u.b,{onClick:function(r){o(!1),t(e.QSID),a(e.tCode)},to:"/sales"},e.USWGP),c.a.createElement(p,{usposnumber:e.USWGP,usposmatchnumber:x}))),c.a.createElement("td",{className:"fig"},e.quantity.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("td",{className:"fig"},Number(e.Inventory).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("td",{className:"fig"},Number(e.InventoryPallets).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("td",null,e.warehouseName),c.a.createElement("td",{className:"fig"},e.EWPrice.replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("td",null,"$"+N(e.whentry,e.storagefixed,e.storagevariable,e.stggraceperiod,e.stgaccrualperiod,e.quantitypallets,e.quantity).toFixed(2)),c.a.createElement("td",null,e.supplier),c.a.createElement("td",null,s()(e.shipmentStart).format("DD-MMM-YYYY").toString()),c.a.createElement("td",null,s()(e.shipmentEnd).format("DD-MMM-YYYY").toString()),c.a.createElement("td",{className:"fig"},"$"+(e.Inventory*(Number(e.EWPrice.replace(/[^0-9.-]+/g,""))+N(e.whentry,e.storagefixed,e.storagevariable,e.stggraceperiod,e.stgaccrualperiod,e.quantitypallets,e.quantity))).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("td",{className:"mktpriceupdate fig"},c.a.createElement(d.a,{style:{marginRight:"5px"},onClick:function(t){e.QSID===D?k(0):k(e.QSID)},name:"hi",icon:f.j}),c.a.createElement(g,{usqsid:e.QSID,usqsidmatch:D,setUsqsidmatch:k}),c.a.createElement("p",null,function(e){if(i){var t=i.filter(function(t){return t.QSID===e});return t[0]?F(t[0].mktpriceupdate):"N/A"}}(e.QSID)," ")),c.a.createElement("td",{className:"fig"},function(e,t){if(i){var a=i.filter(function(t){return t.QSID===e});return a[0]?F(a[0].mktpriceupdate*t,"$",0):"N/A"}}(e.QSID,e.Inventory)),c.a.createElement("td",{className:"fig"},I(e.QSID,e.Inventory,e.EWPrice))))}),c.a.createElement("tr",{className:"totals"},c.a.createElement("td",{colSpan:2},c.a.createElement("h4",null,"Total")),c.a.createElement("td",{className:"fig"},c.a.createElement("h4",null,P.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),c.a.createElement("td",{className:"fig"},c.a.createElement("h4",null,T.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),c.a.createElement("td",{colSpan:5}),c.a.createElement("td",{className:"fig"},c.a.createElement("h4",null,F($,"$",0))),c.a.createElement("td",{colSpan:2}),c.a.createElement("td",{className:"fig"},c.a.createElement("h4",null,F(q,"$",0))))]})]}))))}},313:function(e,t,a){"use strict";a(7),a(1),a(0),a(99),a(5)},322:function(e,t,a){},323:function(e,t,a){},391:function(e,t,a){"use strict";var r=a(7),n=a(4),c=a(2),o=a(1),l=a(0),i=a.n(l),s=(a(323),a(6)),u=a.n(s),m=a(83),p=a(5),d=a.n(p),f=a(47),h=a(54);a(268);function g(){g=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new x(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=N(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,b=h&&h(h(w([])));b&&b!==t&&a.call(b,n)&&(f=b);var y=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function N(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(){var e=Object(l.useContext)(f.a).toggleQSrefresh,t={KTP:"",KTS:"",saleType:"",QSDate:u()().format("yyyy-MM-DD"),abbreviation:"",supplier:"",customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGuserID")),traffic:"",incoterms:"",CADintrate:.06,CADdays:10,paymentTerm:"",shipmentType:1,freightTotal:0,shippingline:"",payload:0,totalinspection:0,quantity:0,materialcost:0,pcommission:0,pfinancecost:0,sfinancecost:0,freightpmt:0,insurance:0,inspectionpmt:0,scommission:0,interestcost:0,legal:1,pallets:0,other:0,totalcost:0,interestrate:0,interestdays:0,pricebeforeint:0,salesinterest:0,priceafterint:0,profit:0,margin:0,turnover:0,pctmargin:0,netback:0,saleComplete:0},a={KTP:"",KTS:"",saleType:"",QSDate:u()().format("yyyy-MM-DD"),customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGusercode")),traffic:"",incoterms:"",CADintrate:"6.00%",CADdays:"10",paymentTerm:"",shipmentType:"Container",freightTotal:"0.00",shippingline:"",payload:"0.00",totalinspection:"0.00",quantity:"",materialcost:"0.00",pcommission:"0.00",pfinancecost:"0.00",sfinancecost:"0.00",freightpmt:"0.00",insurance:"0.00",inspectionpmt:"0.00",scommission:"0.00",interestcost:"0.00",legal:"1.00",pallets:"0.00",other:"0.00",totalcost:"0.00",interestrate:"0.00%",interestdays:"0",pricebeforeint:"0.00",salesinterest:"0.00",priceafterint:"0.00",profit:"0.00",margin:"0.00",turnover:"0.00",pctmargin:"0.00",netback:"0.00",saleComplete:0},s=Object(l.useState)(t),p=Object(o.a)(s,2),b=p[0],y=p[1],v=Object(l.useState)(a),E=Object(o.a)(v,2),N=E[0],O=E[1],j=Object(l.useState)(),x=Object(o.a)(j,2),w=x[0],S=x[1],C=Object(l.useState)(!1),D=Object(o.a)(C,2),k=D[0],F=D[1],I=Object(l.useState)(!1),L=Object(o.a)(I,2),B=L[0],P=L[1];Object(l.useEffect)(function(){B&&y(Object(c.a)({},b,{saleComplete:-1})),B||y(Object(c.a)({},b,{saleComplete:0}))},[B]);var T=function(e,t,a,r,o,l){var i,s;""===t&&""===r&&""===l?(y(Object(c.a)({},b,Object(n.a)({},a,e))),O(Object(c.a)({},N,Object(n.a)({},a,o)))):(y(Object(c.a)({},b,(i={},Object(n.a)(i,a,e),Object(n.a)(i,r,t),i))),O(Object(c.a)({},N,(s={},Object(n.a)(s,a,o),Object(n.a)(s,r,l),s))))},q=function(e){y(Object(c.a)({},b,Object(n.a)({},e.target.name,e.target.value))),O(Object(c.a)({},N,Object(n.a)({},e.target.name,e.target.value)))},$=function(e){(RegExp("^[0-9.,%]+$").test(e.target.value)||""===e.target.value)&&(e.target.value.toString().includes("%")?(y(Object(c.a)({},b,Object(n.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(2)/100))),O(Object(c.a)({},N,Object(n.a)({},e.target.name,e.target.value.replace("%",""))))):(y(Object(c.a)({},b,Object(n.a)({},e.target.name,Number(e.target.value).toFixed(2)/100))),O(Object(c.a)({},N,Object(n.a)({},e.target.name,e.target.value)))))},Q=function(e){O(Object(c.a)({},N,Object(n.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(2)+"%")))},A=function(e){(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&(y(Object(c.a)({},b,Object(n.a)({},e.target.name,Number(Number(e.target.value).toFixed(2))))),O(Object(c.a)({},N,Object(n.a)({},e.target.name,e.target.value))))},G=function(e){O(Object(c.a)({},N,Object(n.a)({},e.target.name,Number(e.target.value.replace(",","")).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""===e.target.value&&y(Object(c.a)({},b,Object(n.a)({},e.target.name,0)))},_=function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""==e.target.value)&&(O(Object(c.a)({},N,Object(n.a)({},e.target.name,e.target.value))),y(Object(c.a)({},b,Object(n.a)({},e.target.name,e.target.value))))};Object(l.useEffect)(function(){if(N.from&&!N.to&&(O(Object(c.a)({},N,{to:N.from})),y(Object(c.a)({},b,{to:b.from}))),N.from&&N.to){var e=u()(N.from),t=u()(N.to);console.log(t.diff(e,"days")),t.diff(e,"days")<0&&Object(h.confirmAlert)({title:"Check shipment dates",message:"Delivery date (to) cannot be earlier than shipment date (from)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})}},[N.from,N.to]),Object(l.useEffect)(function(){b.freightTotal>0&&b.payload>0&&(O(Object(c.a)({},N,{freightpmt:(b.freightTotal/b.payload).toFixed(2)})),y(Object(c.a)({},b,{freightpmt:b.freightTotal/b.payload})))},[b.freightTotal,b.payload]),Object(l.useEffect)(function(){y(Object(c.a)({},b,{salesinterest:Number((b.interestrate*Number(b.interestdays)*Number(b.pricebeforeint)/360).toFixed(4))})),O(Object(c.a)({},N,{salesinterest:Number(b.interestrate*Number(b.interestdays)*Number(b.pricebeforeint)/360).toFixed(2)}))},[b.interestdays,b.interestrate]),Object(l.useEffect)(function(){y(Object(c.a)({},b,{interestcost:Number((b.CADintrate*b.CADdays*b.pricebeforeint/360).toFixed(4))})),O(Object(c.a)({},N,{interestcost:Number(b.CADintrate*b.CADdays*b.pricebeforeint/360).toFixed(2)}))},[b.CADdays,b.CADintrate,b.pricebeforeint]),Object(l.useEffect)(function(){y(Object(c.a)({},b,{insurance:"CPT"===b.incoterms||"CFR"===b.incoterms||"DAP"===b.incoterms?Number((.07*b.pricebeforeint*1.1/100).toFixed(2)):"CIP"===b.incoterms||"CIF"===b.incoterms?Number((.14*b.pricebeforeint*1.1/100).toFixed(2)):0,inspectionpmt:b.quantity>0&&b.totalinspection?Number((b.totalinspection/b.quantity).toFixed(2)):0,interestcost:Number((b.CADintrate*b.CADdays*b.pricebeforeint/360).toFixed(4)),salesinterest:Number((Number(b.interestrate)*Number(b.interestdays)*Number(b.pricebeforeint)/360).toFixed(4)),priceafterint:Number(b.pricebeforeint)+10*Number(b.salesinterest),profit:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost).toFixed(4)):0,margin:0!==b.quantity&&0!==b.pricebeforeint?Number(((b.pricebeforeint-b.totalcost)*b.quantity).toFixed(4)):0,turnover:0!==b.quantity&&0!==b.pricebeforeint?Number((b.quantity*b.pricebeforeint).toFixed(4)):0,pctmargin:0!==b.quantity&&0!==b.pricebeforeint?Number(((b.pricebeforeint-b.totalcost)/b.pricebeforeint).toFixed(4)):0,netback:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost+b.materialcost).toFixed(4)):0})),O(Object(c.a)({},N,{insurance:"CPT"===b.incoterms||"CFR"===b.incoterms||"DAP"===b.incoterms?Number(.07*b.pricebeforeint*1.1/100).toFixed(2):"CIP"===b.incoterms||"CIF"===b.incoterms?Number(.14*b.pricebeforeint*1.1/100).toFixed(2):Number(0).toFixed(2),inspectionpmt:b.quantity>0&&b.totalinspection?Number(b.totalinspection/b.quantity).toFixed(2):"0.00",interestcost:Number(b.CADintrate*b.CADdays*b.pricebeforeint/360).toFixed(2),salesinterest:Number(Number(b.interestrate)*Number(b.interestdays)*Number(b.pricebeforeint)/360).toFixed(2),priceafterint:Number(Number(b.pricebeforeint)+10*Number(b.salesinterest)).toFixed(2),profit:0!==b.quantity&&0!==b.pricebeforeint?Number(b.pricebeforeint-b.totalcost).toFixed(2):Number(0).toFixed(2),margin:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost)*b.quantity).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),turnover:0!==b.quantity&&0!==b.pricebeforeint?Number(b.quantity*b.pricebeforeint).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),pctmargin:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost)/b.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==b.quantity&&0!==b.pricebeforeint?Number(b.pricebeforeint-b.totalcost+b.materialcost).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2)}))},[b.quantity,b.pricebeforeint,b.totalinspection,b.incoterms]),Object(l.useEffect)(function(){0!==b.quantity&&0!==b.pricebeforeint&&(y(Object(c.a)({},b,{profit:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost).toFixed(4)):0,margin:0!==b.quantity&&0!==b.pricebeforeint?Number(((b.pricebeforeint-b.totalcost)*b.quantity).toFixed(4)):0,turnover:0!==b.quantity&&0!==b.pricebeforeint?Number((b.quantity*b.pricebeforeint).toFixed(4)):0,pctmargin:0!==b.quantity&&0!==b.pricebeforeint?Number(((b.pricebeforeint-b.totalcost)/b.pricebeforeint).toFixed(4)):0,netback:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost+b.materialcost).toFixed(4)):0})),O(Object(c.a)({},N,{profit:0!==b.quantity&&0!==b.pricebeforeint?Number(b.pricebeforeint-b.totalcost).toFixed(2):Number(0).toFixed(2),margin:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost)*b.quantity).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),turnover:0!==b.quantity&&0!==b.pricebeforeint?Number(b.quantity*b.pricebeforeint).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2),pctmargin:0!==b.quantity&&0!==b.pricebeforeint?Number((b.pricebeforeint-b.totalcost)/b.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==b.quantity&&0!==b.pricebeforeint?Number(b.pricebeforeint-b.totalcost+b.materialcost).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):Number(0).toFixed(2)})))},[b.totalcost]),Object(l.useEffect)(function(){y(Object(c.a)({},b,{priceafterint:Number(b.pricebeforeint)+Number(b.salesinterest)})),O(Object(c.a)({},N,{priceafterint:Number(Number(b.pricebeforeint)+Number(b.salesinterest)).toFixed(2)}))},[b.salesinterest]),Object(l.useEffect)(function(){O(Object(c.a)({},N,{totalcost:Number(Number(b.materialcost)+b.pcommission+b.pfinancecost+b.sfinancecost+b.freightpmt+b.insurance+b.inspectionpmt+b.scommission+b.interestcost+b.legal+b.pallets+b.other).toFixed(2)})),y(Object(c.a)({},b,{totalcost:Number((Number(b.materialcost)+b.pcommission+b.pfinancecost+b.sfinancecost+b.freightpmt+b.insurance+b.inspectionpmt+b.scommission+b.interestcost+b.legal+b.pallets+b.other).toFixed(2))}))},[b.materialcost,b.pcommission,b.pfinancecost,b.sfinancecost,b.freightpmt,b.insurance,b.inspectionpmt,b.scommission,b.interestcost,b.legal,b.pallets,b.other]);var R=function(){var t=Object(r.a)(g().mark(function t(a){return g().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,d.a.post("/saveQS",{QSData:b}).then(function(t){e()});case 3:return t.next=5,K();case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),K=function(){O(a),y(t),P(!1)};return i.a.createElement("div",{className:"salesQS"},i.a.createElement("h3",{className:"saleslisttitle"},"Quotation Sheet"),i.a.createElement("form",{className:"salesQS-form",onSubmit:function(e){return R(e)}},i.a.createElement("section",{id:"salesQS-1"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"QS Date:"),i.a.createElement("input",{readOnly:!0,className:"canceldrag",value:N.QSDate,type:"date"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"WGP:"),i.a.createElement("input",{name:"KTP",placeholder:"5000...",value:N&&N.KTP||"",onChange:_,className:"canceldrag"})),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Sale Type"),i.a.createElement("div",{className:"saletype-group"},i.a.createElement("input",{name:"saletype",type:"radio",checked:!(!b||1!==b.saleType),required:!0,onClick:function(e){y(Object(c.a)({},b,{saleType:1})),O(Object(c.a)({},N,{saleType:"Back-to-back"}))}}),i.a.createElement("label",{htmlFor:""},"Back-to-back")),i.a.createElement("div",{className:"saletype-group"},i.a.createElement("input",{name:"saletype",type:"radio",checked:!(!b||2!==b.saleType),required:!0,onClick:function(e){y(Object(c.a)({},b,{saleType:2})),O(Object(c.a)({},N,{saleType:"Position"})),d.a.post("/positiondropdown").then(function(e){S(e.data)})}}),i.a.createElement("label",{htmlFor:""},"Position"),b&&2===b.saleType?i.a.createElement("select",{className:"WGPSelect",onChange:function(e){return function(e){var t=w[e];O(Object(c.a)({},N,{abbreviation:t.product,supplier:t.Supplier,from:t.start,to:t.end,KTP:t.KTP,materialcost:Number(t.Price.replace("$","").replace(",","")).toFixed(2)})),y(Object(c.a)({},b,{abbreviation:t.productID,supplier:t.supplierID,from:t.start,to:t.end,KTP:t.KTP,materialcost:Number(t.Price.replace("$","").replace(",",""))}))}(e.target.value)}},i.a.createElement("option",null,"Select..."),w?w.map(function(e,t){return i.a.createElement("option",{value:t},e.KTP+" - "+e.product+" - "+e.Supplier)}):""):"")),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"General"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Product:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",placeholder:"Product...",setQSFields:T,value:N&&N.abbreviation||"",resetfield:k,setResetfield:F,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Supplier:"),i.a.createElement("input",{placeholder:"Supplier...",value:N.supplier,type:"text",required:!0,readOnly:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Customer:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/customers",searchName:"customer",searchID:"customerID",placeholder:"Customer...",setQSFields:T,value:N&&N.customer||"",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Contact:"),i.a.createElement("input",{className:"canceldrag",type:"text"}))),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Packaging"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Pack Size:"),i.a.createElement("input",{value:b.packsize,onChange:q,name:"packsize",type:"text",placeholder:"9kg, 25kg, 50kg, bigbag",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Marks:"),i.a.createElement("input",{name:"marks",onChange:q,value:b.marks,type:"text",placeholder:"neutral, WG, seller, buyer",onDoubleClick:function(e){e.target.select()},className:"canceldrag"}))),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Delivery"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"From:"),i.a.createElement("input",{name:"from",onChange:q,value:b.from,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"To:"),i.a.createElement("input",{name:"to",onChange:q,value:b.to,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"POL:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/POLS",searchName:"POL",searchID:"POLID",placeholder:"POL...",setQSFields:T,value:N&&N.POL||"",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"POD:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/PODS",searchName:"POD",searchID:"PODID",placeholder:"POD...",setQSFields:T,value:N&&N.POD||"",required:!0})))),i.a.createElement("section",{id:"salesQS-2"},i.a.createElement("div",{className:"soldcheckbox"},i.a.createElement("input",{className:"canceldrag",name:"saleComplete",type:"checkbox",checked:B,onClick:function(){P(!B)}}),i.a.createElement("label",null,"Sold")),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"WGS:"),i.a.createElement("input",{name:"KTS",placeholder:"5000...",value:N&&N.KTS||"",onChange:_,className:"canceldrag"})),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"In Charge"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Trader:"),i.a.createElement("input",{className:"canceldrag",value:N.TIC,type:"text",readOnly:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Traffic:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/trafficmgrs",searchName:"traffic",searchID:"trafficID",placeholder:"Traffic...",setQSFields:T,value:N&&N.traffic||""}))),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Terms"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Incoterms:"),i.a.createElement("input",{placeholder:"Incoterms...",onChange:q,name:"incoterms",value:N.incoterms,type:"text",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Payment Terms:"),i.a.createElement(m.a,{className:"searchfield",searchURL:"/paymentterms",searchName:"paymentTerm",searchID:"paytermID",placeholder:"Payment terms...",setQSFields:T,value:N&&N.paymentTerm||"",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Inc. Interest:"),i.a.createElement("input",{value:N.CADintrate,placeholder:"Interest rate...",type:"text",name:"CADintrate",onChange:$,onBlur:Q,className:"canceldrag",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Inc. Days:"),i.a.createElement("input",{value:N.CADdays,name:"CADdays",onChange:A,type:"text",placeholder:"Days...",className:"canceldrag",required:!0}))),i.a.createElement("div",{id:"shipmenttyperadio",className:"form-group"},i.a.createElement("input",{name:"shipmenttype",type:"radio",defaultChecked:!0,required:!0,onClick:function(e){y(Object(c.a)({},b,{shipmentType:1})),O(Object(c.a)({},N,{shipmentType:"Container"}))}}),i.a.createElement("label",{htmlFor:""},"Container"),i.a.createElement("input",{name:"shipmenttype",type:"radio",required:!0,onClick:function(e){y(Object(c.a)({},b,{shipmentType:2})),O(Object(c.a)({},N,{shipmentType:"Breakbulk"}))}}),i.a.createElement("label",{htmlFor:""},"Breakbulk"),i.a.createElement("input",{name:"shipmenttype",type:"radio",required:!0,onClick:function(e){y(Object(c.a)({},b,{shipmentType:3})),O(Object(c.a)({},N,{shipmentType:"Distribution"}))}}),i.a.createElement("label",{htmlFor:""},"Distribution")),b&&1===b.shipmentType?i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Freight"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Freight ID:"),i.a.createElement("input",{placeholder:"[Leave Blank]",type:"text"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Freight Total:"),i.a.createElement("input",{type:"text",name:"freightTotal",className:"QSfig2 canceldrag",value:N.freightTotal,onChange:A,onBlur:G})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Shipping Line:"),i.a.createElement("input",{className:"canceldrag",placeholder:"Shipping Line...",name:"shippingline",onChange:q,value:N&&N.shippingline||"",type:"text"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Payload:"),i.a.createElement("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:N.payload,onChange:A,onBlur:G})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Total Inspection:"),i.a.createElement("input",{name:"totalinspection",className:"QSfig2 canceldrag",value:N.totalinspection,onChange:A,onBlur:G,type:"text"}))):b&&2==b.shipmentType?"Under Construction":"Under Construction Too :)"),i.a.createElement("section",{id:"salesQS-3"},i.a.createElement("fieldset",{id:"salesQS-3-fieldset"},i.a.createElement("legend",null,"Figures"),i.a.createElement("section",{id:"salesQS-3-col1"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Quantity:"),i.a.createElement("input",{className:"QSfig2 canceldrag",name:"quantity",value:N.quantity,onChange:A,type:"text",placeholder:"MT",onBlur:G,required:!0})),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Costs"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Material Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Material Cost pmt",onChange:A,name:"materialcost",value:N.materialcost,onBlur:G,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"P Commission:"),i.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Commission pmt",name:"pcommission",value:N.pcommission,onChange:A,onBlur:G,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"P Finance Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Finance Cost pmt",name:"pfinancecost",value:N.pfinancecost,onChange:A,onBlur:G,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"S Finance Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",value:N.sfinancecost,name:"sfinancecost",placeholder:"...S Finance Cost pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Freight (pmt):"),i.a.createElement("input",{className:"QSfig canceldrag",value:N.freightpmt,name:"freightpmt",placeholder:"...Freight pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Insurance Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",value:N.insurance,name:"insurance",placeholder:"...Insurance Cost pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Inspection Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",value:N.inspectionpmt,name:"inspectionpmt",placeholder:"...Inspection Cost pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"S Commission:"),i.a.createElement("input",{className:"QSfig canceldrag",value:N.scommission,name:"scommission",placeholder:"...S Commission pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Interest Cost:"),i.a.createElement("input",{className:"QSfig canceldrag",value:N.interestcost,name:"interestcost",placeholder:"...Interest Cost pmt",onChange:A,onBlur:G,type:"text",required:!0,readOnly:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Legal:"),i.a.createElement("input",{className:"QSfig canceldrag",value:N.legal,name:"legal",placeholder:"...Legal Cost pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Pallets:"),i.a.createElement("input",{className:"QSfig canceldrag",value:N.pallets,name:"pallets",placeholder:"...Pallets Cost pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Other:"),i.a.createElement("input",{className:"QSfig canceldrag",value:N.other,name:"other",placeholder:"...Other Costs pmt",onChange:A,onBlur:G,type:"text",required:!0}))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Total Cost:"),i.a.createElement("input",{className:"QSfig2 canceldrag",readOnly:!0,value:N.totalcost,type:"text",required:!0}))),i.a.createElement("section",{id:"salesQS-3-col2"},i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Sales Interest"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Interest Rate:"),i.a.createElement("input",{className:"QSfig canceldrag",value:N.interestrate,placeholder:"...Interest Rate",name:"interestrate",onChange:$,onBlur:Q,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Interest Days:"),i.a.createElement("input",{className:"QSfig canceldrag",value:N.interestdays,name:"interestdays",onChange:A,placeholder:"...Interest Days",type:"text",required:!0}))),i.a.createElement("fieldset",null,i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Price Before Int.:"),i.a.createElement("input",{className:"QSfig canceldrag",value:N.pricebeforeint,name:"pricebeforeint",placeholder:"...Price Before Int pmt",onChange:A,onBlur:G,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Sales Interest:"),i.a.createElement("input",{className:"QSfig canceldrag",value:N.salesinterest,readOnly:!0,type:"text",required:!0}))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Price After Int.:"),i.a.createElement("input",{readOnly:!0,className:"QSfig2 canceldrag",value:N.priceafterint,type:"text",required:!0})),i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Economics"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Profit:"),i.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:N.profit,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Margin:"),i.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:N.margin,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Turnover:"),i.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:N.turnover,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"% Margin:"),i.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:N.pctmargin,type:"text",required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:""},"Netback:"),i.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:N.netback,type:"text",required:!0}))))),i.a.createElement("div",{id:"QSbuttons"},i.a.createElement("button",{type:"button",onClick:function(e){K()}},"Clear"),i.a.createElement("button",{type:"submit"},"Save and New")))))}},394:function(e,t,a){"use strict";var r=a(4),n=a(2),c=a(1),o=a(0),l=a.n(o),i=(a(533),a(51)),s=a(47),u=a(5),m=a.n(u);t.a=function(e){var t=e.showAddProd,a=Object(o.useContext)(s.a),u=(a.posrefresh,a.togglePosrefresh),p={WGP:"",product:"",supplier:"",productgroup:"",quantitylow:"",quantityhigh:"",FOB:"",from:"",to:"",notes:""},d={WGP:"",product:"",supplier:"",productgroup:"",quantitylow:"",quantityhigh:"",FOB:"",from:"",to:"",notes:""},f=Object(o.useState)(!0),h=Object(c.a)(f,2),g=h[0],b=h[1],y=Object(o.useState)(p),v=Object(c.a)(y,2),E=v[0],N=v[1],O=Object(o.useState)(d),j=Object(c.a)(O,2),x=j[0],w=j[1],S=Object(o.useState)({WGP:"",quantitylow:"",quantityhigh:"",to:"",general:""}),C=Object(c.a)(S,2),D=C[0],k=C[1],F=function(e){e.preventDefault(),k(Object(n.a)({},D,{WGP:"",general:""})),N(Object(n.a)({},E,Object(r.a)({},e.target.name,e.target.value)))},I=function(e){e.preventDefault(),(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&(k(Object(n.a)({},D,{WGP:"",general:""})),N(Object(n.a)({},E,Object(r.a)({},e.target.name,e.target.value))))},L=function(e){var t=e.target.name,a=e.target.value,c=RegExp("^-?[0-9][0-9,.]+$");switch(t){case"quantitylow":if(c.test(a))if(Number(E.quantityhigh)<Number(E.quantitylow))k(Object(n.a)({},D,Object(r.a)({},t,"QuantityL must be equal or smaller than QuantityH.")));else{var o;k(Object(n.a)({},D,(o={},Object(r.a)(o,t,""),Object(r.a)(o,"quantityhigh",""),o)))}else k(Object(n.a)({},D,Object(r.a)({},t,"Only numerical values.")));break;case"quantityhigh":if(c.test(a))if(Number(E.quantityhigh)<Number(E.quantitylow))k(Object(n.a)({},D,Object(r.a)({},t,"QuantityH must be larger than QuantityL.")));else{var l;k(Object(n.a)({},D,(l={},Object(r.a)(l,t,""),Object(r.a)(l,"quantitylow",""),l)))}else k(Object(n.a)({},D,Object(r.a)({},t,"Only numerical values.")))}};return l.a.createElement("div",{className:"positionadd"},l.a.createElement("h3",{className:"positionaddtitle"},"Add New Position"),l.a.createElement("form",{id:"positionaddform",onSubmit:function(e){e.preventDefault(),Object.values(D).every(function(e){return""===e})?m.a.post("/checkposition",{WGP:E.WGP}).then(function(e){"OK"===e.data.msg?m.a.post("/addposition",{posData:E}).then(function(e){return u()}):k(Object(n.a)({},D,{WGP:e.data.msg}))}).catch(function(e){console.log(e)}):k(Object(n.a)({},D,{general:"Please review items in red."})),N(p),w(d),b(!0)}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"WGP:"),l.a.createElement("input",{name:"WGP",value:E.WGP,type:"text",onChange:function(e){e.preventDefault(),(RegExp("^[0-9]+$").test(e.target.value)||""===e.target.value)&&(k(Object(n.a)({},D,{WGP:"",general:""})),N(Object(n.a)({},E,Object(r.a)({},e.target.name,e.target.value))))},placeholder:"WGP...",required:!0,className:"canceldrag"})),l.a.createElement("span",{className:"posadderror"},D.WGP),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Product:"),l.a.createElement(i.a,{showAddProd:t,className:"searchfield canceldrag",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",thirdName:"productGroup",thirdID:"prodGroupID",placeholder:"Product...",setProdSupplier:function(e,t,a,r,c,o){N(Object(n.a)({},E,{product:e,supplier:a,productgroup:c})),w(Object(n.a)({},x,{product:t,supplier:r,productgroup:o}))},resetfield:g,setResetfield:b,value:x&&x.product||""})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Supplier:"),l.a.createElement("input",{readOnly:!0,placeholder:"Supplier...",value:x.supplier,className:"canceldrag"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"ProdGroup:"),l.a.createElement("input",{readOnly:!0,placeholder:"ProductGroup...",value:x.productgroup,className:"canceldrag"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"QuantityL:"),l.a.createElement("input",{name:"quantitylow",type:"text",placeholder:"Quantity Low...",onChange:I,value:E.quantitylow,onBlur:L,required:!0,className:"canceldrag"})),l.a.createElement("span",{className:"posadderror"},D.quantitylow),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"QuantityH:"),l.a.createElement("input",{name:"quantityhigh",type:"text",placeholder:"Quantity High...",onChange:I,value:E.quantityhigh,onBlur:L,required:!0,className:"canceldrag"})),l.a.createElement("span",{className:"posadderror"},D.quantityhigh),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"FOB:"),l.a.createElement("input",{type:"text",name:"FOB",placeholder:"FOB...",onChange:F,value:E.FOB,required:!0,className:"canceldrag"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"From:"),l.a.createElement("input",{name:"from",type:"date",placeholder:"From...",onChange:F,value:E.from,required:!0,className:"canceldrag"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"To:"),l.a.createElement("input",{name:"to",type:"date",placeholder:"To...",onChange:F,value:E.to,required:!0,className:"canceldrag"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Notes:"),l.a.createElement("textarea",{name:"notes",className:"canceldrag",onChange:F,value:E.notes})),l.a.createElement("button",null,"Add"),l.a.createElement("span",{className:"posadderror"},D.general)))}},395:function(e,t,a){"use strict";var r=a(2),n=a(1),c=a(0),o=a.n(c),l=(a(535),a(51));t.a=function(e){var t=e.handleClose,a=e.showAddProd?"modal AddProdModal display-block":"modal AddProdModal display-none",i=Object(c.useState)(!1),s=Object(n.a)(i,2),u=s[0],m=s[1],p=Object(c.useState)(),d=Object(n.a)(p,2),f=d[0],h=d[1],g=Object(c.useState)(),b=Object(n.a)(g,2),y=b[0],v=b[1];return o.a.createElement("div",{className:a},o.a.createElement("section",{className:"modal-main"},o.a.createElement("h2",null,"Add Product"),o.a.createElement("p",null,"Before adding a new product please make sure the product does not exist yet with a different name. Double adding an already existing product will severely confuse analysis statistics."),o.a.createElement("form",{className:"addproduct-form",action:""},o.a.createElement("section",{className:"addprod-1"},o.a.createElement("h3",null,"Step 1:"),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:""},"Select Product Name:"),o.a.createElement(l.a,{className:"searchfield",searchURL:"/prodnames",searchID:"prodNameID",searchName:"abbreviation",resetfield:u,setResetfield:m,setProdSupplier:function(e,t){h(Object(r.a)({},f,{prodName:t})),v(Object(r.a)({},y,{prodName:e}))}})),o.a.createElement("div",{className:"addnewprodline"},o.a.createElement("p",null,"Or"),o.a.createElement("button",null,"Add New Product Name"))),o.a.createElement("section",{className:"addprod-2"}),o.a.createElement("section",{className:"addprod-3"},o.a.createElement("button",{onClick:t},"Close")))))}},454:function(e,t,a){e.exports=a(775)},459:function(e,t,a){},461:function(e,t,a){},47:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return l});var r=a(1),n=a(0),c=a.n(n),o=c.a.createContext(),l=function(e){var t=e.children,a=Object(n.useState)(!0),l=Object(r.a)(a,2),i=l[0],s=l[1],u=Object(n.useState)(!0),m=Object(r.a)(u,2),p=m[0],d=m[1];return c.a.createElement(o.Provider,{value:{posrefresh:i,togglePosrefresh:function(e){s(function(e){return!e})},QSrefresh:p,toggleQSrefresh:function(e){d(function(e){return!e})}}},t)}},481:function(e,t,a){},483:function(e,t,a){"use strict";(function(e){a(1),a(4),a(0),a(110),a(111);var t=a(43);a(117),a(281),a(391),a(279),a(287),Object(t.WidthProvider)(t.Responsive)}).call(this,a(74))},500:function(e,t,a){},502:function(e,t,a){},505:function(e,t,a){},507:function(e,t,a){},51:function(e,t,a){"use strict";var r=a(7),n=a(1),c=a(0),o=a.n(c),l=a(5),i=a.n(l);a(502);function s(){s=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof p?t:p,c=Object.create(n.prototype),o=new x(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=N(o,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=u(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var m={};function p(){}function d(){}function f(){}var h={};l(h,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&a.call(b,n)&&(h=b);var y=f.prototype=p.prototype=Object.create(h);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=u(e[n],e,c);if("throw"!==i.type){var s=i.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){s.value=e,o(s)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function N(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=f,l(y,"constructor",f),l(f,"constructor",d),d.displayName=l(f,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}t.a=function(e){var t=e.searchURL,a=e.searchName,l=e.searchID,u=e.placeholder,m=e.otherName,p=e.otherID,d=e.thirdName,f=e.thirdID,h=e.setProdSupplier,g=e.resetfield,b=e.setResetfield,y=e.value,v=(e.showAddProd,Object(c.useState)()),E=Object(n.a)(v,2),N=E[0],O=E[1],j=Object(c.useState)(""),x=Object(n.a)(j,2),w=x[0],S=x[1],C=Object(c.useState)(),D=Object(n.a)(C,2),k=D[0],F=D[1],I=Object(c.useState)(!1),L=Object(n.a)(I,2),B=L[0],P=L[1];Object(c.useEffect)(function(){if(N){var e=N.filter(function(e){if(m&&p&&f){if(w&&""!==w)return(e[a]+e[l]+e[m]+e[p]+e[d]+e[f]).toLowerCase().includes(w.toLowerCase());P(!1)}if(m&&p&&!f){if(w&&""!==w)return(e[a]+e[l]+e[m]+e[p]).toLowerCase().includes(w.toLowerCase());P(!1)}else{if(w&&""!==w)return(e[a]+e[l]).toLowerCase().includes(w.toLowerCase());P(!1)}});F(e)}},[w]);var T,q=Object(c.useRef)([]),$=Object(c.useRef)(null),Q=Object(c.useRef)(null),A=Object(c.useRef)(null),G=Object(c.useRef)(null),_=Object(c.useRef)(null),R=Object(c.useRef)(null);return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{ref:"productID"===l?$:"customerID"===l?Q:"POLID"===l?A:"PODID"===l?G:"trafficID"===l?_:R,placeholder:u,type:"text",value:g?"":w||y,onFocus:function(){i.a.post(t).then(function(e){O(e.data)})},onChange:function(e){b(!1),P(!0),S(e.target.value)},required:!0,className:"canceldrag",onKeyDown:function(e){k&&k.length>0&&"ArrowRight"===e.key&&(e.preventDefault(),T=0,console.log(q.current),console.log(q.current[T]),0===T&&q.current[T].focus())}}),o.a.createElement("div",{className:"flexbreak"}),o.a.createElement("div",{className:"presearchresults"}),o.a.createElement("span",{className:"QSsearchresults-container"},o.a.createElement("ul",{className:B?"searchresults":"QSsearchresults-hide"},k?k.map(function(e,t){return p&&m&&d&&f?o.a.createElement("li",{ref:function(e){return q.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),l){case"productID":$.current.focus();break;case"customerID":Q.current.focus();break;case"POLID":A.current.focus();break;case"PODID":G.current.focus();break;case"trafficID":_.current.focus();break;case"paytermID":R.current.focus()}"ArrowDown"===t.key&&(t.preventDefault(),q.current[T+1]&&(T+=1,q.current[T].focus())),"ArrowUp"===t.key&&(t.preventDefault(),q.current[T-1]&&(T-=1,q.current[T].focus())),"Enter"===t.key&&(h(e[l],e[a],e[p],e[m],e[f],e[d]),S(null))},onClick:function(t){h(e[l],e[a],e[p],e[m],e[f],e[d]),S(null)}},e[l]," - ",e[a]," - ",e[m]):p&&m&&!d&&!f?o.a.createElement("li",{ref:function(e){return q.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),l){case"productID":$.current.focus();break;case"customerID":Q.current.focus();break;case"POLID":A.current.focus();break;case"PODID":G.current.focus();break;case"trafficID":_.current.focus();break;case"paytermID":R.current.focus()}"ArrowDown"===t.key&&(t.preventDefault(),q.current[T+1]&&(T+=1,q.current[T].focus())),"ArrowUp"===t.key&&(t.preventDefault(),q.current[T-1]&&(T-=1,q.current[T].focus())),"Enter"===t.key&&(h(e[l],e[a],e[p],e[m]),S(null))},onClick:function(t){h(e[l],e[a],e[p],e[m]),S(null)}},e[l]," - ",e[a]," - ",e[m]):o.a.createElement("li",{ref:function(e){return q.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),l){case"productID":$.current.focus();break;case"customerID":Q.current.focus();break;case"POLID":A.current.focus();break;case"PODID":G.current.focus();break;case"trafficID":_.current.focus();break;case"paytermID":R.current.focus()}"ArrowDown"===t.key&&(t.preventDefault(),q.current[T+1]&&(T+=1,q.current[T].focus())),"ArrowUp"===t.key&&(t.preventDefault(),q.current[T-1]&&(T-=1,q.current[T].focus())),"Enter"===t.key&&(h(e[l],e[a]),S(null))},onClick:function(){var t=Object(r.a)(s().mark(function t(r){return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:h(e[l],e[a]),S(null);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},e[l]," - ",e[a])}):"")))}},510:function(e,t,a){},512:function(e,t,a){},515:function(e,t,a){},524:function(e,t,a){},526:function(e,t,a){},531:function(e,t,a){},533:function(e,t,a){},535:function(e,t,a){},539:function(e,t,a){},541:function(e,t,a){},543:function(e,t,a){},619:function(e,t,a){"use strict";a(7),a(1),a(5),a(0),a(295)},620:function(e,t){},621:function(e,t,a){},625:function(e,t){},626:function(e,t,a){},629:function(e,t,a){"use strict";a(7),a(1),a(5),a(0),a(122)},633:function(e,t,a){"use strict";(function(e){var r=a(4),n=a(7),c=a(1),o=a(0),l=a.n(o),i=(a(110),a(111),a(43)),s=a.n(i),u=(a(117),a(291)),m=(a(629),a(293)),p=(a(256),a(619),a(294)),d=a(5),f=a.n(d);a(621);function h(){h=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new x(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=N(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&a.call(b,n)&&(f=b);var y=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function N(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(){var t=Object(o.useState)(),a=Object(c.a)(t,2),i=(a[0],a[1]),d=JSON.parse(localStorage.getItem("accesstoken")),g=JSON.parse(localStorage.getItem("refreshtoken")),b=f.a.create({headers:{Authorization:"Bearer ".concat(d)}}),y=f.a.create({headers:{Authorization:"Bearer ".concat(g)}});b.interceptors.response.use(function(e){return e},function(){var e=Object(n.a)(h().mark(function e(t){var a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!g||403!==t.response.status){e.next=8;break}return e.next=3,y.post(".refreshtoken");case 3:return a=e.sent,d=a.data.accesstoken,e.next=7,b.post("/waterfallprofit",{},{headers:{Authorization:"Bearer ".concat(d)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Object(o.useEffect)(function(){b.post("/waterfallprofit").then(function(e){i(e.data)})},[]);var v=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-mgmt"))||{}}catch(r){}return a[t]}("layout")||[{i:"a",x:2,y:0,w:28,h:4,isDraggable:!0,isResizable:!1},{i:"b",x:2,y:4,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"c",x:16,y:4,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"d",x:16,y:11,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"e",x:2,y:11,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"f",x:2,y:18,w:14,h:7,isDraggable:!0,isResizable:!1},{i:"g",x:2,y:25,w:28,h:20,isDraggable:!0,isResizable:!1}],E=Object(o.useState)(v),N=Object(c.a)(E,2),O=N[0],j=N[1];return l.a.createElement("div",null,l.a.createElement(s.a,{className:"layout",layout:O,cols:36,rowHeight:30,width:1900,onLayoutChange:function(t){var a,n;a="layout",n=t,e.localStorage&&e.localStorage.setItem("rgl-mgmt",JSON.stringify(Object(r.a)({},a,n))),j(t)},margin:[20,20]},l.a.createElement("div",{id:"keyfigures",key:"a"},l.a.createElement(u.a,null)),l.a.createElement("div",{className:"mgmtchart",id:"graph",key:"b"},l.a.createElement(m.a,null)),l.a.createElement("div",{className:"mgmtchart",id:"graph1",key:"c"}),l.a.createElement("div",{className:"mgmtchart",id:"graph2",key:"d"}),l.a.createElement("div",{className:"mgmtchart",id:"graph3",key:"e"},l.a.createElement(p.a,null)),l.a.createElement("div",{className:"mgmtchart",id:"graph4",key:"f"},l.a.createElement("h3",null,"Profit Waterfall Chart, 2020"))))}}).call(this,a(74))},634:function(e,t,a){"use strict";(function(e){var r=a(34),n=a(4),c=a(7),o=a(1),l=a(0),i=a.n(l),s=a(5),u=a.n(s),m=(a(110),a(111),a(43)),p=(a(117),a(750),a(635)),d=(a(620),a(6)),f=a.n(d),h=a(98),g=a(636),b=a(637),y=a(227);function v(){v=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new x(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=N(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function N(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}function E(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return N(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,c=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw c}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var O=Object(m.WidthProvider)(m.Responsive);t.a=function(){var t=Object(l.useContext)(h.a),a=t.prdata,s=t.setPrdata,m=t.setPrcustomers,d=t.setPrcustomerfilter,N=t.prcustomerfilter,j=t.setPrcustomerchecks,x=t.setPrproducts,w=t.setPrproductfilter,S=t.prproductfilter,C=t.setPrproductchecks,D=t.setPrpgroups,k=t.setPrpgroupfilter,F=t.setPrpgroupchecks,I=t.prpgroupfilter,L=(t.setPrprodcats,t.setPrprodcatfilter,t.setPrprodcatchecks,function(e,t){var a,r=0,n=E(e);try{for(n.s();!(a=n.n()).done;){var c=a.value;N&&N.includes(c.customer)&&S&&S.includes(c.product)&&I&&I.includes(c.productGroup)&&(r+=c[t])}}catch(o){n.e(o)}finally{n.f()}return r}),B=function(e,t,a){var r,n=0,c=E(e);try{for(c.s();!(r=c.n()).done;){var o=r.value;N&&N.includes(o.customer)&&S&&S.includes(o.product)&&I&&I.includes(o.productGroup)&&(n+=o[t]*o[a])}}catch(l){c.e(l)}finally{c.f()}return n},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return t+" "+e.toFixed(a).replace(/\B(?=(\d{3})+(?!\d))/g,",")},T=Object(l.useState)(),q=Object(o.a)(T,2),$=(q[0],q[1]),Q=JSON.parse(localStorage.getItem("accesstoken")),A=JSON.parse(localStorage.getItem("refreshtoken")),G=Object(l.useState)({quantity:0,revenue:0,profit:0,avgprofit:0,pctprofit:0}),_=Object(o.a)(G,2),R=(_[0],_[1],u.a.create({headers:{Authorization:"Bearer ".concat(Q)}})),K=u.a.create({headers:{Authorization:"Bearer ".concat(A)}});R.interceptors.response.use(function(e){return e},function(){var e=Object(c.a)(v().mark(function e(t){var a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!A||403!==t.response.status){e.next=8;break}return e.next=3,K.post(".refreshtoken");case 3:return a=e.sent,Q=a.data.accesstoken,e.next=7,R.post("/waterfallprofit",{},{headers:{Authorization:"Bearer ".concat(Q)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Object(l.useEffect)(function(){R.post("/waterfallprofit").then(function(e){$(e.data)})},[]);var M=function(t,a){var r,c;r="layouts",c=a,e.localStorage&&e.localStorage.setItem("rgl-profitability",JSON.stringify(Object(n.a)({},r,c))),H(a)},Y=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-profitability"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],md:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],sm:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],xs:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}],xxs:[{i:"h",x:0,y:0,w:30,h:14},{i:"j",x:30,y:14,w:10,h:14}]},V=Object(l.useState)(Y),W=Object(o.a)(V,2),U=W[0],H=W[1],z=["month","country","customer","productGroup","prodCatName","product","tCode"],J=Object(l.useState)(0),Z=Object(o.a)(J,2),X=Z[0],ee=Z[1],te=Object(l.useState)(0),ae=Object(o.a)(te,2),re=ae[0],ne=ae[1],ce=f()().format("YYYY"),oe=f()().format("MM"),le=(f()().format("DD"),f()().format("YYYY-MM-DD"),f()().year(ce).month(Number(oe)-1).date(1).format("YYYY-MM-DD")),ie=Object(l.useState)(le),se=Object(o.a)(ie,2),ue=se[0],me=se[1],pe=Object(l.useState)(f()().add(1,"years").format("YYYY-MM-DD")),de=Object(o.a)(pe,2),fe=de[0],he=de[1],ge=Object(l.useState)(!1),be=Object(o.a)(ge,2),ye=be[0],ve=be[1],Ee=Object(l.useState)(!1),Ne=Object(o.a)(Ee,2),Oe=Ne[0],je=Ne[1],xe=Object(l.useState)("month"),we=Object(o.a)(xe,2),Se=we[0],Ce=we[1];Object(l.useEffect)(function(){u.a.post("/profitabilityreport",{reportstartdate:ue,reportenddate:fe}).then(function(e){s(e.data);var t=Object(r.a)(new Set(e.data.map(function(e){return e.customer}))).sort();m(t),d(t),j(new Array(t.length).fill(!0));var a=Object(r.a)(new Set(e.data.map(function(e){return e.product}))).sort();x(a),w(a),C(new Array(a.length).fill(!0));var n=Object(r.a)(new Set(e.data.map(function(e){return e.productGroup}))).sort();D(n),k(n),F(new Array(n.length).fill(!0))})},[Oe]);var De=Object(l.useState)(!0),ke=Object(o.a)(De,2),Fe=ke[0],Ie=ke[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(O,{style:{left:"2px"},className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:U,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,t){M(0,t)},margin:[20,20],draggableCancel:".canceldrag"},i.a.createElement("div",{id:"profitability",key:"h"},i.a.createElement("div",{className:"profreporttitle"},i.a.createElement("h3",null,"Profitability Report"),i.a.createElement(y.a,{csvData:a,fileName:"profitability - "+ue+" to "+fe}),i.a.createElement("button",{onClick:function(e){Ie(!Fe)}},Fe?"Hide Detail":"Show Detail")),i.a.createElement("div",{className:"periodfilter"},i.a.createElement("div",{className:"periodfilterbuttons"},i.a.createElement("p",null,"Period:"),["This month","Last 3 months","This year","Last 12 months","Custom"].map(function(e,t){return i.a.createElement("button",{key:t,name:e,onClick:function(e){return ee(a=t),0===a&&(ve(!1),me(le),je(!Oe)),1===a&&(ve(!1),me(f()().subtract(3,"months").format("YYYY-MM-DD")),je(!Oe)),2===a&&(ve(!1),me(f()().year(ce).month(0).date(1).format("YYYY-MM-DD")),je(!Oe)),3===a&&(ve(!1),me(f()().subtract(12,"months").format("YYYY-MM-DD")),je(!Oe)),void(4===a&&ve(!0));var a},className:t===X?"periodfilterbutton active":"periodfilterbutton"},e)})),i.a.createElement("div",{className:"customdateinputs"},ye?[i.a.createElement("label",null,"From:"),i.a.createElement("input",{value:ue,className:"check",type:"date",onChange:function(e){e.preventDefault(),me(e.target.value)}}),i.a.createElement("label",null,"To:"),i.a.createElement("input",{value:fe,className:"check2",type:"date",onChange:function(e){e.preventDefault(),he(e.target.value)}}),i.a.createElement("button",{onClick:function(e){je(!Oe)},className:"periodfilterbutton"},"Go")]:"")),i.a.createElement("div",{className:"prgroupby"},i.a.createElement("p",null,"Group By:"),["Month","Country","Customer","Product Group","Product Category","Product","Trader"].map(function(e,t){return i.a.createElement("button",{key:t,name:z[t],onClick:function(e){return function(e,t){e.preventDefault(),ne(t),Ce(e.target.name),je(!Oe)}(e,t)},className:t===re?"periodfilterbutton active":"periodfilterbutton"},e)})),i.a.createElement("div",{className:"prsummarystats"},i.a.createElement("div",{className:"prstatgroup"},i.a.createElement("p",null,a?P(L(a,"quantity"),"",0):""),i.a.createElement("h4",null,"Quantity")),i.a.createElement("div",{className:"prstatgroup"},i.a.createElement("p",null,a?P(B(a,"quantity","price"),"$",0):""),i.a.createElement("h4",null,"Revenue")),i.a.createElement("div",{className:"prstatgroup"},i.a.createElement("p",null,a?P(L(a,"profit"),"$",0):""),i.a.createElement("h4",null,"Profit")),i.a.createElement("div",{className:"prstatgroup"},i.a.createElement("p",null,a?P(L(a,"profit")/L(a,"quantity"),"$",2):""),i.a.createElement("h4",null,"Average Profit")),i.a.createElement("div",{className:"prstatgroup"},i.a.createElement("p",null,a?(L(a,"profit")/B(a,"quantity","price")*100).toFixed(2)+"%":""),i.a.createElement("h4",null,"Margin"))),i.a.createElement(p.a,{key:"profitabilityreport",reportstartdate:ue,reportenddate:fe,refreshreport:Oe,profitreportgroupby:Se,prshowdetail:Fe})),i.a.createElement("div",{id:"profitabilitychart",key:"j"},i.a.createElement(g.a,{profitreportgroupby:Se,style:{size:"100%",overflow:"hidden"}})),i.a.createElement("div",{id:"profitabilitychart",key:"k"},i.a.createElement(b.a,{profitreportgroupby:Se,style:{size:"100%",overflow:"hidden"}}))))}}).call(this,a(74))},635:function(e,t,a){"use strict";var r=a(1),n=a(0),c=a.n(n),o=(a(5),a(752),a(6),a(39)),l=a(9),i=a(98);function s(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,c=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw c}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}t.a=function(e){e.reportstartdate,e.reportenddate,e.refreshreport;var t=e.profitreportgroupby,a=e.prshowdetail,u=Object(n.useContext)(i.a),m=u.prdata,p=u.prcustomers,d=(u.setPrcustomers,u.setPrcustomerfilter),f=u.prcustomerfilter,h=u.setPrcustomerchecks,g=u.prcustomerchecks,b=u.prproducts,y=(u.setPrproducts,u.setPrproductfilter),v=u.prproductfilter,E=u.setPrproductchecks,N=u.prproductchecks,O=u.prpgroupchecks,j=u.setPrpgroupchecks,x=u.prpgroups,w=u.setPrpgroupfilter,S=u.prpgroupfilter,C=Object(n.useState)(!1),D=Object(r.a)(C,2),k=D[0],F=D[1],I=Object(n.useState)(!1),L=Object(r.a)(I,2),B=L[0],P=L[1],T=Object(n.useState)(!1),q=Object(r.a)(T,2),$=q[0],Q=q[1];Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var A=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!==a&&!1===r&&(t=g.map(function(e,t){return t===a?!e:e}),h(t)),!0===r&&(t=g.map(function(){return!0}),h(t)),null===a&&!1===r&&(t=g.map(function(){return!1}),h(t));var n=t.map(function(e,t){return!0===e?p[t]:""}).filter(function(e){return""!==e});d(n)},G=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!==a&&!1===r&&(t=N.map(function(e,t){return t===a?!e:e}),E(t)),!0===r&&(t=N.map(function(){return!0}),E(t)),null===a&&!1===r&&(t=N.map(function(){return!1}),E(t));var n=t.map(function(e,t){return!0===e?b[t]:""}).filter(function(e){return""!==e});y(n)},_=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!==a&&!1===r&&(t=O.map(function(e,t){return t===a?!e:e}),j(t)),!0===r&&(t=O.map(function(){return!0}),j(t)),null===a&&!1===r&&(t=O.map(function(){return!1}),j(t));var n=t.map(function(e,t){return!0===e?x[t]:""}).filter(function(e){return""!==e});w(n)};var R,K=Object(n.useRef)(null);R=K,Object(n.useEffect)(function(){function e(e){R.current&&!R.current.contains(e.target)&&(console.log("clicked outside"),!0===k&&F(!1))}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[R]);var M="",Y=0,V=0,W=function(e,t){var a,r=0,n=s(e);try{for(n.s();!(a=n.n()).done;){var c=a.value;f&&f.includes(c.customer)&&v&&v.includes(c.product)&&S&&S.includes(c.productGroup)&&(r+=c[t])}}catch(o){n.e(o)}finally{n.f()}return r},U=Object(n.useState)(""),H=Object(r.a)(U,2),z=H[0],J=H[1],Z=Object(n.useState)(""),X=Object(r.a)(Z,2),ee=X[0],te=X[1],ae=function(e,t){J(t),""===ee&&te("DESC"),"DESC"===ee&&te("ASC"),"ASC"===ee&&te("")},re=function(e,t){var a,r=0,n=s(e);try{for(n.s();!(a=n.n()).done;)r+=a.value[t]}catch(c){n.e(c)}finally{n.f()}return r};return c.a.createElement("div",{className:"profitabilityreport"},c.a.createElement("ul",null,c.a.createElement("li",{key:"profitabilityreportheader",className:"profitabilityreportline prheader"},c.a.createElement("p",{className:"profitabilityreportcolumn",style:{display:"flex",flexDirection:"row",alignItems:"center",flexBasis:"14%"}},"QSID"),c.a.createElement("p",{className:"profitabilityreportcolumn",style:{display:"flex",flexDirection:"row",alignItems:"center",flexBasis:"14%"}},"WGP"),c.a.createElement("p",{className:"profitabilityreportcolumn",style:{display:"flex",flexDirection:"row",alignItems:"center",flexBasis:"14%"}},"WGS"),c.a.createElement("p",{className:"profitabilityreportcolumn ",style:{display:"flex",flexDirection:"row",alignItems:"center"}},"ShipmentDate"),c.a.createElement("p",{className:"profitabilityreportcolumn "},"Country"),c.a.createElement("p",{className:"profitabilityreportcolumn ",style:{display:"flex",flexDirection:"row",alignItems:"center"}},"Customer"," ",c.a.createElement(o.a,{className:"ellipsis",key:"icon3",style:{color:"gray",marginLeft:0},icon:g&&g.filter(Boolean).length===p.length?l.d:l.f,onClick:function(e){F(!k)}}),k?c.a.createElement("div",{ref:K,className:"prfiltermenu"},c.a.createElement("p",{className:"prselect",onClick:function(e){return A(e,null,!0)}},"Select All"),c.a.createElement("p",{className:"prselect",onClick:function(e){return A(e,null,!1)}},"Clear All"),p?p.map(function(e,t){return c.a.createElement("div",{className:"prcheckgroup"},c.a.createElement("input",{type:"checkbox",id:e,name:e,value:e,checked:!g||g[t],onChange:function(e){return A(e,t)}}),c.a.createElement("label",{for:e},e))}):""):""),c.a.createElement("p",{className:"profitabilityreportcolumn"},"ProdGroup"," ",c.a.createElement(o.a,{className:"ellipsis",key:"icon3",style:{color:"gray",marginLeft:0},icon:O&&O.filter(Boolean).length===x.length?l.d:l.f,onClick:function(e){Q(!$)}}),$?c.a.createElement("div",{ref:K,className:"prfiltermenu"},c.a.createElement("p",{className:"prselect",onClick:function(e){return _(e,null,!0)}},"Select All"),c.a.createElement("p",{className:"prselect",onClick:function(e){return _(e,null,!1)}},"Clear All"),x?x.map(function(e,t){return c.a.createElement("div",{className:"prcheckgroup"},c.a.createElement("input",{type:"checkbox",id:e,name:e,value:e,checked:!O||O[t],onChange:function(e){return _(e,t)}}),c.a.createElement("label",{for:e},e))}):""):""),c.a.createElement("p",{className:"profitabilityreportcolumn"},"ProdCat"),c.a.createElement("p",{className:"profitabilityreportcolumn "},"Product",c.a.createElement(o.a,{className:"ellipsis",key:"icon3",style:{color:"gray",marginLeft:0},icon:N&&N.filter(Boolean).length===b.length?l.d:l.f,onClick:function(e){P(!B)}}),B?c.a.createElement("div",{className:"prfiltermenu"},c.a.createElement("p",{className:"prselect",onClick:function(e){return G(e,null,!0)}},"Select All"),c.a.createElement("p",{className:"prselect",onClick:function(e){return G(e,null,!1)}},"Clear All"),b?b.map(function(e,t){return c.a.createElement("div",{className:"prcheckgroup"},c.a.createElement("input",{type:"checkbox",id:e,name:e,value:e,checked:!N||N[t],onChange:function(e){return G(e,t)}}),c.a.createElement("label",{for:e},e))}):""):""),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},"Quantity"," ",c.a.createElement(o.a,{className:"ellipsis",key:"icon4",style:{color:"gray",marginLeft:0},icon:"DESC"===ee&&"quantity"===z?l.m:"ASC"===ee&&"quantity"===z?l.n:l.l,onClick:function(e){ae(0,"quantity")}})),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},"Price"),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},"Profit(pmt)"),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},"Profit"," ",c.a.createElement(o.a,{className:"ellipsis",key:"icon4",style:{color:"gray",marginLeft:0},icon:"DESC"===ee&&"profit"===z?l.m:"ASC"===ee&&"profit"===z?l.n:l.l,onClick:function(e){ae(0,"profit")}}))),m?Object.entries(m.groupBy(t)).sort(function(e,t){var a=Object(r.a)(e,2)[1],n=Object(r.a)(t,2)[1];return""!==z&&"DESC"===ee?re(n,z)-re(a,z):""!==z&&"ASC"===ee?re(a,z)-re(n,z):void 0}).map(function(e,n){return M=Object.keys(Object.fromEntries(Object.entries(m.groupBy(t)).sort(function(e,t){var a=Object(r.a)(e,2)[1],n=Object(r.a)(t,2)[1];return""!==z&&"DESC"===ee?re(n,z)-re(a,z):""!==z&&"ASC"===ee?re(a,z)-re(n,z):void 0})))[n],Y=0,V=0,[c.a.createElement(c.a.Fragment,null,W(e[1],"quantity")>0?[c.a.createElement("h3",{className:"prmonth"},M)]:""),e[1].map(function(e){return f&&v&&S&&f.includes(e.customer)&&v.includes(e.product)&&S.includes(e.productGroup)&&(Y+=Number(e.profit),V+=Number(e.quantity)),c.a.createElement("li",{key:e.QSID,className:a?"profitabilityreportline":"profitabilityreportline prdisplay-none"},f&&v&&S&&f.includes(e.customer)&&v.includes(e.product)&&S.includes(e.productGroup)?[c.a.createElement("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"},e.QSID),c.a.createElement("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"},e.KTP),c.a.createElement("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"},e.KTS),c.a.createElement("p",{className:"profitabilityreportcolumn"},e.startship," - ",e.endship),c.a.createElement("p",{className:"profitabilityreportcolumn"},e.country),c.a.createElement("p",{className:"profitabilityreportcolumn"},e.customer),c.a.createElement("p",{className:"profitabilityreportcolumn"},e.productGroup),c.a.createElement("p",{className:"profitabilityreportcolumn"},e.prodCatName),c.a.createElement("p",{className:"profitabilityreportcolumn"},e.product),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},e.quantity.toFixed(2)),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},e.price.toFixed(2)),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},e?e.profitpmt.toFixed(2):""),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"},e.profit?"$"+e.profit.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"")]:"")}),c.a.createElement("div",null,W(e[1],"quantity")>0?[c.a.createElement("li",{className:"profitabilityreportline"},c.a.createElement("p",{style:{display:"flex",flexBasis:"14%"},className:"profitabilityreportcolumn"}),c.a.createElement("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"}),c.a.createElement("p",{style:{flexBasis:"14%"},className:"profitabilityreportcolumn"}),c.a.createElement("p",{className:"profitabilityreportcolumn"}),c.a.createElement("p",{className:"profitabilityreportcolumn"}),c.a.createElement("p",{className:"profitabilityreportcolumn"}),c.a.createElement("p",{className:"profitabilityreportcolumn"}),c.a.createElement("p",{className:"profitabilityreportcolumn"}),c.a.createElement("p",{className:"profitabilityreportcolumn"}),c.a.createElement("p",{className:"profitabilityreportcolumn prfig prtotal"},V.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"}),c.a.createElement("p",{className:"profitabilityreportcolumn prfig"}),c.a.createElement("p",{className:"profitabilityreportcolumn prfig prtotal"},"$"+Y.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")))]:"")]}):""))}},636:function(e,t,a){"use strict";var r=a(1),n=a(0),c=a.n(n),o=a(41),l=a(130),i=a(98);function s(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,c=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw c}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}o.e.register(o.d,o.i,o.b,o.n,o.o,o.g);t.a=function(e){var t=e.profitreportgroupby,a=Object(n.useContext)(i.a).prdata;Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var o=Object(n.useState)(),u=Object(r.a)(o,2),m=u[0],p=u[1],d=Object(n.useState)(),f=Object(r.a)(d,2),h=f[0],g=f[1];Object(n.useEffect)(function(){if(a){var e=a.groupBy(t);g(Object.keys(e).reverse()),p(Object.entries(e).map(function(e,t){return function(e,t){var a,r=0,n=s(e);try{for(n.s();!(a=n.n()).done;)r+=a.value[t]}catch(c){n.e(c)}finally{n.f()}return r}(e[1],"quantity")}).reverse())}},[a,t]);var b={labels:h,datasets:[{label:"Quantity (mt)",data:m,backgroundColor:"rgba(68, 65, 162, 0.7)"}]};return c.a.createElement(l.a,{options:{responsive:!0},data:b})}},637:function(e,t,a){"use strict";var r=a(1),n=a(0),c=a.n(n),o=a(41),l=a(130),i=a(98);function s(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,c=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw c}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}o.e.register(o.d,o.i,o.b,o.n,o.o,o.g);t.a=function(e){var t=e.profitreportgroupby,a=Object(n.useContext)(i.a).prdata;Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var o=Object(n.useState)(),u=Object(r.a)(o,2),m=u[0],p=u[1],d=Object(n.useState)(),f=Object(r.a)(d,2),h=f[0],g=f[1];Object(n.useEffect)(function(){if(a){var e=a.groupBy(t);g(Object.keys(e).reverse()),p(Object.entries(e).map(function(e,t){return function(e,t){var a,r=0,n=s(e);try{for(n.s();!(a=n.n()).done;)r+=a.value[t]}catch(c){n.e(c)}finally{n.f()}return r}(e[1],"profit")}).reverse())}},[a,t]);var b={labels:h,datasets:[{label:"Profit ($)",data:m,backgroundColor:"rgba(160, 182, 103, 0.7)"}]};return c.a.createElement(l.a,{options:{responsive:!0},data:b})}},639:function(e,t,a){"use strict";(function(e){var r=a(1),n=a(4),c=a(0),o=a.n(c),l=(a(626),a(5)),i=a.n(l),s=a(640),u=(a(110),a(111),a(43)),m=Object(u.WidthProvider)(u.Responsive);t.a=function(){var t=function(t,a){var r,c;r="layouts",c=a,e.localStorage&&e.localStorage.setItem("rgl-analysis",JSON.stringify(Object(n.a)({},r,c))),d(a)},a=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-analysis"))|{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"a",x:0,y:0,w:30,h:14}],md:[{i:"a",x:0,y:0,w:30,h:14}],sm:[{i:"a",x:0,y:0,w:30,h:14}],xs:[{i:"a",x:0,y:0,w:30,h:14}],xxs:[{i:"a",x:0,y:0,w:30,h:14}]},l=Object(c.useState)(a),u=Object(r.a)(l,2),p=u[0],d=u[1],f=Object(c.useState)(JSON.parse(localStorage.getItem("WGusercode"))),h=Object(r.a)(f,2),g=h[0],b=h[1],y=Object(c.useState)(),v=Object(r.a)(y,2),E=v[0],N=v[1],O=JSON.parse(localStorage.getItem("role"));return Object(c.useEffect)(function(){i.a.post("/traders").then(function(e){N(e.data)})},[]),o.a.createElement("div",null," ",o.a.createElement(m,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:p,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,a){t(0,a)},margin:[20,20],draggableCancel:".canceldrag"},o.a.createElement("div",{id:"lastyearsales",key:"a"},o.a.createElement("div",{className:"lystitlesection"},o.a.createElement("h3",{className:"lystitle"},"Last Year Sales and Indications"),1===O||2===O||3===O?o.a.createElement("select",{onChange:function(e){return b(e.target.value)}},o.a.createElement("option",{value:"all"},"All"),E?E.map(function(e){return e.trader===g?o.a.createElement("option",{selected:!0,value:e.trader},e.trader):o.a.createElement("option",{value:e.trader},e.trader)}):"reload"):""),o.a.createElement(s.a,{userID:g}))))}}).call(this,a(74))},640:function(e,t,a){"use strict";var r=a(1),n=a(0),c=a.n(n),o=a(5),l=a.n(o),i=a(6),s=a.n(i);t.a=function(e){var t=e.userID,a=Object(n.useState)(),o=Object(r.a)(a,2),i=(o[0],o[1]),u=Object(n.useState)(),m=Object(r.a)(u,2),p=m[0],d=m[1];Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})},Object(n.useEffect)(function(){var e=Number(s()().format("YY"))-1,a=s()().format("DD"),r=Number(s()().format("MM"))-1,n=Number(s()().format("MM"))+1,c=s()(r+"-"+a+"-"+e).format("YYYY-MM"),o=s()(n+"-"+a+"-"+e).format("YYYY-MM");console.log(c),console.log(o),l.a.post("/lysales",{fromdate:c,todate:o,userID:t}).then(function(e){i(e.data);var t=e.data.groupBy("month");d(t)})},[t]);var f="";return c.a.createElement("div",{className:"lysaleslist"},c.a.createElement("ul",{className:"lysalesdata"},c.a.createElement("li",{className:"lysalesline lysalesheader"},c.a.createElement("p",{className:"lysalescolumn"},"QSDate"),c.a.createElement("p",{className:"lysalescolumn"},"QSID"),c.a.createElement("p",{className:"lysalescolumn"},"Customer"),c.a.createElement("p",{className:"lysalescolumn"},"Product"),c.a.createElement("p",{className:"lysalescolumn lysfig"},"Quantity"),c.a.createElement("p",{className:"lysalescolumn lysfig"},"Price"),c.a.createElement("p",{className:"lysalescolumn lysfig"},"Profit"),c.a.createElement("p",{className:"lysalescolumn"},"Status")),p?Object.entries(p).map(function(e,t){return f=Object.keys(p)[t],[c.a.createElement("h3",{className:"lysalesmonth"},f),e[1].map(function(e){return c.a.createElement("li",{className:"lysalesline"},c.a.createElement("p",{className:"lysalescolumn"},e.QSDate),c.a.createElement("p",{className:"lysalescolumn"},e.QSID),c.a.createElement("p",{className:"lysalescolumn"},e.customer),c.a.createElement("p",{className:"lysalescolumn"},e.abbreviation),c.a.createElement("p",{className:"lysalescolumn lysfig"},e.quantity.toFixed(2)),c.a.createElement("p",{className:"lysalescolumn lysfig"},"$ "+e.priceBeforeInterest.toFixed(2)),c.a.createElement("p",{className:"lysalescolumn lysfig"},"$ "+e.tradingProfit.toFixed(2)),c.a.createElement("p",{className:"lysalescolumn"},-1==e.saleComplete?"Sale":"Indication"))})]}):""))}},641:function(e,t,a){"use strict";(function(e){var r=a(1),n=a(4),c=a(0),o=a.n(c),l=(a(110),a(111),a(43)),i=a(642),s=a(6),u=a.n(s),m=a(5),p=a.n(m),d=Object(l.WidthProvider)(l.Responsive);t.a=function(){var t=function(t,a){var r,c;r="layouts",c=a,e.localStorage&&e.localStorage.setItem("rgl-avb",JSON.stringify(Object(n.a)({},r,c))),f(a)},a=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-avb"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"h",x:0,y:0,w:34,h:28},{i:"j",x:34,y:28,w:34,h:28}],md:[{i:"h",x:0,y:0,w:34,h:28},{i:"j",x:34,y:28,w:34,h:28}],sm:[{i:"h",x:0,y:0,w:34,h:28},{i:"j",x:34,y:28,w:34,h:28}],xs:[{i:"h",x:0,y:0,w:34,h:28},{i:"j",x:34,y:28,w:34,h:28}],xxs:[{i:"h",x:0,y:0,w:34,h:28},{i:"j",x:34,y:28,w:34,h:28}]},l=Object(c.useState)(a),s=Object(r.a)(l,2),m=s[0],f=s[1],h=u()().format("YYYY"),g=Object(c.useState)(),b=Object(r.a)(g,2),y=b[0],v=b[1],E=Object(c.useState)("region"),N=Object(r.a)(E,2),O=N[0],j=N[1],x=Object(c.useState)(""),w=Object(r.a)(x,2),S=w[0],C=w[1],D=Object(c.useState)(""),k=Object(r.a)(D,2),F=k[0],I=k[1],L=Object(c.useState)(""),B=Object(r.a)(L,2),P=B[0],T=B[1],q=Object(c.useState)("budget"),$=Object(r.a)(q,2),Q=($[0],$[1],Object(c.useState)("")),A=Object(r.a)(Q,2),G=A[0],_=A[1],R=Object(c.useState)(""),K=Object(r.a)(R,2),M=K[0],Y=K[1],V=Object(c.useState)(""),W=Object(r.a)(V,2),U=W[0],H=W[1],z=Object(c.useState)("sold"),J=Object(r.a)(z,2),Z=(J[0],J[1],Object(c.useState)("")),X=Object(r.a)(Z,2),ee=(X[0],X[1],Object(c.useState)("")),te=Object(r.a)(ee,2);te[0],te[1];return Object(c.useEffect)(function(){p.a.post("/loadcurrentbudget",{currentyear:h}).then(function(e){v(e.data)})},[]),o.a.createElement("div",null,o.a.createElement(d,{className:"layout",breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:m,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,a){t(0,a)},margin:[20,20],draggableCancel:".canceldrag"},o.a.createElement("div",{id:"avbbarchart",key:"h"},o.a.createElement(i.a,{groupcriteria:O,groupcriteria2:S,groupcriteria3:F,groupcriteria4:P,loadeddata:y,setGroupcriteria:j,setGroupcriteria2:C,setGroupcriteria3:I,setGroupcriteria4:T,filter1:G,filter2:M,filter3:U,setFilter1:_,setFilter2:Y,setFilter3:H}))))}}).call(this,a(74))},642:function(e,t,a){"use strict";var r=a(2),n=a(1),c=a(0),o=a.n(c),l=a(6),i=a.n(l),s=(a(5),a(762),a(41)),u=a(130);s.e.register(s.d,s.i,s.b,s.n,s.o,s.g);t.a=function(e){var t=e.groupcriteria,a=e.groupcriteria2,l=e.groupcriteria3,s=e.groupcriteria4,m=e.loadeddata,p=e.setGroupcriteria,d=e.setGroupcriteria2,f=e.setGroupcriteria3,h=e.setGroupcriteria4,g=e.filter1,b=e.setFilter1,y=e.filter2,v=e.setFilter2,E=e.filter3,N=e.setFilter3,O=Object(c.useState)(),j=Object(n.a)(O,2),x=j[0],w=j[1],S=Object(c.useState)(),C=Object(n.a)(S,2),D=(C[0],C[1],Object(c.useState)()),k=Object(n.a)(D,2),F=(k[0],k[1],Object(c.useState)()),I=Object(n.a)(F,2),L=I[0],B=I[1],P=Object(c.useState)(),T=Object(n.a)(P,2),q=T[0],$=T[1],Q=Object(c.useState)(),A=Object(n.a)(Q,2),G=A[0],_=A[1],R=Object(c.useState)(),K=Object(n.a)(R,2),M=K[0],Y=K[1],V=Object(c.useState)(),W=Object(n.a)(V,2),U=W[0],H=W[1],z=Object(c.useState)(),J=Object(n.a)(z,2),Z=J[0],X=J[1],ee=Object(c.useState)(),te=Object(n.a)(ee,2),ae=te[0],re=te[1],ne=Object(c.useState)(),ce=Object(n.a)(ne,2),oe=ce[0],le=ce[1],ie=Object(c.useState)(),se=Object(n.a)(ie,2),ue=se[0],me=se[1],pe=Object(c.useState)(),de=Object(n.a)(pe,2),fe=de[0],he=de[1],ge=Object(c.useState)(),be=Object(n.a)(ge,2),ye=be[0],ve=be[1],Ee=Object(c.useState)(),Ne=Object(n.a)(Ee,2),Oe=Ne[0],je=Ne[1],xe=Object(c.useState)(),we=Object(n.a)(xe,2),Se=we[0],Ce=we[1],De=Object(c.useState)(),ke=Object(n.a)(De,2),Fe=ke[0],Ie=ke[1],Le=Object(c.useState)(),Be=Object(n.a)(Le,2),Pe=Be[0],Te=Be[1],qe=Object(c.useState)(),$e=Object(n.a)(qe,2),Qe=$e[0],Ae=$e[1],Ge=Object(c.useState)(),_e=Object(n.a)(Ge,2),Re=_e[0],Ke=_e[1],Me=Object(c.useState)(i()().quarter()),Ye=Object(n.a)(Me,2),Ve=Ye[0],We=(Ye[1],Object(c.useState)("budget")),Ue=Object(n.a)(We,2),He=(Ue[0],Ue[1],Object(c.useState)("sold")),ze=Object(n.a)(He,2),Je=(ze[0],ze[1],["Region","Country","Product Group","Product Category","Product"]),Ze=Object(c.useState)(Je),Xe=Object(n.a)(Ze,2),et=Xe[0],tt=Xe[1],at=["region","country","productGroup","productCategory","product"],rt=Object(c.useState)(at),nt=Object(n.a)(rt,2),ct=nt[0],ot=nt[1];Object(c.useEffect)(function(){lt(t,m,a,l)},[m,t,g,y,E,a,l,s]),Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var lt=function(e,t,a,c){if(t){var o=[];""!==g?(o=t.filter(function(t){return t[e]===g}),""!==y&&(o=o.filter(function(e){return e[a]===y}),""!==E&&(o=o.filter(function(e){return e[c]===E})))):o=t;var l=[],i=[],u=[];u=o.groupBy(e),""!==a&&""===c&&(u=o.groupBy(a)),""!==c&&(u=o.groupBy(c)),""!==E&&(u=o.groupBy(s));for(var m=0,p=Object.entries(u);m<p.length;m++){var d=p[m],f=Object(n.a)(d,2);l={group:f[0]};for(var h=f[1].groupBy("qq"),b=0,v=0,N=0,O=0,j=0,x=0,S=0,C=0,D=0,k=0,F=0,I=0,L=0,P=0,T=0,q=0,Q=0,A=Object.entries(h);Q<A.length;Q++){var G=A[Q],R=Object(n.a)(G,2),K=R[0],M=R[1];1===Number(K)&&M.forEach(function(e){b+=e.budget,j+=e.sold,D+=e.budgetprofit,L+=e.soldprofit}),2===Number(K)&&M.forEach(function(e){v+=e.budget,x+=e.sold,k+=e.budgetprofit,P+=e.soldprofit}),3===Number(K)&&M.forEach(function(e){N+=e.budget,S+=e.sold,F+=e.budgetprofit,T+=e.soldprofit}),4===Number(K)&&M.forEach(function(e){O+=e.budget,C+=e.sold,I+=e.budgetprofit,q+=e.soldprofit})}l=Object(r.a)({},l,{qb1:b,qb2:v,qb3:N,qb4:O,totalb:b+v+N+O,qs1:j,qs2:x,qs3:S,qs4:C,totals:j+x+S+C,qbp1:D,qbp2:k,qbp3:F,qbp4:I,totalbprofit:D+k+F+I,qsp1:L,qsp2:P,qsp3:T,qsp4:q,totalsprofit:L+P+T+q}),i.push(l)}var V=i.sort(function(e,t){return e.totalbp<t.totalb?1:e.totalb>t.totalb?-1:0}).filter(function(e){return e.totalb>0||e.totals>0}),W=V.map(function(e){return e.group}),U=V.map(function(e){return e.qb1}),z=V.map(function(e){return e.qb2}),J=V.map(function(e){return e.qb3}),Z=V.map(function(e){return e.qb4}),ee=V.map(function(e){return e.qs1}),te=V.map(function(e){return e.qs2}),ae=V.map(function(e){return e.qs3}),ne=V.map(function(e){return e.qs4}),ce=V.map(function(e){return e.qbp1}),oe=V.map(function(e){return e.qbp2}),ie=V.map(function(e){return e.qbp3}),se=V.map(function(e){return e.qbp4}),ue=V.map(function(e){return e.qsp1}),pe=V.map(function(e){return e.qsp2}),de=V.map(function(e){return e.qsp3}),fe=V.map(function(e){return e.qsp4});w(W),B(U),$(z),_(J),Y(Z),H(ee),X(te),re(ae),le(ne),me(ce),he(oe),ve(ie),je(se),Ce(ue),Ie(pe),Te(de),Ae(fe),Ke(V)}},it={indexAxis:"y",responsive:!0,plugins:{legend:{display:!1}},aspectRatio:2/1.5,layout:{padding:0},onClick:function(e){""===a&&(b(e.chart.tooltip.title[0]),et.splice(ft,1),ct.splice(ft,1),d(ct[0]),ht(0)),""===l&&""!==a&&(v(e.chart.tooltip.title[0]),et.splice(ft,1),ct.splice(ft,1),f(ct[0]),ht(0)),""===s&&""!==l&&(N(e.chart.tooltip.title[0]),et.splice(ft,1),ct.splice(ft,1),h(ct[0]),ht(0))}},st={indexAxis:"y",responsive:!0,plugins:{legend:{display:!1}},aspectRatio:2/1.5,layout:{padding:0},scales:{x:{ticks:{callback:function(e,t,a){return"$"+e.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}},onClick:function(e){""===a&&(b(e.chart.tooltip.title[0]),et.splice(ft,1),ct.splice(ft,1),d(ct[0]),ht(0)),""===l&&""!==a&&(v(e.chart.tooltip.title[0]),et.splice(ft,1),ct.splice(ft,1),f(ct[0]),ht(0)),""!==l&&""!==a&&(N(e.chart.tooltip.title[0]),et.splice(ft,1),ct.splice(ft,1),h(ct[0]),ht(0))}},ut={labels:x,datasets:[{label:"Budget Q1",data:L,backgroundColor:"rgba(68, 65, 162,1)",stack:"Stack 0"},{label:"Budget Q2",data:q,backgroundColor:"rgba(68, 65, 162,0.7)",stack:"Stack 0"},{label:"Budget Q3",data:G,backgroundColor:"rgba(68, 65, 162,0.4)",stack:"Stack 0"},{label:"Budget Q4",data:M,backgroundColor:"rgba(68, 65, 162,0.25)",stack:"Stack 0"},{label:"Sales Q1",data:U,backgroundColor:"rgba(160, 182, 103,1)",stack:"Stack 1"},{label:"Sales Q2",data:Z,backgroundColor:"rgba(160, 182, 103,0.7)",stack:"Stack 1"},{label:"Sales Q3",data:ae,backgroundColor:"rgba(160, 182, 103,0.4)",stack:"Stack 1"},{label:"Sales Q4",data:oe,backgroundColor:"rgba(160, 182, 103,0.25)",stack:"Stack 1"}]},mt={labels:x,datasets:[{label:"Budget Q1",data:ue,backgroundColor:"rgba(68, 65, 162,1)",stack:"Stack 0"},{label:"Budget Q2",data:fe,backgroundColor:"rgba(68, 65, 162,0.7)",stack:"Stack 0"},{label:"Budget Q3",data:ye,backgroundColor:"rgba(68, 65, 162,0.4)",stack:"Stack 0"},{label:"Budget Q4",data:Oe,backgroundColor:"rgba(68, 65, 162,0.25)",stack:"Stack 0"},{label:"Sales Q1",data:Se,backgroundColor:"rgba(160, 182, 103,1)",stack:"Stack 1"},{label:"Sales Q2",data:Fe,backgroundColor:"rgba(160, 182, 103,0.7)",stack:"Stack 1"},{label:"Sales Q3",data:Pe,backgroundColor:"rgba(160, 182, 103,0.4)",stack:"Stack 1"},{label:"Sales Q4",data:Qe,backgroundColor:"rgba(160, 182, 103,0.25)",stack:"Stack 1"}]},pt=Object(c.useState)(0),dt=Object(n.a)(pt,2),ft=dt[0],ht=dt[1],gt=0,bt=0,yt=0,vt=0,Et=0,Nt=0,Ot=0,jt=0,xt=0,wt=0,St=0,Ct=0,Dt=0,kt=0,Ft=0,It=0,Lt=0,Bt=0,Pt=0,Tt=0;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"AVBTitleArea"},o.a.createElement("div",{className:"AVBTitle"},o.a.createElement("h2",null,t?t.toUpperCase():"",g?" : "+g:"",a?", "+a.toUpperCase():"",y?" : "+y:"",l?", "+l.toUpperCase():"",E?" : "+E:"")),o.a.createElement("div",{className:"groupbuttons"},o.a.createElement("button",{className:"AVBBackbutton",onClick:function(e){return function(){if(""!==E){N("");var e=at.indexOf(l);et.push(Je[e]),ct.push(at[e]),ht(et.indexOf(Je[e])),h("")}else if(""!==y){v("");var r=at.indexOf(a);et.push(Je[r]),ct.push(at[r]),ht(et.indexOf(Je[r])),f("")}else if(""!==g){b("");var n=at.indexOf(t);et.push(Je[n]),ct.push(at[n]),ht(et.indexOf(Je[n])),d("")}}()}},"<< Back"),o.a.createElement("p",null,""!==E?"Level 4:":""!==y?"Level 3:":""!==g?"Level 2:":"Level 1:"),et?et.map(function(e,t){return o.a.createElement("button",{key:t,value:"Product Group"===e?"productGroup":"Product Category"===e?"productCategory":e.toLowerCase(),onClick:function(e){ht(t),""===g?p(e.target.value):""===y?d(e.target.value):""===E?f(e.target.value):h(e.target.value)},className:t===ft?"activegroupbutton":""},e)}):"",o.a.createElement("button",{className:"AVBReset",onClick:function(e){return b(""),v(""),N(""),d(""),f(""),h(""),p("region"),tt(Je),ot(at),void ht(0)}},"Reset"))),o.a.createElement("div",{className:"AVBCharts"},o.a.createElement("div",{className:"AVBChart"},o.a.createElement(u.a,{options:it,data:ut})),o.a.createElement("div",{className:"AVBChart"},o.a.createElement(u.a,{options:st,data:mt}))),o.a.createElement("div",{className:"AVBTable"},o.a.createElement("ul",{className:"AVBTableHeaders"},o.a.createElement("li",{className:"AVBFirstCol"},"(in mt)"),o.a.createElement("li",{className:"AVBTableFig"},"Q1"),o.a.createElement("li",{className:"AVBTableFig"}),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),o.a.createElement("li",{className:"AVBTableFig"},"Q2"),o.a.createElement("li",{className:"AVBTableFig"}),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),o.a.createElement("li",{className:"AVBTableFig"},"Q3"),o.a.createElement("li",{className:"AVBTableFig"}),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),o.a.createElement("li",{className:"AVBTableFig"},"Q4"),o.a.createElement("li",{className:"AVBTableFig"}),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),o.a.createElement("li",{className:"AVBTableFig"},"Totals"),o.a.createElement("li",{className:"AVBTableFig"}),o.a.createElement("li",{className:"AVBTableFig"}),o.a.createElement("li",{className:"AVBTableFig"})),o.a.createElement("ul",{className:"AVBTableHeaders"},o.a.createElement("li",{className:"AVBFirstCol"},""!==s?s.toUpperCase():""!==l?l.toUpperCase():""!==a?a.toUpperCase():t.toUpperCase()),o.a.createElement("li",{className:"AVBTableFig"},"B"),o.a.createElement("li",{className:"AVBTableFig"},"S"),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),o.a.createElement("li",{className:"AVBTableFig"},"B"),o.a.createElement("li",{className:"AVBTableFig"},"S"),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),o.a.createElement("li",{className:"AVBTableFig"},"B"),o.a.createElement("li",{className:"AVBTableFig"},"S"),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),o.a.createElement("li",{className:"AVBTableFig"},"B"),o.a.createElement("li",{className:"AVBTableFig"},"S"),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),o.a.createElement("li",{className:"AVBTableFig"},"Total B")," ",4===Ve?"":o.a.createElement("li",{className:"AVBTableFig"},"YTD B"),o.a.createElement("li",{className:"AVBTableFig"},"YTD S"),o.a.createElement("li",{className:"AVBTableFig"},"YTD VAR")),Re?Re.map(function(e){return gt+=e.qb1,bt+=e.qb2,yt+=e.qb3,vt+=e.qb4,Et+=e.qs1,Nt+=e.qs2,Ot+=e.qs3,jt+=e.qs4,xt+=e.totalb,wt+=e.totals,[o.a.createElement("ul",{className:"AVBTableRow"},o.a.createElement("li",{className:"AVBFirstCol"},"Dominican Republic"===e.group?"DomRep":e.group),o.a.createElement("li",{className:"AVBTableFig"},e.qb1.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},e.qs1.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qb1>0?(e.qs1/e.qb1*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},e.qb2.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},e.qs2.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qb2>0?(e.qs2/e.qb2*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},e.qb3.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},e.qs3.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qb3>0?(e.qs3/e.qb3*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},e.qb4.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},e.qs4.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qb4>0?(e.qs4/e.qb4*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},e.totalb.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),4===Ve?"":o.a.createElement("li",{className:"AVBTableFig"},1===Ve?e.qb1.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):2===Ve?(e.qb1+e.qb2).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):3===Ve?(e.qb1+e.qb2+e.qb3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""),o.a.createElement("li",{className:"AVBTableFig"},e.totals.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),4===Ve?e.totalb>0?o.a.createElement("li",{className:"AVBTableFig"},(e.totals/e.totalb*100).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%"):o.a.createElement("li",{className:"AVBTableFig"},' "NB"'):o.a.createElement("li",{className:"AVBTableFig"},1===Ve?e.qb1>0?(e.qs1/e.qb1*100).toFixed(0)+"%":"NB":2===Ve?e.qb2+e.qb1>0?((e.qs1+e.qs2)/(e.qb1+e.qb2)*100).toFixed(0)+"%":"NB":3===Ve?e.qb2+e.qb1+e.qb3>0?((e.qs1+e.qs2+e.qs3)/(e.qb1+e.qb2+e.qb3)*100).toFixed(0)+"%":"NB":""))]}):""," ",o.a.createElement("ul",{className:"AVBTableTotals"},o.a.createElement("li",{className:"AVBFirstCol"},"TOTAL"),o.a.createElement("li",{className:"AVBTableFig"},gt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},Et.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},gt>0?(Et/gt*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},bt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},Nt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},bt>0?(Nt/bt*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},yt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},Ot.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:" AVBTableFig AVBGroupEnd"},yt>0?(Ot/yt*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},vt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},jt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},vt>0?(jt/vt*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},xt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),4===Ve?"":o.a.createElement("li",{className:"AVBTableFig"},1===Ve?gt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):2===Ve?(gt+bt).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):3===Ve?(gt+bt+yt).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""),o.a.createElement("li",{className:"AVBTableFig"},wt.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},1===Ve?gt>0?(wt/gt*100).toFixed(0)+"%":"NB":2===Ve?gt+bt>0?(wt/(gt+bt)*100).toFixed(0)+"%":"NB":3===Ve?gt+bt+yt>0?(wt/(gt+bt+yt)*100).toFixed(0)+"%":"NB":4===Ve?xt>0?(wt/xt*100).toFixed(0)+"%":"NB":""))),o.a.createElement("div",{className:"AVBTable"},o.a.createElement("ul",{className:"AVBTableHeaders"},o.a.createElement("li",{className:"AVBFirstCol"},"(in '000 $)"),o.a.createElement("li",{className:"AVBTableFig"},"Q1"),o.a.createElement("li",{className:"AVBTableFig"}),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),o.a.createElement("li",{className:"AVBTableFig"},"Q2"),o.a.createElement("li",{className:"AVBTableFig"}),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),o.a.createElement("li",{className:"AVBTableFig"},"Q3"),o.a.createElement("li",{className:"AVBTableFig"}),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),o.a.createElement("li",{className:"AVBTableFig"},"Q4"),o.a.createElement("li",{className:"AVBTableFig"}),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"}),o.a.createElement("li",{className:"AVBTableFig"},"Totals"),o.a.createElement("li",{className:"AVBTableFig"}),o.a.createElement("li",{className:"AVBTableFig"}),o.a.createElement("li",{className:"AVBTableFig"})),o.a.createElement("ul",{className:"AVBTableHeaders"},o.a.createElement("li",{className:"AVBFirstCol"}," ",""!==s?s.toUpperCase():""!==l?l.toUpperCase():""!==a?a.toUpperCase():t.toUpperCase()),o.a.createElement("li",{className:"AVBTableFig"},"B"),o.a.createElement("li",{className:"AVBTableFig"},"S"),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),o.a.createElement("li",{className:"AVBTableFig"},"B"),o.a.createElement("li",{className:"AVBTableFig"},"S"),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),o.a.createElement("li",{className:"AVBTableFig"},"B"),o.a.createElement("li",{className:"AVBTableFig"},"S"),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),o.a.createElement("li",{className:"AVBTableFig"},"B"),o.a.createElement("li",{className:"AVBTableFig"},"S"),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},"VAR"),o.a.createElement("li",{className:"AVBTableFig"},"Total B")," ",4===Ve?"":o.a.createElement("li",{className:"AVBTableFig"},"YTD B"),o.a.createElement("li",{className:"AVBTableFig"},"YTD S")," ",o.a.createElement("li",{className:"AVBTableFig"},"YTD VAR")),Re?Re.map(function(e){return St+=e.qbp1,Ct+=e.qbp2,Dt+=e.qbp3,kt+=e.qbp4,Ft+=e.qsp1,It+=e.qsp2,Lt+=e.qsp3,Bt+=e.qsp4,Pt+=e.totalbprofit,Tt+=e.totalsprofit,[o.a.createElement("ul",{className:"AVBTableRow"},o.a.createElement("li",{className:"AVBFirstCol"},"Dominican Republic"===e.group?"DomRep":e.group),o.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qbp1/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qsp1/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qbp1>0?(e.qsp1/e.qbp1*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qbp2/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qsp2/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qbp2>0?(e.qsp2/e.qbp2*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qbp3/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qsp3/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qbp3>0?(e.qsp3/e.qbp3*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qbp4/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},"$"+(e.qsp4/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},e.qbp4>0?(e.qsp4/e.qbp4*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},"$"+(e.totalbprofit/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),4===Ve?"":o.a.createElement("li",{className:"AVBTableFig"},1===Ve?"$"+(e.qbp1/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):2===Ve?"$"+((e.qbp1+e.qbp2)/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):3===Ve?"$"+((e.qbp1+e.qbp2+e.qbp3)/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""),o.a.createElement("li",{className:"AVBTableFig"},"$"+(e.totalsprofit/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),4===Ve?e.totalbprofit>0?o.a.createElement("li",{className:"AVBTableFig"},(e.totalsprofit/e.totalbprofit*100).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%"):o.a.createElement("li",{className:"AVBTableFig"},' "NB"'):o.a.createElement("li",{className:"AVBTableFig"},1===Ve?e.qbp1>0?(e.qsp1/e.qbp1*100).toFixed(0)+"%":"NB":2===Ve?e.qbp2+e.qbp1>0?((e.qsp1+e.qsp2)/(e.qbp1+e.qbp2)*100).toFixed(0)+"%":"NB":3===Ve?e.qbp2+e.qbp1+e.qbp3>0?((e.qsp1+e.qsp2+e.qsp3)/(e.qbp1+e.qbp2+e.qbp3)*100).toFixed(0)+"%":"NB":""))]}):""," ",o.a.createElement("ul",{className:"AVBTableTotals"},o.a.createElement("li",{className:"AVBFirstCol"},"TOTAL"),o.a.createElement("li",{className:"AVBTableFig"},"$"+(St/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},"$"+(Ft/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},St>0?(Ft/St*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},"$"+(Ct/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},"$"+(It/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},Ct>0?(It/Ct*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},"$"+(Dt/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},"$"+(Lt/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:" AVBTableFig AVBGroupEnd"},Dt>0?(Lt/Dt*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},"$"+(kt/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},"$"+(Bt/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig AVBGroupEnd"},kt>0?(Bt/kt*100).toFixed()+"%":"NB"),o.a.createElement("li",{className:"AVBTableFig"},"$"+(Pt/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),4===Ve?"":o.a.createElement("li",{className:"AVBTableFig"},1===Ve?"$"+(St/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):2===Ve?"$"+((St+Ct)/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):3===Ve?"$"+((St+Ct+Dt)/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""),o.a.createElement("li",{className:"AVBTableFig"},"$"+(Tt/1e3).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("li",{className:"AVBTableFig"},1===Ve?St>0?(Tt/St*100).toFixed(0)+"%":"NB":2===Ve?St+Ct>0?(Tt/(St+Ct)*100).toFixed(0)+"%":"NB":3===Ve?St+Ct+Dt>0?(Tt/(St+Ct+Dt)*100).toFixed(0)+"%":"NB":4===Ve?Pt>0?(Tt/Pt*100).toFixed(0)+"%":"NB":""))))}},643:function(e,t,a){"use strict";(function(e){var r=a(1),n=a(4),c=a(0),o=a.n(c),l=a(43),i=(a(766),a(5)),s=a.n(i),u=a(644),m=Object(l.WidthProvider)(l.Responsive);t.a=function(){var t=function(t,a){var r,c;r="layouts",c=a,e.localStorage&&e.localStorage.setItem("rgl-matching",JSON.stringify(Object(n.a)({},r,c))),d(a)},a=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-matching"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"h",x:0,y:0,w:30,h:14}],md:[{i:"h",x:0,y:0,w:30,h:14}],sm:[{i:"h",x:0,y:0,w:30,h:14}],xs:[{i:"h",x:0,y:0,w:30,h:14}],xxs:[{i:"h",x:0,y:0,w:30,h:14}]},l=Object(c.useState)(a),i=Object(r.a)(l,2),p=i[0],d=i[1],f=Object(c.useState)(),h=Object(r.a)(f,2),g=h[0],b=h[1],y=Object(c.useState)(),v=Object(r.a)(y,2),E=v[0],N=v[1],O=Object(c.useState)(),j=Object(r.a)(O,2),x=j[0],w=j[1];return Object(c.useEffect)(function(){s.a.post("/matchingposreport").then(function(e){b(e.data),w(e.data),s.a.post("/poslist").then(function(e){console.log(e.data);var t=[];e.data.forEach(function(e){return t.push(e.USWGP)});var a=String(t);console.log(a),s.a.post("/matchingpossales",{posl1:a}).then(function(e){N(e.data)})})})},[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(m,{className:"layout",style:{left:"2px"},breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:p,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,a){t(0,a)},margin:[20,20],draggableCancel:".canceldrag"},o.a.createElement("div",{id:"matching",key:"h"},o.a.createElement("div",{className:"matchreporttitle"},o.a.createElement("h3",null,"Matching Report")),o.a.createElement(u.a,{posdata:g,filteredPosList:x,setFilteredPosList:w,matchingpossales:E}))))}}).call(this,a(74))},644:function(e,t,a){"use strict";var r=a(1),n=a(0),c=a.n(n),o=(a(768),a(770),a(78));a(5);t.a=function(e){var t=e.posdata,a=e.matchingpossales,l=e.filteredPosList,i=e.setFilteredPosList,s=Object(n.useState)(),u=Object(r.a)(s,2),m=u[0],p=u[1];return Object(n.useEffect)(function(){if(t)if(m&&""!==m){var e=t.filter(function(e){if(m&&""!==m)return e.USWGP.includes(m)});i(e)}else i(t)},[m]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"matchreport"},c.a.createElement("label",{htmlFor:""},"Search:"),c.a.createElement("input",{className:"matchsearch",value:m,onChange:function(e){p(e.target.value)}}),l?l.map(function(e){return c.a.createElement(o.a,{allowZeroExpanded:!0,className:"matchaccordion",onChange:function(t){e.USWGP}},c.a.createElement(o.b,null,c.a.createElement(o.d,null,c.a.createElement(o.c,{className:"matchaccordion_button"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("b",null,"USWGP:")," ",e.USWGP),c.a.createElement("li",null,c.a.createElement("b",null,"WGP:")," ",e.USpositionID),c.a.createElement("li",{className:"prodli"},c.a.createElement("b",null,"Product:")," ",e.abbreviation),c.a.createElement("li",null,c.a.createElement("b",null,"Quantity:")," ",e.quantity,"mt"),c.a.createElement("li",null,c.a.createElement("b",null,"Sold:")," ",e.totalSold,"mt"),c.a.createElement("li",null,c.a.createElement("b",null,"Unsold:")," ",e.inventory,"mt")))),c.a.createElement(o.e,null,c.a.createElement("ul",{className:"matchpossales"},c.a.createElement("li",{className:"matchpossalesheader"},c.a.createElement("p",null,"USWGP"),c.a.createElement("p",null,"WGS"),c.a.createElement("p",null,"Customer"),c.a.createElement("p",{className:"matchfig"},"Quantity")),a?a.map(function(t){return t.KTP===e.USWGP?c.a.createElement("li",null,c.a.createElement("p",null,t.KTP),c.a.createElement("p",null,t.KTS),c.a.createElement("p",null,t.companyCode),c.a.createElement("p",{className:"matchfig"},t.quantity)):""}):""))))}):""))}},645:function(e,t,a){"use strict";(function(e){var r=a(34),n=a(2),c=a(1),o=a(4),l=a(0),i=a.n(l),s=a(43),u=a(5),m=a.n(u),p=(a(772),a(75)),d=Object(s.WidthProvider)(s.Responsive);t.a=function(){var t=Object(l.useContext)(p.a),a=t.updateScores,s=t.setUpdateScores,u=function(t,a){var r,n;r="layouts",n=a,e.localStorage&&e.localStorage.setItem("rgl-inprogress",JSON.stringify(Object(o.a)({},r,n))),y(a)},f=function(t){var a={};if(e.localStorage)try{a=JSON.parse(e.localStorage.getItem("rgl-inprogress"))||{}}catch(r){}return a[t]}("layouts")||{lg:[{i:"h",x:0,y:0,w:30,h:14}],md:[{i:"h",x:0,y:0,w:30,h:14}],sm:[{i:"h",x:0,y:0,w:30,h:14}],xs:[{i:"h",x:0,y:0,w:30,h:14}],xxs:[{i:"h",x:0,y:0,w:30,h:14}]},h=Object(l.useState)(f),g=Object(c.a)(h,2),b=g[0],y=g[1],v=Object(l.useState)(),E=Object(c.a)(v,2),N=E[0],O=E[1],j=Object(l.useState)(),x=Object(c.a)(j,2),w=x[0],S=x[1],C=Object(l.useState)(),D=Object(c.a)(C,2),k=D[0],F=D[1],I=Object(l.useState)([]),L=Object(c.a)(I,2),B=L[0],P=L[1],T=Object(l.useState)([]),q=Object(c.a)(T,2),$=(q[0],q[1],Object(l.useState)()),Q=Object(c.a)($,2),A=(Q[0],Q[1]),G=Object(l.useState)(!1),_=Object(c.a)(G,2),R=(_[0],_[1],Object(l.useState)(!1)),K=Object(c.a)(R,2);K[0],K[1];Object(l.useEffect)(function(){m.a.post("/trafficmgrs").then(function(e){F(e.data)})},[]),Object(l.useEffect)(function(){m.a.post("/salesinprogress").then(function(e){O(e.data)}),m.a.post("/salesinprogressassigned").then(function(e){S(e.data)})},[a]);var M=function(e,t){m.a.post("/saveassignment",{qsid:e,datapacket:B[e]}).then(function(e){A(e.data),s(!a)})},Y=Object(l.useState)([]),V=Object(c.a)(Y,2),W=V[0],U=V[1],H=function(e,t){P(Object(n.a)({},B,Object(o.a)({},t,Object(n.a)({},B[t],Object(o.a)({},e.target.name,e.target.value)))))};return i.a.createElement(d,{className:"layout",style:{left:"2px"},breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},layouts:b,cols:{lg:36,md:36,sm:36,xs:36,xxs:2},rowHeight:30,onLayoutChange:function(e,t){u(0,t)},margin:[20,20],draggableCancel:".canceldrag"},i.a.createElement("div",{id:"inprogress",key:"h"},i.a.createElement("div",{className:"matchreporttitle"},i.a.createElement("h3",null,"Operations In Progress")),i.a.createElement("ul",{className:"inprogresslist"},i.a.createElement("h4",null,"Unassigned"),i.a.createElement("li",{className:"inprogresslist-header"},i.a.createElement("p",null,"QSID"),i.a.createElement("p",null,"Trader"),i.a.createElement("p",null,"WGS"),i.a.createElement("p",null,"WGP"),i.a.createElement("p",{className:"inprogress-lrg-p"},"Product"),i.a.createElement("p",{className:"inprogress-lrg-p"},"Customer"),i.a.createElement("p",null,"Quantity"),i.a.createElement("p",null,"P Inco"),i.a.createElement("p",null,"S Inco"),i.a.createElement("p",{className:"inprog-center"},"Inspec."),i.a.createElement("p",{className:"inprog-center"},"LC"),i.a.createElement("p",{className:"inprog-center"},"WH"),i.a.createElement("p",null,"Score"),i.a.createElement("p",null,"TMC"),W.length>0?i.a.createElement("p",{className:"inprog-center"},"Finalize"):i.a.createElement("p",null)),N?N.map(function(e){var t=0;return"CPT"===e.pincoterms||"CFR"===e.pincoterms?t+=1:"FOB"!==e.pincoterms&&"CIP"!==e.pincoterms&&"CIF"!==e.pincoterms||(t+=2),"DAP"===e.incoterms&&(t+=1),"yes"===e.hasInspection&&(t+=1),"yes"===e.hasPromisory&&(t+=1),"yes"===e.hasWH&&(t+=1),i.a.createElement("li",null,i.a.createElement("p",null,e.QSID),i.a.createElement("p",null,e.trader),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"KTS",type:"text",onChange:function(t){H(t,e.QSID)},value:B[e.QSID]&&B[e.QSID].KTS||B[e.QSID]&&""===B[e.QSID].KTS?B[e.QSID].KTS:e.KTS})):i.a.createElement("p",null,e.KTS),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"KTP",type:"text",onChange:function(t){H(t,e.QSID)},value:B[e.QSID]&&B[e.QSID].KTP||B[e.QSID]&&""===B[e.QSID].KTP?B[e.QSID].KTP:e.KTP})):i.a.createElement("p",null,e.KTP),i.a.createElement("p",{className:"inprogress-lrg-p"},e.abbreviation),i.a.createElement("p",{className:"inprogress-lrg-p"},e.companyCode),i.a.createElement("p",null,e.quantity),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"pincoterms",type:"text",onChange:function(t){H(t,e.QSID)},value:B[e.QSID]&&B[e.QSID].pincoterms||B[e.QSID]&&""===B[e.QSID].pincoterms?B[e.QSID].pincoterms:e.pincoterms})):i.a.createElement("p",null,e.pincoterms),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"incoterms",type:"text",onChange:function(t){H(t,e.QSID)},value:B[e.QSID]&&B[e.QSID].incoterms||B[e.QSID]&&""===B[e.QSID].incoterms?B[e.QSID].incoterms:e.incoterms})):i.a.createElement("p",null,e.incoterms),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:B[e.QSID]?B[e.QSID].hasInspectionBool:"yes"===e.hasInspection,onClick:function(t){var a,r,c,l;B[e.QSID]&&B[e.QSID].hasInspection?"yes"===B[e.QSID].hasInspection?(console.log("heyyy"),P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(a={},Object(o.a)(a,"hasInspection","no"),Object(o.a)(a,"hasInspectionBool",!1),a)))))):(console.log("hooo"),P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(r={},Object(o.a)(r,"hasInspection","yes"),Object(o.a)(r,"hasInspectionBool",!0),r)))))):"yes"===e.hasInspection?P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(c={},Object(o.a)(c,"hasInspection","no"),Object(o.a)(c,"hasInspectionBool",!1),c))))):P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(l={},Object(o.a)(l,"hasInspection","yes"),Object(o.a)(l,"hasInspectionBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasInspection),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:B[e.QSID]?B[e.QSID].hasPromisoryBool:"yes"===e.hasPromisory,onClick:function(t){var a,r,c,l;B[e.QSID]&&B[e.QSID].hasPromisory?"yes"===B[e.QSID].hasPromisory?P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(a={},Object(o.a)(a,"hasPromisory","no"),Object(o.a)(a,"hasPromisoryBool",!1),a))))):P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(r={},Object(o.a)(r,"hasPromisory","yes"),Object(o.a)(r,"hasPromisoryBool",!0),r))))):"yes"===e.hasPromisory?P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(c={},Object(o.a)(c,"hasPromisory","no"),Object(o.a)(c,"hasPromisoryBool",!1),c))))):P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(l={},Object(o.a)(l,"hasPromisory","yes"),Object(o.a)(l,"hasPromisoryBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasPromisory),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:B[e.QSID]?B[e.QSID].hasWHBool:"yes"===e.hasWH,onClick:function(t){var a,r,c,l;B[e.QSID]&&B[e.QSID].hasWH?"yes"===B[e.QSID].hasWH?(console.log("heyyy"),P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(a={},Object(o.a)(a,"hasWH","no"),Object(o.a)(a,"hasWHBool",!1),a)))))):(console.log("hooo"),P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(r={},Object(o.a)(r,"hasWH","yes"),Object(o.a)(r,"hasWHBool",!0),r)))))):"yes"===e.hasWH?P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(c={},Object(o.a)(c,"hasWH","no"),Object(o.a)(c,"hasWHBool",!1),c))))):P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(l={},Object(o.a)(l,"hasWH","yes"),Object(o.a)(l,"hasWHBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasWH),i.a.createElement("p",null,t.toFixed(1)),W.includes(String(e.QSID))?i.a.createElement("select",{name:e.QSID,onChange:function(e){P(Object(n.a)({},B,Object(o.a)({},e.target.name,Object(n.a)({},B[e.target.name],{trafficID:Number(e.target.value)}))))},value:B[e.QSID]&&B[e.QSID].trafficID||B[e.QSID]&&0===B[e.QSID].trafficID?B[e.QSID].trafficID:e.trafficID},i.a.createElement("option",null,"Select..."),k?k.map(function(e){return i.a.createElement("option",{selected:"na",value:e.trafficID},e.trafficID," - ",e.traffic)}):""):i.a.createElement("p",null,e.traffic),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:B[e.QSID]?B[e.QSID].finalCompleteBool:1===e.finalComplete,onClick:function(t){var a,r,c,l;B[e.QSID]&&B[e.QSID].finalComplete?1===B[e.QSID].finalComplete?P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(a={},Object(o.a)(a,"finalComplete",0),Object(o.a)(a,"finalCompleteBool",!1),a))))):P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(r={},Object(o.a)(r,"finalComplete",1),Object(o.a)(r,"finalCompleteBool",!0),r))))):1===e.finalComplete?P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(c={},Object(o.a)(c,"finalComplete",0),Object(o.a)(c,"finalCompleteBool",!1),c))))):P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(l={},Object(o.a)(l,"finalComplete",1),Object(o.a)(l,"finalCompleteBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"}),W.includes(String(e.QSID))?"":i.a.createElement("button",{name:e.QSID,onClick:function(e){W.includes(e.target.name)||U([].concat(Object(r.a)(W),[e.target.name]))}},"Edit"),W.includes(String(e.QSID))?[i.a.createElement("button",{className:"inprogsavebtn",name:e.QSID,onClick:function(e){e.preventDefault(),M(e.target.name,B[e.target.name]);var t=B;delete t[e.target.name],P(Object(n.a)({},t));var a=W.indexOf(String(e.target.name));U([].concat(Object(r.a)(W.slice(0,a)),Object(r.a)(W.slice(a+1,W.length))))}},"Save"),i.a.createElement("button",{className:"inprogcancelbtn",name:e.QSID,onClick:function(e){var t=B;delete t[e.target.name],P(Object(n.a)({},t));var a=W.indexOf(String(e.target.name));U([].concat(Object(r.a)(W.slice(0,a)),Object(r.a)(W.slice(a+1,W.length))))}},"Cancel")]:"")}):"",i.a.createElement("h4",null,"Assigned"),i.a.createElement("li",{className:"inprogresslist-header"},i.a.createElement("p",null,"QSID"),i.a.createElement("p",null,"Trader"),i.a.createElement("p",null,"WGS"),i.a.createElement("p",null,"WGP"),i.a.createElement("p",{className:"inprogress-lrg-p"},"Product"),i.a.createElement("p",{className:"inprogress-lrg-p"},"Customer"),i.a.createElement("p",null,"Quantity"),i.a.createElement("p",null,"P Inco"),i.a.createElement("p",null,"S Inco"),i.a.createElement("p",{className:"inprog-center"},"Inspec."),i.a.createElement("p",{className:"inprog-center"},"LC"),i.a.createElement("p",{className:"inprog-center"},"WH"),i.a.createElement("p",null,"Score"),i.a.createElement("p",null,"TMC"),W.length>0?i.a.createElement("p",{className:"inprog-center"},"Finalize"):i.a.createElement("p",null)),w?w.map(function(e){var t=0;return"CPT"===e.pincoterms||"CFR"===e.pincoterms?t+=1:"FOB"!==e.pincoterms&&"CIP"!==e.pincoterms&&"CIF"!==e.pincoterms||(t+=2),"DAP"===e.incoterms&&(t+=1),"yes"===e.hasInspection&&(t+=1),"yes"===e.hasPromisory&&(t+=1),"yes"===e.hasWH&&(t+=1),i.a.createElement("li",null,i.a.createElement("p",null,e.QSID),i.a.createElement("p",null,e.trader),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"KTS",type:"text",onChange:function(t){H(t,e.QSID)},value:B[e.QSID]&&B[e.QSID].KTS||B[e.QSID]&&""===B[e.QSID].KTS?B[e.QSID].KTS:e.KTS})):i.a.createElement("p",null,e.KTS),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"KTP",type:"text",onChange:function(t){H(t,e.QSID)},value:B[e.QSID]&&B[e.QSID].KTP||B[e.QSID]&&""===B[e.QSID].KTP?B[e.QSID].KTP:e.KTP})):i.a.createElement("p",null,e.KTP),i.a.createElement("p",{className:"inprogress-lrg-p"},e.abbreviation),i.a.createElement("p",{className:"inprogress-lrg-p"},e.companyCode),i.a.createElement("p",null,e.quantity),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"pincoterms",type:"text",onChange:function(t){H(t,e.QSID)},value:B[e.QSID]&&B[e.QSID].pincoterms||B[e.QSID]&&""===B[e.QSID].pincoterms?B[e.QSID].pincoterms:e.pincoterms})):i.a.createElement("p",null,e.pincoterms),W.includes(String(e.QSID))?i.a.createElement("p",null,i.a.createElement("input",{className:"canceldrag",name:"incoterms",type:"text",onChange:function(t){H(t,e.QSID)},value:B[e.QSID]&&B[e.QSID].incoterms||B[e.QSID]&&""===B[e.QSID].incoterms?B[e.QSID].incoterms:e.incoterms})):i.a.createElement("p",null,e.incoterms),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:B[e.QSID]?B[e.QSID].hasInspectionBool:"yes"===e.hasInspection,onClick:function(t){var a,r,c,l;B[e.QSID]&&B[e.QSID].hasInspection?"yes"===B[e.QSID].hasInspection?(console.log("heyyy"),P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(a={},Object(o.a)(a,"hasInspection","no"),Object(o.a)(a,"hasInspectionBool",!1),a)))))):(console.log("hooo"),P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(r={},Object(o.a)(r,"hasInspection","yes"),Object(o.a)(r,"hasInspectionBool",!0),r)))))):"yes"===e.hasInspection?P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(c={},Object(o.a)(c,"hasInspection","no"),Object(o.a)(c,"hasInspectionBool",!1),c))))):P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(l={},Object(o.a)(l,"hasInspection","yes"),Object(o.a)(l,"hasInspectionBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasInspection),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:B[e.QSID]?B[e.QSID].hasPromisoryBool:"yes"===e.hasPromisory,onClick:function(t){var a,r,c,l;B[e.QSID]&&B[e.QSID].hasPromisory?"yes"===B[e.QSID].hasPromisory?(console.log("heyyy"),P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(a={},Object(o.a)(a,"hasPromisory","no"),Object(o.a)(a,"hasPromisoryBool",!1),a)))))):(console.log("hooo"),P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(r={},Object(o.a)(r,"hasPromisory","yes"),Object(o.a)(r,"hasPromisoryBool",!0),r)))))):"yes"===e.hasPromisory?P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(c={},Object(o.a)(c,"hasPromisory","no"),Object(o.a)(c,"hasPromisoryBool",!1),c))))):P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(l={},Object(o.a)(l,"hasPromisory","yes"),Object(o.a)(l,"hasPromisoryBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasPromisory),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:B[e.QSID]?B[e.QSID].hasWHBool:"yes"===e.hasWH,onClick:function(t){var a,r,c,l;B[e.QSID]&&B[e.QSID].hasWH?"yes"===B[e.QSID].hasWH?(console.log("heyyy"),P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(a={},Object(o.a)(a,"hasWH","no"),Object(o.a)(a,"hasWHBool",!1),a)))))):(console.log("hooo"),P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(r={},Object(o.a)(r,"hasWH","yes"),Object(o.a)(r,"hasWHBool",!0),r)))))):"yes"===e.hasWH?P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(c={},Object(o.a)(c,"hasWH","no"),Object(o.a)(c,"hasWHBool",!1),c))))):P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(l={},Object(o.a)(l,"hasWH","yes"),Object(o.a)(l,"hasWHBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"},e.hasWH),i.a.createElement("p",null,t.toFixed(1)),W.includes(String(e.QSID))?i.a.createElement("select",{name:e.QSID,onChange:function(e){P(Object(n.a)({},B,Object(o.a)({},e.target.name,Object(n.a)({},B[e.target.name],{trafficID:Number(e.target.value)}))))},value:B[e.QSID]&&B[e.QSID].trafficID||B[e.QSID]&&0===B[e.QSID].trafficID?B[e.QSID].trafficID:e.trafficID},i.a.createElement("option",null,"Select..."),k?k.map(function(e){return i.a.createElement("option",{selected:"na",value:e.trafficID},e.trafficID," - ",e.traffic)}):""):i.a.createElement("p",null,e.traffic),W.includes(String(e.QSID))?i.a.createElement("p",{className:"inprog-center"},i.a.createElement("input",{type:"checkbox",checked:B[e.QSID]?B[e.QSID].finalCompleteBool:1===e.finalComplete,onClick:function(t){var a,r,c,l;B[e.QSID]&&B[e.QSID].finalComplete?1===B[e.QSID].finalComplete?P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(a={},Object(o.a)(a,"finalComplete",0),Object(o.a)(a,"finalCompleteBool",!1),a))))):P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(r={},Object(o.a)(r,"finalComplete",1),Object(o.a)(r,"finalCompleteBool",!0),r))))):1===e.finalComplete?P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(c={},Object(o.a)(c,"finalComplete",0),Object(o.a)(c,"finalCompleteBool",!1),c))))):P(Object(n.a)({},B,Object(o.a)({},e.QSID,Object(n.a)({},B[e.QSID],(l={},Object(o.a)(l,"finalComplete",1),Object(o.a)(l,"finalCompleteBool",!0),l)))))}})):i.a.createElement("p",{className:"inprog-center"}),W.includes(String(e.QSID))?"":i.a.createElement("button",{name:e.QSID,onClick:function(e){return W.includes(e.target.name)?"":U([].concat(Object(r.a)(W),[e.target.name]))}},"Edit"),W.includes(String(e.QSID))?[i.a.createElement("button",{className:"inprogsavebtn",name:e.QSID,onClick:function(e){e.preventDefault(),M(e.target.name,B[e.target.name]);var t=B;delete t[e.target.name],P(Object(n.a)({},t));var a=W.indexOf(String(e.target.name));U([].concat(Object(r.a)(W.slice(0,a)),Object(r.a)(W.slice(a+1,W.length))))}},"Save"),i.a.createElement("button",{className:"inprogcancelbtn",name:e.QSID,onClick:function(e){var t=B;delete t[e.target.name],P(Object(n.a)({},t));var a=W.indexOf(String(e.target.name));U([].concat(Object(r.a)(W.slice(0,a)),Object(r.a)(W.slice(a+1,W.length))))}},"Cancel")]:"")}):"")))}}).call(this,a(74))},716:function(e,t,a){},718:function(e,t,a){},720:function(e,t,a){},722:function(e,t,a){},724:function(e,t,a){},726:function(e,t,a){},729:function(e,t,a){"use strict";var r=a(2),n=a(7),c=a(34),o=a(4),l=a(1),i=a(0),s=a.n(i),u=(a(323),a(6)),m=a.n(u),p=a(83),d=a(5),f=a.n(d),h=a(47),g=a(97),b=a(54);a(268);a.p;a.p,a(296);var y=a(39),v=a(9),E=a(95);function N(){N=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new x(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(){var e=Object(i.useContext)(h.a).toggleQSrefresh,t=Object(i.useContext)(g.a),a=t.QStoload,u=t.setLoaduser,d=t.loaduser,O=t.diffQS,j=t.duplicateBoolean,x=t.fromdropdown,w=t.setFromdropdown,S=Object(i.useRef)(null),C=Object(i.useState)(!1),D=Object(l.a)(C,2),k=D[0],F=D[1],I=function(){qa("")};Object(i.useEffect)(function(){var e=S.current;E.a.fromTo(e,{opacity:1},{opacity:0,duration:2.5,ease:"power1.inOut",onComplete:I})},[k]);var L=Object(o.a)({KTP:"",KTS:"",saleType:"",QSDate:m()().format("yyyy-MM-DD"),QSID:"",abbreviation:"",supplier:"",customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGuserID")),traffic:"",incoterms:"",CADintrate:.07,CADdays:10,paymentTerm:"",shipmentType:1,freightTotal:0,shippingline:"",payload:0,totalinspection:0,quantity:0,materialcost:0,pcommission:0,pfinancecost:0,sfinancecost:0,materialvalue:0,generalduty:0,additionalduty:0,totalduty:0,dutyfee:0,harborfeepct:0,harborfee:0,merchprocfeepct:0,merchprocfee:0,cflatfee:0,tsca:0,isf:0,totalcentryfee:0,centryfeepmt:0,inboundpmt:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,totalinbound:0,freightpmt:0,insurance:0,insurancerate:7e-4,insurancefactor:1.1,inspectionpmt:0,scommission:0,interestcost:0,warehouse:"",storagepmt:0,whentry:"",whexit:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:0,legal:1,pallets:0,other:0,totalcost:1,interestrate:0,interestdays:0,pricebeforeint:0,salesinterest:0,priceafterint:0,profit:0,margin:0,turnover:0,pctmargin:0,netback:0,saleComplete:0,finalComplete:0,outboundpmt:0,loading:0,bolcharges:0,outboundothers:0,totaloutbound:0},"quantitypallets",0),B=Object(o.a)({KTP:"",KTS:"",saleType:"",QSDate:m()().format("yyyy-MM-DD"),QSID:"",abbreviation:"",supplier:"",customer:"",packsize:"",marks:"",from:"",to:"",POL:"",POD:"",TIC:JSON.parse(localStorage.getItem("WGusercode")),traffic:"",incoterms:"",CADintrate:"7.00%",CADdays:"10",paymentTerm:"",shipmentType:"Container",freightTotal:"$ 0.00",shippingline:"",payload:"0.00",totalinspection:"$ 0.00",quantity:"",materialcost:"$ 0.00",pcommission:"$ 0.00",pfinancecost:"$ 0.00",sfinancecost:"$ 0.00",materialvalue:"$ 0,00",generalduty:"0.00%",additionalduty:"0.00%",totalduty:"0.00%",dutyfee:"$ 0.00",harborfeepct:"0.00%",harborfee:"$ 0.00",merchprocfeepct:"0.00%",merchprocfee:"$ 0.00",cflatfee:"$ 0.00",tsca:"$ 0.00",isf:"$ 0.00",totalcentryfee:"$ 0.00",centryfeepmt:"$ 0.00",inboundpmt:"$ 0.00",drayage:"$ 0.00",unloading:"$ 0.00",collectcharges:"$ 0.00",inboundothers:"$ 0.00",totalinbound:"$ 0.00",freightpmt:"$ 0.00",insurance:"$ 0.00",insurancerate:"0.07%",insurancefactor:"1.10",inspectionpmt:"$ 0.00",scommission:"$ 0.00",interestcost:"$ 0.00",warehouse:"",storagepmt:"$ 0.00",whentry:"",whexit:"",storagefixed:"$ 0.00",storagevariable:"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:"",legal:"$ 1.00",pallets:"$ 0.00",other:"$ 0.00",totalcost:"$ 1.00",interestrate:"0.00%",interestdays:"0",pricebeforeint:"$ 0.00",salesinterest:"$ 0.00",priceafterint:"$ 0.00",profit:"$ 0.00",margin:"$ 0.00",turnover:"$ 0.00",pctmargin:"0.00%",netback:"$ 0.00",saleComplete:"indication",finalComplete:"in progress",outboundpmt:"$ 0.00",loading:"$ 0.00",bolcharges:"$ 0.00",outboundothers:"$ 0.00",totaloutbound:"$ 0.00"},"quantitypallets",""),P=Object(i.useState)(L),T=Object(l.a)(P,2),q=T[0],$=T[1],Q=Object(i.useState)(B),A=Object(l.a)(Q,2),G=A[0],_=A[1],R=Object(i.useState)(),K=Object(l.a)(R,2),M=K[0],Y=K[1],V=Object(i.useState)(),W=Object(l.a)(V,2),U=W[0],H=W[1],z=Object(i.useState)(!1),J=Object(l.a)(z,2),Z=J[0],X=J[1],ee=Object(i.useState)(!1),te=Object(l.a)(ee,2),ae=te[0],re=te[1],ne=Object(i.useState)(!1),ce=Object(l.a)(ne,2),oe=ce[0],le=ce[1],ie=Object(i.useState)(!1),se=Object(l.a)(ie,2),ue=se[0],me=se[1],pe=Object(i.useState)(!1),de=Object(l.a)(pe,2),fe=de[0],he=de[1],ge=Object(i.useState)([]),be=Object(l.a)(ge,2),ye=be[0],ve=be[1],Ee=Object(i.useState)(),Ne=Object(l.a)(Ee,2),Oe=Ne[0],je=Ne[1],xe=Object(i.useState)(),we=Object(l.a)(xe,2),Se=(we[0],we[1]),Ce=Object(i.useState)(),De=Object(l.a)(Ce,2),ke=De[0],Fe=De[1],Ie=Object(i.useState)(""),Le=Object(l.a)(Ie,2),Be=Le[0],Pe=Le[1],Te=Object(i.useState)(!1),qe=Object(l.a)(Te,2),$e=qe[0],Qe=qe[1],Ae=Object(i.useState)(),Ge=Object(l.a)(Ae,2),_e=Ge[0],Re=Ge[1],Ke=Object(i.useState)(!1),Me=Object(l.a)(Ke,2),Ye=Me[0],Ve=Me[1],We=Object(i.useState)(!0),Ue=Object(l.a)(We,2),He=Ue[0],ze=Ue[1],Je=Object(i.useState)({}),Ze=Object(l.a)(Je,2),Xe=Ze[0],et=Ze[1],tt=Object(i.useState)({}),at=Object(l.a)(tt,2),rt=at[0],nt=at[1],ct=Object(i.useState)(!1),ot=Object(l.a)(ct,2),lt=ot[0],it=ot[1],st=Object(i.useState)({}),ut=Object(l.a)(st,2),mt=(ut[0],ut[1],Object(i.useState)(!1)),pt=Object(l.a)(mt,2),dt=pt[0],ft=pt[1],ht=Object(i.useState)(!1),gt=Object(l.a)(ht,2),bt=gt[0],yt=gt[1],vt=Object(i.useState)(!1),Et=Object(l.a)(vt,2),Nt=Et[0],Ot=Et[1],jt=Object(i.useState)(!1),xt=Object(l.a)(jt,2),wt=xt[0],St=xt[1],Ct=Object(i.useState)(!1),Dt=Object(l.a)(Ct,2),kt=Dt[0],Ft=Dt[1],It=Object(i.useState)(!1),Lt=Object(l.a)(It,2),Bt=Lt[0],Pt=Lt[1],Tt=Object(i.useState)(!1),qt=Object(l.a)(Tt,2),$t=qt[0],Qt=qt[1],At=Object(i.useState)(),Gt=Object(l.a)(At,2),_t=Gt[0],Rt=Gt[1],Kt=Object(i.useState)(),Mt=Object(l.a)(Kt,2),Yt=Mt[0],Vt=Mt[1],Wt=Object(i.useState)(JSON.parse(localStorage.getItem("WGusercode"))),Ut=Object(l.a)(Wt,2),Ht=(Ut[0],Ut[1],JSON.parse(localStorage.getItem("role")));Object(i.useEffect)(function(){a||f.a.post("/warehouses").then(function(e){Rt(e.data)})},[]);var zt=Object(i.useState)(),Jt=Object(l.a)(zt,2),Zt=Jt[0],Xt=Jt[1];Object(i.useEffect)(function(){f.a.post("/traders").then(function(e){Xt(e.data)})},[]);var ea=function(e){return new Promise(function(t,a){Rt(e),t()})};Object(i.useEffect)(function(){},[]),Object(i.useEffect)(function(){a||f.a.post("/QSIDList",{user:d}).then(function(e){var t=function(e){return new Promise(function(t,a){var r=Object(c.a)(new Set(e.data.map(function(e){return e.QSID})));ve(r),t()})};!function(){var a=Object(n.a)(N().mark(function a(){return N().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(e);case 2:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}()()}),a&&f.a.post("/warehouses").then(function(){var e=Object(n.a)(N().mark(function e(t){return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ea(t.data).then(function(){f.a.post("/QSIDList",{user:d}).then(function(e){var t;(t=e,new Promise(function(e,a){var r=Object(c.a)(new Set(t.data.map(function(e){return e.QSID})));ve(r),e(r)})).then(function(e){!1===x&&(Fe(e.indexOf(a)),je(a)),!0===x&&(Fe(e.length),je(""),w(!1))})})});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},[fe,d,j]),Object(i.useEffect)(function(){a||Fe(ye.length)},[ye]),Object(i.useEffect)(function(){ke===ye.length?(ze(!1),re(!1),me(!1),le(!1)):ze(!0)},[ke]),Object(i.useEffect)(function(){ye.includes(a)&&(!0===lt&&ya(G,Xe,"enter",a),!1===lt&&(Fe(ye.indexOf(a)),je(a)))},[a,O]);var ta=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return t+" "+e.toFixed(a).replace(/\B(?=(\d{3})+(?!\d))/g,",")},aa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$";return Number(e.replace(t,"").replace(",",""))},ra=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u20ac",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"$",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;return a+" "+(Number(e.replace(r,"").replace(",",""))/t).toFixed(n).replace(/\B(?=(\d{3})+(?!\d))/g,",")},na=function(e,t,a){return new Promise(function(r,n){r(e&&t&&a?e*t*a:0)})},ca=function(e,t,a,r,n,c,o,l,i,s,u,m,p,d,f,h){return new Promise(function(g,b){g(e+t+a+r+n+c+o+l+i+s+u+m+p+d+f+h)})},oa=function(e,t){return new Promise(function(a,r){a(e+t)})},la=function(e,t){return new Promise(function(a,r){a(e*t)})},ia=function(e,t){return new Promise(function(a,r){a(e+t)})},sa=function(e,t){return new Promise(function(a,r){a(e*t)})},ua=function(e,t){return new Promise(function(a,r){a(e*t)})},ma=function(e,t){return new Promise(function(a,r){a(e*t)})},pa=function(e,t,a,r,n,c){return new Promise(function(o,l){o(e+t+a+r+n+c)})},da=function(e,t){return new Promise(function(a,r){a(e/t)})},fa=function(e,t,a,r){return new Promise(function(n,c){n(e+t+a+r)})},ha=function(e,t){return new Promise(function(a,r){a(t?e/t:0)})},ga=function(e,t,a){return new Promise(function(r,n){r(e+t+a)})},ba=function(e,t){return new Promise(function(a,r){a(t?e/t:0)})};Object(i.useEffect)(function(){ke<ye.length&&f.a.post("/loadQStoedit",{id:ye[ke]}).then(function(e){var t=e.data[0],a=function(e){return new Promise(function(t,a){e.exchRate&&(Re(Number(e.exchRate)),t(Number(e.exchRate))),e.exchRate||(Re(Number(e.exchRate)),t(1))})},c=function(e){return new Promise(function(t,a){e.exchRate&&t(!0),!e.exchRate&&$e&&(Qe(!1),Re(Number(e.exchRate)),Object(b.confirmAlert)({title:"Back to $ dollars!",message:"This QS does not have an Exchange Rate defined. Reverting back to $ dollar currency",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0}),t(!1)),e.exchRate||$e||(Re(Number(e.exchRate)),t(!1))})};!function(){var e=Object(n.a)(N().mark(function e(t){var n,o,l,i,s,u,m,p,d,h,g,b,y,v;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:return n=e.sent,e.next=5,a(t);case 5:return o=e.sent,e.next=8,new Promise(function(e,t){ft(!0),e()});case 8:if(!t.KTP||3!==t.saleTypeID){e.next=13;break}return e.next=11,f.a.post("/loadusposition",{WGS:t.KTP});case 11:l=e.sent,Vt(l.data[0]);case 13:return e.next=15,la(Number(t.materialcost.replace("$","").replace(",","")),Number(t.quantity));case 15:if(i=e.sent,!t.generalduty||!t.additionalduty){e.next=22;break}return e.next=19,ia(Number(t.generalduty.replace("%","")),Number(t.additionalduty.replace("%","")));case 19:e.t0=e.sent,e.next=23;break;case 22:e.t0=0;case 23:return s=e.t0,e.next=26,sa(i,s/100);case 26:if(u=e.sent,!t.harborfeepct){e.next=33;break}return e.next=30,ua(i,Number(t.harborfeepct.replace("%","")/100));case 30:e.t1=e.sent,e.next=34;break;case 33:e.t1=0;case 34:if(m=e.t1,!t.merchprocfeepct){e.next=41;break}return e.next=38,ma(i,Number(t.merchprocfeepct.replace("%","")/100));case 38:e.t2=e.sent,e.next=42;break;case 41:e.t2=0;case 42:return p=e.t2,e.next=45,pa(u||0,m||0,p||0,t.cflatfee?aa(t.cflatfee,"$"):0,t.tsca?aa(t.tsca,"$"):0,t.isf?aa(t.isf,"$"):0);case 45:if(d=e.sent,!t.quantity){e.next=52;break}return e.next=49,da(d,t.quantity);case 49:e.t3=e.sent,e.next=53;break;case 52:e.t3=0;case 53:return h=e.t3,e.next=56,fa(t.drayage?aa(t.drayage):0,t.unloading?aa(t.unloading):0,t.collectcharges?aa(t.collectcharges):0,t.inboundothers?aa(t.inboundothers):0);case 56:if(g=e.sent,!t.payload){e.next=63;break}return e.next=60,ha(g,t.payload);case 60:e.t4=e.sent,e.next=64;break;case 63:e.t4=0;case 64:return b=e.t4,e.next=67,ga(t.loading?aa(t.loading):0,t.bolcharges?aa(t.bolcharges):0,t.outboundothers?aa(t.outboundothers):0);case 67:return y=e.sent,e.next=70,ba(y,t.payload);case 70:return v=e.sent,_(Object(r.a)({},G,{warehouse:t.warehouseID?_t[t.warehouseID-1].warehouseName:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagepmt:n&&$e&&t.storagepmt?ra(t.storagepmt,o):n&&$e&&!t.storagepmt?"\u20ac 0.00":t.storagepmt,storagefixed:n&&$e&&t.storagefixed?ra(t.storagefixed,o):n&&$e&&!t.storagefixed?"\u20ac 0.00":t.storagefixed,storagevariable:n&&$e&&t.storagevariable?ra(t.storagevariable,o):n&&$e&&!t.storagevariable?"\u20ac 0.00":t.storagevariable,stggraceperiod:t.stggraceperiod?t.stggraceperiod:"0",stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:"0",quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleType,QSID:t.QSID,abbreviation:t.abbreviation,supplier:t.supplier,customer:t.customer,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POL,POD:t.POD,saleComplete:-1===t.saleComplete?"sold":0===t.saleComplete?"indication":1===t.saleComplete?"US Allocation":"",finalComplete:1===t.finalComplete?"finalized":"in progress",TIC:t.trader,traffic:t.traffic,incoterms:t.incoterms,paymentTerm:t.paymentTerm,CADintrate:t.includedrate,insurancerate:t.insurancerate,insurancefactor:t.insurancefactor.toFixed(2),CADdays:t.includedperiod,shipmentType:t.shipmentType?t.shipmentType:"Container",freightTotal:n&&$e&&t.freightTotal?ra(t.freightTotal,o):n&&$e&&!t.freightTotal?"\u20ac 0.00":t.freightTotal,shippingline:t.shippingline,payload:t.payload,totalinspection:n&&$e&&t.totalinspection?ra(t.totalinspection,o):n&&$e&&!t.totalinspection?"\u20ac 0.00":t.totalinspection,quantity:t.quantity,materialcost:n&&$e&&t.materialcost?ra(t.materialcost,o):n&&$e&&!t.materialcost?"\u20ac 0.00":t.materialcost,materialvalue:n&&$e&&i?ra(i.toFixed(2),o):n&&$e&&!i?"\u20ac 0.00":ta(i,"$",2),generalduty:t.generalduty?t.generalduty:"0.00%",additionalduty:t.additionalduty?t.additionalduty:"0.00%",totalduty:s?s+"%":"0.00%",dutyfee:n&&$e&&u?ra(u.toFixed(2),o):n&&$e&&!u?"\u20ac 0.00":ta(u,"$",2),harborfeepct:t.harborfeepct?t.harborfeepct:"0.00%",harborfee:n&&$e&&m?ra(m.toFixed(2),o):n&&$e&&!m?"\u20ac 0.00":ta(m,"$",2),merchprocfeepct:t.merchprocfeepct?t.merchprocfeepct:"0.00%",merchprocfee:n&&$e&&p?ra(p.toFixed(2),o):n&&$e&&!p?"\u20ac 0.00":ta(p,"$",2),cflatfee:n&&$e&&t.cflatfee?ra(t.cflatfee,o):n&&$e&&!t.cflatfee?"\u20ac 0.00":t.cflatfee,tsca:n&&$e&&t.tsca?ra(t.tsca,o):n&&$e&&!t.tsca?"\u20ac 0.00":t.tsca,isf:n&&$e&&t.isf?ra(t.isf,o):n&&$e&&!t.isf?"\u20ac 0.00":t.isf,totalcentryfee:n&&$e&&d?ra(d.toFixed(2),o):n&&$e&&!d?"\u20ac 0.00":ta(d,"$",2),centryfeepmt:n&&$e&&h?ra(h.toFixed(2),o):n&&$e&&!h?"\u20ac 0.00":ta(h,"$",2),drayage:n&&$e&&t.drayage?ra(t.drayage,o):n&&$e&&!t.drayage?"\u20ac 0.00":t.drayage,unloading:n&&$e&&t.unloading?ra(t.unloading,o):n&&$e&&!t.unloading?"\u20ac 0.00":t.unloading,collectcharges:n&&$e&&t.collectcharges?ra(t.collectcharges,o):n&&$e&&!t.collectcharges?"\u20ac 0.00":t.collectcharges,inboundothers:n&&$e&&t.inboundothers?ra(t.inboundothers,o):n&&$e&&!t.inboundothers?"\u20ac 0.00":t.inboundothers,totalinbound:n&&$e&&g?ra(g.toFixed(2),o):n&&$e&&!g?"\u20ac 0.00":ta(g,"$",2),inboundpmt:n&&$e&&b?ra(b.toFixed(2),o):n&&$e&&!b?"\u20ac 0.00":ta(b,"$",2),loading:n&&$e&&t.loading?ra(t.loading,o):n&&$e&&!t.loading?"\u20ac 0.00":t.loading,bolcharges:n&&$e&&t.bolcharges?ra(t.bolcharges,o):n&&$e&&!t.bolcharges?"\u20ac 0.00":t.bolcharges,outboundothers:n&&$e&&t.outboundothers?ra(t.outboundothers,o):n&&$e&&!t.outboundothers?"\u20ac 0.00":t.outboundothers,totaloutbound:n&&$e&&y?ra(y.toFixed(2),o):n&&$e&&!y?"\u20ac 0.00":ta(y,"$",2),outboundpmt:n&&$e&&v?ra(v.toFixed(2),o):n&&$e&&!v?"\u20ac 0.00":ta(v,"$",2),pcommission:n&&$e&&t.pcommission?ra(t.pcommission,o):n&&$e&&!t.pcommission?"\u20ac 0.00":t.pcommission,pfinancecost:n&&$e&&t.pfinancecost?ra(t.pfinancecost,o):n&&$e&&!t.pfinancecost?"\u20ac 0.00":t.pfinancecost,sfinancecost:n&&$e&&t.sfinancecost?ra(t.sfinancecost,o):n&&$e&&!t.sfinancecost?"\u20ac 0.00":t.sfinancecost,freightpmt:n&&$e&&t.freightpmt?ra(t.freightpmt,o):n&&$e&&!t.freightpmt?"\u20ac 0.00":t.freightpmt,insurance:n&&$e&&t.insurance?ra(t.insurance,o):n&&$e&&!t.insurance?"\u20ac 0.00":t.insurance,inspectionpmt:n&&$e&&t.inspectionpmt?ra(t.inspectionpmt,o):n&&$e&&!t.inspectionpmt?"\u20ac 0.00":t.inspectionpmt,scommission:n&&$e&&t.scommission?ra(t.scommission,o):n&&$e&&!t.scommission?"\u20ac 0.00":t.scommission,interestcost:n&&$e&&t.interestcost?ra(t.interestcost,o):n&&$e&&!t.interestcost?"\u20ac 0.00":t.interestcost,legal:n&&$e&&t.legal?ra(t.legal,o):n&&$e&&!t.legal?"\u20ac 0.00":t.legal,pallets:n&&$e&&t.pallets?ra(t.pallets,o):n&&$e&&!t.pallets?"\u20ac 0.00":t.pallets,other:n&&$e&&t.other?ra(t.other,o):n&&$e&&!t.other?"\u20ac 0.00":t.other,totalcost:n&&$e&&t.totalcost?ra(t.totalcost,o):n&&$e&&!t.totalcost?"\u20ac 0.00":t.totalcost,interestrate:t.interestrate,interestdays:t.interestdays,pricebeforeint:n&&$e&&t.pricebeforeint?ra(t.pricebeforeint,o):n&&$e&&!t.pricebeforeint?"\u20ac 0.00":t.pricebeforeint,salesinterest:n&&$e&&t.salesinterest?ra(t.salesinterest,o):n&&$e&&!t.salesinterest?"\u20ac 0.00":t.salesinterest,priceafterint:n&&$e&&t.priceafterint?ra(t.priceafterint,o):n&&$e&&!t.priceafterint?"\u20ac 0.00":t.priceafterint,profit:n&&$e&&t.profit?ra(t.profit,o):n&&$e&&!t.pricebeforeint?"\u20ac 0.00":t.profit,margin:n&&$e&&t.margin?ra(t.margin,o):n&&$e&&!t.margin?"\u20ac 0.00":t.margin,turnover:n&&$e&&t.turnover?ra(t.turnover,o):n&&$e&&!t.turnover?"\u20ac 0.00":t.turnover,pctmargin:t.pctmargin?t.pctmargin:"0.00%",netback:n&&$e&&t.netback?ra(t.netback,o):n&&$e&&!t.netback?"\u20ac 0.00":t.netback})),$(Object(r.a)({},q,{warehouse:t.warehouseID?t.warehouseID:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagepmt:t.storagepmt?aa(t.storagepmt,"$"):0,storagefixed:t.storagefixed?aa(t.storagefixed,"$"):0,storagevariable:t.storagevariable?aa(t.storagevariable,"$"):0,stggraceperiod:t.stggraceperiod?t.stggraceperiod:0,stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:0,quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleTypeID,QSID:t.QSID,abbreviation:t.productID,supplier:t.supplierID,customer:t.customerID,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POLID,POD:t.PODID,saleComplete:t.saleComplete,finalComplete:t.finalComplete,TIC:t.traderID,traffic:t.trafficID,incoterms:t.incoterms,paymentTerm:t.pTermID,CADintrate:Number(t.includedrate.replace("%",""))/100,insurancerate:Number(t.insurancerate.replace("%",""))/100,insurancefactor:t.insurancefactor,CADdays:t.includedperiod,shipmentType:t.shipmentTypeID?t.shipmentTypeID:1,freightTotal:t.freightTotal?aa(t.freightTotal,"$"):0,shippingline:t.shippingline,payload:t.payload,totalinspection:t.totalinspection?aa(t.totalinspection,"$"):0,quantity:Number(t.quantity.replace(",","")),materialcost:t.materialcost?aa(t.materialcost,"$"):0,materialvalue:i||0,generalduty:t.generalduty?Number(t.generalduty.replace("%",""))/100:0,additionalduty:t.additionalduty?Number(t.additionalduty.replace("%",""))/100:0,totalduty:s?s/100:0,dutyfee:u||0,harborfeepct:t.harborfeepct?Number(t.harborfeepct.replace("%",""))/100:0,harborfee:m||0,merchprocfeepct:t.merchprocfeepct?Number(t.merchprocfeepct.replace("%",""))/100:0,merchprocfee:p||0,cflatfee:t.cflatfee?aa(t.cflatfee,"$"):0,tsca:t.tsca?aa(t.tsca,"$"):0,isf:t.isf?aa(t.isf,"$"):0,totalcentryfee:d||0,centryfeepmt:h||0,drayage:t.drayage?aa(t.drayage,"$"):0,unloading:t.unloading?aa(t.unloading,"$"):0,collectcharges:t.collectcharges?aa(t.collectcharges,"$"):0,inboundothers:t.inboundothers?aa(t.inboundothers,"$"):0,totalinbound:g||0,inboundpmt:b||0,loading:t.loading?aa(t.loading,"$"):0,bolcharges:t.bolcharges?aa(t.bolcharges,"$"):0,outboundothers:t.outboundothers?aa(t.outboundothers,"$"):0,totaloutbound:y||0,outboundpmt:v||0,pcommission:t.pcommission?aa(t.pcommission,"$"):0,pfinancecost:t.pfinancecost?aa(t.pfinancecost,"$"):0,sfinancecost:t.sfinancecost?aa(t.sfinancecost,"$"):0,freightpmt:t.freightpmt?aa(t.freightpmt,"$"):0,insurance:t.insurance?aa(t.insurance,"$"):0,inspectionpmt:t.inspectionpmt?aa(t.inspectionpmt,"$"):0,scommission:t.scommission?aa(t.scommission,"$"):0,interestcost:t.interestcost?aa(t.interestcost,"$"):0,legal:t.legal?aa(t.legal,"$"):0,pallets:t.pallets?aa(t.pallets,"$"):0,other:t.other?aa(t.other,"$"):0,totalcost:t.totalcost?aa(t.totalcost,"$"):0,interestrate:Number(t.interestrate.replace("%",""))/100,interestdays:t.interestdays,pricebeforeint:t.pricebeforeint?aa(t.pricebeforeint,"$"):0,salesinterest:t.salesinterest?aa(t.salesinterest,"$"):0,priceafterint:t.priceafterint?aa(t.priceafterint,"$"):0,profit:t.profit?aa(t.profit,"$"):0,margin:t.margin?aa(t.margin,"$"):0,turnover:t.turnover?aa(t.turnover,"$"):0,pctmargin:t.pctmargin?Number(t.pctmargin.replace("%",""))/100:0,netback:t.netback?aa(t.netback,"$"):0})),et(Object(r.a)({},Xe,{warehouse:t.warehouseID?_t[t.warehouseID-1].warehouseName:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagefixed:t.storagefixed?t.storagefixed:"$ 0.00",storagepmt:t.storagepmt?t.storagepmt:"$ 0.00",storagevariable:t.storagevariable?t.storagevariable:"$ 0.00",stggraceperiod:t.stggraceperiod?t.stggraceperiod:"0",stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:"0",quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleType,QSID:t.QSID,abbreviation:t.abbreviation,supplier:t.supplier,customer:t.customer,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POL,POD:t.POD,saleComplete:-1===t.saleComplete?"sold":0===t.saleComplete?"indication":1===t.saleComplete?"US Allocation":"",finalComplete:1===t.finalComplete?"finalized":"in progress",TIC:t.trader,traffic:t.traffic,incoterms:t.incoterms,paymentTerm:t.paymentTerm,CADintrate:t.includedrate,insurancerate:t.insurancerate,insurancefactor:t.insurancefactor.toFixed(2),CADdays:t.includedperiod,shipmentType:t.shipmentType,freightTotal:t.freightTotal?t.freightTotal:"",shippingline:t.shippingline,payload:t.payload,totalinspection:t.totalinspection?t.totalinspection:"",quantity:t.quantity,materialcost:t.materialcost?t.materialcost:"$ 0.00",materialvalue:i?ta(i):"$ 0.00",generalduty:t.generalduty?t.generalduty:"0.00%",additionalduty:t.additionalduty?t.additionalduty:"0.00%",totalduty:s?s+"%":"0.00%",dutyfee:u?ta(u):"$ 0.00",harborfeepct:t.harborfeepct?t.harborfeepct:"0.00%",harborfee:m?ta(m):"$ 0.00",merchprocfeepct:t.merchprocfeepct?t.merchprocfeepct:"0.00%",merchprocfee:p?ta(p):"$ 0.00",cflatfee:t.cflatfee?t.cflatfee:"$ 0.00",tsca:t.tsca?t.tsca:"$ 0.00",isf:t.isf?t.isf:"$ 0.00",totalcentryfee:d?ta(d):"$ 0.00",centryfeepmt:h?ta(h):"$ 0.00",drayage:t.drayage?t.drayage:"$ 0.00",unloading:t.unloading?t.unloading:"$ 0.00",collectcharges:t.collectcharges?t.collectcharges:"$ 0.00",inboundothers:t.inboundothers?t.inboundothers:"$ 0.00",totalinbound:g?ta(g):"$ 0.00",inboundpmt:b?ta(b):"$ 0.00",loading:t.loading?t.loading:"$ 0.00",bolcharges:t.bolcharges?t.bolcharges:"$ 0.00",outboundothers:t.outboundothers?t.outboundothers:"$ 0.00",totaloutbound:y?ta(y):"$ 0.00",outboundpmt:v?ta(v):"$ 0.00",pcommission:t.pcommission?t.pcommission:"$ 0.00",pfinancecost:t.pfinancecost?t.pfinancecost:"$ 0.00",sfinancecost:t.sfinancecost?t.sfinancecost:"$ 0.00",freightpmt:t.freightpmt?t.freightpmt:"$ 0.00",insurance:t.insurance?t.insurance:"$ 0.00",inspectionpmt:t.inspectionpmt?t.inspectionpmt:"$ 0.00",scommission:t.scommission?t.scommission:"$ 0.00",interestcost:t.interestcost?t.interestcost:"$ 0.00",legal:t.legal?t.legal:"$ 0.00",pallets:t.pallets?t.pallets:"$ 0.00",other:t.other?t.other:"$ 0.00",totalcost:t.totalcost?t.totalcost:"$ 0.00",interestrate:t.interestrate,interestdays:t.interestdays,pricebeforeint:t.pricebeforeint?t.pricebeforeint:"$ 0.00",salesinterest:t.salesinterest?t.salesinterest:"$ 0.00",priceafterint:t.priceafterint?t.priceafterint:"$ 0.00",profit:t.profit?t.profit:"$ 0.00",margin:t.margin?t.margin:"$ 0.00",turnover:t.turnover?t.turnover:"$ 0.00",pctmargin:t.pctmargin?t.pctmargin:"0.00%",netback:t.netback?t.netback:"$ 0.00"})),nt(Object(r.a)({},Xe,{warehouse:t.warehouseID?t.warehouseID:"",whentry:t.whentry?t.whentry:"",whexit:t.whexit?t.whexit:"",storagepmt:t.storagepmt?aa(t.storagepmt):0,storagefixed:t.storagefixed?aa(t.storagefixed):0,storagevariable:t.storagevariable?aa(t.storagevariable):0,stggraceperiod:t.stggraceperiod?t.stggraceperiod:0,stgaccrualperiod:t.stgaccrualperiod?t.stgaccrualperiod:0,quantitypallets:t.quantitypallets?t.quantitypallets:"",KTP:t.KTP,KTS:t.KTS,QSDate:t.QSDate,saleType:t.saleTypeID,QSID:t.QSID,abbreviation:t.productID,supplier:t.supplierID,customer:t.customerID,packsize:t.packsize,marks:t.marks,from:t.from,to:t.to,POL:t.POLID,POD:t.PODID,saleComplete:t.saleComplete,finalComplete:t.finalComplete,TIC:t.traderID,traffic:t.trafficID,incoterms:t.incoterms,paymentTerm:t.pTermID,CADintrate:Number(t.includedrate.replace("%",""))/100,insurancerate:Number(t.insurancerate.replace("%",""))/100,insurancefactor:t.insurancefactor,CADdays:t.includedperiod,shipmentType:t.shipmentTypeID?t.shipmentTypeID:1,freightTotal:t.freightTotal?aa(t.freightTotal):0,shippingline:t.shippingline,payload:t.payload,totalinspection:t.totalinspection?aa(t.totalinspection):0,quantity:Number(t.quantity.replace(",","")),materialcost:t.materialcost?aa(t.materialcost):0,materialvalue:i||0,generalduty:t.generalduty?aa(t.generalduty,"%")/100:0,additionalduty:t.additionalduty?aa(t.additionalduty,"%")/100:0,totalduty:s?s/100:0,dutyfee:u||0,harborfeepct:t.harborfeepct?aa(t.harborfeepct,"%")/100:0,harborfee:m||0,merchprocfeepct:t.merchprocfeepct?aa(t.merchprocfeepct,"%")/100:0,merchprocfee:p||0,cflatfee:t.cflatfee?aa(t.cflatfee):0,tsca:t.tsca?aa(t.tsca):0,isf:t.isf?aa(t.isf):0,totalcentryfee:d||0,centryfeepmt:h||0,drayage:t.drayage?aa(t.drayage):0,unloading:t.unloading?aa(t.unloading):0,collectcharges:t.collectcharges?aa(t.collectcharges):0,inboundothers:t.inboundothers?aa(t.inboundothers):0,totalinbound:g||0,inboundpmt:b||0,loading:t.loading?aa(t.loading):0,bolcharges:t.bolcharges?aa(t.bolcharges):0,outboundothers:t.outboundothers?aa(t.outboundothers):0,totaloutbound:y||0,outboundpmt:v||0,pcommission:t.pcommission?aa(t.pcommission):0,pfinancecost:t.pfinancecost?aa(t.pfinancecost):0,sfinancecost:t.sfinancecost?aa(t.sfinancecost):0,freightpmt:t.freightpmt?aa(t.freightpmt):0,insurance:t.insurance?aa(t.insurance):0,inspectionpmt:t.inspectionpmt?aa(t.inspectionpmt):0,scommission:t.scommission?aa(t.scommission):0,interestcost:t.interestcost?aa(t.interestcost):0,legal:t.legal?aa(t.legal):0,pallets:t.pallets?aa(t.pallets):0,other:t.other?aa(t.other):0,interestrate:Number(t.interestrate.replace("%",""))/100,interestdays:t.interestdays,pricebeforeint:t.pricebeforeint?aa(t.pricebeforeint):0,salesinterest:t.salesinterest?aa(t.salesinterest):0,priceafterint:t.priceafterint?aa(t.priceafterint):0,profit:t.profit?aa(t.profit):0,margin:t.margin?aa(t.margin):0,turnover:t.turnover?aa(t.turnover):0,pctmargin:t.pctmargin?Number(t.pctmargin.replace("%",""))/100:0,netback:t.netback?aa(t.netback):0})),-1===t.saleComplete&&(re(!0),me(!1)),1===t.saleComplete&&(me(!0),re(!1)),0===t.saleComplete&&(re(!1),me(!1)),1===t.finalComplete&&le(!0),0===t.finalComplete&&le(!1),e.next=82,new Promise(function(e,t){ft(!1),e()});case 82:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(t)}),ke===ye.length&&(_(B),$(L),Re(null)),it(!1)},[ke]);var ya=function(e,t,a,r){var n=[],c=[],o=[];for(var l in e)!1===$e&&e[l]!==t[l]&&(n.push(l),""===t[l]?c.push("(empty)"):c.push(t[l]),o.push(e[l])),!0===$e&&e[l]&&(e[l].toString().indexOf("\u20ac")>-1?aa(e[l],"\u20ac").toFixed(2)!==(aa(t[l],"$")/_e).toFixed(2)&&(n.push(l),""===t[l]?c.push("(empty)"):c.push(ra(t[l],_e,"\u20ac","$",2)),o.push(e[l])):e[l]!==t[l]&&(n.push(l),""===t[l]?c.push("(empty)"):c.push(t[l]),o.push(e[l])));!0===He&&0!==o.length&&Object(b.confirmAlert)({customUI:function(e){var t=e.onClose;return s.a.createElement("div",{className:"custom-ui"},s.a.createElement("h1",null,"Are you sure?"),s.a.createElement("p",{className:"confirmmsg"},"If you leave this QS now, the following unsaved edits will be lost. Click CONTINUE to leave the QS anyway OR click CANCEL to go back and avoid losing your edits."),s.a.createElement("ul",null,s.a.createElement("li",{className:"editsline editsheader"},s.a.createElement("p",null,"Item:"),s.a.createElement("p",{className:"editfig"},"Original:"),s.a.createElement("p",null,"Edit:")),n.map(function(e,t){return s.a.createElement("li",{className:"editsline"},s.a.createElement("p",{className:"edititem"},n[t]),s.a.createElement("p",{className:"editfig"},c[t]),s.a.createElement("p",{className:"editfig"},o[t]))})),s.a.createElement("button",{onClick:t},"Cancel"),s.a.createElement("button",{onClick:function(e){"prev"===a&&(Fe(ke-1),je(ye[ke-1]),Se(ye[ke-1]),Pe(null)),"next"===a&&(Fe(ke<ye.length?ke+1:ye.length),je(ke<ye.length-1?ye[ke+1]:""),Se(ke<ye.length-1?ye[ke+1]:""),Pe(null)),"enter"===a&&(Fe(ye.indexOf(r)),Pe(""),je(r)),"new"===a&&(Fe(ye.length),je(""),Se(""),re(!1),me(!1),le(!1)),t()}},"Continue"))}}),!1===He&&Object(b.confirmAlert)({customUI:function(e){var t=e.onClose;return s.a.createElement("div",{className:"custom-ui"},s.a.createElement("h1",null,"Are you sure?"),s.a.createElement("p",{className:"confirmmsg"},"You have already added some data to this new QS. If you leave this QS now without saving, the inputed data will be lost. Click CONTINUE to leave the QS anyway OR click CANCEL to go back and avoid losing your added data."),s.a.createElement("button",{onClick:t},"Cancel"),s.a.createElement("button",{onClick:function(e){"prev"===a&&(Fe(ke-1),je(ye[ke-1]),Se(ye[ke-1]),Pe(null)),"enter"===a&&(Fe(ye.indexOf(r)),Pe("")),"new"===a&&(Fe(ye.length),je(""),Se(""),Ra()),t()}},"Continue"))}})};Object(i.useEffect)(function(){ae&&($(Object(r.a)({},q,{saleComplete:-1})),_(Object(r.a)({},G,{saleComplete:"sold"}))),ue&&($(Object(r.a)({},q,{saleComplete:1})),_(Object(r.a)({},G,{saleComplete:"US Allocation"}))),!ae&!ue&&($(Object(r.a)({},q,{saleComplete:0})),_(Object(r.a)({},G,{saleComplete:"indication"})))},[ae,ue]);var va=function(e,t,a,n,c,l){var i,s;""===t&&""===n&&""===l?($(Object(r.a)({},q,Object(o.a)({},a,e))),_(Object(r.a)({},G,Object(o.a)({},a,c)))):($(Object(r.a)({},q,(i={},Object(o.a)(i,a,e),Object(o.a)(i,n,t),i))),_(Object(r.a)({},G,(s={},Object(o.a)(s,a,c),Object(o.a)(s,n,l),s))))},Ea=function(e){it(!0),$(Object(r.a)({},q,Object(o.a)({},e.target.name,e.target.value))),_(Object(r.a)({},G,Object(o.a)({},e.target.name,e.target.value)))},Na=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;it(!0),!0===$e&&_e&&!1===Ye&&Ve(!0),(RegExp("^[0-9.,%]+$").test(e.target.value)||""===e.target.value)&&(e.target.value.toString().includes("%")?($(Object(r.a)({},q,Object(o.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(t)/100))),_(Object(r.a)({},G,Object(o.a)({},e.target.name,e.target.value.replace("%",""))))):($(Object(r.a)({},q,Object(o.a)({},e.target.name,Number(e.target.value).toFixed(t)/100))),_(Object(r.a)({},G,Object(o.a)({},e.target.name,e.target.value)))))},Oa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;_(Object(r.a)({},G,Object(o.a)({},e.target.name,Number(e.target.value.replace("%","")).toFixed(t)+"%")))},ja=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;it(!0),!0===$e&&_e&&!1===Ye&&Ve(!0),(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&($(Object(r.a)({},q,Object(o.a)({},e.target.name,Number(Number(e.target.value).toFixed(t))))),_(Object(r.a)({},G,Object(o.a)({},e.target.name,e.target.value))))},xa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;_(Object(r.a)({},G,Object(o.a)({},e.target.name,Number(e.target.value.replace(",","")).toFixed(t).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""===e.target.value&&$(Object(r.a)({},q,Object(o.a)({},e.target.name,0)))},wa=function(e){it(!0),!1===$e&&(RegExp("^[ $0-9.]+$").test(e.target.value)||""===e.target.value)&&($(Object(r.a)({},q,Object(o.a)({},e.target.name,Number(Number(e.target.value.replace("$","")).toFixed(2))))),_(Object(r.a)({},G,Object(o.a)({},e.target.name,e.target.value)))),!0===$e&&_e&&(Ye||Ve(!0),(RegExp("^[ \u20ac0-9.]+$").test(e.target.value)||""===e.target.value)&&($(Object(r.a)({},q,Object(o.a)({},e.target.name,Number(Number(e.target.value.replace("\u20ac","")).toFixed(2))*_e))),_(Object(r.a)({},G,Object(o.a)({},e.target.name,e.target.value))))),!0!==$e||_e&&""!==_e||Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},Sa=function(e){!1===$e&&(_(Object(r.a)({},G,Object(o.a)({},e.target.name,"$ "+Number(e.target.value.replace(",","").replace("$","")).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""!==e.target.value&&"$"!==e.target.value||$(Object(r.a)({},q,Object(o.a)({},e.target.name,0)))),!0===$e&&(_(Object(r.a)({},G,Object(o.a)({},e.target.name,"\u20ac "+Number(e.target.value.replace(",","").replace("\u20ac","")).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")))),""!==e.target.value&&"\u20ac"!==e.target.value||$(Object(r.a)({},q,Object(o.a)({},e.target.name,0))))},Ca=function(e){e.preventDefault(),it(!0),(RegExp("^[0-9]+$").test(e.target.value)||""===e.target.value)&&(_(Object(r.a)({},G,Object(o.a)({},e.target.name,e.target.value))),$(Object(r.a)({},q,Object(o.a)({},e.target.name,e.target.value))))};Object(i.useEffect)(function(){if(G.from&&!G.to&&(_(Object(r.a)({},G,{to:G.from})),$(Object(r.a)({},q,{to:q.from}))),G.from&&G.to){var e=m()(G.from);m()(G.to).diff(e,"days")<0&&Object(b.confirmAlert)({title:"Check shipment dates",message:"Delivery date (to) cannot be earlier than shipment date (from)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})}},[G.from,G.to]);var Da=function(e,t){return new Promise(function(a,r){a(e>0&&t>0?e/t:0)})},ka=function(e,t,a){return new Promise(function(r,n){r(e>0&&t>0&&a>0?e*t*a/360:0)})},Fa=function(e,t){return new Promise(function(a,r){a(e>0&&t>0?e/t:0)})},Ia=function(){var e=Object(n.a)(N().mark(function e(){return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,t){me(!1),e()});case 2:$(Object(r.a)({},q,{saleComplete:0,saleType:3,generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,warehouse:"",whentry:"",whexit:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:"",KTP:""})),_(Object(r.a)({},G,{saleComplete:"indication",saleType:"US Distribution",generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:$e?"\u20ac 0.00":"$ 0.00",tsca:$e?"\u20ac 0.00":"$ 0.00",isf:$e?"\u20ac 0.00":"$ 0.00",drayage:$e?"\u20ac 0.00":"$ 0.00",unloading:$e?"\u20ac 0.00":"$ 0.00",collectcharges:$e?"\u20ac 0.00":"$ 0.00",inboundothers:$e?"\u20ac 0.00":"$ 0.00",warehouse:"",whentry:"",whexit:"",storagefixed:$e?"\u20ac 0.00":"$ 0.00",storagevariable:$e?"\u20ac 0.00":"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:"",KTP:""}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)(function(){var e;e=q.incoterms,new Promise(function(t,a){"CPT"!==e&&"CFR"!==e||($(Object(r.a)({},q,{insurancerate:7e-4})),_(Object(r.a)({},G,{insurancerate:"0.07%"}))),"DAP"===e&&($(Object(r.a)({},q,{insurancerate:.0011})),_(Object(r.a)({},G,{insurancerate:"0.11%"}))),"CIP"!==e&&"CIF"!==e||($(Object(r.a)({},q,{insurancerate:.0014,insurancefactor:1.1})),_(Object(r.a)({},G,{insurancerate:"0.14%",insurancefactor:"1.10"})))})},[q.incoterms]),Object(i.useEffect)(function(){!1===dt&&function(){var e=Object(n.a)(N().mark(function e(){var t,a,n,c,o,l,i,s,u,m,p,d,f,h,g,b,y,v,E,O,j;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0,3!==q.saleType){e.next=11;break}return e.next=4,Qa(q.whentry?q.whentry:Yt.whentry,q.whexit?q.whexit:Yt.whentry);case 4:return a=e.sent,e.next=7,Aa(a,Yt.stggraceperiod);case 7:return n=e.sent,e.next=10,Ga(n,Yt.storagefixed,Yt.storagevariable,Yt.quantity,Yt.quantitypallets,Yt.stgaccrualperiod);case 10:t=e.sent;case 11:return e.next=13,Da(q.freightTotal,q.payload);case 13:return c=e.sent,e.next=16,ka(q.CADintrate,q.CADdays,q.pricebeforeint);case 16:return o=e.sent,e.next=19,ka(q.interestrate,q.interestdays,q.pricebeforeint);case 19:return l=e.sent,e.next=22,Fa(q.totalinspection,q.quantity);case 22:return i=e.sent,e.next=25,na(q.pricebeforeint,q.insurancerate,q.insurancefactor);case 25:return s=e.sent,e.next=28,la(q.materialcost,q.quantity);case 28:return u=e.sent,e.next=31,ia(q.generalduty,q.additionalduty);case 31:return m=e.sent,e.next=34,sa(u,m);case 34:return p=e.sent,e.next=37,ua(u,q.harborfeepct);case 37:return d=e.sent,e.next=40,ma(u,q.merchprocfeepct);case 40:return f=e.sent,e.next=43,pa(p,d,f,q.cflatfee,q.tsca,q.isf);case 43:if(h=e.sent,!q.quantity){e.next=50;break}return e.next=47,da(h,q.quantity);case 47:e.t0=e.sent,e.next=51;break;case 50:e.t0=0;case 51:return g=e.t0,e.next=54,fa(q.drayage,q.unloading,q.collectcharges,q.inboundothers);case 54:if(b=e.sent,!q.payload){e.next=61;break}return e.next=58,ha(b,q.payload);case 58:e.t1=e.sent,e.next=62;break;case 61:e.t1=0;case 62:return y=e.t1,e.next=65,ga(q.loading,q.bolcharges,q.outboundothers);case 65:return v=e.sent,e.next=68,ba(v,q.payload);case 68:return E=e.sent,e.next=71,ca(q.materialcost,g,y,E,q.pcommission,q.pfinancecost,q.sfinancecost,c,s,i,q.scommission,o,q.legal,q.pallets,q.other,q.storagepmt);case 71:return O=e.sent,e.next=74,oa(q.pricebeforeint,l);case 74:j=e.sent,$(Object(r.a)({},q,{freightpmt:c,insurance:s,inspectionpmt:i,interestcost:o,materialvalue:u,totalduty:m,dutyfee:p,harborfee:d,merchprocfee:f,totalcentryfee:h,centryfeepmt:g,totalinbound:b,totaloutbound:v,inboundpmt:y,outboundpmt:E,totalcost:O,salesinterest:l,priceafterint:j,storagepmt:t,profit:0!==q.quantity&&0!==q.pricebeforeint?Number((q.pricebeforeint-O).toFixed(4)):0,margin:0!==q.quantity&&0!==q.pricebeforeint?Number(((q.pricebeforeint-O)*q.quantity).toFixed(4)):0,turnover:0!==q.quantity&&0!==q.pricebeforeint?Number((q.quantity*j).toFixed(4)):0,pctmargin:0!==q.quantity&&0!==q.pricebeforeint?Number(((q.pricebeforeint-O)/q.pricebeforeint).toFixed(4)):0,netback:0!==q.quantity&&0!==q.pricebeforeint?Number((q.pricebeforeint-O+q.materialcost).toFixed(4)):0})),!1===$e&&_(Object(r.a)({},G,{freightpmt:"$ "+c.toFixed(2),insurance:"$ "+s.toFixed(2),inspectionpmt:"$ "+i.toFixed(2),interestcost:"$ "+o.toFixed(2),materialvalue:ta(u),totalduty:Number(100*m).toFixed(2)+"%",dutyfee:ta(p),harborfee:ta(d),merchprocfee:ta(f),totalcentryfee:ta(h),centryfeepmt:ta(g),totalinbound:ta(b),totaloutbound:ta(v),inboundpmt:ta(y),outboundpmt:ta(E),storagepmt:ta(t),totalcost:"$ "+O.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),salesinterest:"$ "+l.toFixed(2),priceafterint:"$ "+j.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),profit:0!==q.quantity&&0!==q.pricebeforeint?"$ "+Number(q.pricebeforeint-O).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2),margin:0!==q.quantity&&0!==q.pricebeforeint?"$ "+Number((q.pricebeforeint-O)*q.quantity).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2),turnover:0!==q.quantity&&0!==q.pricebeforeint?"$ "+Number(q.quantity*j).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2),pctmargin:0!==q.quantity&&0!==q.pricebeforeint?Number((q.pricebeforeint-O)/q.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==q.quantity&&0!==q.pricebeforeint?"$ "+Number(q.pricebeforeint-O+q.materialcost).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ "+Number(0).toFixed(2)})),!0===$e&&_e&&_(Object(r.a)({},G,{freightpmt:"\u20ac "+(c/_e).toFixed(2),insurance:"\u20ac "+(s/_e).toFixed(2),inspectionpmt:"\u20ac "+(i/_e).toFixed(2),interestcost:"\u20ac "+(o/_e).toFixed(2),materialvalue:ra(u.toFixed(2),_e),totalduty:Number(100*m).toFixed(2)+"%",dutyfee:ra(p.toFixed(2),_e),harborfee:ra(d.toFixed(2),_e),merchprocfee:ra(f.toFixed(2),_e),totalcentryfee:ra(h.toFixed(2),_e),centryfeepmt:ra(g.toFixed(2),_e),totalinbound:ra(b.toFixed(2),_e),totaloutbound:ra(v.toFixed(2),_e),inboundpmt:ra(y.toFixed(2),_e),outboundpmt:ra(E.toFixed(2),_e),totalcost:"\u20ac "+(O/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),salesinterest:"\u20ac "+(l/_e).toFixed(2),priceafterint:"\u20ac "+(j/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),profit:0!==q.quantity&&0!==q.pricebeforeint?"\u20ac "+Number((q.pricebeforeint-O)/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2),margin:0!==q.quantity&&0!==q.pricebeforeint?"\u20ac "+Number((q.pricebeforeint-O)*q.quantity/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2),turnover:0!==q.quantity&&0!==q.pricebeforeint?"\u20ac "+Number(q.quantity*j/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2),pctmargin:0!==q.quantity&&0!==q.pricebeforeint?Number((q.pricebeforeint-O)/q.pricebeforeint*100).toFixed(2)+"%":Number(0).toFixed(2)+"%",netback:0!==q.quantity&&0!==q.pricebeforeint?"\u20ac "+Number((q.pricebeforeint-O+q.materialcost)/_e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"\u20ac "+Number(0).toFixed(2)}));case 78:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[q.whexit,q.freightTotal,q.payload,q.CADintrate,q.CADdays,q.pricebeforeint,q.interestrate,q.interestdays,q.totalinspection,q.quantity,q.insurancerate,q.insurancefactor,q.materialcost,q.pcommission,q.generalduty,q.additionalduty,q.harborfeepct,q.merchprocfeepct,q.cflatfee,q.tsca,q.isf,q.drayage,q.unloading,q.collectcharges,q.inboundothers,q.scommission,q.pfinancecost,q.sfinancecost,q.legal,q.pallets,q.other,q.loading,q.bolcharges,q.outboundothers]),Object(i.useEffect)(function(){!0===$e&&_(Object(r.a)({},G,{freightTotal:ta(q.freightTotal/_e,"\u20ac"),totalinspection:ta(q.totalinspection/_e,"\u20ac"),materialcost:ta(q.materialcost/_e,"\u20ac"),materialvalue:ta(q.materialvalue/_e,"\u20ac"),dutyfee:ta(q.dutyfee/_e,"\u20ac"),harborfee:ta(q.harborfee/_e,"\u20ac"),merchprocfee:ta(q.merchprocfee/_e,"\u20ac"),cflatfee:ta(q.cflatfee/_e,"\u20ac"),tsca:ta(q.tsca/_e,"\u20ac"),isf:ta(q.isf/_e,"\u20ac"),totalcentryfee:ta(q.totalcentryfee/_e,"\u20ac"),centryfeepmt:ta(q.centryfeepmt/_e,"\u20ac"),drayage:ta(q.drayage/_e,"\u20ac"),unloading:ta(q.unloading/_e,"\u20ac"),collectcharges:ta(q.collectcharges/_e,"\u20ac"),inboundothers:ta(q.inboundothers/_e,"\u20ac"),totalinbound:ta(q.totalinbound/_e,"\u20ac"),inboundpmt:ta(q.inboundpmt/_e,"\u20ac"),pcommission:ta(q.pcommission/_e,"\u20ac"),pfinancecost:ta(q.pfinancecost/_e,"\u20ac"),sfinancecost:ta(q.sfinancecost/_e,"\u20ac"),freightpmt:ta(q.freightpmt/_e,"\u20ac"),insurance:ta(q.insurance/_e,"\u20ac"),inspectionpmt:ta(q.inspectionpmt/_e,"\u20ac"),scommission:ta(q.scommission/_e,"\u20ac"),interestcost:ta(q.interestcost/_e,"\u20ac"),legal:ta(q.legal/_e,"\u20ac"),pallets:ta(q.pallets/_e,"\u20ac"),other:ta(q.other/_e,"\u20ac"),totalcost:ta(q.totalcost/_e,"\u20ac"),pricebeforeint:ta(q.pricebeforeint/_e,"\u20ac"),salesinterest:ta(q.salesinterest/_e,"\u20ac"),priceafterint:ta(q.priceafterint/_e,"\u20ac"),profit:ta(q.profit/_e,"\u20ac"),margin:ta(q.margin/_e,"\u20ac"),turnover:ta(q.turnover/_e,"\u20ac"),netback:ta(q.netback/_e,"\u20ac")})),!1===$e&&_(Object(r.a)({},G,{freightTotal:ta(q.freightTotal,"$"),totalinspection:ta(q.totalinspection,"$"),materialcost:ta(q.materialcost,"$"),materialvalue:ta(q.materialvalue,"$"),dutyfee:ta(q.dutyfee,"$"),harborfee:ta(q.harborfee,"$"),merchprocfee:ta(q.merchprocfee,"$"),cflatfee:ta(q.cflatfee,"$"),tsca:ta(q.tsca,"$"),isf:ta(q.isf,"$"),totalcentryfee:ta(q.totalcentryfee,"$"),centryfeepmt:ta(q.centryfeepmt,"$"),drayage:ta(q.drayage,"$"),unloading:ta(q.unloading,"$"),collectcharges:ta(q.collectcharges,"$"),inboundothers:ta(q.inboundothers,"$"),totalinbound:ta(q.totalinbound,"$"),inboundpmt:ta(q.inboundpmt,"$"),pcommission:ta(q.pcommission,"$"),pfinancecost:ta(q.pfinancecost,"$"),sfinancecost:ta(q.sfinancecost,"$"),freightpmt:ta(q.freightpmt,"$"),insurance:ta(q.insurance,"$"),inspectionpmt:ta(q.inspectionpmt,"$"),scommission:ta(q.scommission,"$"),interestcost:ta(q.interestcost,"$"),legal:ta(q.legal,"$"),pallets:ta(q.pallets,"$"),other:ta(q.other,"$"),totalcost:ta(q.totalcost,"$"),pricebeforeint:ta(q.pricebeforeint,"$"),salesinterest:ta(q.salesinterest,"$"),priceafterint:ta(q.priceafterint,"$"),profit:ta(q.profit,"$"),margin:ta(q.margin,"$"),turnover:ta(q.turnover,"$"),netback:ta(q.netback,"$")}))},[$e]);var La=function(e,t){return new Promise(function(a,r){var n={};for(var c in e)e[c]!==t[c]&&(n[c]=e[c]);a(n)})},Ba=Object(i.useState)(),Pa=Object(l.a)(Ba,2),Ta=Pa[0],qa=Pa[1],$a=function(){var t=Object(n.a)(N().mark(function t(a){var r;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!He){t.next=7;break}return a.preventDefault(),t.next=4,La(q,rt);case 4:r=t.sent,console.log(_e),f.a.post("/updateQS",{QSedits:r,QSID:Oe,exchrate:_e}).then(function(t){qa(t.data.message),F(!k),it(!1),e()});case 7:if(He){t.next=13;break}return a.preventDefault(),t.next=11,f.a.post("/saveQS",{QSData:q}).then(function(t){qa(t.data.message),F(!k),e(),he(!fe)});case 11:return t.next=13,Ra();case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Qa=function(e,t){return new Promise(function(a,r){e&&t&&m()(t).diff(m()(e),"days")>0?a(m()(t).diff(m()(e),"days")):a(0)})},Aa=function(e,t){return new Promise(function(a,r){a(e&&t?e<t?"":e-t:"")})},Ga=function(e,t,a,r,n,c){return new Promise(function(o,l){o(t/r+Math.ceil(e/c)*a*n/r)})},_a=function(){var e=Object(n.a)(N().mark(function e(t){var a,n,c,o;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return it(!0),a=U[t],Vt(a),e.next=5,Qa(a.whentry,q.whexit?q.whexit:a.whentry);case 5:return n=e.sent,e.next=8,Aa(n,a.stggraceperiod);case 8:return c=e.sent,e.next=11,Ga(c,a.storagefixed,a.storagevariable,a.quantity,a.quantitypallets,a.stgaccrualperiod);case 11:o=e.sent,console.log("WH Entry Date: "+a.whentry),console.log("Current Date: "+m()().format("YYYY-MM-DD")),console.log("Days in WH: "+n),console.log("Days in Storage: "+c),console.log("Storage Cost $/mt: "+o),_(Object(r.a)({},G,{KTP:a.USWGP,abbreviation:a.product,supplier:a.supplier,packsize:a.packaging?a.packaging:"",marks:a.marks?a.marks:"",whentry:a.whentry,whexit:q.whexit?q.whexit:a.whentry,storagepmt:ta(o),materialcost:"$ "+Number(a.EWPrice.replace("$","").replace(",","")).toFixed(2)})),$(Object(r.a)({},q,{KTP:a.USWGP,abbreviation:a.productID,supplier:a.supplierID,packsize:a.packaging?a.packaging:"",marks:a.marks?a.marks:"",whentry:a.whentry,whexit:q.whexit?q.whexit:a.whentry,storagepmt:o,materialcost:Number(a.EWPrice.replace("$","").replace(",",""))}));case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ra=function(){_(B),$(L),re(!1),le(!1),me(!1),Ve(!1),it(!1)},Ka=function(e){"Enter"===e.key&&(e.preventDefault(),"centryfeepmt"===e.target.name&&(yt(!bt),Ot(!1),St(!1)),"inboundpmt"===e.target.name&&(Ot(!Nt),yt(!1),St(!1)),"storagepmt"===e.target.name&&(St(!wt),yt(!1),Ot(!1)),"insurance"===e.target.name&&(Ft(!kt),yt(!1),Ot(!1)),"outboundpmt"===e.target.name&&(Pt(!Bt),yt(!1),Ot(!1),Ft(!1)))};return s.a.createElement("div",{className:"salesQS"},s.a.createElement("div",{className:"salesQStitleline"},s.a.createElement("h3",{className:"saleslisttitle"},"Quotation Sheet"),s.a.createElement("span",{style:{width:"100px",fontWeight:"bold"}},He?"Edit Mode":"New QS"),s.a.createElement("div",{className:"QSindexbox"},s.a.createElement("div",{className:"salesQSnavbuttons"},1===Ht||2===Ht||3===Ht?s.a.createElement("select",{onChange:function(e){w(!0),u(e.target.value)}},s.a.createElement("option",{value:"all"},"All"),Zt?Zt.map(function(e){return e.trader===d?s.a.createElement("option",{selected:!0,value:e.trader},e.trader):s.a.createElement("option",{value:e.trader},e.trader)}):"reload"):"",s.a.createElement("button",{onClick:function(e){e.preventDefault(),!0===lt&&!1===He&&ya(G,B,"prev"),!0===lt&&!0===He&&ya(G,Xe,"prev"),!1===lt&&(Fe(ke-1),je(ye[ke-1]),Se(ye[ke-1]),Pe(null))}},"Prev"),s.a.createElement("input",{className:"canceldrag",type:"text",placeholder:" New...",onKeyDown:function(e){"Enter"===e.key&&(ye.includes(Number(e.target.value))?(!0===lt&&ya(G,Xe,"enter",Number(e.target.value)),!1===lt&&(Fe(ye.indexOf(Number(e.target.value))),Pe(""))):Pe("QSID not found."))},onChange:function(e){return je(e.target.value)},value:Oe||""}),s.a.createElement("button",{onClick:function(e){e.preventDefault(),!0===lt&&!0===He&&ya(G,Xe,"next"),!1===lt&&(Fe(ke<ye.length?ke+1:ye.length),je(ke<ye.length-1?ye[ke+1]:""),Se(ke<ye.length-1?ye[ke+1]:""),Pe(null))}},"Next"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),!0===He&&!0===lt&&ya(G,Xe,"new"),!1===He&&!0===lt&&ya(G,B,"new"),!1===lt&&(Fe(ye.length),je(""),Se(""))}},"New")),s.a.createElement("span",{className:"QSIDerror"},Be))),s.a.createElement("form",{className:He?"salesQS-form editmode":"salesQS-form",onSubmit:function(e){$a(e)}},s.a.createElement("section",{id:"salesQS-1"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"QS Date:"),s.a.createElement("input",{readOnly:!0,className:"canceldrag",value:G.QSDate,type:"date",onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"WGP:"),s.a.createElement("input",{name:"KTP",placeholder:"5000...",value:G&&G.KTP||"",onChange:Ca,className:"canceldrag",onKeyDown:Ka})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Sale Type"),s.a.createElement("div",{className:"saletype-group"},s.a.createElement("input",{name:"saletype",type:"radio",checked:!(!q||1!==q.saleType),required:!0,onClick:function(e){it(!0),$(Object(r.a)({},q,{saleType:1,loading:0,bolcharges:0,outboundothers:0,whexit:"",whentry:"",KTP:""})),_(Object(r.a)({},G,{saleType:"Back-to-back",loading:"$ 0.00",bolcharges:"$ 0.00",outboundothers:"$ 0.00",whexit:"",whentry:"",KTP:""}))},onKeyDown:Ka}),s.a.createElement("label",{htmlFor:""},"Back-to-back")),s.a.createElement("div",{className:"saletype-group"},s.a.createElement("input",{name:"saletype",type:"radio",checked:!(!q||2!==q.saleType),required:!0,onClick:function(e){it(!0),$(Object(r.a)({},q,{saleType:2,loading:0,bolcharges:0,outboundothers:0,whexit:"",whentry:"",KTP:""})),_(Object(r.a)({},G,{saleType:"Position",loading:"$ 0.00",bolcharges:"$ 0.00",outboundothers:"$ 0.00",whexit:"",whentry:"",KTP:""})),f.a.post("/positiondropdown").then(function(e){Y(e.data)})},onKeyDown:Ka}),s.a.createElement("label",{htmlFor:""},"Position"),q&&2===q.saleType?s.a.createElement("select",{className:"WGPSelect",onChange:function(e){return function(e){it(!0);var t=M[e];""===e?(_(Object(r.a)({},G,{abbreviation:"",supplier:"",from:"",to:"",KTP:"",materialcost:$e?"\u20ac 0.00":"$ 0.00"})),$(Object(r.a)({},q,{abbreviation:"",supplier:"",from:"",to:"",KTP:"",materialcost:0}))):(_(Object(r.a)({},G,{abbreviation:t.product,supplier:t.Supplier,from:t.start,to:t.end,KTP:t.KTP,materialcost:"$ "+Number(t.Price.replace("$","").replace(",","")).toFixed(2)})),$(Object(r.a)({},q,{abbreviation:t.productID,supplier:t.supplierID,from:t.start,to:t.end,KTP:t.KTP,materialcost:Number(t.Price.replace("$","").replace(",",""))})))}(e.target.value)}},s.a.createElement("option",{value:""},"Select..."),M?M.map(function(e,t){return s.a.createElement("option",{value:t},e.KTP+" - "+e.product+" - "+e.Supplier)}):""):""),s.a.createElement("div",{className:"saletype-group"},s.a.createElement("input",{name:"saletype",type:"radio",checked:!(!q||3!==q.saleType),required:!0,onClick:function(){var e=Object(n.a)(N().mark(function e(t){return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:it(!0),Ia(),f.a.post("/uspositiondropdown").then(function(e){H(e.data),console.log(e.data)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}),s.a.createElement("label",null,"US Distribution"),q&&3===q.saleType?s.a.createElement("select",{className:"USWGPSelect",onChange:function(e){return _a(e.target.value)}},s.a.createElement("option",null,"Select..."),U?U.map(function(e,t){return s.a.createElement("option",{value:t},e.USWGP+" - "+e.product+" - "+e.supplier+" - "+e.Inventory+"mt left")}):""):"")),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"General"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"QSID:"),s.a.createElement("input",{placeholder:"New QS",readOnly:!0,value:q&&q.QSID||"",onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Product:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/productlist",searchName:"abbreviation",searchID:"productID",otherName:"supplier",otherID:"supplierID",placeholder:"Product...",setQSFields:va,value:G&&G.abbreviation||"",resetfield:Z,setResetfield:X,setEditing:it,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Supplier:"),s.a.createElement("input",{placeholder:"Supplier...",value:G.supplier,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Customer:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/customers",searchName:"customer",searchID:"customerID",placeholder:"Customer...",setQSFields:va,value:G&&G.customer||"",setEditing:it,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Contact:"),s.a.createElement("input",{className:"canceldrag",type:"text",onKeyDown:Ka}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Packaging"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Pack Size:"),s.a.createElement("input",{value:q.packsize,onChange:Ea,name:"packsize",type:"text",placeholder:"9kg, 25kg, 50kg, bigbag",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Marks:"),s.a.createElement("input",{name:"marks",onChange:Ea,value:q.marks,type:"text",placeholder:"neutral, WG, seller, buyer",onDoubleClick:function(e){e.target.select()},className:"canceldrag",onKeyDown:Ka}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Delivery"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"From:"),s.a.createElement("input",{name:"from",onChange:Ea,value:q.from,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"To:"),s.a.createElement("input",{name:"to",onChange:Ea,value:q.to,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"POL:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/POLS",searchName:"POL",searchID:"POLID",placeholder:"POL...",setQSFields:va,value:G&&G.POL||"",setEditing:it,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"POD:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/PODS",searchName:"POD",searchID:"PODID",placeholder:"POD...",setQSFields:va,value:G&&G.POD||"",setEditing:it,required:!0})))),s.a.createElement("section",{id:"salesQS-2"},s.a.createElement("div",{className:"saleboxes"},s.a.createElement("div",{className:"soldcheckbox"},s.a.createElement("input",{className:"canceldrag",name:"saleComplete",type:"checkbox",checked:ae,onClick:function(){ue&&(_(Object(r.a)({},G,{customer:"",CADdays:10,saleComplete:"Indication",generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:$e?"\u20ac 0.00":"$ 0.00",tsca:$e?"\u20ac 0.00":"$ 0.00",isf:$e?"\u20ac 0.00":"$ 0.00",drayage:$e?"\u20ac 0.00":"$ 0.00",unloading:$e?"\u20ac 0.00":"$ 0.00",collectcharges:$e?"\u20ac 0.00":"$ 0.00",inboundothers:$e?"\u20ac 0.00":"$ 0.00",warehouse:"",whentry:"",storagefixed:$e?"\u20ac 0.00":"$ 0.00",storagevariable:$e?"\u20ac 0.00":"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:""})),$(Object(r.a)({},q,{customer:"",CADdays:10,saleComplete:0,generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,warehouse:"",whentry:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:""}))),re(!ae),me(!1),it(!0)},onKeyDown:Ka}),s.a.createElement("label",null,"Sold")),s.a.createElement("div",{className:"soldcheckbox"},s.a.createElement("input",{className:"canceldrag",name:"allocationComplete",type:"checkbox",checked:ue,onClick:function(){3!==q.saleType&&!1===ue&&(_(Object(r.a)({},G,{customer:"USA Distribution",CADdays:100,saleComplete:"US Allocation",scommission:$e?"\u20ac 0.00":"$ 0.00",sfinancecost:$e?"\u20ac 0.00":"$ 0.00"})),$(Object(r.a)({},q,{customer:452,CADdays:100,saleComplete:1,scommission:0,sfinancecost:0})),me(!0),re(!1),it(!0)),!0===ue&&(_(Object(r.a)({},G,{customer:"",CADdays:10,saleComplete:"Indication",generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:$e?"\u20ac 0.00":"$ 0.00",tsca:$e?"\u20ac 0.00":"$ 0.00",isf:$e?"\u20ac 0.00":"$ 0.00",drayage:$e?"\u20ac 0.00":"$ 0.00",unloading:$e?"\u20ac 0.00":"$ 0.00",collectcharges:$e?"\u20ac 0.00":"$ 0.00",inboundothers:$e?"\u20ac 0.00":"$ 0.00",warehouse:"",whentry:"",storagefixed:$e?"\u20ac 0.00":"$ 0.00",storagevariable:$e?"\u20ac 0.00":"$ 0.00",stggraceperiod:"0",stgaccrualperiod:"0",quantitypallets:""})),$(Object(r.a)({},q,{customer:"",CADdays:10,saleComplete:0,generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0,drayage:0,unloading:0,collectcharges:0,inboundothers:0,warehouse:"",whentry:"",storagefixed:0,storagevariable:0,stggraceperiod:0,stgaccrualperiod:0,quantitypallets:""})),me(!1),re(!1),it(!0))},onKeyDown:Ka}),s.a.createElement("label",null,"US-Allocation"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"WGS:"),s.a.createElement("input",{name:"KTS",placeholder:"5000...",value:G&&G.KTS||"",onChange:Ca,className:"canceldrag",onKeyDown:Ka})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"In Charge"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Trader:"),s.a.createElement("input",{className:"canceldrag",value:G.TIC,type:"text",readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Traffic:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/trafficmgrs",searchName:"traffic",searchID:"trafficID",placeholder:"Traffic...",setQSFields:va,value:G&&G.traffic||"",setEditing:it,required:!0}))),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Terms"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Incoterms:"),s.a.createElement("input",{placeholder:"Incoterms...",onChange:Ea,name:"incoterms",value:G.incoterms,type:"text",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payment Terms:"),s.a.createElement(p.a,{className:"searchfield",searchURL:"/paymentterms",searchName:"paymentTerm",searchID:"paytermID",placeholder:"Payment terms...",setQSFields:va,value:G&&G.paymentTerm||"",setEditing:it,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inc. Interest:"),s.a.createElement("input",{value:G.CADintrate,placeholder:"Interest rate...",type:"text",name:"CADintrate",onKeyDown:Ka,onChange:function(e){!0!==$e||_e?Na(e):Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},onBlur:Oa,className:"canceldrag",required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inc. Days:"),s.a.createElement("input",{value:G.CADdays,name:"CADdays",onKeyDown:Ka,onChange:function(e){!0!==$e||_e?ja(e):Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},type:"text",placeholder:"Days...",className:"canceldrag",required:!0}))),s.a.createElement("div",{id:"shipmenttyperadio",className:"form-group"},s.a.createElement("input",{name:"shipmenttype",type:"radio",defaultChecked:!0,required:!0,onKeyDown:Ka,onClick:function(e){$(Object(r.a)({},q,{shipmentType:1})),_(Object(r.a)({},G,{shipmentType:"Container"}))},checked:1===q.shipmentType}),s.a.createElement("label",{style:{minWidth:"auto"},htmlFor:""},"Container"),s.a.createElement("input",{name:"shipmenttype",type:"radio",required:!0,onKeyDown:Ka,onClick:function(e){$(Object(r.a)({},q,{shipmentType:2})),_(Object(r.a)({},G,{shipmentType:"Breakbulk"}))},checked:2===q.shipmentType}),s.a.createElement("label",{style:{minWidth:"auto"},htmlFor:""},"Breakbulk"),s.a.createElement("input",{name:"shipmenttype",type:"radio",required:!0,onKeyDown:Ka,onClick:function(e){$(Object(r.a)({},q,{shipmentType:3})),_(Object(r.a)({},G,{shipmentType:"Truck"}))},checked:3===q.shipmentType}),s.a.createElement("label",{style:{minWidth:"auto"},htmlFor:""},"Truck")),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Freight"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight ID:"),s.a.createElement("input",{placeholder:"[Leave Blank]",type:"text",onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight Total:"),s.a.createElement("input",{type:"text",name:"freightTotal",className:"QSfig2 canceldrag",value:G.freightTotal,onChange:wa,onBlur:Sa,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Shipping Line:"),s.a.createElement("input",{className:"canceldrag",placeholder:"Shipping Line...",name:"shippingline",onChange:Ea,value:G&&G.shippingline||"",type:"text",onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payload (mt/FCL):"),s.a.createElement("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:G.payload,onChange:ja,onBlur:xa,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Inspection:"),s.a.createElement("input",{name:"totalinspection",className:"QSfig2 canceldrag",value:G.totalinspection,onChange:wa,onBlur:Sa,type:"text",onKeyDown:Ka}))),3===q.saleType?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"WH Entry Date:"),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)",marginLeft:0,flexBasis:"50%",minWidth:"50%"},type:"date",value:q.whentry,onKeyDown:Ka,readOnly:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"WH Exit Date:"),s.a.createElement("input",{style:{marginLeft:0,flexBasis:"50%",minWidth:"50%"},name:"whexit",type:"date",value:q.whexit,onChange:Ea,onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka}))):"",s.a.createElement("div",{className:"soldcheckbox"},s.a.createElement("input",{className:"canceldrag",name:"finalComplete",type:"checkbox",checked:oe,onClick:function(){oe?(_(Object(r.a)({},G,{finalComplete:"in progress"})),$(Object(r.a)({},q,{finalComplete:0}))):(_(Object(r.a)({},G,{finalComplete:"finalized"})),$(Object(r.a)({},q,{finalComplete:1}))),le(!oe)},onKeyDown:Ka}),s.a.createElement("label",null,"Finalized"))),s.a.createElement("section",{id:"salesQS-3"},s.a.createElement("fieldset",{id:"salesQS-3-fieldset",style:{paddingBottom:"2rem"}},s.a.createElement("legend",null,"Figures"),s.a.createElement("section",{id:"salesQS-3-col1",style:{flexBasis:"50%"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Quantity:"),s.a.createElement("input",{className:"QSfig2 canceldrag",name:"quantity",value:G.quantity,onChange:ja,type:"text",placeholder:"MT",onBlur:xa,required:!0,onKeyDown:Ka})),3===q.saleType?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"# Pallets:"),s.a.createElement("input",{className:"QSfig2 canceldrag",name:"quantitypallets",value:G.quantitypallets,type:"text",placeholder:"# pallets",onChange:ja,onBlur:xa,required:!0,onKeyDown:Ka})):"",s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Costs (per mt)"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Material Cost:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Material Cost pmt",onChange:wa,name:"materialcost",value:G.materialcost,onBlur:Sa,required:!0,onKeyDown:Ka})),3===q.saleType?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{position:"relative"}},"Outbound Cost:"," ",s.a.createElement(y.a,{icon:v.a,onClick:function(e){Pt(!Bt),!0===Nt&&Ot(!1),!0===kt&&Ft(!1),!0===$t&&Qt(!1)}})),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.outboundpmt,name:"outboundpmt",placeholder:"...Outbound Cost pmt",onChange:wa,onBlur:Sa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})):"",Bt&&1!==q.saleComplete?s.a.createElement("div",{className:"bottompopupcalculator",style:{position:"absolute"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payload (mt/FCL):"),s.a.createElement("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:G.payload,onChange:ja,onBlur:xa,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Loading per FCL:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"loading",value:G.loading,onChange:wa,type:"text",placeholder:"Loading/FCL $",onBlur:Sa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"BOL Charges:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"bolcharges",value:G.bolcharges,onChange:wa,type:"text",placeholder:"BOL Charges $",onBlur:Sa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Outbound Others:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"outboundothers",value:G.outboundothers,onChange:wa,type:"text",placeholder:"Outbound Others $",onBlur:Sa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Outbound:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",name:"totaloutbound",value:G.totaloutbound,onChange:wa,type:"text",placeholder:"Total Outbound $",onBlur:Sa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("button",{onClick:function(e){e.preventDefault(),it(!0),$(Object(r.a)({},q,{loading:0,bolcharges:0,outboundothers:0})),_(Object(r.a)({},G,{loading:$e?"\u20ac 0.00":"$ 0.00",bolcharges:$e?"\u20ac 0.00":"$ 0.00",outboundothers:$e?"\u20ac 0.00":"$ 0.00"}))}},"Reset"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),Pt(!1)}},"OK")):"",3===q.saleType?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{position:"relative"}},"Storage:"," ",s.a.createElement(y.a,{icon:v.g,onClick:function(e){Qt(!$t),Pt(!1)}})),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",type:"text",placeholder:"...Storage $",onChange:wa,name:"storagepmt",value:G.storagepmt,onBlur:Sa,required:!0,readOnly:!0,onKeyDown:Ka})):"",$t&&3===q.saleType?s.a.createElement("div",{className:"bottompopupcalculator"},s.a.createElement("p",null,"Storage Cost of ",ta(q.storagepmt),"/mt is based on:"),s.a.createElement("ul",null,s.a.createElement("li",null,"WH Entry Date: ",q.whentry?q.whentry:"N/A"),s.a.createElement("li",null,"WH Exit Date: ",q.whexit?q.whexit:"N/A"),s.a.createElement("li",null,"Fixed Storage Cost:"," ",Yt?ta(Yt.storagefixed):"N/A"),s.a.createElement("li",null,"Variable Storage Cost:"," ",Yt?ta(Yt.storagevariable)+"/pallet":"N/A"),s.a.createElement("li",null,"Position Quantity: ",Yt?Yt.quantity+"mt":"N/A"),s.a.createElement("li",null,"Total Pallets: ",Yt?Yt.quantitypallets:"N/A"),s.a.createElement("li",null,"Grace Period: ",Yt?Yt.stggraceperiod:"N/A"),s.a.createElement("li",null,"Accrual Period: ",Yt?Yt.stgaccrualperiod:"N/A"))):"",1!==q.saleComplete?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"S Finance Cost:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.sfinancecost,name:"sfinancecost",placeholder:"...S Finance Cost pmt",onChange:wa,onBlur:Sa,type:"text",required:!0,onKeyDown:Ka})):"",1===q.saleComplete&&3!==q.saleType?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{position:"relative"}},"Customs Entry:"," ",s.a.createElement(y.a,{icon:v.a,onClick:function(e){yt(!bt),!0===Nt&&Ot(!1),!0===kt&&Ft(!1)}})),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.centryfeepmt,name:"centryfeepmt",placeholder:"...Customs Entry pmt",onChange:wa,onBlur:Sa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})):"",bt&(1===q.saleComplete&&3!==q.saleType)?s.a.createElement("div",{className:"bottompopupcalculator",style:{position:"absolute"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Quantity:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"quantity",value:G.quantity,onChange:ja,type:"text",placeholder:"MT",onBlur:xa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Material Cost/mt:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Material Cost pmt",onChange:wa,name:"materialcost",value:G.materialcost,onBlur:Sa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Entry Value:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Material Value $",onChange:wa,name:"materialvalue",value:G.materialvalue,onBlur:Sa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"General Duty (%):"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...General Duty",onChange:Na,name:"generalduty",value:G.generalduty,onBlur:Oa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Additional Duty (%):"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Additional Duty",onChange:Na,name:"additionalduty",value:G.additionalduty,onBlur:Oa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Duty:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Total Duty %",onChange:Na,name:"totalduty",value:G.totalduty,onBlur:Oa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Duty Fee:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Duty Fee $",onChange:wa,name:"dutyfee",value:G.dutyfee,onBlur:Sa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Harbor Fee %:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...HarborFee %",onChange:function(e){return Na(e,3)},name:"harborfeepct",value:G.harborfeepct,onBlur:function(e){return Oa(e,3)},required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Harbor Fee:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Harbor Fee $",onChange:wa,name:"harborfee",value:G.harborfee,onBlur:Sa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Merch. Proc. Fee %:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Merch. Proc. %",onChange:function(e){return Na(e,4)},name:"merchprocfeepct",value:G.merchprocfeepct,onBlur:function(e){return Oa(e,4)},required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Merch. Proc. Fee:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...MP Fee $",onChange:wa,name:"merchprocfee",value:G.merchprocfee,onBlur:Sa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Flat Fee:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...Flat Fee $",onChange:wa,name:"cflatfee",value:G.cflatfee,onBlur:Sa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"TSCA:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...TSCA $",onChange:wa,name:"tsca",value:G.tsca,onBlur:Sa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"ISF:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...ISF $",onChange:wa,name:"isf",value:G.isf,onBlur:Sa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Entry Fee:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",type:"text",placeholder:"...Total Entry Fee $",onChange:wa,name:"totalcentryfee",value:G.totalcentryfee,onBlur:Sa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("button",{onClick:function(e){e.preventDefault(),it(!0),$(Object(r.a)({},q,{generalduty:0,additionalduty:0,harborfeepct:0,merchprocfeepct:0,cflatfee:0,tsca:0,isf:0})),_(Object(r.a)({},G,{generalduty:"0.00%",additionalduty:"0.00%",harborfeepct:"0.00%",merchprocfeepct:"0.00%",cflatfee:$e?"\u20ac 0.00":"$ 0.00",tsca:$e?"\u20ac 0.00":"$ 0.00",isf:$e?"\u20ac 0.00":"$ 0.00"}))}},"Reset"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),yt(!1)}},"OK")):"",1===q.saleComplete&&3!==q.saleType?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{position:"relative"}},"Inbound Cost:"," ",s.a.createElement(y.a,{icon:v.a,onClick:function(e){Ot(!Nt),!0===bt&&yt(!1),!0===kt&&Ft(!1)}})),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.inboundpmt,name:"inboundpmt",placeholder:"...Inbound costs pmt",onChange:wa,onBlur:Sa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})):"",Nt&(1===q.saleComplete&&3!==q.saleType)?s.a.createElement("div",{className:"bottompopupcalculator",style:{position:"absolute"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Payload (mt/FCL):"),s.a.createElement("input",{type:"text",name:"payload",className:"QSfig2 canceldrag",value:G.payload,onChange:ja,onBlur:xa,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Drayage per FCL:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"drayage",value:G.drayage,onChange:wa,type:"text",placeholder:"Drayage/FCL $",onBlur:Sa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Unloading per FCL:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"unloading",value:G.unloading,onChange:wa,type:"text",placeholder:"Unloading/FCL $",onBlur:Sa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Collect Charges:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"collectcharges",value:G.collectcharges,onChange:wa,type:"text",placeholder:"Collect Charges $",onBlur:Sa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inbound Others:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"inboundothers",value:G.inboundothers,onChange:wa,type:"text",placeholder:"Inbound Others $",onBlur:Sa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Inbound:"),s.a.createElement("input",{style:{backgroundColor:"rgb(230,230,230",borderBottom:"None"},className:"QSfig canceldrag",name:"totalinbound",value:G.totalinbound,onChange:wa,type:"text",placeholder:"Total Inbound $",onBlur:Sa,required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("button",{onClick:function(e){e.preventDefault(),it(!0),$(Object(r.a)({},q,{drayage:0,unloading:0,collectcharges:0,inboundothers:0})),_(Object(r.a)({},G,{drayage:$e?"\u20ac 0.00":"$ 0.00",unloading:$e?"\u20ac 0.00":"$ 0.00",collectcharges:$e?"\u20ac 0.00":"$ 0.00",inboundothers:$e?"\u20ac 0.00":"$ 0.00"}))}},"Reset"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),Ot(!1)}},"OK")):"",s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"P Commission:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Commission pmt",name:"pcommission",value:G.pcommission,onChange:wa,onBlur:Sa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"P Finance Cost:"),s.a.createElement("input",{className:"QSfig canceldrag",type:"text",placeholder:"...P Finance Cost pmt",name:"pfinancecost",value:G.pfinancecost,onChange:wa,onBlur:Sa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Freight (pmt):"),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.freightpmt,name:"freightpmt",placeholder:"...Freight pmt",onChange:function(e){wa(e)},onBlur:function(e){Sa(e)},type:"text",required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{position:"relative"}},"Insurance Cost:",s.a.createElement(y.a,{icon:v.a,onClick:function(e){Ft(!kt),!0===bt&&yt(!1),!0===Nt&&Ot(!1)}})),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.insurance,name:"insurance",placeholder:"...Insurance Cost pmt",onChange:wa,onBlur:Sa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})),kt?s.a.createElement("div",{className:"bottompopupcalculator",style:{position:"absolute"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Incoterms:"),s.a.createElement("input",{placeholder:"Incoterms...",onChange:Ea,name:"incoterms",value:G.incoterms,type:"text",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Insurance Rate %:"),s.a.createElement("input",{type:"text",name:"insurancerate",className:"QSfig2 canceldrag",value:G.insurancerate,onChange:Na,onBlur:Oa,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Insurance Factor:"),s.a.createElement("input",{type:"text",name:"insurancefactor",className:"QSfig2 canceldrag",value:G.insurancefactor,onChange:function(e){ja(e,2)},onBlur:xa,onKeyDown:Ka})),s.a.createElement("button",{onClick:function(e){e.preventDefault(),Ft(!1)}},"OK")):"",s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Inspection Cost:"),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.inspectionpmt,name:"inspectionpmt",placeholder:"...Inspection Cost pmt",onChange:wa,onBlur:Sa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})),1!==q.saleComplete?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"S Commission:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.scommission,name:"scommission",placeholder:"...S Commission pmt",onChange:wa,onBlur:Sa,type:"text",required:!0,onKeyDown:Ka})):"",s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Cost:"),s.a.createElement("input",{style:{backgroundColor:"rgb(244,244,244)"},className:"QSfig canceldrag",value:G.interestcost,name:"interestcost",placeholder:"...Interest Cost pmt",onChange:wa,onBlur:Sa,type:"text",required:!0,readOnly:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Legal:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.legal,name:"legal",placeholder:"...Legal Cost pmt",onChange:wa,onBlur:Sa,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Pallets:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.pallets,name:"pallets",placeholder:"...Pallets Cost pmt",onChange:wa,onBlur:Sa,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Other:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.other,name:"other",placeholder:"...Other Costs pmt",onChange:wa,onBlur:Sa,type:"text",required:!0,onKeyDown:Ka}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Cost:"),s.a.createElement("input",{className:"QSfig2 canceldrag",readOnly:!0,value:G.totalcost,type:"text",required:!0,onKeyDown:Ka})),1===q.saleComplete?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Price Before Int.:"),s.a.createElement("input",{style:{paddingRight:"15px"},className:"QSfig canceldrag",value:G.pricebeforeint,name:"pricebeforeint",placeholder:"...Price Before Int pmt",onChange:wa,onBlur:Sa,type:"text",required:!0,onKeyDown:Ka})):""),1!==q.saleComplete?s.a.createElement("section",{id:"salesQS-3-col2"},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Sales Interest"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Rate:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.interestrate,placeholder:"...Interest Rate",name:"interestrate",onChange:function(e){!0!==$e||_e?Na(e):Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},onBlur:Oa,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Interest Days:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.interestdays,name:"interestdays",onChange:function(e){!0!==$e||_e?ja(e):Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})},placeholder:"...Interest Days",type:"text",required:!0,onKeyDown:Ka}))),s.a.createElement("fieldset",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Price Before Int.:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.pricebeforeint,name:"pricebeforeint",placeholder:"...Price Before Int pmt",onChange:wa,onBlur:Sa,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Sales Interest:"),s.a.createElement("input",{className:"QSfig canceldrag",value:G.salesinterest,readOnly:!0,type:"text",required:!0,onKeyDown:Ka}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Price After Int.:"),s.a.createElement("input",{readOnly:!0,className:"QSfig2 canceldrag",value:G.priceafterint,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Economics"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Profit:"),s.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:G.profit,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Margin:"),s.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:G.margin,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Turnover:"),s.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:G.turnover,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"% Margin:"),s.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:G.pctmargin,type:"text",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Netback:"),s.a.createElement("input",{readOnly:!0,className:"QSfig canceldrag",value:G.netback,type:"text",required:!0,onKeyDown:Ka}))),s.a.createElement("div",{id:"exchangerate",className:"form-group"},s.a.createElement("label",null,"Exch. Rate ($/\u20ac):"),s.a.createElement("input",{className:"canceldrag",onChange:function(e){e.preventDefault(),it(!0),(RegExp("^[0-9.]+$").test(e.target.value)||""===e.target.value)&&Re(e.target.value)},value:_e||"",placeholder:"$/\u20ac (up to 4 decimals)",readOnly:Ye,onKeyDown:Ka}),s.a.createElement(y.a,{icon:v.q,onClick:function(e){Ve(!Ye)},className:Ye?"unlockicon display-none":"unlockicon display-block"}),s.a.createElement(y.a,{icon:v.h,onClick:function(e){e.preventDefault(),Object(b.confirmAlert)({title:"Warning",message:"If you have already entered data with a different exchange rate. Changing the rate at this point will likely cause currency and calculation inconsistencies in the QS.",buttons:[{label:"Go ahead",onClick:function(){return Ve(!Ye)}},{label:"Cancel"}],closeOnClickOutside:!0,closeOnEscape:!0})},className:Ye?"lockicon display-block":"lockicon display-none"}),s.a.createElement("button",{onClick:function(e){e.preventDefault(),_e&&""!==_e?Qe(!$e):Object(b.confirmAlert)({title:"No Exchange Rate",message:"Please input an Exchange Rate ($/\u20ac)",buttons:[{label:"OK"}],closeOnClickOutside:!0,closeOnEscape:!0})}},$e?"Convert To USD":"Convert To Euros"))):s.a.createElement("section",{id:"salesQS-3-col2",className:"storagefields"},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Storage Details"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{minWidth:"90px"},htmlFor:""},"Warehouse"),s.a.createElement("select",{style:{flexBasis:"42%",marginRight:0,marginLeft:"15px",padding:"0.25rem 0"},required:!0,onChange:function(e){!function(e){it(!0);var t=_t[e];""===e?(_(Object(r.a)({},G,{warehouse:""})),$(Object(r.a)({},q,{warehouse:""}))):(_(Object(r.a)({},G,{warehouse:t.warehouseName})),$(Object(r.a)({},q,{warehouse:t.warehouseID})))}(e.target.value)}},s.a.createElement("option",{value:""},"Select..."),_t?_t.map(function(e,t){return e.warehouseName===G.warehouse?s.a.createElement("option",{selected:!0,value:t},e.warehouseName):s.a.createElement("option",{value:t},e.warehouseName)}):"")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",style:{minWidth:"95px"}},"Entry Date:"),s.a.createElement("input",{style:{minWidth:"55%"},name:"whentry",onChange:Ea,value:q.whentry,type:"date",onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Fixed Cost:"),s.a.createElement("input",{className:"QSfig canceldrag",name:"storagefixed",value:G.storagefixed,onChange:wa,type:"text",placeholder:"Storage Fixed Cost $",onBlur:Sa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Var. Cost ($/pallet):"),s.a.createElement("input",{className:"QSfig canceldrag",name:"storagevariable",value:G.storagevariable,onChange:wa,type:"text",placeholder:"Storage Variable Cost $",onBlur:Sa,required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Grace Period (days):"),s.a.createElement("input",{className:"QSfig canceldrag",name:"stggraceperiod",value:G.stggraceperiod,onChange:function(e){return ja(e,0)},type:"text",placeholder:"(days)",onBlur:function(e){return xa(e,0)},required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Accrual Period (days):"),s.a.createElement("input",{className:"QSfig canceldrag",name:"stgaccrualperiod",value:G.stgaccrualperiod,onChange:function(e){return ja(e,0)},type:"text",placeholder:"(days)",onBlur:function(e){return xa(e,0)},required:!0,onKeyDown:Ka})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Total Pallets (#):"),s.a.createElement("input",{className:"QSfig canceldrag",name:"quantitypallets",value:G.quantitypallets,onChange:function(e){return ja(e,0)},type:"text",placeholder:"(# of pallets)",onBlur:function(e){return xa(e,0)},required:!0,onKeyDown:Ka}))))),s.a.createElement("div",{id:"QSbuttons"},""!==Oe&&Oe?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{ref:S},Ta),s.a.createElement("button",{className:"saveQSbutton",type:"submit"},"Save Edits")):s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{ref:S},Ta),s.a.createElement("button",{className:"saveQSbutton",type:"button",onClick:function(e){Ra()}},"Clear"),s.a.createElement("button",{className:"saveQSbutton",type:"submit"},"Save and New"))))))}},731:function(e,t,a){"use strict";var r=a(7),n=a(1),c=a(0),o=a.n(c),l=a(5),i=a.n(l),s=a(99),u=(a(526),a(47)),m=a(6),p=a.n(m),d=(a(528),a(113),function(e){var t=e.posnumber,a=e.posmatchnumber,r=t===a?"postooltip":"postooltip display-none",l=Object(c.useState)(),s=Object(n.a)(l,2),u=s[0],m=s[1];return Object(c.useEffect)(function(){t===a&&i.a.post("/posmatching",{posnumber:t}).then(function(e){m(e.data)})},[a]),o.a.createElement("span",{className:r},o.a.createElement("h4",null,"Matching Sales for Position ",t),o.a.createElement("ul",null,o.a.createElement("li",{className:"posmatchitem"},o.a.createElement("h4",null,"Trader"),o.a.createElement("h4",null,"WGS"),o.a.createElement("h4",null,"Customer"),o.a.createElement("h4",null,"Quantity (mt)"),o.a.createElement("h4",null,"Profit (pmt)")),u?u.map(function(e){return o.a.createElement("li",{className:"posmatchitem"},o.a.createElement("p",null,e.tCode),o.a.createElement("p",null,e.KTS),o.a.createElement("p",null,e.companyCode),o.a.createElement("p",null,e.quantity),o.a.createElement("p",null,e.tradingProfit))}):"No matching sales found"))});function f(){f=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new x(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=N(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var h={};l(h,n,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&a.call(b,n)&&(h=b);var y=d.prototype=m.prototype=Object.create(h);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function N(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}t.a=function(){var e=Object(c.useState)(0),t=Object(n.a)(e,2),a=t[0],l=t[1],m=(Object(c.useContext)(s.a).state,Object(c.useContext)(u.a)),h=m.posrefresh,g=(m.togglePosrefresh,JSON.parse(localStorage.getItem("accesstoken"))),b=JSON.parse(localStorage.getItem("refreshtoken")),y=i.a.create({headers:{Authorization:"Bearer ".concat(g)}}),v=i.a.create({headers:{Authorization:"Bearer ".concat(b)}});y.interceptors.response.use(function(e){return e},function(){var e=Object(r.a)(f().mark(function e(t){var a;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b||403!==t.response.status){e.next=8;break}return e.next=3,v.post("/refreshtoken");case 3:return a=e.sent,g=a.data.accesstoken,e.next=7,y.post("/positionreport",{},{headers:{Authorization:"Bearer ".concat(g)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var E=Object(c.useState)({}),N=Object(n.a)(E,2),O=N[0],j=N[1];Object(c.useEffect)(Object(r.a)(f().mark(function e(){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/positionreport").then(function(e){var t=e.data.groupBy("productGroup");j(t)}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)})),[h]);var x=0,w="",S={};return o.a.createElement("div",{className:"positionreport"},o.a.createElement("table",{id:"positionreporttable"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"WGP"),o.a.createElement("th",{className:"fig"},"Quantity"),o.a.createElement("th",{className:"fig"},"Inventory"),o.a.createElement("th",{className:"fig"},"FOB"),o.a.createElement("th",null,"Supplier"),o.a.createElement("th",null,"From"),o.a.createElement("th",null,"To"),o.a.createElement("th",{className:"fig"},"Value"))),o.a.createElement("tbody",null,Object.entries(O).map(function(e,t){return w=Object.keys(O)[t],S=O[w].groupBy("product"),[o.a.createElement("tr",null,o.a.createElement("td",{className:"prodgroup",colSpan:8},o.a.createElement("p",null,w))),Object.entries(S).map(function(e,t){return x=0,[o.a.createElement("tr",null,o.a.createElement("td",{className:"product",colSpan:8},o.a.createElement("h4",null,Object.keys(S)[t]))),e[1].map(function(e){return x+=Number(e.Inventory),o.a.createElement(o.a.Fragment,null,o.a.createElement("tr",null,o.a.createElement("td",{className:"postooltipsource",onMouseOver:function(t){!function(e){l(e)}(e.KTP)},onMouseLeave:function(e){l(0)}},e.KTP,o.a.createElement(d,{posnumber:e.KTP,posmatchnumber:a})),o.a.createElement("td",{className:"fig"},e.quantity.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("td",{className:"fig"},Number(e.Inventory).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("td",{className:"fig"},e.Price.replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("td",null,e.Supplier),o.a.createElement("td",null,p()(e.Start).format("DD-MMM-YYYY").toString()),o.a.createElement("td",null,p()(e.End).format("DD-MMM-YYYY").toString()),o.a.createElement("td",{className:"fig"},"$"+(e.quantity*Number(e.Price.replace(/[^0-9.-]+/g,""))).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))))}),o.a.createElement("tr",{className:"totals"},o.a.createElement("td",{colSpan:2},o.a.createElement("h4",null,"Total")),o.a.createElement("td",{className:"fig"},o.a.createElement("h4",null,x.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),o.a.createElement("td",{colSpan:5}))]})]}))))}},732:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(4),o=a(2),l=a(1),i=a(7),s=a(5),u=a.n(s),m=a(112),p=a.n(m),d=(a(322),a(99)),f=a(47),h=a(54),g=(a(268),a(6)),b=a.n(g);function y(){y=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new x(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return S()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=N(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(w([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function N(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new E(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var v=function(e){Object(r.useContext)(d.a).state;var t=JSON.parse(localStorage.getItem("role")),a=Object(r.useContext)(f.a),s=a.posrefresh,m=a.togglePosrefresh,g=JSON.parse(localStorage.getItem("accesstoken")),v=JSON.parse(localStorage.getItem("refreshtoken")),E=u.a.create({headers:{Authorization:"Bearer ".concat(g)}}),N=u.a.create({headers:{Authorization:"Bearer ".concat(v)}});E.interceptors.response.use(function(e){return e},function(){var e=Object(i.a)(y().mark(function e(t){var a;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!v||403!==t.response.status){e.next=8;break}return e.next=3,N.post("/refreshtoken");case 3:return a=e.sent,g=a.data.accesstoken,e.next=7,E.post("/positions",{},{headers:{Authorization:"Bearer ".concat(g)}});case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",Promise.reject(t.response));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var O=Object(r.useState)([]),j=Object(l.a)(O,2),x=j[0],w=j[1],S=Object(r.useState)(e.config.sort||{column:"",order:""}),C=Object(l.a)(S,2),D=C[0],k=C[1],F=Object(r.useState)(e.config.columns),I=Object(l.a)(F,2),L=I[0],B=I[1],P=Object(r.useState)([]),T=Object(l.a)(P,2),q=T[0],$=T[1];Object(r.useEffect)(Object(i.a)(y().mark(function e(){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("/positions").then(function(e){w(e.data),$(Object.keys(L))});case 2:case"end":return e.stop()}},e)})),[s]);var Q=function(e){var t="asc"===D.order?"headerSortAsc":"headerSortDesc";return D.column===e?t:""},A={"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t}},G=[],_={},R=/^((?:(?:[<>]=?)|==))\s?([-]?\d+(?:\.\d+)?)$/;q.forEach(function(e){var t,a=L[e].filterText;if(_[e]=null,a.length>0){var r=R.exec(a);r&&3===r.length?_[e]=(t=r,function(e){if(e)return A[t[1]](e,t[2])}):_[e]=function(e){if(e)return e.toString().toLowerCase().indexOf(a.toLowerCase())>-1}}});var K=p.a.filter(x,function(e){return p.a.every(q,function(t){return!_[t]||_[t](e[t])})}),M=p.a.sortBy(K,D.column);"desc"===D.order&&M.reverse();M.forEach(function(a,r){var c;G.push(n.a.createElement("tr",{id:r,key:r},(c=a,q.map(function(e,t){return"quantity"===e?n.a.createElement("td",{className:"canceldrag",id:e+"-"+c.id,key:e+"-"+c.id},c[e].toFixed(2)):"FOB"===e?n.a.createElement("td",{className:"canceldrag",id:e+"-"+c.id,key:e+"-"+c.id},"$"+c[e].toFixed(2)):"Start"===e||"End"===e?n.a.createElement("td",{className:"canceldrag",id:e+"-"+c.id,key:e+"-"+c.id},b()(c[e]).format("DD-MMM-YYYY").toString()):n.a.createElement("td",{className:"canceldrag",id:e+"-"+c.id,key:e+"-"+c.id},c[e])})),n.a.createElement("div",{className:"crudbuttons"},n.a.createElement("button",{className:"editbutton",onClick:function(t){e.showEditModal(t,a)}},"Edit"),1===t||2===t?n.a.createElement("button",{className:"editbutton",onClick:function(e){Object(h.confirmAlert)({title:"Are you sure?",message:"You are about to delete position (".concat(a.WGP,") for ").concat(a.abbreviation," from ").concat(a.companyCode,". This deletion is irreversible. Click Delete to confirm or Cancel to exit."),buttons:[{label:"Cancel",onClick:function(){console.log("cancelled")}},{label:"Delete",onClick:function(){var e=Object(i.a)(y().mark(function e(){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.delete("/deletePosition",{data:{WGP:a.WGP}}).then(function(e){return m()}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}],closeOnClickOutside:!0,closeOnEscape:!0})}},"Delete"):"")))});var Y=q.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("th",{onClick:(t=e,function(e){var a="asc"===D.order?"desc":"asc";D.column!==t&&(a=L[t].defaultSortOrder),k({column:t,order:a})}),className:"header "+Q(e)},L[e].name));var t}),V=q.map(function(e){return n.a.createElement("td",{className:"filter-"+e},n.a.createElement("input",{className:"canceldrag",type:"text",value:L[e].filterText,onChange:function(t){!function(e,t){B(Object(o.a)({},L,Object(c.a)({},t,Object(o.a)({},L[t],{filterText:e.target.value}))))}(t,e)}}))});return n.a.createElement("div",null,n.a.createElement("table",{cellSpacing:"0",className:"tablesorter"},n.a.createElement("thead",null,n.a.createElement("tr",null,Y,n.a.createElement("th",{className:"header lastheader"})),n.a.createElement("tr",{className:"searchboxes"},V,n.a.createElement("td",null))),n.a.createElement("tbody",null,G)))},E=(a(531),a(113));t.a=function(e){var t=Object(r.useContext)(f.a).togglePosrefresh;return n.a.createElement("div",{className:"positionslist"},n.a.createElement("div",{className:"positionstitleline"},n.a.createElement("h3",{className:"positionslisttitle"},"Positions List"),n.a.createElement(E.a,{className:"refreshicon",onClick:function(e){t()}})),n.a.createElement(v,{config:{sort:{column:"year",order:"desc"},columns:{WGP:{name:"WGP",filterText:"",defaultSortOrder:"asc"},abbreviation:{name:"Product",filterText:"",defaultSortOrder:"desc"},companyCode:{name:"Supplier",filterText:"",defaultSortOrder:"desc"},packaging:{name:"Packaging",filterText:"",defaultSortOrder:"asc"},Start:{name:"Start",filterText:"",defaultSortOrder:"asc"},End:{name:"End",filterText:"",defaultSortOrder:"asc"},FOB:{name:"FOB",filterText:"",defaultSortOrder:"asc"},quantity:{name:"Quantity",filterText:"",defaultSortOrder:"asc"},year:{name:"Year",filterText:">=2020",defaultSortOrder:"asc"}}},showEditModal:e.showEditModal,hideEditModal:e.hideEditModal,modalState:e.modalState,postoedit:e.postoedit,key:"positionstablesort"}))}},748:function(e,t,a){},75:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return s});var r=a(1),n=a(0),c=a.n(n),o=a(5),l=a.n(o),i=c.a.createContext(),s=function(e){var t=e.children,a=(JSON.parse(localStorage.getItem("WGusercode")),Object(n.useState)(0)),o=Object(r.a)(a,2),s=o[0],u=o[1],m=Object(n.useState)(),p=Object(r.a)(m,2),d=p[0],f=p[1],h=Object(n.useState)(),g=Object(r.a)(h,2),b=g[0],y=g[1],v=Object(n.useState)([]),E=Object(r.a)(v,2),N=E[0],O=E[1];Object(n.useEffect)(function(){l.a.post("/getopnotes",{QSID:s}).then(function(e){Array.isArray(e.data)?f(e.data):f([])})},[s]),Object(n.useEffect)(function(){l.a.post("/getQSListwithNewMsg").then(function(e){Array.isArray(e.data)&&O(e.data)}),l.a.post("/getActiveUsers").then(function(e){var t="";e.data.forEach(function(e){t+=e.traderID+e.tCode}),y(t)})},[]);var j=Object(n.useState)(!1),x=Object(r.a)(j,2),w=x[0],S=x[1];return c.a.createElement(i.Provider,{value:{updateScores:w,setUpdateScores:S,opToEdit:s,setOpToEdit:u,opNotes:d,setOpNotes:f,activeusers:b,setActiveusers:y,opsWithNewNotes1:N,setOpsWithNewNotes1:O}},t)}},750:function(e,t,a){},752:function(e,t,a){},758:function(e,t){},759:function(e,t,a){},762:function(e,t,a){},764:function(e,t,a){},766:function(e,t,a){},768:function(e,t,a){},772:function(e,t,a){},774:function(e,t,a){},775:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(57),o=a.n(c),l=a(99),i=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,777)).then(function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),c(e),o(e)})};o.a.render(n.a.createElement(l.b,null),document.getElementById("root")),i()},83:function(e,t,a){"use strict";var r=a(1),n=a(0),c=a.n(n),o=a(5),l=a.n(o);a(510);t.a=function(e){var t=e.searchURL,a=e.searchName,o=e.searchID,i=e.placeholder,s=e.otherName,u=e.otherID,m=e.setQSFields,p=e.resetfield,d=e.setEditing,f=e.value,h=Object(n.useState)(),g=Object(r.a)(h,2),b=g[0],y=g[1],v=Object(n.useState)(""),E=Object(r.a)(v,2),N=E[0],O=E[1],j=Object(n.useState)(""),x=Object(r.a)(j,2),w=x[0],S=x[1],C=Object(n.useState)(),D=Object(r.a)(C,2),k=D[0],F=D[1],I=Object(n.useState)(!1),L=Object(r.a)(I,2),B=(L[0],L[1],Object(n.useState)(!1)),P=Object(r.a)(B,2),T=P[0],q=P[1];Object(n.useEffect)(function(){if(b){var e=b.filter(function(e){if(s&&u){if(w&&""!==w)return(e[a]+e[o]+e[s]+e[u]).toLowerCase().includes(w.toLowerCase());q(!1),m("","",a,s,"","")}else{if(w&&""!==w)return(e[a]+e[o]).toLowerCase().includes(w.toLowerCase());q(!1),m("","",a,"","","")}});F(e)}},[w]);var $,Q=Object(n.useRef)([]),A=Object(n.useRef)(null),G=Object(n.useRef)(null),_=Object(n.useRef)(null),R=Object(n.useRef)(null),K=Object(n.useRef)(null),M=Object(n.useRef)(null);return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{ref:"productID"===o?A:"customerID"===o?G:"POLID"===o?_:"PODID"===o?R:"trafficID"===o?K:M,placeholder:i,type:"text",value:p?"":N||f,onFocus:function(){l.a.post(t).then(function(e){y(e.data)})},onChange:function(e){q(!0),O(e.target.value),S(e.target.value)},onDoubleClick:function(e){e.target.select()},className:"canceldrag",required:!0,onKeyDown:function(e){k&&k.length>0&&"ArrowRight"===e.key&&(e.preventDefault(),$=0,console.log(Q.current),console.log(Q.current[$]),0===$&&Q.current[$].focus()),"Enter"===e.key&&e.preventDefault()}}),c.a.createElement("div",{className:"flexbreak"}),c.a.createElement("span",{className:"QSsearchresults-container"},c.a.createElement("ul",{className:T?"QSsearchresults":"QSsearchresults-hide"},k?k.map(function(e,t){return u&&s?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{ref:function(e){return Q.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),o){case"productID":A.current.focus();break;case"customerID":G.current.focus();break;case"POLID":_.current.focus();break;case"PODID":R.current.focus();break;case"trafficID":K.current.focus();break;case"paytermID":M.current.focus()}if("ArrowDown"===t.key&&(t.preventDefault(),Q.current[$+1]&&($+=1,Q.current[$].focus())),"ArrowUp"===t.key&&(t.preventDefault(),Q.current[$-1]&&($-=1,Q.current[$].focus())),"Enter"===t.key){t.preventDefault(),d(!0);var r=t.target.innerText,n=r.substring(r.indexOf("(")+1,r.indexOf(")")),c=r.substring(r.indexOf(") ")+2,r.indexOf(" -")),l=r.substring(r.lastIndexOf("(")+1,r.lastIndexOf(")")),i=r.substring(r.lastIndexOf(") ")+2);m(Number(n),Number(l),a,s,c,i),O(null),S(e[a]),q(!1)}},onClick:function(t){d(!0);var r=t.target.innerText,n=r.substring(r.indexOf("(")+1,r.indexOf(")")),c=r.substring(r.indexOf(") ")+2,r.indexOf(" -")),o=r.substring(r.lastIndexOf("(")+1,r.lastIndexOf(")")),l=r.substring(r.lastIndexOf(") ")+2);m(Number(n),Number(o),a,s,c,l),O(null),S(e[a]),q(!1)}},"(",e[o],") ",e[a]," - (",e[u],") ",e[s])):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{ref:function(e){return Q.current[t]=e},tabIndex:-1,onKeyDown:function(t){if("ArrowLeft"===t.key)switch(t.preventDefault(),o){case"productID":A.current.focus();break;case"customerID":G.current.focus();break;case"POLID":_.current.focus();break;case"PODID":R.current.focus();break;case"trafficID":K.current.focus();break;case"paytermID":M.current.focus()}if("ArrowDown"===t.key&&(t.preventDefault(),Q.current[$+1]&&($+=1,Q.current[$].focus())),"ArrowUp"===t.key&&(t.preventDefault(),Q.current[$-1]&&($-=1,Q.current[$].focus())),"Enter"===t.key){t.preventDefault(),d(!0);var r=t.target.innerText,n=r.substring(r.indexOf("(")+1,r.indexOf(")")),c=r.split(") - ")[1];console.log(n,c),m(Number(n),"",a,"",c,""),O(null),S(e[a]),q(!1)}},onClick:function(t){d(!0);var r=t.target.innerText,n=r.substring(r.indexOf("(")+1,r.indexOf(")")),c=r.split(") - ")[1];console.log(n,c),m(Number(n),"",a,"",c,""),O(null),S(e[a]),q(!1)}},"(",e[o],") - ",e[a]))}):"")))}},97:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return l});var r=a(1),n=a(0),c=a.n(n),o=c.a.createContext(),l=function(e){var t=e.children,a=Object(n.useState)(),l=Object(r.a)(a,2),i=l[0],s=l[1],u=Object(n.useState)(!0),m=Object(r.a)(u,2),p=m[0],d=m[1],f=Object(n.useState)(JSON.parse(localStorage.getItem("WGusercode"))),h=Object(r.a)(f,2),g=h[0],b=h[1],y=Object(n.useState)(!0),v=Object(r.a)(y,2),E=v[0],N=v[1],O=Object(n.useState)(!1),j=Object(r.a)(O,2),x=j[0],w=j[1];return c.a.createElement(o.Provider,{value:{QStoload:i,setQStoload:s,toggleQSload:function(e){d(function(e){return!e})},diffQS:p,toggleDuplicate:function(e){N(function(e){return!e})},duplicateBoolean:E,loaduser:g,setLoaduser:b,fromdropdown:x,setFromdropdown:w}},t)}},98:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return l});var r=a(1),n=a(0),c=a.n(n),o=c.a.createContext(),l=function(e){var t=e.children,a=Object(n.useState)(),l=Object(r.a)(a,2),i=l[0],s=l[1],u=Object(n.useState)(),m=Object(r.a)(u,2),p=m[0],d=m[1],f=Object(n.useState)(),h=Object(r.a)(f,2),g=h[0],b=h[1],y=Object(n.useState)(),v=Object(r.a)(y,2),E=v[0],N=v[1],O=Object(n.useState)(),j=Object(r.a)(O,2),x=j[0],w=j[1],S=Object(n.useState)(),C=Object(r.a)(S,2),D=C[0],k=C[1],F=Object(n.useState)(),I=Object(r.a)(F,2),L=I[0],B=I[1],P=Object(n.useState)(),T=Object(r.a)(P,2),q=T[0],$=T[1],Q=Object(n.useState)(),A=Object(r.a)(Q,2),G=A[0],_=A[1],R=Object(n.useState)(),K=Object(r.a)(R,2),M=K[0],Y=K[1],V=Object(n.useState)(),W=Object(r.a)(V,2),U=W[0],H=W[1],z=Object(n.useState)(),J=Object(r.a)(z,2),Z=J[0],X=J[1],ee=Object(n.useState)(),te=Object(r.a)(ee,2),ae=te[0],re=te[1];return c.a.createElement(o.Provider,{value:{prdata:i,setPrdata:s,prcustomers:p,setPrcustomers:d,prcustomerfilter:g,setPrcustomerfilter:b,prcustomerchecks:E,setPrcustomerchecks:N,prproducts:x,setPrproducts:w,prproductfilter:D,setPrproductfilter:k,prproductchecks:L,setPrproductchecks:B,prpgroups:q,setPrpgroups:$,prpgroupfilter:G,setPrpgroupfilter:_,prpgroupchecks:M,setPrpgroupchecks:Y,prprodcats:U,setPrprodcats:H,prprodcatfilter:Z,setPrprodcatfilter:X,prprodcatchecks:ae,setPrprodcatchecks:re}},t)}},99:function(e,t,a){"use strict";var r,n=a(1),c=a(2),o=(a(459),a(0)),l=a.n(o),i=a(44),s=a(10),u=a(4),m=(a(461),a(5)),p=a.n(m);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var f,h,g=function(e){return l.a.createElement("svg",d({version:1.1,id:"Capa_1",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"403px",height:"229px",viewBox:"0 0 403 229",enableBackground:"new 0 0 403 229",xmlSpace:"preserve"},e),r||(r=l.a.createElement("g",null,l.a.createElement("g",null,l.a.createElement("path",{fill:"#93AD3C",d:"M277.342,30.401c-6.546,0-20.163,3.273-20.897,21.889c-0.326,8.282-2.662,15.368-6.543,20.845 c-0.001,0.002-0.002,0.004-0.003,0.006c-5.947,25.626-21.224,44.279-43.731,53.633l12.057,0.169 c36.073,0.476,62.866-16.788,74.653-46.792C304.666,50.147,294.494,30.401,277.342,30.401z"}),l.a.createElement("path",{fill:"#11159A",d:"M248.394,49.114c-0.068-4.4-0.527-8.411-1.322-12.048c-0.023,0.002-0.045,0.006-0.068,0.008 c-3.46-18.081-19.68-27.903-19.68-27.903s-10.071-7.466-29.091-7.466c-13.848,0-46.946,8.647-44.84,52.173 c0.016,0.589,0.039,1.183,0.079,1.788c0.195,2.982-0.057,22.965,19.704,26.415c15.914,2.779,23.11-7.347,23.504-19.51 c0.153-4.714,0.102-7.964,0.003-8.596c0-3.773,0.183-10.357,5.357-10.909c5.52-0.588,5.513,4.643,5.529,10.528 c0,0.026,0.201,9.389-4.208,17.606c-2.736,6.024-8.522,13.264-20.684,14.941c-1.538,0.212-3.063,0.317-4.566,0.317 c-7.826,0-15.114-2.846-21.089-8.248c-6.693-5.798-10.85-14.827-11.294-26.075c-0.734-18.616-14.351-21.889-20.897-21.889 c-12.089,0-20.709,9.81-20.618,26.107c-0.009,6.895,1.549,14.965,5.082,23.959c11.787,30.004,38.58,47.268,74.653,46.792 c5.252-0.069,10.266-0.77,15.017-2.027c0.731-0.239,1.454-0.489,2.171-0.747c20.192-7.271,34.721-22.071,42.042-42.703 c0.213-0.709,0.414-1.421,0.602-2.137c0.056-0.215,0.119-0.429,0.173-0.645c2.292-7.209,3.754-14.991,4.291-23.18 c0.113-1.721,0.162-3.382,0.165-4.997c0.001-0.246,0.001-0.491,0.001-0.735C248.404,49.659,248.399,49.386,248.394,49.114z"})),l.a.createElement("g",null,l.a.createElement("path",{fill:"#11159A",d:"M4.063,152.53h8.117c0.753,0,1.506,0,2.26,0c0.753,0,1.336,0.172,1.747,0.514 c0.547,0.411,0.907,0.976,1.079,1.695c0.17,0.719,0.36,1.456,0.565,2.209c0.273,0.96,0.514,1.936,0.719,2.928 c0.205,0.994,0.445,1.97,0.719,2.928c0.136,0.344,0.205,0.634,0.205,0.873c0,0.241,0.034,0.531,0.103,0.873 c0.273,0.96,0.496,1.919,0.668,2.877c0.17,0.96,0.393,1.919,0.668,2.877c0.273,0.755,0.478,1.541,0.617,2.363 c0.136,0.822,0.308,1.644,0.514,2.466c0.684,2.26,1.249,4.556,1.695,6.884c0.444,2.329,0.976,4.624,1.593,6.884 c0.342,1.027,0.599,2.055,0.77,3.082c0.17,1.027,0.393,2.055,0.668,3.082c0.273,0.822,0.478,1.525,0.617,2.106 c0.136,0.583,0.478,1.148,1.027,1.695c0.136,0,0.221,0.018,0.257,0.051c0.034,0.035,0.119,0.018,0.257-0.051 c0.411-0.136,0.719-0.514,0.925-1.13c0.206-0.617,0.376-1.13,0.514-1.541c0.273-0.889,0.496-1.798,0.668-2.723 c0.17-0.925,0.427-1.832,0.77-2.723c0.068-0.342,0.137-0.668,0.206-0.976c0.067-0.308,0.136-0.632,0.205-0.976 c0.342-0.89,0.599-1.798,0.77-2.723c0.17-0.925,0.393-1.832,0.668-2.723c0.068-0.273,0.137-0.547,0.205-0.822 c0.068-0.273,0.137-0.581,0.206-0.924c0.205-0.617,0.375-1.249,0.514-1.901c0.136-0.65,0.308-1.284,0.514-1.901 c0.136-0.548,0.205-0.958,0.205-1.233c0.136-0.478,0.273-0.958,0.411-1.438c0.137-0.478,0.273-0.958,0.411-1.438 c0.616-1.917,1.13-3.853,1.541-5.805c0.411-1.952,0.89-3.886,1.439-5.805c0.342-0.958,0.599-1.917,0.77-2.877 c0.17-0.958,0.393-1.917,0.668-2.877c0.273-0.753,0.514-1.454,0.719-2.106c0.205-0.65,0.684-1.146,1.438-1.49 c0.478-0.136,1.027-0.205,1.644-0.205c0.617,0,1.233,0,1.849,0h6.062c0.753,0,1.454,0.018,2.106,0.052 c0.65,0.035,1.215,0.223,1.695,0.565c0.478,0.344,0.787,0.84,0.925,1.49c0.136,0.652,0.308,1.319,0.514,2.003 c0.342,1.233,0.65,2.484,0.925,3.75c0.273,1.268,0.581,2.517,0.925,3.75c0.273,0.891,0.496,1.782,0.668,2.671 c0.17,0.891,0.393,1.782,0.668,2.671c0.206,0.755,0.376,1.49,0.514,2.209c0.136,0.719,0.342,1.456,0.617,2.209 c0.753,2.535,1.403,5.121,1.952,7.757c0.548,2.638,1.198,5.224,1.952,7.757c0.342,1.027,0.599,2.09,0.771,3.185 c0.17,1.097,0.427,2.124,0.77,3.082c0.205,0.685,0.376,1.319,0.514,1.901c0.136,0.583,0.375,1.114,0.719,1.593 c0.068,0.069,0.239,0.172,0.514,0.308h0.411c0.068-0.068,0.137-0.119,0.205-0.154c0.068-0.034,0.137-0.085,0.206-0.154 c0.411-0.548,0.684-1.146,0.822-1.798c0.137-0.65,0.308-1.318,0.514-2.004c0.342-1.095,0.599-2.191,0.77-3.288 c0.17-1.095,0.427-2.191,0.77-3.288c0.89-3.013,1.627-6.027,2.209-9.042c0.581-3.014,1.318-6.027,2.209-9.042 c0.342-1.095,0.599-2.192,0.77-3.288c0.17-1.095,0.427-2.191,0.77-3.288c0.137-0.342,0.206-0.633,0.206-0.873 c0-0.239,0.034-0.53,0.103-0.874c0.273-0.958,0.514-1.917,0.719-2.877c0.205-0.958,0.444-1.917,0.719-2.877 c0.137-0.547,0.291-1.164,0.462-1.849c0.17-0.684,0.462-1.198,0.874-1.541c0.478-0.342,1.061-0.548,1.746-0.617 c0.684-0.067,1.472-0.103,2.363-0.103h5.857c0.684,0,1.352,0,2.003,0c0.65,0,1.215,0.103,1.695,0.308 c0.684,0.344,0.992,0.925,0.925,1.746c-0.069,0.822-0.205,1.577-0.411,2.261c-0.549,1.576-1.011,3.236-1.387,4.983 c-0.377,1.747-0.84,3.442-1.387,5.086c-0.138,0.411-0.241,0.806-0.308,1.181c-0.069,0.378-0.172,0.771-0.308,1.182 c-0.344,1.166-0.668,2.381-0.976,3.647c-0.308,1.268-0.634,2.484-0.976,3.647c-0.138,0.344-0.223,0.686-0.257,1.028 c-0.035,0.343-0.121,0.685-0.257,1.027c-0.344,0.891-0.601,1.782-0.77,2.671c-0.172,0.891-0.429,1.782-0.771,2.671 c-0.138,0.344-0.205,0.652-0.205,0.925c0,0.274-0.069,0.583-0.205,0.925c-0.344,0.96-0.601,1.936-0.77,2.928 c-0.172,0.994-0.429,1.97-0.771,2.928c-0.205,0.685-0.395,1.353-0.565,2.003c-0.172,0.652-0.36,1.32-0.565,2.004 c-0.822,2.604-1.525,5.24-2.106,7.911c-0.583,2.671-1.32,5.275-2.209,7.809c-0.138,0.48-0.241,0.924-0.308,1.336 c-0.069,0.411-0.172,0.857-0.308,1.336c-0.344,1.166-0.668,2.381-0.976,3.647c-0.308,1.268-0.668,2.484-1.079,3.648 c-0.274,0.891-0.514,1.713-0.719,2.466c-0.206,0.754-0.719,1.302-1.541,1.644c-0.48,0.138-1.063,0.205-1.747,0.205 c-0.685,0-1.336,0-1.952,0h-6.678c-0.755,0-1.474-0.016-2.158-0.052c-0.685-0.034-1.268-0.222-1.746-0.565 c-0.411-0.342-0.686-0.77-0.822-1.284c-0.138-0.514-0.308-1.043-0.514-1.593c-0.411-1.369-0.754-2.723-1.027-4.058 c-0.274-1.336-0.583-2.688-0.925-4.059c-0.274-0.822-0.497-1.66-0.668-2.517c-0.172-0.856-0.395-1.729-0.668-2.62 c-0.205-0.617-0.36-1.249-0.462-1.901c-0.103-0.65-0.257-1.284-0.462-1.901c-0.549-1.644-0.994-3.339-1.336-5.086 c-0.344-1.747-0.755-3.476-1.233-5.189c-0.343-0.958-0.6-1.883-0.77-2.774c-0.172-0.889-0.395-1.814-0.668-2.774 c-0.344-1.164-0.617-2.294-0.822-3.39c-0.205-1.095-0.48-2.192-0.822-3.288c-0.205-0.548-0.36-1.061-0.462-1.541 c-0.103-0.478-0.292-0.925-0.565-1.336c-0.138-0.137-0.344-0.273-0.616-0.411c-0.206-0.067-0.344-0.067-0.411,0 c-0.48,0.138-0.822,0.549-1.027,1.233c-0.205,0.685-0.377,1.268-0.514,1.746c-0.48,1.439-0.857,2.928-1.13,4.469 c-0.274,1.541-0.617,3.066-1.027,4.572c-0.891,3.082-1.662,6.165-2.312,9.247c-0.652,3.082-1.423,6.165-2.312,9.247 c-0.344,1.097-0.601,2.175-0.77,3.237c-0.172,1.063-0.429,2.142-0.771,3.236c-0.344,0.96-0.6,1.919-0.77,2.877 c-0.172,0.96-0.395,1.919-0.668,2.877c-0.205,0.686-0.395,1.302-0.565,1.849c-0.172,0.549-0.531,0.994-1.079,1.336 c-0.48,0.275-1.063,0.411-1.746,0.411c-0.686,0-1.405,0-2.158,0h-8.939c-0.48-0.136-0.891-0.221-1.233-0.257 c-0.344-0.034-0.685-0.188-1.027-0.462c-0.549-0.342-0.891-0.907-1.027-1.695c-0.138-0.787-0.308-1.557-0.514-2.312 c-0.344-1.095-0.668-2.225-0.976-3.39c-0.308-1.164-0.634-2.328-0.976-3.494c-0.138-0.411-0.223-0.804-0.257-1.181 c-0.035-0.376-0.121-0.804-0.257-1.284c-0.411-1.164-0.754-2.328-1.027-3.494c-0.274-1.164-0.583-2.328-0.925-3.493 c-0.138-0.273-0.205-0.53-0.205-0.771c0-0.239-0.035-0.496-0.103-0.77c-0.344-0.958-0.634-1.968-0.874-3.031 c-0.241-1.061-0.531-2.106-0.873-3.134c-0.069-0.205-0.103-0.411-0.103-0.617c0-0.205-0.069-0.444-0.205-0.719 c-0.344-0.959-0.601-1.935-0.771-2.928c-0.172-0.992-0.428-2.003-0.77-3.031c-0.205-0.684-0.395-1.387-0.565-2.106 c-0.172-0.719-0.36-1.421-0.565-2.106c-0.205-0.684-0.377-1.369-0.514-2.055c-0.138-0.684-0.343-1.369-0.616-2.055 c-0.617-1.986-1.148-4.007-1.593-6.062c-0.446-2.055-0.976-4.074-1.593-6.062c-0.138-0.411-0.241-0.822-0.308-1.233 c-0.069-0.411-0.172-0.822-0.308-1.233c-0.48-1.439-0.891-2.911-1.233-4.418c-0.344-1.506-0.755-3.013-1.233-4.521 c-0.138-0.478-0.326-1.198-0.565-2.158c-0.241-0.958-0.189-1.678,0.154-2.158c0.342-0.411,0.822-0.684,1.439-0.822 c0.136-0.067,0.273-0.085,0.411-0.051C3.789,152.617,3.925,152.599,4.063,152.53z"}),l.a.createElement("path",{fill:"#11159A",d:"M145.543,198.766c0.136,0.549,0.136,1.166,0,1.849c-0.138,0.685-0.377,1.13-0.719,1.336 c-0.344,0.275-0.84,0.462-1.49,0.565c-0.652,0.103-1.371,0.172-2.158,0.205c-0.788,0.035-1.576,0.035-2.363,0 c-0.788-0.034-1.49-0.051-2.106-0.051h-25.07c-0.48,0-0.942,0-1.387,0c-0.446,0-0.84,0.069-1.182,0.205 c-0.549,0.274-0.891,0.549-1.027,0.822c-0.138,0.138-0.274,0.395-0.411,0.77c-0.138,0.377-0.172,0.737-0.103,1.079 c0.136,0.411,0.221,0.806,0.257,1.181c0.034,0.377,0.119,0.771,0.257,1.182c0.548,1.644,1.215,2.997,2.004,4.059 c0.787,1.063,1.866,2.003,3.237,2.825c0.547,0.344,1.112,0.565,1.695,0.668c0.581,0.103,1.182,0.257,1.798,0.462 c0.548,0.138,1.3,0.241,2.26,0.308c0.959,0.069,1.78,0.035,2.466-0.103h0.925c0.684-0.136,1.318-0.291,1.901-0.462 c0.581-0.17,1.146-0.36,1.696-0.565c0.684-0.342,1.454-0.787,2.311-1.336c0.856-0.548,1.49-1.095,1.901-1.644 c0.342-0.478,0.701-0.941,1.079-1.387c0.376-0.444,0.838-0.77,1.387-0.976c0.684-0.342,1.557-0.496,2.62-0.462 c1.061,0.035,2.037,0.051,2.928,0.051c0.411,0,0.838-0.016,1.284-0.051c0.444-0.034,0.838,0.018,1.181,0.154h1.027 c0.684,0.138,1.164,0.308,1.439,0.514c0.273,0.138,0.427,0.446,0.462,0.925c0.034,0.48-0.018,0.891-0.154,1.233 c-0.344,0.96-0.719,1.816-1.13,2.569c-0.411,0.754-0.891,1.507-1.439,2.26c-1.507,2.26-3.22,4.076-5.137,5.446 c-1.918,1.371-4.315,2.535-7.192,3.493c-0.754,0.273-1.507,0.445-2.26,0.514c-0.755,0.067-1.541,0.205-2.363,0.411 c-0.274,0.068-0.565,0.085-0.873,0.052c-0.308-0.035-0.601-0.018-0.873,0.051h-1.13c-0.344,0.136-0.737,0.188-1.182,0.154 c-0.446-0.035-0.84-0.087-1.182-0.154c-0.549-0.069-1.027-0.069-1.438,0c-0.411,0.068-0.857,0.034-1.336-0.103 c-0.344-0.138-0.719-0.205-1.13-0.205c-0.411,0-0.788-0.069-1.13-0.205c-0.754-0.138-1.507-0.292-2.26-0.462 c-0.755-0.17-1.439-0.427-2.055-0.771c-0.755-0.273-1.456-0.53-2.106-0.77c-0.652-0.239-1.25-0.53-1.798-0.873 c-2.193-1.37-4.145-2.962-5.857-4.778c-1.713-1.814-3.118-3.92-4.212-6.319c-0.344-0.753-0.617-1.524-0.822-2.312 c-0.205-0.787-0.48-1.593-0.822-2.415c-0.069-0.273-0.103-0.53-0.103-0.77c0-0.239-0.035-0.496-0.103-0.771 c-0.274-0.822-0.446-1.711-0.514-2.671c-0.069-0.959-0.138-1.917-0.205-2.877c0-0.342-0.018-0.719-0.051-1.13 c-0.035-0.411-0.018-0.787,0.051-1.131v-1.233l0.308-2.466c0.273-1.164,0.514-2.294,0.719-3.391 c0.205-1.095,0.514-2.122,0.925-3.082c2.944-7.123,7.945-12.158,15.001-15.104c0.958-0.411,1.935-0.701,2.928-0.873 c0.992-0.17,2.037-0.394,3.133-0.668c0.548-0.067,1.061-0.103,1.541-0.103c0.478,0,0.992-0.034,1.541-0.103 c3.494-0.067,6.489,0.326,8.99,1.182c2.5,0.857,4.742,1.97,6.73,3.339c0.617,0.411,1.233,0.873,1.849,1.387 c0.617,0.514,1.164,1.045,1.644,1.593c0.205,0.344,0.478,0.616,0.822,0.822c0.547,0.754,1.061,1.525,1.541,2.311 c0.478,0.788,0.992,1.593,1.541,2.415c0.342,0.617,0.632,1.251,0.873,1.901c0.239,0.652,0.496,1.353,0.77,2.106 c0.342,0.891,0.617,1.816,0.822,2.774c0.205,0.96,0.445,1.919,0.719,2.877c0.136,0.549,0.188,1.148,0.154,1.798 c-0.035,0.652,0.016,1.251,0.154,1.798V198.766z M130.132,192.704c0.478-0.684,0.53-1.524,0.154-2.517 c-0.377-0.992-0.668-1.729-0.873-2.209c-0.96-1.849-2.227-3.27-3.802-4.264c-1.576-0.992-3.768-1.523-6.576-1.593 c-0.205,0.138-0.446,0.172-0.719,0.103c-0.274-0.067-0.514-0.067-0.719,0c-0.344,0.138-0.719,0.223-1.13,0.257 c-0.411,0.035-0.788,0.12-1.13,0.257c-3.015,0.96-5.24,2.843-6.679,5.651c-0.138,0.274-0.292,0.634-0.462,1.079 c-0.172,0.446-0.292,0.891-0.36,1.336c-0.069,0.446-0.051,0.874,0.052,1.284c0.103,0.411,0.324,0.754,0.668,1.027 c0.548,0.344,1.3,0.514,2.26,0.514c0.958,0,1.883,0,2.774,0h11.405c0.959,0,1.968-0.016,3.031-0.052 C129.086,193.543,129.788,193.253,130.132,192.704z"}),l.a.createElement("path",{fill:"#93AD3C",d:"M185.202,150.681c6.918-0.136,12.705,1.097,17.364,3.699c4.657,2.604,8.287,5.959,10.891,10.069 c1.3,2.193,2.363,4.726,3.185,7.603c0.137,0.48,0.239,1.079,0.308,1.798c0.067,0.719-0.069,1.251-0.411,1.593 c-0.344,0.48-0.822,0.755-1.438,0.822c-0.617,0.069-1.302,0.103-2.055,0.103h-6.679c-0.754,0-1.456-0.016-2.106-0.051 c-0.652-0.034-1.181-0.221-1.593-0.565c-0.616-0.411-1.045-0.992-1.284-1.747c-0.241-0.753-0.531-1.472-0.874-2.158 c-0.616-0.958-1.268-1.866-1.952-2.723c-0.685-0.856-1.507-1.626-2.466-2.311c-1.302-0.89-2.877-1.609-4.726-2.158 c-0.344-0.136-0.719-0.221-1.13-0.257c-0.411-0.034-0.788-0.085-1.13-0.154c-0.206-0.067-0.514-0.103-0.925-0.103 c-0.822-0.136-1.849-0.154-3.082-0.052c-1.233,0.103-2.193,0.223-2.877,0.36c-0.48,0.138-0.925,0.241-1.336,0.308 c-0.411,0.069-0.822,0.205-1.233,0.411c-1.782,0.754-3.374,1.644-4.778,2.672c-1.405,1.027-2.62,2.329-3.647,3.904 c-0.96,1.302-1.713,2.707-2.261,4.212c-0.549,1.507-1.063,3.118-1.541,4.829c-0.205,0.754-0.344,1.507-0.411,2.26 c-0.069,0.754-0.171,1.507-0.308,2.26v1.336c-0.138,0.411-0.189,0.857-0.154,1.336c0.034,0.48,0.051,0.96,0.051,1.438 c0,1.166,0.034,2.33,0.103,3.494c0.068,1.166,0.239,2.26,0.514,3.288c0.067,0.274,0.103,0.514,0.103,0.719 c0,0.205,0.034,0.446,0.103,0.719c0.958,3.493,2.26,6.457,3.904,8.887c1.644,2.432,4.007,4.333,7.089,5.702 c0.617,0.274,1.249,0.514,1.901,0.719c0.65,0.205,1.352,0.411,2.106,0.617c0.411,0.069,0.804,0.087,1.182,0.051 c0.375-0.034,0.735,0.018,1.079,0.154c0.411,0.138,0.925,0.205,1.541,0.205c0.616,0,1.164-0.067,1.644-0.205 c0.342-0.068,0.65-0.085,0.925-0.052c0.273,0.035,0.548,0.018,0.822-0.051c0.342-0.068,0.633-0.085,0.874-0.052 c0.239,0.035,0.496-0.016,0.77-0.154c0.958-0.273,1.849-0.53,2.671-0.771c0.822-0.239,1.609-0.565,2.363-0.976 c1.711-1.027,3.082-2.209,4.11-3.545c1.027-1.336,1.917-2.996,2.671-4.983c0.273-0.753,0.462-1.644,0.565-2.671 c0.103-1.027-0.223-1.747-0.976-2.158c-0.411-0.273-0.942-0.411-1.593-0.411c-0.652,0-1.284,0-1.901,0h-5.24 c-0.411,0-0.857,0.018-1.336,0.052c-0.48,0.035-0.925-0.016-1.336-0.154h-0.925c-0.274-0.068-0.549-0.119-0.822-0.154 c-0.275-0.034-0.514-0.119-0.719-0.257c-0.344-0.273-0.583-0.684-0.719-1.233c-0.138-0.548-0.223-1.146-0.257-1.798 c-0.035-0.65-0.035-1.336,0-2.055c0.034-0.719,0.051-1.387,0.051-2.004c0-0.547,0.016-1.061,0.052-1.541 c0.034-0.478,0.119-0.89,0.257-1.233c0.273-0.617,0.65-1.028,1.13-1.233c0.411-0.136,0.753-0.205,1.027-0.205h1.13 c0.205-0.067,0.462-0.103,0.77-0.103c0.308,0,0.599,0,0.874,0h2.98h15.001c1.164,0,2.482,0,3.956,0 c1.472,0,2.448,0.308,2.928,0.925c0.342,0.549,0.514,1.268,0.514,2.158c0,0.891,0,1.747,0,2.569v10.685v16.85 c0,1.302-0.018,2.553-0.051,3.75c-0.035,1.199-0.498,1.97-1.387,2.311c-0.411,0.206-0.909,0.308-1.49,0.308 c-0.583,0-1.148,0-1.695,0c-1.371,0-2.553-0.052-3.545-0.154c-0.994-0.103-1.696-0.632-2.106-1.593 c-0.274-0.617-0.48-1.3-0.617-2.055c-0.138-0.753-0.377-1.403-0.719-1.952c-0.138-0.136-0.308-0.291-0.514-0.462 c-0.205-0.17-0.48-0.221-0.822-0.154c-0.549,0.138-1.011,0.411-1.387,0.822c-0.377,0.411-0.77,0.788-1.181,1.13 c-0.686,0.549-1.336,1.045-1.952,1.49c-0.617,0.446-1.302,0.909-2.055,1.387c-0.891,0.549-1.833,0.994-2.826,1.336 c-0.994,0.344-2.003,0.684-3.031,1.027c-0.344,0.136-0.703,0.222-1.079,0.257c-0.377,0.034-0.737,0.085-1.079,0.154 c-0.549,0.136-1.131,0.205-1.747,0.205c-0.617,0-1.233,0.068-1.849,0.205c-0.275,0.068-0.668,0.085-1.182,0.052 c-0.514-0.035-0.873-0.087-1.079-0.154h-1.027c-0.344-0.069-0.668-0.103-0.976-0.103s-0.634-0.035-0.976-0.103h-0.822 c-0.549-0.138-1.097-0.241-1.644-0.308c-0.549-0.069-1.097-0.172-1.644-0.308c-0.48-0.138-0.96-0.257-1.439-0.36 c-0.48-0.103-0.96-0.221-1.438-0.36c-2.055-0.617-3.871-1.336-5.446-2.158c-4.042-2.123-7.33-4.64-9.864-7.552 c-2.535-2.911-4.692-6.525-6.473-10.84c-0.411-0.958-0.719-1.917-0.925-2.877c-0.205-0.958-0.48-1.917-0.822-2.877 c-0.069-0.342-0.103-0.632-0.103-0.873c0-0.239-0.069-0.53-0.205-0.873c-0.138-0.478-0.206-0.976-0.206-1.49 c0-0.514-0.069-1.044-0.205-1.593c-0.138-0.342-0.189-0.632-0.154-0.873c0.034-0.239,0.016-0.53-0.052-0.873v-1.849 c-0.138-0.342-0.205-0.874-0.205-1.593c0-0.719,0.067-1.249,0.205-1.593v-1.131c0.068-0.411,0.085-0.838,0.052-1.284 c-0.035-0.445,0.016-0.838,0.154-1.182c0.137-0.617,0.205-1.233,0.205-1.849c0-0.616,0.068-1.197,0.206-1.747 c0.205-0.753,0.375-1.49,0.514-2.209c0.137-0.719,0.342-1.455,0.617-2.209c0.342-0.958,0.668-1.901,0.976-2.825 c0.308-0.925,0.668-1.832,1.079-2.723c0.411-0.958,0.889-1.901,1.438-2.825c0.548-0.925,1.095-1.798,1.644-2.62 c2.055-2.877,4.383-5.325,6.987-7.346c2.602-2.019,5.754-3.715,9.453-5.086c0.753-0.342,1.575-0.599,2.466-0.77 c0.889-0.17,1.78-0.36,2.671-0.565c0.342-0.136,0.701-0.205,1.079-0.205c0.376,0,0.735-0.068,1.079-0.205 c0.478-0.137,0.941-0.17,1.387-0.103c0.444,0.069,0.907,0.035,1.387-0.103c0.136-0.067,0.324-0.067,0.565,0 C184.876,150.75,185.064,150.75,185.202,150.681z"}),l.a.createElement("path",{fill:"#93AD3C",d:"M258.253,171.435c0.753,0,1.421,0.069,2.003,0.206c0.581,0.138,1.044,0.446,1.387,0.924 c0.411,0.549,0.617,1.49,0.617,2.826c0,1.336,0,2.517,0,3.545c0,0.754,0.016,1.61,0.051,2.568c0.034,0.96-0.087,1.713-0.359,2.261 c-0.275,0.48-0.668,0.788-1.182,0.925c-0.514,0.138-1.097,0.205-1.747,0.205c-0.652,0-1.336-0.034-2.055-0.103 c-0.719-0.068-1.387-0.034-2.003,0.103c-0.48,0.138-0.96,0.223-1.439,0.257c-0.48,0.035-0.925,0.12-1.336,0.257 c-1.097,0.344-2.193,0.84-3.288,1.49c-1.096,0.652-1.952,1.387-2.568,2.209c-0.344,0.549-0.703,1.114-1.079,1.695 c-0.377,0.583-0.737,1.182-1.079,1.798c-0.205,0.549-0.395,1.114-0.565,1.695c-0.172,0.583-0.326,1.148-0.462,1.695 c-0.138,0.48-0.206,0.976-0.206,1.49s-0.069,1.011-0.205,1.49c-0.069,0.274-0.087,0.531-0.051,0.77 c0.034,0.241,0.016,0.462-0.052,0.668v1.644c-0.138,0.48-0.172,1.011-0.103,1.593c0.068,0.583,0.103,1.148,0.103,1.695v6.576 v8.733c0,0.891-0.035,1.713-0.103,2.466c-0.069,0.755-0.275,1.371-0.617,1.849c-0.138,0.205-0.359,0.36-0.668,0.462 c-0.308,0.103-0.634,0.189-0.976,0.257h-0.514c-0.344,0.069-0.719,0.103-1.13,0.103c-0.411,0-0.788,0-1.13,0h-4.418 c-0.411-0.067-0.84-0.103-1.284-0.103c-0.446,0-0.909,0-1.387,0c-0.344-0.136-0.686-0.257-1.027-0.36 c-0.344-0.103-0.583-0.324-0.719-0.668c-0.274-0.342-0.429-0.838-0.462-1.49c-0.035-0.65-0.051-1.318-0.051-2.004v-6.987v-28.974 V177.6c0-0.684,0-1.352,0-2.004c0-0.65,0.136-1.182,0.411-1.593c0.342-0.548,0.856-0.889,1.541-1.027 c0.684-0.136,1.506-0.205,2.466-0.205h5.24c0.822,0,1.541,0.051,2.158,0.154c0.617,0.103,1.095,0.429,1.439,0.976 c0.205,0.344,0.324,0.822,0.36,1.438c0.034,0.617,0.085,1.217,0.154,1.798c0.068,0.583,0.188,1.114,0.36,1.593 c0.17,0.48,0.496,0.719,0.976,0.719c0.136-0.136,0.273-0.205,0.411-0.205c0.137,0,0.273-0.067,0.411-0.205 c0.411-0.342,0.77-0.735,1.079-1.182c0.308-0.444,0.702-0.838,1.182-1.181c0.273-0.206,0.514-0.427,0.719-0.668 c0.205-0.239,0.444-0.462,0.719-0.668c0.617-0.411,1.249-0.822,1.901-1.233c0.65-0.411,1.318-0.787,2.003-1.13 c0.684-0.273,1.387-0.514,2.106-0.719c0.719-0.205,1.454-0.411,2.209-0.616c0.205-0.068,0.599-0.085,1.181-0.052 C257.755,171.625,258.115,171.573,258.253,171.435z"}),l.a.createElement("path",{fill:"#93AD3C",d:"M317.229,197.122c0.136,0.411,0.205,0.994,0.205,1.747c0,0.754-0.069,1.336-0.205,1.747v1.027 c-0.138,0.549-0.189,1.097-0.154,1.644c0.034,0.549-0.018,1.097-0.154,1.644c-0.138,0.48-0.241,0.925-0.309,1.336 c-0.069,0.411-0.138,0.857-0.205,1.336c-0.275,0.754-0.514,1.525-0.719,2.312c-0.205,0.788-0.48,1.525-0.822,2.209 c-1.439,3.288-3.323,5.959-5.651,8.014c-2.329,2.055-5.137,3.768-8.425,5.137c-0.822,0.344-1.662,0.599-2.517,0.771 c-0.857,0.17-1.73,0.36-2.62,0.565c-0.344,0.136-0.719,0.205-1.13,0.205c-0.411,0-0.788,0.034-1.13,0.103 c-0.205,0-0.429,0.016-0.668,0.052c-0.241,0.034-0.462,0.051-0.668,0.051c-0.344,0.068-0.891,0.119-1.644,0.154 c-0.754,0.034-1.336-0.018-1.747-0.154h-1.027c-0.344-0.069-0.703-0.087-1.079-0.051c-0.378,0.034-0.737-0.018-1.079-0.154 c-0.275-0.069-0.531-0.103-0.77-0.103c-0.241,0-0.531-0.035-0.874-0.103c-0.685-0.205-1.371-0.377-2.055-0.514 c-0.685-0.138-1.336-0.342-1.952-0.616c-0.822-0.273-1.593-0.548-2.312-0.822c-0.719-0.273-1.456-0.617-2.209-1.027 c-2.398-1.439-4.453-3.116-6.165-5.035c-1.713-1.917-3.151-4.212-4.316-6.884c-0.344-0.617-0.6-1.267-0.771-1.952 c-0.172-0.684-0.36-1.403-0.565-2.158c-0.138-0.342-0.205-0.65-0.205-0.925c0-0.273-0.069-0.581-0.206-0.925 c-0.138-0.548-0.205-1.113-0.205-1.695c0-0.581-0.069-1.146-0.205-1.696c-0.069-0.342-0.103-0.65-0.103-0.925 c0-0.273,0-0.581,0-0.924c-0.138-0.411-0.189-0.992-0.154-1.747c0.034-0.753,0.119-1.336,0.257-1.747V196.3 c0.068-0.342,0.085-0.701,0.052-1.079c-0.035-0.376,0.016-0.735,0.154-1.079c0.068-0.342,0.103-0.668,0.103-0.976 c0-0.308,0.068-0.633,0.206-0.976c0.273-0.889,0.514-1.762,0.719-2.62c0.205-0.856,0.478-1.695,0.822-2.517 c1.233-2.808,2.705-5.153,4.418-7.038c1.711-1.883,3.801-3.612,6.267-5.188c0.684-0.342,1.403-0.65,2.158-0.925 c0.753-0.273,1.506-0.581,2.26-0.925c0.89-0.342,1.814-0.581,2.774-0.719c0.958-0.136,1.952-0.342,2.98-0.616 c0.548-0.068,1.061-0.103,1.541-0.103c0.478,0,0.958-0.034,1.438-0.103c3.972-0.067,7.414,0.344,10.326,1.233 c2.911,0.891,5.497,2.124,7.757,3.699c0.753,0.549,1.524,1.148,2.312,1.798c0.787,0.652,1.454,1.353,2.004,2.106 c0.547,0.686,1.044,1.371,1.49,2.055c0.444,0.686,0.907,1.405,1.387,2.158c0.478,0.755,0.856,1.559,1.13,2.415 c0.273,0.857,0.581,1.764,0.925,2.723c0.205,0.549,0.375,1.13,0.514,1.746c0.136,0.617,0.273,1.233,0.411,1.849 c0.067,0.275,0.103,0.549,0.103,0.822c0,0.274,0.034,0.549,0.103,0.822c0.136,0.344,0.17,0.719,0.103,1.13 C317.057,196.402,317.091,196.78,317.229,197.122z M302.845,200.821c0.068-0.342,0.103-0.838,0.103-1.49 c0-0.65-0.035-1.146-0.103-1.49v-0.822c-0.138-0.342-0.205-0.719-0.205-1.13c0-0.411-0.035-0.787-0.103-1.13 c0-0.273-0.035-0.478-0.103-0.617c-0.138-0.548-0.257-1.113-0.36-1.695c-0.103-0.581-0.257-1.146-0.462-1.695 c-0.754-1.78-1.644-3.304-2.671-4.572c-1.027-1.267-2.398-2.277-4.11-3.031c-0.411-0.136-0.822-0.257-1.233-0.36 c-0.411-0.103-0.857-0.221-1.336-0.36c-0.549-0.136-1.13-0.188-1.747-0.154c-0.617,0.035-1.233,0.051-1.849,0.051 c-0.205,0.138-0.446,0.19-0.719,0.154c-0.275-0.034-0.514-0.016-0.719,0.051c-0.48,0.138-0.943,0.257-1.387,0.36 c-0.446,0.103-0.84,0.257-1.182,0.462c-1.713,0.755-3.1,1.833-4.161,3.237c-1.063,1.405-1.901,3.031-2.517,4.88 c-0.205,0.686-0.359,1.405-0.462,2.158c-0.103,0.754-0.223,1.507-0.359,2.26c-0.069,0.344-0.103,0.685-0.103,1.027 c0,0.344,0,0.685,0,1.027c-0.138,0.48-0.19,1.199-0.154,2.158c0.034,0.96,0.119,1.679,0.257,2.158v0.925 c0.136,0.549,0.239,1.079,0.308,1.593c0.067,0.514,0.17,1.045,0.308,1.593c0.684,2.055,1.421,3.716,2.209,4.983 c0.787,1.268,2.037,2.415,3.75,3.442c0.478,0.344,1.01,0.617,1.593,0.822c0.581,0.205,1.182,0.377,1.798,0.514 c0.273,0.069,0.514,0.087,0.719,0.052c0.206-0.034,0.445-0.016,0.719,0.051c0.273,0.069,0.565,0.121,0.873,0.154 c0.308,0.035,0.599,0.018,0.874-0.052h0.822c0.547-0.136,1.095-0.239,1.644-0.308c0.548-0.067,1.061-0.205,1.541-0.411 c1.78-0.684,3.219-1.609,4.315-2.774c1.095-1.164,2.02-2.602,2.774-4.315c0.273-0.684,0.478-1.37,0.617-2.055 c0.136-0.684,0.308-1.403,0.514-2.158c0.068-0.273,0.103-0.53,0.103-0.77c0-0.239,0.034-0.496,0.103-0.77c0-0.342,0-0.668,0-0.976 C302.742,201.488,302.776,201.164,302.845,200.821z"}),l.a.createElement("path",{fill:"#93AD3C",d:"M323.29,172.669h7.603c0.753,0,1.472,0.018,2.158,0.051c0.684,0.035,1.233,0.189,1.644,0.462 c0.411,0.274,0.735,0.634,0.976,1.079c0.239,0.446,0.427,0.96,0.565,1.541c0.136,0.583,0.273,1.166,0.411,1.747 c0.137,0.583,0.273,1.114,0.411,1.593c0.822,2.398,1.523,4.865,2.106,7.398c0.581,2.535,1.249,5.035,2.004,7.501 c0.136,0.411,0.239,0.806,0.308,1.182c0.068,0.377,0.17,0.77,0.308,1.181c0.342,1.027,0.632,2.073,0.873,3.134 c0.239,1.063,0.53,2.106,0.873,3.134c0.137,0.48,0.309,1.027,0.514,1.644c0.205,0.617,0.581,0.994,1.13,1.131 c0.342,0.069,0.617-0.119,0.822-0.565c0.205-0.444,0.376-0.77,0.514-0.976c0.342-0.958,0.599-1.952,0.771-2.98 c0.17-1.027,0.427-2.019,0.771-2.98c0.205-0.617,0.376-1.249,0.514-1.901c0.137-0.65,0.273-1.284,0.411-1.901 c0.478-1.644,0.907-3.321,1.284-5.035c0.375-1.711,0.804-3.39,1.284-5.035c0.206-0.753,0.376-1.472,0.514-2.158 c0.136-0.684,0.308-1.37,0.514-2.055c0.273-1.027,0.548-2.26,0.822-3.699c0.273-1.438,0.787-2.431,1.541-2.98 c0.478-0.273,1.027-0.427,1.644-0.462c0.617-0.034,1.3-0.051,2.055-0.051h5.343c0.822,0,1.575,0.035,2.26,0.103 c0.684,0.069,1.267,0.275,1.747,0.616c0.342,0.274,0.581,0.634,0.719,1.079c0.136,0.446,0.273,0.873,0.411,1.284 c0.273,0.96,0.496,1.901,0.668,2.825c0.17,0.925,0.427,1.867,0.77,2.825c0.822,2.671,1.524,5.412,2.106,8.22 c0.581,2.809,1.249,5.548,2.004,8.22c0.273,0.822,0.496,1.662,0.668,2.517c0.17,0.857,0.393,1.662,0.668,2.415 c0.273,0.96,0.548,1.679,0.822,2.158c0.067,0.069,0.154,0.12,0.257,0.154c0.103,0.035,0.188,0.12,0.257,0.257 c0.617-0.067,1.01-0.291,1.182-0.668c0.17-0.376,0.36-0.804,0.565-1.284c0.411-1.095,0.753-2.242,1.027-3.442 c0.273-1.197,0.581-2.379,0.925-3.545c0.205-0.684,0.376-1.352,0.514-2.003c0.136-0.65,0.308-1.318,0.514-2.004 c0.753-2.122,1.37-4.28,1.849-6.473c0.478-2.192,1.061-4.315,1.747-6.37c0.342-0.958,0.65-2.106,0.925-3.442 c0.273-1.336,0.719-2.243,1.336-2.723c0.478-0.342,1.027-0.547,1.644-0.616c0.616-0.068,1.3-0.103,2.055-0.103h5.445 c0.548,0,1.13,0,1.747,0c0.617,0,1.13,0.069,1.541,0.205c0.684,0.275,1.061,0.719,1.131,1.336 c0.067,0.617-0.035,1.302-0.308,2.055c-0.48,1.576-0.942,3.1-1.387,4.572c-0.446,1.474-0.942,2.998-1.49,4.572 c-1.644,5.001-3.236,10.018-4.778,15.052c-1.541,5.035-3.134,10.053-4.778,15.052c-0.344,1.097-0.668,2.175-0.976,3.236 c-0.308,1.063-0.634,2.142-0.976,3.237c-0.275,0.755-0.531,1.423-0.771,2.004c-0.241,0.583-0.703,1.011-1.387,1.284 c-0.686,0.344-1.577,0.48-2.671,0.411c-1.097-0.068-2.09-0.103-2.98-0.103c-1.096,0-2.466,0.018-4.11,0.051 c-1.644,0.035-2.81-0.119-3.494-0.462c-0.411-0.342-0.719-0.735-0.925-1.181c-0.205-0.445-0.377-0.941-0.514-1.49 c-0.344-0.958-0.601-1.901-0.77-2.826c-0.172-0.925-0.395-1.865-0.668-2.825c-0.205-0.617-0.377-1.249-0.514-1.901 c-0.138-0.65-0.344-1.318-0.617-2.004c-0.616-1.986-1.148-4.041-1.593-6.165c-0.446-2.123-1.011-4.212-1.695-6.267 c-0.411-1.233-0.754-2.533-1.027-3.904c-0.275-1.37-0.822-2.466-1.644-3.288c-0.685,0-1.114,0.257-1.284,0.771 c-0.171,0.514-0.359,1.045-0.565,1.593c-0.48,1.371-0.84,2.74-1.079,4.11c-0.241,1.371-0.601,2.74-1.079,4.11 c-0.754,2.466-1.387,4.983-1.901,7.552c-0.514,2.569-1.148,5.086-1.901,7.552c-0.138,0.48-0.275,1.027-0.411,1.644 c-0.138,0.616-0.275,1.199-0.411,1.747c-0.138,0.549-0.326,1.063-0.565,1.541c-0.241,0.48-0.531,0.857-0.874,1.13 c-0.344,0.274-0.822,0.429-1.438,0.462c-0.617,0.035-1.302,0.052-2.055,0.052h-5.446h-2.98c-0.411-0.068-0.788-0.137-1.13-0.205 c-0.344-0.068-0.652-0.17-0.925-0.308c-0.48-0.342-0.822-0.822-1.027-1.438c-0.205-0.617-0.411-1.233-0.617-1.849 c-0.343-1.027-0.685-2.089-1.027-3.185c-0.344-1.095-0.685-2.192-1.027-3.288c-1.713-5.068-3.339-10.136-4.88-15.206 c-1.541-5.068-3.134-10.136-4.778-15.206c-0.48-1.37-0.925-2.705-1.336-4.007c-0.411-1.3-0.822-2.602-1.233-3.904 c-0.138-0.411-0.292-0.976-0.462-1.695c-0.172-0.719-0.12-1.284,0.154-1.696c0.205-0.273,0.65-0.547,1.336-0.822 C322.88,172.771,323.152,172.737,323.29,172.669z"})))))},b=(a.p,a(481),function(e){var t=e.confirmPwdChange,a=e.cancelPwdChange,r=e.show,i=e.name,s=e.oldpwd,m=e.username,d=e.setCpwdsuccessmsg,f=e.accesstoken,h=e.setData,g=e.data,b={oldpassword:"",newpassword:"",cnewpassword:""},y=Object(o.useState)(b),v=Object(n.a)(y,2),E=v[0],N=v[1],O=Object(o.useState)({oldpassword:"",newpassword:"",cnewpassword:""}),j=Object(n.a)(O,2),x=j[0],w=j[1],S=r?"modal chngpwdmodal display-block":"modal chngpwdmodal display-none",C=Object(o.useCallback)(function(e){e&&r&&""===e.value&&e.focus()}),D=function(e){N(Object(c.a)({},E,Object(u.a)({},e.target.name,e.target.value)))},k=function(e){var t=e.target.name,a=e.target.value,r=RegExp("^(?=.{8,})(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[@#$%^&+=!]).*$");switch(t){case"oldpassword":w(Object(c.a)({},x,Object(u.a)({},t,a!==s?"Old password is incorrect. Please check.":"")));break;case"newpassword":w(Object(c.a)({},x,Object(u.a)({},t,r.test(a)?"":l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"must contain at least 1 lowercase"),l.a.createElement("p",null,"at least 1 uppercase"),l.a.createElement("p",null,"at least 1 numeric"),l.a.createElement("p",null,"at least one symbol @#$%^&+="),l.a.createElement("p",null," at least 8 characters long")))));break;case"cnewpassword":w(Object(c.a)({},x,Object(u.a)({},t,E.newpassword!==E.cnewpassword?"Passwords don't match":"")))}};return l.a.createElement("div",{className:S},l.a.createElement("section",{id:"chpwdmodal",className:"modal-main"},l.a.createElement("h1",null,"Welcome ",i,"!"),l.a.createElement("h2",null,"Seems like its the first time you are logging in."),l.a.createElement("p",null,"Please take a minute to change your Password"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),Object.values(x).every(function(e){return""===e})&&(p.a.post("/changepassword",{oldpassword:E.oldpassword,newpassword:E.newpassword,username:m},{headers:{Authorization:"Bearer ".concat(f)}}).then(function(e){d(l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,e.data.msg.split(".")[0]),l.a.createElement("p",null,e.data.msg.split(".")[1])))}).catch(function(e){h(Object(c.a)({},g,{errorMessage:"You took to long. Please login again with original password."}))}),t(),N(b))},className:"changePwdModalForm"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Old Password"),l.a.createElement("input",{required:!0,type:"password",name:"oldpassword",id:"oldpassword",value:E.oldpassword,onChange:D,onBlur:k,ref:C})),l.a.createElement("span",{className:"cpwdinputerror"},x.oldpassword),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"New Password"),l.a.createElement("input",{required:!0,type:"password",name:"newpassword",id:"newpassword",value:E.newpassword,onChange:D,onBlur:k})),l.a.createElement("span",{className:"cpwdinputerror"},x.newpassword),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:""},"Confirm Password"),l.a.createElement("input",{required:!0,type:"password",name:"cnewpassword",id:"cnewpassword",value:E.cnewpassword,onChange:D,onBlur:k})),l.a.createElement("span",{className:"cpwdinputerror"},x.cnewpassword),l.a.createElement("button",{type:"submit",className:"confirmbutton"},"Confirm"),l.a.createElement("button",{className:"cancelbutton",onClick:a},"Cancel"))))}),y=function(){var e=Object(o.useContext)(Pe).dispatch,t=Object(o.useState)(),a=Object(n.a)(t,2),r=a[0],i=a[1],s=Object(o.useState)(),m=Object(n.a)(s,2),d=m[0],f=m[1],h=Object(o.useState)(),y=Object(n.a)(h,2),v=y[0],E=y[1],N=Object(o.useState)(),O=Object(n.a)(N,2),j=O[0],x=O[1],w=Object(o.useState)({username:"",password:""}),S=Object(n.a)(w,2),C=S[0],D=S[1],k=Object(o.useState)(!1),F=Object(n.a)(k,2),I=F[0],L=F[1],B=function(e){e.preventDefault(),D(Object(c.a)({},C,Object(u.a)({},e.target.name,e.target.value)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(b,{show:I,confirmPwdChange:function(e){L(!1)},cancelPwdChange:function(e){e.preventDefault(),L(!1)},name:r,oldpwd:d,username:C.username,setCpwdsuccessmsg:E,accesstoken:j,setData:D,data:C}),l.a.createElement("div",{className:"Login"},l.a.createElement("form",{className:"LoginForm",onSubmit:function(t){t.preventDefault(),p.a.post("/login",{username:C.username,password:C.password}).then(function(t){"y"===t.data.firstlogin?(i(t.data.user),L(!0),f(C.password),x(t.data.accesstoken)):(D(Object(c.a)({},C,{errorMessage:t.data.message})),t.data.success&&e({type:"LOGIN",payload:t.data}))}).catch(function(e){console.log(e),D(Object(c.a)({},C,{password:"",errorMessage:e.message||e.statusText}))}),D(Object(c.a)({},C,{password:"",errorMessage:""})),E("")}},l.a.createElement("h2",null," Login "),l.a.createElement(g,{className:"Logo"}),l.a.createElement("input",{autoFocus:!0,type:"text",placeholder:"username",name:"username",id:"username",value:C.username,onChange:B}),l.a.createElement("input",{type:"password",placeholder:"password",name:"password",id:"password",value:C.password,onChange:B}),l.a.createElement("button",null,"Login"),C.errorMessage&&l.a.createElement("span",{className:"errormessage"},C.errorMessage),l.a.createElement("span",{className:"successmessage"},v))))},v=(a(313),a(483),a(267));a(524);function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var N=function(e){return l.a.createElement("svg",E({viewBox:"0 0 193.75 125.4086"},e),f||(f=l.a.createElement("defs",null)),h||(h=l.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},l.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},l.a.createElement("g",{id:"Layer_2-2","data-name":"Layer 2"},l.a.createElement("g",{id:"Layer_1-2-2","data-name":"Layer 1-2"},l.a.createElement("path",{className:"cls-1",d:"M173.13,28.696c-6.5459,0-20.163,3.273-20.897,21.889-.3259,8.282-2.662,15.368-6.543,20.845l-.003.006c-5.947,25.626-21.224,44.279-43.731,53.633l12.057.169c36.073.476,62.866-16.788,74.653-46.792S190.2817,28.696,173.13,28.696Z"}),l.a.createElement("path",{className:"cls-1",d:"M144.1817,47.409a60.8054,60.8054,0,0,0-1.322-12.048c-.023.002-.045.006-.068.008-3.46-18.081-19.68-27.903-19.68-27.903S113.0407,0,94.0207,0c-13.848,0-46.946,8.647-44.84,52.173.016.589.039,1.183.079,1.788.195,2.982-.057,22.965,19.704,26.415,15.914,2.779,23.11-7.347,23.504-19.51a85.874,85.874,0,0,0,.003-8.596c0-3.773.183-10.357,5.357-10.909,5.52-.588,5.513,4.643,5.529,10.528a40.0458,40.0458,0,0,1-4.208,17.606c-2.736,6.024-8.522,13.264-20.684,14.941a33.45,33.45,0,0,1-4.566.317A31.0279,31.0279,0,0,1,52.81,76.505C46.117,70.707,41.96,61.678,41.516,50.43c-.734-18.616-14.351-21.889-20.897-21.889C8.53,28.541-.09,38.351.0007,54.648c-.009,6.895,1.549,14.965,5.082,23.959,11.787,30.004,38.58,47.268,74.653,46.792a61.7314,61.7314,0,0,0,15.017-2.027q1.0965-.3585,2.171-.747c20.192-7.271,34.721-22.071,42.042-42.703q.3195-1.0635.602-2.137c.056-.215.119-.429.173-.645a97.6,97.6,0,0,0,4.291-23.18c.113-1.721.162-3.382.165-4.997q.0015-.369.001-.735Q144.1887,47.817,144.1817,47.409Z"})))))))},O=(a.p,function(){var e=l.a.useContext(Pe),t=e.state,a=e.dispatch;return l.a.createElement("div",{id:"navigation"},l.a.createElement("h2",null,"Dashboard"),t.isAuthenticated?l.a.createElement(l.a.Fragment,null," ",l.a.createElement("div",{className:"welcomemsg"},l.a.createElement(N,{className:"Logoheader"}),l.a.createElement("p",{className:"userwelcome"},"Welcome ",t.user)),l.a.createElement("button",{className:"logoutButton",onClick:function(e){a({type:"LOGOUT"})}},"Logout")):"")}),j=a(272),x=(a(539),a(541),function(){var e=JSON.parse(localStorage.getItem("role"));return l.a.createElement("div",{id:"navbarcontainer"},l.a.createElement("ul",{id:"navbar"},1===e||2===e?l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/management"},"Management")):"",1===e||2===e||3===e||5===e?l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/analysis/actualvsbudget"},"Analysis")):"",1===e||2===e||3===e||5===e?l.a.createElement("li",null,l.a.createElement(i.b,{exact:!0,activeClassName:"navbaractive",to:"/"},"Positions")):"",1===e||2===e||3===e||5===e?l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/sales"},"Sales")):"",1===e||2===e||3===e||4===e||5===e?l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/logistics/inprogress"},"Logistics")):"",6===e?l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/sales"},"Sales")):"",1===e||2===e||3===e||5==e?l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/budget/budget2024"},"Budget")):"",1===e?l.a.createElement("li",null,l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/admin"},"Admin")):""))}),w=a(47),S=(a(110),a(111),a(43),a(117),a(291),a(629),a(293),a(256),a(619),a(294),a(620),a(621),a(632)),C=a.n(S),D=(a(748),{width:"800px"}),k=function(){Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var e={name:"Total",children:[]},t=Object(o.useState)({data:{},criteria:"quantity"}),a=Object(n.a)(t,2),r=a[0],i=a[1];return Object(o.useEffect)(function(){p.a.post("/sunburstdata").then(function(t){var a=t.data.groupBy("productGroup"),n=Object.keys(a),o=0;n.forEach(function(t){e.children.push({name:t,children:[]});var r=a[t].groupBy("prodCatName"),n=Object.keys(r),c=0;n.forEach(function(t){e.children[o].children.push({name:t,children:[]});var a=r[t].groupBy("abbreviation");Object.keys(a).forEach(function(t){e.children[o].children[c].children.push({name:t,quantity:a[t][0].quantity,profit:a[t][0].profit})}),c++}),o++}),console.log(e),i(Object(c.a)({},r,{data:e}))})},[]),l.a.createElement("div",{className:"sunburst"},l.a.createElement(C.a,{data:r.data,scale:"exponential",tooltipContent:l.a.createElement("div",{class:"sunburstTooltip",style:"position:absolute; color:black; z-index:10; background: #FFF; padding: 2px; text-align: center;"}),tooltip:!0,tooltipPosition:"right",keyId:"Sunburst",width:.9*window.innerWidth,value:r.criteria,height:.9*window.innerHeight,styles:D}))},F=a(633),I=a(634),L=a(98),B=function(){return l.a.createElement("div",{className:"mgmtcontainer"},l.a.createElement("div",{className:"mgmtnav"},l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/management/keyfigures",exact:!0},"Key Figures"),l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/management/sunburstcharts",exact:!0},"Sun Burst Charts"),l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/management/profitability",exact:!0},"Profitability")),l.a.createElement("div",{className:"gridcontainer mgmtgridcontainer"},l.a.createElement(s.a,{active:!0,path:"/management/keyfigures"},l.a.createElement(F.a,null)),l.a.createElement(s.a,{path:"/management/sunburstcharts"},l.a.createElement(k,null)),l.a.createElement(L.b,null,l.a.createElement(s.a,{path:"/management/profitability"},l.a.createElement(I.a,null)))))},P=a(7),T=(a(759),function(e){var t=e.tCode,a=e.tName,r=e.tLastName,n=e.active,c=e.role,o=e.email,i=e.findtrader;return l.a.createElement("div",{style:{backgroundColor:"y"===n?"":"#D3D3D3"},className:"tradercard",name:t,onClick:function(){return i(t)}},l.a.createElement("h4",null,a," ",r),l.a.createElement("p",null,"y"===n?"Active":"n"===n?"Inactive":""),l.a.createElement("p",{className:"traderemail"},o),l.a.createElement("p",{className:"traderrole"},c))});function q(){q=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return w()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var $=function(e){var t=e.searchcode,a=e.setSelectedTrader,r=e.addNewTrader,c=e.updateList,i=e.setShowedit,s=e.setShowadd,u=Object(o.useState)([]),m=Object(n.a)(u,2),d=m[0],f=m[1];Object(o.useEffect)(Object(P.a)(q().mark(function e(){return q().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(t).then(function(e){f(e.data)});case 2:case"end":return e.stop()}},e)})),[c]);var h=function(e){a(d.find(function(t){return t.tCode===e})),i(!0),s(!1)};return l.a.createElement("div",{className:"traderlistresults"},l.a.createElement(T,{tName:"Add New",findtrader:r}),d.map(function(e){return l.a.createElement(T,{tName:e.tName,tLastName:e.tLastName,active:e.active,role:e.role,email:e.userName,tCode:e.tCode,findtrader:h,key:"trad"+e.traderID})}))},Q=function(e){var t=e.companyName,a=e.companyCode,r=e.country,n=e.findCustomer,c=e.city,o=e.street;e.website;return l.a.createElement("div",{className:"customercard",onClick:function(){return n(a)}},l.a.createElement("div",{className:"customercardtopline"},l.a.createElement("h4",null,a," "),l.a.createElement("p",{className:"customercountry"}," ",r)),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"Name:"),l.a.createElement("p",{className:"addressfield"},t)),l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"Street:"),l.a.createElement("p",{className:"addressfield"},o)),l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"City:"),l.a.createElement("p",{className:"addressfield"},c))))};function A(){A=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return w()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var G=function(e){var t=e.searchcode,a=e.updateList,r=e.setShowaddcustomer,c=e.setShoweditcustomer,i=e.setSelectedcustomer,s=e.addNewCustomer,u=Object(o.useState)([]),m=Object(n.a)(u,2),d=m[0],f=m[1],h=Object(o.useState)([]),g=Object(n.a)(h,2),b=g[0],y=g[1],v=Object(o.useState)(),E=Object(n.a)(v,2),N=E[0],O=E[1];Object(o.useEffect)(Object(P.a)(A().mark(function e(){return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(t).then(function(e){f(e.data),y(e.data)});case 2:case"end":return e.stop()}},e)})),[a]);Object(o.useEffect)(function(){if(d)if(N&&""!==N){var e=d.filter(function(e){if(N&&""!==N)return e.companyName.toLowerCase().includes(N.toLowerCase())||e.companyCode.toLowerCase().includes(N.toLowerCase())||e.country.toLowerCase().includes(N.toLowerCase())});y(e)}else y(d)},[N]);var j=function(e){i(b.find(function(t){return t.companyCode===e})),c(!0),r(!1)};return l.a.createElement("div",null,l.a.createElement("input",{className:"adminsearchbar",placeholder:"...Search",onChange:function(e){O(e.target.value)}}),l.a.createElement("div",{className:"customerlistresults"},l.a.createElement(Q,{companyCode:"Add New",findCustomer:s}),b.map(function(e){return l.a.createElement(Q,{companyName:e.companyName,companyCode:e.companyCode,country:e.country,street:e.streetAddress,city:e.city,website:e.website,key:"cust"+e.customerID,findCustomer:j})})))},_=function(e){var t=e.companyName,a=e.companyCode,r=e.country,n=e.findProducer,c=e.city,o=e.street;e.website;return l.a.createElement("div",{className:"customercard",onClick:function(){return n(a)}},l.a.createElement("div",{className:"customercardtopline"},l.a.createElement("h4",null,a," "),l.a.createElement("p",{className:"producercountry"}," ",r)),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"Name:"),l.a.createElement("p",{className:"addressfield"},t)),l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"Street:"),l.a.createElement("p",{className:"addressfield"},o)),l.a.createElement("li",null,l.a.createElement("p",{className:"addresslabel"},"City:"),l.a.createElement("p",{className:"addressfield"},c))))};function R(){R=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return w()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var K=function(e){var t=e.searchcode,a=e.updateList,r=e.setShowaddproducer,c=e.setShoweditproducer,i=e.setSelectedproducer,s=e.addNewProducer,u=Object(o.useState)([]),m=Object(n.a)(u,2),d=m[0],f=m[1],h=Object(o.useState)([]),g=Object(n.a)(h,2),b=g[0],y=g[1],v=Object(o.useState)(),E=Object(n.a)(v,2),N=E[0],O=E[1];Object(o.useEffect)(Object(P.a)(R().mark(function e(){return R().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(t).then(function(e){f(e.data),y(e.data)});case 2:case"end":return e.stop()}},e)})),[a]);Object(o.useEffect)(function(){if(d)if(N&&""!==N){var e=d.filter(function(e){if(N&&""!==N)return e.companyName.toLowerCase().includes(N.toLowerCase())||e.companyCode.toLowerCase().includes(N.toLowerCase())||e.country.toLowerCase().includes(N.toLowerCase())});y(e)}else y(d)},[N]);var j=function(e){i(b.find(function(t){return t.companyCode===e})),c(!0),r(!1)};return l.a.createElement("div",null,l.a.createElement("input",{className:"adminsearchbar",placeholder:"...Search",onChange:function(e){O(e.target.value)}}),l.a.createElement("div",{className:"customerlistresults"},l.a.createElement(_,{companyCode:"Add New",findProducer:s}),b.map(function(e){return l.a.createElement(_,{companyName:e.companyName,companyCode:e.companyCode,country:e.country,street:e.streetAddress,city:e.city,website:e.website,key:"prod"+e.producerID,findProducer:j})})))},M=function(e){var t=e.group,a=e.data,r=e.handleProductClick,n=e.handleProdGroupClick,o=(e.setSelectedprodgroupforced,e.setSelectedprodgroupforcedID,e.setNewprodname),i=e.newprodname;return l.a.createElement("div",{className:"prodgroupcard"},l.a.createElement("h4",{onClick:function(e){e.preventDefault(),n(t)}},t),Object.entries(a).map(function(e,n){return[l.a.createElement("p",{className:"productlink",onClick:function(e){e.preventDefault(),r(Object.keys(a)[n]),p.a.post("/forceselectgroup",{group:t}).then(function(e){o(Object(c.a)({},i,{prodgroupID:e.data[0].prodgroupID,productGroup:t}))})}},Object.keys(a)[n])]}))};function Y(){Y=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return w()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var V=function(e){var t=e.searchcode,a=e.handleProductClick,r=e.addNewProdGroup,c=e.addNewProdCatName,i=e.updateList,s=e.updateList2,u=e.handleProdGroupClick,m=e.setSelectedprodgroupforced,d=e.setSelectedprodgroupforcedID,f=e.setNewprodname,h=e.newprodname,g=Object(o.useState)([]),b=Object(n.a)(g,2),y=(b[0],b[1]);Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var v=Object(o.useState)({}),E=Object(n.a)(v,2),N=E[0],O=E[1],j="",x={};return Object(o.useEffect)(Object(P.a)(Y().mark(function e(){return Y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(t).then(function(e){y(e.data);var t=e.data.groupBy("productGroup");O(t),console.log("called this too")});case 2:case"end":return e.stop()}},e)})),[i,s]),l.a.createElement("div",{className:"prodgroupcards"},Object.entries(N).map(function(e,t){return j=Object.keys(N)[t],x=N[j].groupBy("prodCatName"),[l.a.createElement(M,{group:j,data:x,handleProductClick:a,handleProdGroupClick:u,setSelectedprodgroupforced:m,setSelectedprodgroupforcedID:d,setNewprodname:f,newprodname:h})]}),l.a.createElement("div",{className:"prodgroupcard prodaddcard"},l.a.createElement("p",{onClick:r},"+ Add New Group"),l.a.createElement("p",{onClick:c},"+ Add New ProdCatName")))};function W(){W=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return w()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var U=function(e){var t=e.selectedgprods,a=e.selectedprodgroup,r=e.handleProdNameClick,c=e.updateList,i=e.addNewProdName,s=e.addNewProdDetail,u=Object(o.useState)(),m=Object(n.a)(u,2),d=m[0],f=m[1],h=Object(o.useState)(),g=Object(n.a)(h,2),b=g[0],y=g[1],v=Object(o.useState)(),E=Object(n.a)(v,2),N=E[0],O=E[1],j=Object(o.useState)(),x=Object(n.a)(j,2),w=x[0],S=x[1];Object(o.useEffect)(function(){p.a.post("/selectgroupedprods",{selectedprod:a}).then(function(e){f(e.data)})},[c,t]),Object(o.useEffect)(Object(P.a)(W().mark(function e(){return W().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b&&console.log(b);case 1:case"end":return e.stop()}},e)})),[b,c,t]);return l.a.createElement("div",{className:"selectedprods"},l.a.createElement("div",{className:"selectedprodgroup"},l.a.createElement("h4",null,a),d?d.map(function(e){return l.a.createElement("p",{name:e.prodNameID,className:"prodnameadmin",onClick:function(t){var a;t.preventDefault(),y(e.prodNameID),O(e.abbreviation),r(e.prodNameID),a=e.prodNameID,p.a.post("/selectproducts",{prodnameID:a}).then(function(e){S(e.data)})}},"PG: ",e.prodGroupID," - ",e.abbreviation)}):"",a?l.a.createElement("p",{style:{marginTop:"1rem"},onClick:i},"+ Add New Prodname"):""),l.a.createElement("div",{className:"selectedproddetails"},N?[l.a.createElement("h4",null," ",N," "),l.a.createElement("h4",null," productID - supplier")]:"",w?w.map(function(e){return l.a.createElement("p",null,e.productID," - ",e.companyCode)}):"",a?l.a.createElement("p",{style:{marginTop:"1rem"},onClick:s},"+ Add New Product"):""))},H=a(51);function z(){z=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return w()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var J=function(){var e=Object(o.useState)(!0),t=Object(n.a)(e,2),a=(t[0],t[1]),r=Object(o.useState)("/traderslist"),i=Object(n.a)(r,2),s=i[0],m=i[1],d=Object(o.useState)(),f=Object(n.a)(d,2),h=f[0],g=f[1],b=Object(o.useState)(),y=Object(n.a)(b,2),v=y[0],E=y[1],N=Object(o.useState)(),O=Object(n.a)(N,2),j=O[0],x=O[1],w=Object(o.useState)([]),S=Object(n.a)(w,2),C=S[0],D=S[1],k=Object(o.useState)(),F=Object(n.a)(k,2),I=F[0],L=F[1],B=Object(o.useState)(),T=Object(n.a)(B,2),q=T[0],Q=T[1],A=Object(o.useState)(),_=Object(n.a)(A,2),R=_[0],M=_[1],Y=Object(o.useState)([]),W=Object(n.a)(Y,2),J=W[0],Z=W[1],X=Object(o.useState)({role:"3"}),ee=Object(n.a)(X,2),te=ee[0],ae=ee[1],re=Object(o.useState)({}),ne=Object(n.a)(re,2),ce=ne[0],oe=ne[1],le=Object(o.useState)({}),ie=Object(n.a)(le,2),se=ie[0],ue=ie[1],me=Object(o.useState)(),pe=Object(n.a)(me,2),de=pe[0],fe=pe[1],he=Object(o.useState)(),ge=Object(n.a)(he,2),be=ge[0],ye=ge[1],ve=Object(o.useState)(),Ee=Object(n.a)(ve,2),Ne=Ee[0],Oe=Ee[1],je=Object(o.useState)(),xe=Object(n.a)(je,2),we=xe[0],Se=xe[1],Ce=Object(o.useState)(),De=Object(n.a)(Ce,2),ke=De[0],Fe=De[1],Ie=Object(o.useState)(),Le=Object(n.a)(Ie,2),Be=Le[0],Pe=Le[1],Te=Object(o.useState)(!0),qe=Object(n.a)(Te,2),$e=qe[0],Qe=qe[1],Ae=Object(o.useState)(!0),Ge=Object(n.a)(Ae,2),_e=Ge[0],Re=Ge[1],Ke=Object(o.useState)(!0),Me=Object(n.a)(Ke,2),Ye=Me[0],Ve=Me[1],We=Object(o.useState)(!0),Ue=Object(n.a)(We,2),He=Ue[0],ze=Ue[1],Je=Object(o.useState)(!0),Ze=Object(n.a)(Je,2),Xe=Ze[0],et=Ze[1],tt=Object(o.useState)(!0),at=Object(n.a)(tt,2),rt=at[0],nt=at[1],ct=Object(o.useState)(!1),ot=Object(n.a)(ct,2),lt=ot[0],it=ot[1],st=Object(o.useState)(!1),ut=Object(n.a)(st,2),mt=ut[0],pt=ut[1],dt=Object(o.useState)(!1),ft=Object(n.a)(dt,2),ht=ft[0],gt=ft[1],bt=Object(o.useState)(!1),yt=Object(n.a)(bt,2),vt=yt[0],Et=yt[1],Nt=Object(o.useState)(!1),Ot=Object(n.a)(Nt,2),jt=Ot[0],xt=Ot[1],wt=Object(o.useState)(!1),St=Object(n.a)(wt,2),Ct=St[0],Dt=St[1],kt=Object(o.useState)(!1),Ft=Object(n.a)(kt,2),It=Ft[0],Lt=Ft[1],Bt=Object(o.useState)(!1),Pt=Object(n.a)(Bt,2),Tt=Pt[0],qt=Pt[1],$t=Object(o.useState)(!1),Qt=Object(n.a)($t,2),At=Qt[0],Gt=Qt[1],_t=Object(o.useState)(!1),Rt=Object(n.a)(_t,2),Kt=Rt[0],Mt=Rt[1],Yt=Object(o.useState)(!1),Vt=Object(n.a)(Yt,2),Wt=Vt[0],Ut=Vt[1],Ht=Object(o.useState)(!1),zt=Object(n.a)(Ht,2),Jt=zt[0],Zt=zt[1],Xt=Object(o.useState)(!1),ea=Object(n.a)(Xt,2),ta=(ea[0],ea[1]),aa=Object(o.useState)(!1),ra=Object(n.a)(aa,2),na=ra[0],ca=ra[1],oa=Object(o.useState)(""),la=Object(n.a)(oa,2),ia=(la[0],la[1]),sa=Object(o.useState)(""),ua=Object(n.a)(sa,2),ma=(ua[0],ua[1]),pa=mt?"editTrader displayblock":"displaynone",da=lt?"editTrader displayblock":"editTrader displaynone",fa=ht?"editCustomer displayblock":"editCustomer displaynone",ha=vt?"editCustomer displayblock":"editCustomer displaynone",ga=jt?"editCustomer displayblock":"editCustomer displaynone",ba=Ct?"editCustomer displayblock":"editCustomer displaynone",ya=It?"editProdGroup displayblock":"displaynone",va=Tt?"editProdGroup displayblock":"displaynone",Ea=Kt?"editProdCatName displayblock":"displaynone",Na=At?"editProdCatName displayblock":"displaynone",Oa=Wt?"editProdName displayblock":"displaynone",ja=Jt?"editProdName displayblock":"displaynone",xa=na?"editProdName displayblock":"displaynone",wa=function(e){e.preventDefault(),m("/"+e.target.name),pt(!1),it(!1),gt(!1),Et(!1),xt(!1),Dt(!1),Lt(!1),qt(!1),Mt(!1),Gt(!1),Ut(!1),Zt(!1)},Sa=function(e,t){e.preventDefault(),E(Object(c.a)({},v,Object(u.a)({},t,e.target.value)))},Ca=function(e,t){e.preventDefault(),x(Object(c.a)({},j,Object(u.a)({},t,e.target.value)))},Da=function(e,t){Q(Object(c.a)({},q,Object(u.a)({},t,e.target.value)))},ka=function(e,t){Z(Object(c.a)({},J,Object(u.a)({},t,e.target.value)))},Fa=Object(o.useState)([]),Ia=Object(n.a)(Fa,2),La=Ia[0],Ba=Ia[1];Object(o.useEffect)(function(){p.a.post("/roles").then(function(e){Ba(e.data)})},[]);var Pa=function(){var e=Object(P.a)(z().mark(function e(t){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/updateprodname",{selectedprodname:J}).then(function(e){console.log(e.data.message),et(!Xe)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ta=function(e){e.preventDefault(),ae(Object(c.a)({},te,Object(u.a)({},e.target.name,e.target.value)))},qa={companyCode:"",companyName:"",country:"",city:"",streetAddress:"",website:""},$a={companyCode:"",companyName:"",country:"",city:"",streetAddress:"",website:""},Qa=function(e){e.preventDefault(),oe(Object(c.a)({},ce,Object(u.a)({},e.target.name,e.target.value)))},Aa=function(e){e.preventDefault(),ue(Object(c.a)({},se,Object(u.a)({},e.target.name,e.target.value)))},Ga=function(e){e.preventDefault(),Oe(Object(c.a)({},Ne,Object(u.a)({},e.target.name,e.target.value)))},_a=function(){var e=Object(P.a)(z().mark(function e(t){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/addNewCustomer",{newcustomer:ce}).then(function(e){Re(!_e)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ra=function(){var e=Object(P.a)(z().mark(function e(t){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/addNewProducer",{newproducer:se}).then(function(e){Ve(!Ye)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ka=function(){var e=Object(P.a)(z().mark(function e(t){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/addNewProdGroup",{newprodgroup:de}).then(function(e){ze(!He),fe("")});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ma=function(){var e=Object(P.a)(z().mark(function e(t){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/addNewProdCatName",{newprodcatname:be}).then(function(e){ze(!He),ye("")});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ya=function(){var e=Object(P.a)(z().mark(function e(t){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/addnewProdName",{newprodname:Ne}).then(function(e){et(!Xe),Oe("")});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Va=function(){var e=Object(P.a)(z().mark(function e(t){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post("/addnewProduct",{newproddetail:we}).then(function(e){nt(!rt),Se("")});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"adminpage"},l.a.createElement("div",{className:"adminnav"},l.a.createElement("button",{name:"traderslist",onClick:wa},"Traders"),l.a.createElement("button",{name:"customerlist",onClick:wa},"Customers"),l.a.createElement("button",{name:"producerlist",onClick:wa},"Producers"),l.a.createElement("button",{name:"prodnameslist",onClick:wa},"Products")),l.a.createElement("div",{className:"adminresults"},"/traderslist"===s?l.a.createElement($,{searchcode:"/traderslist",setSelectedTrader:g,setShowedit:it,setShowadd:pt,addNewTrader:function(){it(!1),pt(!0)},updateList:$e}):"","/customerlist"===s?l.a.createElement(G,{searchcode:"/customerlist",updateList:_e,setShowaddcustomer:gt,setShoweditcustomer:Et,setSelectedcustomer:E,addNewCustomer:function(){Et(!1),gt(!0)}}):"","/producerlist"===s?l.a.createElement(K,{searchcode:"/producerlist",updateList:Ye,setShowaddproducer:xt,setShoweditproducer:Dt,setSelectedproducer:x,addNewProducer:function(){Dt(!1),xt(!0)}}):"","/prodnameslist"===s?[l.a.createElement(V,{searchcode:"/prodnameslist",handleProductClick:function(e){L(e),Mt(!0),Gt(!1),qt(!1),Lt(!1),Ut(!1),Zt(!1),ca(!1),p.a.post("/selectedprodcatname",{prodcatname:e}).then(function(e){M(e.data[0])}),p.a.post("/selectgroupedprods",{selectedprod:e}).then(function(e){console.log(e),D(e.data)})},addNewProdGroup:function(){Lt(!0),qt(!1),Mt(!1),Gt(!1),Ut(!1),Zt(!1),ta(!1),ca(!1)},addNewProdCatName:function(){Lt(!1),qt(!1),Mt(!1),Gt(!0),Ut(!1),Zt(!1),ta(!1),ca(!1)},updateList:He,updateList2:Xe,handleProdGroupClick:function(e){qt(!0),Lt(!1),Mt(!1),Gt(!1),Ut(!1),Zt(!1),ca(!1),p.a.post("/selectprodgroup",{productGroup:e}).then(function(e){Q(e.data[0]),et(!Xe),Ut(!1)})},setSelectedprodgroupforced:ia,setSelectedprodgroupforcedID:ma,setNewprodname:Oe,newprodname:Ne}),l.a.createElement(U,{selectedgprods:C,selectedprodgroup:I,handleProdNameClick:function(e){qt(!1),Lt(!1),Mt(!1),Gt(!1),Ut(!0),Zt(!1),ca(!1),p.a.post("/selectprodname",{prodnameID:e}).then(function(e){Z(e.data[0])})},updateList:Xe,addNewProdName:function(){Lt(!1),qt(!1),Mt(!1),Gt(!1),Ut(!1),Zt(!0),ta(!1),ca(!1),Oe(Object(c.a)({},Ne,{prodCatNameID:R.prodCatNameID,prodCatName:R.prodCatName}))},addNewProdDetail:function(){Lt(!1),qt(!1),Mt(!1),Gt(!1),Ut(!1),Zt(!1),ta(!1),ca(!0)}})]:""),l.a.createElement("div",{className:"adminedit"},l.a.createElement("form",{className:pa,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/addNewTrader",{newtrader:te}).then(function(e){console.log(e)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add Item"),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"traderID:"),l.a.createElement("input",{placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"tCode:"),l.a.createElement("input",{placeholder:"...Three Letter Code (in CAPS)",name:"tCode",onChange:Ta,required:!0})),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"tName:"),l.a.createElement("input",{placeholder:"...Trader Name",name:"tName",onChange:Ta,required:!0})),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"tLastName:"),l.a.createElement("input",{placeholder:"...Trader Last Name",name:"tLastName",onChange:Ta,required:!0})),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"userName:"),l.a.createElement("input",{placeholder:"...Email (weGrow)",name:"userName",onChange:Ta,required:!0})),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"Active:"),l.a.createElement("input",{name:"active",className:"activeradio",type:"radio",onClick:function(e){return ae(Object(c.a)({},te,{active:"y"}))},required:!0}),l.a.createElement("label",{htmlFor:""},"Yes"),l.a.createElement("input",{name:"active",className:"activeradio",type:"radio",onClick:function(e){return ae(Object(c.a)({},te,{active:"n"}))},required:!0}),l.a.createElement("label",{htmlFor:""},"No")),l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,"Role:"),l.a.createElement("select",{onChange:function(e){return ae(Object(c.a)({},te,{role:e.target.value}))},required:!0},La?La.map(function(e,t){return"sales"===e.role?l.a.createElement("option",{selected:!0,value:t+1},e.role):l.a.createElement("option",{value:t+1},e.role)}):"")),l.a.createElement("button",{type:"submit"},"Add New Trader"))),l.a.createElement("form",{className:da,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/updatetrader",{selectedtrader:h}).then(function(e){Qe(!$e)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Trader Info"),h?Object.keys(h).map(function(e,t){return"traderID"===e?l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:h[e],readOnly:!0})):"active"===e?l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{name:"active",className:"activeradio",type:"radio",checked:"y"===h[e],onClick:function(t){return g(Object(c.a)({},h,Object(u.a)({},e,"y")))}}),l.a.createElement("label",{htmlFor:""},"Yes"),l.a.createElement("input",{name:"active",className:"activeradio",type:"radio",checked:"n"===h[e],onClick:function(t){return g(Object(c.a)({},h,Object(u.a)({},e,"n")))}}),l.a.createElement("label",{htmlFor:""},"No")):"role"===e?l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("select",{onChange:function(t){return g(Object(c.a)({},h,Object(u.a)({},e,t.target.value)))}},La?La.map(function(t,a){return t.role===h[e]?l.a.createElement("option",{selected:!0,value:a+1},t.role):l.a.createElement("option",{value:a+1},t.role)}):"")):l.a.createElement("div",{className:"edittrader-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:h[e],onChange:function(t){return function(e,t){e.preventDefault(),g(Object(c.a)({},h,Object(u.a)({},t,e.target.value)))}(t,e)}}))}):"",l.a.createElement("button",{type:"submit"},"Save Edits"))),l.a.createElement("form",{className:ha,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/updatecustomer",{selectedcustomer:v}).then(function(e){Re(!_e)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Customer Info"),v?Object.keys(v).map(function(e,t){return"customerID"===e?l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:v[e],readOnly:!0})):"companyName"===e||"streetAddress"===e?l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("textarea",{value:v[e],onChange:function(t){return Sa(t,e)},required:!0})):l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:v[e],onChange:function(t){return Sa(t,e)},required:!0}))}):"",l.a.createElement("button",{type:"submit"},"Save Edits"))),l.a.createElement("form",{className:fa,onSubmit:function(e){_a(e),oe(qa)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add New Customer"),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"customerID:"),l.a.createElement("input",{placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyCode:"),l.a.createElement("input",{placeholder:"...short company name",name:"companyCode",onChange:Qa,value:ce.companyCode,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyName:"),l.a.createElement("textarea",{placeholder:"...full company name",name:"companyName",onChange:Qa,value:ce.companyName,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"country:"),l.a.createElement("input",{placeholder:"...country",name:"country",onChange:Qa,value:ce.country,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"city:"),l.a.createElement("input",{placeholder:"...city",name:"city",onChange:Qa,value:ce.city,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"streetAddress:"),l.a.createElement("textarea",{placeholder:"...street address",name:"streetAddress",onChange:Qa,value:ce.streetAddress,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"website:"),l.a.createElement("input",{placeholder:"...website",name:"website",onChange:Qa,value:ce.website,required:!0})),l.a.createElement("button",{type:"submit"},"Add New Customer"))),l.a.createElement("form",{className:ha,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/deleteCustomer",{selectedcustomer:v}).then(function(e){console.log(e),Re(!_e),Fe("")})}(e),Et(!1)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Delete Customer"),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyCode:"),v?l.a.createElement("input",{value:v.companyCode,onChange:Qa,readOnly:!0}):""),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"reType:"),l.a.createElement("input",{value:ke,placeholder:"retype company name to delete",onChange:function(e){e.preventDefault(),Fe(e.target.value)}})),v&&v.companyCode===ke?l.a.createElement("button",{type:"submit"},"Delete Customer"):"")),l.a.createElement("form",{className:ba,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/updateproducer",{selectedproducer:j}).then(function(e){Ve(!Ye)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Producer Info"),j?Object.keys(j).map(function(e,t){return"producerID"===e?l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:j[e],readOnly:!0})):"companyName"===e||"streetAddress"===e?l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("textarea",{value:j[e],onChange:function(t){return Ca(t,e)},required:!0})):l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,e,":"),l.a.createElement("input",{value:j[e],onChange:function(t){return Ca(t,e)},required:!0}))}):"",l.a.createElement("button",{type:"submit"},"Save Edits"))),l.a.createElement("form",{className:ga,onSubmit:function(e){Ra(e),ue($a)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add New Producer"),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"producerID:"),l.a.createElement("input",{placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyCode:"),l.a.createElement("input",{placeholder:"...short company name",name:"companyCode",onChange:Aa,value:se.companyCode,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyName:"),l.a.createElement("textarea",{placeholder:"...full company name",name:"companyName",onChange:Aa,value:se.companyName,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"country:"),l.a.createElement("input",{placeholder:"...country",name:"country",onChange:Aa,value:se.country,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"city:"),l.a.createElement("input",{placeholder:"...city",name:"city",onChange:Aa,value:se.city,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"streetAddress:"),l.a.createElement("textarea",{placeholder:"...street address",name:"streetAddress",onChange:Aa,value:se.streetAddress,required:!0})),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"website:"),l.a.createElement("input",{placeholder:"...website",name:"website",onChange:Aa,value:se.website,required:!0})),l.a.createElement("button",{type:"submit"},"Add New Producer"))),l.a.createElement("form",{className:ba,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/deleteProducer",{selectedproducer:j}).then(function(e){console.log(e),Ve(!Ye),Pe("")})}(e),Dt(!1)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Delete Producer"),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"companyCode:"),j?l.a.createElement("input",{value:j.companyCode,onChange:Aa,readOnly:!0}):""),l.a.createElement("div",{className:"editcustomer-form-group"},l.a.createElement("label",null,"reType:"),l.a.createElement("input",{value:Be,placeholder:"retype company name to delete",onChange:function(e){e.preventDefault(),Pe(e.target.value)}})),j&&j.companyCode===Be?l.a.createElement("button",{type:"submit"},"Delete Producer"):"")),l.a.createElement("form",{className:va,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/updateprodgroup",{selectedprodgroup1:q}).then(function(e){ze(!He)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Product Group"),l.a.createElement("div",{className:"editprodgroup-form-group"},l.a.createElement("label",null,"prodGroupID:"),l.a.createElement("input",{readOnly:!0,type:"text",onChange:function(e){e.preventDefault(),Da(e,"prodGroupID")},value:q?q.prodGroupID:""})),l.a.createElement("div",{className:"editprodgroup-form-group"},l.a.createElement("label",null,"productGroup:"),l.a.createElement("input",{value:q?q.productGroup:"",onChange:function(e){e.preventDefault(),Da(e,"productGroup")},type:"text"})),l.a.createElement("button",{type:"submit"},"Save Edits"))),l.a.createElement("form",{className:ya,onSubmit:function(e){Ka(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add New Product Group:"),l.a.createElement("div",{className:"editprodgroup-form-group"},l.a.createElement("label",null,"prodGroupID:"),l.a.createElement("input",{type:"text",placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"editprodgroup-form-group"},l.a.createElement("label",null,"productGroup:"),l.a.createElement("input",{name:"productGroup",type:"text",placeholder:"...New Prod Group Name",value:de?de.productGroup:"",onChange:function(e){e.preventDefault(),fe(Object(c.a)({},de,Object(u.a)({},e.target.name,e.target.value)))},required:!0})),l.a.createElement("button",{type:"submit"},"Add New Product Group"))),l.a.createElement("form",{className:Ea,onSubmit:function(e){!function(e){e.preventDefault(),p.a.post("/updateprodcatname",{selectedprodcatname:R}).then(function(e){ze(!He)})}(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Product Category Name:"),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodCatNameID:"),l.a.createElement("input",{value:R?R.prodCatNameID:"",readOnly:!0})),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodCatName:"),l.a.createElement("input",{value:R?R.prodCatName:"",onChange:function(e){e.preventDefault(),function(e,t){M(Object(c.a)({},R,Object(u.a)({},t,e.target.value)))}(e,"prodCatName")}})),l.a.createElement("button",{type:"submit"},"Save Edits"))),l.a.createElement("form",{className:Na,onSubmit:function(e){Ma(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add New ProdCatName: "),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodCatNameID:"),l.a.createElement("input",{placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodCatName:"),l.a.createElement("input",{name:"prodCatName",placeholder:"...Type New Product Category Name",onChange:function(e){e.preventDefault(),ye(Object(c.a)({},be,Object(u.a)({},e.target.name,e.target.value)))},value:be?be.prodCatName:""})),l.a.createElement("button",{type:"submit"},"Add New Prod Cat Name"))),l.a.createElement("form",{className:Oa,onSubmit:function(e){Pa(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Edit Product Name: "),l.a.createElement("div",{className:"editprodname-form-group"},l.a.createElement("label",null,"prodNameID:"),l.a.createElement("input",{value:J.prodNameID,readOnly:!0})),l.a.createElement("div",{className:"editprodname-form-group"},l.a.createElement("label",null,"abbreviation:"),l.a.createElement("input",{value:J.abbreviation,required:!0,onChange:function(e){e.preventDefault(),ka(e,"abbreviation")}})),l.a.createElement("div",{className:"editprodname-form-group"},l.a.createElement("label",null,"prodName:"),l.a.createElement("input",{value:J.prodName,required:!0,onChange:function(e){e.preventDefault(),ka(e,"prodName")}})),l.a.createElement("div",{className:"editprodname-form-group"},l.a.createElement("label",null,"prodCatName:"),l.a.createElement("div",{className:"prodnamesearchv"},l.a.createElement(H.a,{searchURL:"/prodcatnameslist",searchName:"prodCatName",searchID:"prodCatNameID",setResetfield:a,value:J?J.prodCatName:"",setProdSupplier:function(e,t){Z(Object(c.a)({},J,{prodCatNameID:e,prodCatName:t}))}}))),l.a.createElement("div",{className:"editprodname-form-group"},l.a.createElement("label",null,"prodGroup:"),l.a.createElement("div",{className:"prodnamesearchv"},l.a.createElement(H.a,{searchURL:"/prodgroups",searchName:"productGroup",searchID:"prodGroupID",setResetfield:a,value:J?J.productGroup:"",setProdSupplier:function(e,t){Z(Object(c.a)({},J,{prodGroupID:e,productGroup:t}))}}))),l.a.createElement("button",{type:"submit"},"Edit Product Name Details"))),l.a.createElement("form",{className:ja,onSubmit:function(e){Ya(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add New Product Name:"),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodNameID:"),l.a.createElement("input",{placeholder:"...Leave Blank",readOnly:!0})),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodGroup:"),l.a.createElement("input",{placeholder:"...Leave Blank",readOnly:!0,value:Ne?Ne.productGroup:""})),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodCatName:"),l.a.createElement("div",{className:"prodnamesearchv"},l.a.createElement(H.a,{searchURL:"/prodcatnameslist",searchName:"prodCatName",searchID:"prodCatNameID",setResetfield:a,value:Ne?Ne.prodCatName:"",setProdSupplier:function(e,t){Oe(Object(c.a)({},Ne,{prodCatNameID:e,prodCatName:t}))}}))),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"prodName:"),l.a.createElement("input",{name:"prodName",placeholder:"...Type New Product Name",onChange:Ga,value:Ne?Ne.prodName:""})),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"abbreviation:"),l.a.createElement("input",{name:"abbreviation",placeholder:"...Type New Product Abbreviation",onChange:Ga,value:Ne?Ne.abbreviation:""})),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"Business Unit:"),l.a.createElement("div",{className:"prodnamesearchv"},l.a.createElement(H.a,{searchURL:"/bunitlist",searchName:"businessUnit",searchID:"BUID",setResetfield:a,value:Ne?Ne.bunit:"",setProdSupplier:function(e,t){Oe(Object(c.a)({},Ne,{BUID:e,bunit:t}))}}))),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"IMO Class:"),l.a.createElement("div",{className:"prodnamesearchv"},l.a.createElement(H.a,{searchURL:"/IMOlist",searchName:"IMO",searchID:"IMOID",setResetfield:a,value:Ne?Ne.IMO:"",setProdSupplier:function(e,t){Oe(Object(c.a)({},Ne,{IMOID:e,IMO:t}))}}))),l.a.createElement("button",{type:"submit"},"Add New Product Name"))),l.a.createElement("form",{className:xa,onSubmit:function(e){Va(e)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Add New Product:"),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"ProdName:"),l.a.createElement("div",{className:"prodnamesearchv"},l.a.createElement(H.a,{searchURL:"/prodnameslist",searchName:"abbreviation",searchID:"prodNameID",setResetfield:a,value:we?we.abbreviation:"",setProdSupplier:function(e,t){Se(Object(c.a)({},we,{prodnameID:e,abbreviation:t}))}}))),l.a.createElement("div",{className:"editprodcatname-form-group"},l.a.createElement("label",null,"Supplier:"),l.a.createElement("div",{className:"prodnamesearchv"},l.a.createElement(H.a,{searchURL:"/producerlist",searchName:"companyCode",searchID:"supplierID",setResetfield:a,value:we?we.companyCode:"",setProdSupplier:function(e,t){Se(Object(c.a)({},we,{supplierID:e,companyCode:t}))}}))),l.a.createElement("button",{type:"submit"},"Add New Product")))))},Z=(a(626),a(639)),X=a(641),ee=function(){var e=JSON.parse(localStorage.getItem("role"));return l.a.createElement("div",{className:"analysiscontainer"},l.a.createElement("div",{className:"analysisnav"},l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/analysis/lyqsales",exact:!0},"Last Year Q Sales"),1===e||2===e||3===e?l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/analysis/actualvsbudget",exact:!0},"Actual vs. Budget"):""),l.a.createElement("div",{className:"gridcontainer analysisgridcontainer"},l.a.createElement(s.a,{path:"/analysis/lyqsales"},l.a.createElement(Z.a,null)),1===e||2===e||3===e?l.a.createElement(s.a,{path:"/analysis/actualvsbudget"},l.a.createElement(X.a,null)):""))},te=(a(764),a(643)),ae=a(645),re=a(75),ne=a(34),ce=(a(774),a(716),a(6)),oe=a.n(ce),le=a(39),ie=a(9),se=a(646),ue=function(e){var t=Object(o.useState)(!1),a=Object(n.a)(t,2),r=a[0],c=a[1];return Object(o.useEffect)(function(){var t=window.matchMedia(e);t.matches!==r&&c(t.matches);var a=function(){return c(t.matches)};return window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}},[r,e]),r},me=function(e){var t,a=e.operation,r=(e.selectedTraffic,e.setReloadops),i=e.reloadops,s=e.timeline,m=e.timelinelength,d=e.timeintervals,f=e.setToggleOpDetail,h=(e.toggleOpDetail,e.socket),g=ue("(max-width:1440px)"),b=Object(o.useContext)(re.a),y=b.updateScores,v=b.setUpdateScores,E=b.setOpToEdit,N=b.opToEdit,O=(b.opsWithNewNotes,b.setOpsWithNewNotes,b.opsWithNewNotes1),j=(b.setOpsWithNewNotes1,Object(o.useState)(oe()())),x=Object(n.a)(j,2),w=(x[0],x[1],Object(o.useState)(oe()().diff(oe()(a.end),"days"))),S=Object(n.a)(w,2),C=(S[0],S[1],Object(o.useState)(oe()().diff(oe()(a.start),"days"))),D=Object(n.a)(C,2),k=(D[0],D[1],Object(o.useState)(!1)),F=Object(n.a)(k,2),I=F[0],L=F[1],B=JSON.parse(localStorage.getItem("WGusercode")),P=JSON.parse(localStorage.getItem("WGuserID")),T=(t={SCCompleteBool:a.SCComplete,SCComplete:null!==a.SCComplete&&0!==a.SCComplete,PCCompleteBool:a.PCComplete,PCComplete:null!==a.PCComplete&&0!==a.PCComplete,bookingCompleteBool:a.bookingComplete,bookingComplete:null!==a.bookingComplete&&0!==a.bookingComplete,bookingnumber:a.bookingnumber,vesselName:a.vesselName,freightCompany:a.freightCompany,incoterms:a.incoterms,pincoterms:a.pincoterms},Object(u.a)(t,"incoterms",a.incoterms),Object(u.a)(t,"ETS",a.ETS?oe()(a.ETS).format("YYYY-MM-DD"):""),Object(u.a)(t,"ETA",a.ETA?oe()(a.ETA).format("YYYY-MM-DD"):""),Object(u.a)(t,"InsComplete",null!==a.InsComplete&&0!==a.InsComplete),Object(u.a)(t,"InsCompleteBool",a.InsComplete),Object(u.a)(t,"InsNumber",a.InsNumber),Object(u.a)(t,"inspection",null!==a.inspection&&0!==a.inspection),Object(u.a)(t,"inspectionBool",a.inspection),Object(u.a)(t,"inspectionCompany",a.inspectionCompany),t),q=Object(o.useState)(T),$=Object(n.a)(q,2),Q=$[0],A=$[1];function G(e){return null!=e&&"object"===typeof e}var _=function(e){L(!1),function e(t,a){var r=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(a);if(r.length!=n.length)return!1;for(var c=0;c<r.length;c++){var o=t[r[c]],l=a[r[c]],i=G(o)&&G(l);if(i&&!e(o,l)||!i&&o!==l)return!1}return!0}(T,Q)||p.a.post("/saveopedits",{id:e,opedits:Q}).then(function(e){console.log(e),r(!i),v(!y)})};return l.a.createElement("div",{className:"operation"},!1===I?l.a.createElement(le.a,{icon:se.a,className:"opeditbutton",onClick:function(e){L(!0)}}):l.a.createElement("div",{className:"editbuttons"},l.a.createElement("button",{className:"opsavebutton",onClick:function(e){_(a.QSID)}},"Save"),l.a.createElement("button",{className:"opsavebutton opcancelbutton",onClick:function(e){L(!1)}},"Cancel")),l.a.createElement("p",{className:"optrader"},a.trader),l.a.createElement("p",{className:"optraffic"},a.traffic),l.a.createElement("div",{onClick:function(e){var t;f(!0),E(a.QSID),t=a.QSID,h.emit("leaveroom",N),""!==B&&""!==t&&h.emit("joinroom",t);var r=O.findIndex(function(e){return e.QSID===a.QSID});-1!==r&&(O[r].unreadusers===P+B?(O.splice(r,1),p.a.post("/removeQSfromNewmsglist",{QSID:a.QSID})):O[r].unreadusers.includes(P+B)&&(O[r].unreadusers=O[r].unreadusers.replace(P+B,""),p.a.post("/removeUnreaduser",{QSID:a.QSID,unreadusers:O[r].unreadusers})))},className:"opleftlabel"},l.a.createElement("h2",null,a.customer),l.a.createElement("h3",null,a.abbreviation),l.a.createElement("h4",null,a.quantity.toFixed(3)," mt"),l.a.createElement("div",{className:"opleftlabelbottom"},l.a.createElement("p",null,a.supplier),1===a.shipmentTypeID?l.a.createElement(le.a,{className:"fa-2x",icon:ie.o}):2===a.shipmentTypeID?l.a.createElement(le.a,{className:"fa-2x",icon:ie.k}):3===a.shipmentTypeID?l.a.createElement(le.a,{className:"fa-2x",icon:ie.p}):""),O&&O.filter(function(e){return e.QSID==a.QSID})[0]&&O.filter(function(e){return e.QSID==a.QSID})[0].unreadusers&&O.filter(function(e){return e.QSID==a.QSID})[0].unreadusers.includes(P+B)?l.a.createElement("div",{className:"iconopwithmsg-wrapper"},l.a.createElement(le.a,{className:"iconopwithmsg",icon:ie.e})):""),l.a.createElement("div",{className:"opnumberlabel"},l.a.createElement("p",null,"WGS: ",a.KTS),l.a.createElement("p",null,"WGP: ",a.KTP),l.a.createElement("p",null,"QSID: ",a.QSID)),l.a.createElement("div",{className:"opprogress"},l.a.createElement("div",{className:"oporigindestination"},l.a.createElement("ul",null,l.a.createElement("li",null,a.portOfLoad),l.a.createElement("li",null,a.portOfDestination))),l.a.createElement("div",{className:"optimeline"},s?s.map(function(e,t){var a=g?200:250;return l.a.createElement("div",{className:"tlfsegment"},l.a.createElement("div",null,e.Detail),l.a.createElement("div",{style:{width:a*d[t]/m,minWidth:38},className:"Now"===e.Detail?"tlsegment tlnow":"tlsegment"},oe()(e.Date).format("MMM DD")))}):"")),l.a.createElement("div",{className:"opchecklistsnapshot"},l.a.createElement("div",{className:"opchecklist"},l.a.createElement("div",{className:"checklistitem"},!1===I?1===a.SCComplete?l.a.createElement(le.a,{icon:ie.b,className:"opgreencheck"}):l.a.createElement(le.a,{icon:ie.i}):l.a.createElement("input",{type:"checkbox",checked:null===Q.SCComplete?1===a.SCComplete:Q.SCComplete,onClick:function(e){null!==Q.SCComplete?A(Object(c.a)({},Q,{SCComplete:!Q.SCComplete,SCCompleteBool:!0===Q.SCComplete?0:1})):1===a.SCComplete?A(Object(c.a)({},Q,{SCComplete:!1,SCCompleteBool:0})):0!==a.SCComplete&&null!=a.SCComplete||A(Object(c.a)({},Q,{SCComplete:!0,SCCompleteBool:1}))}}),l.a.createElement("p",{className:"opcontract"},"Sales Contract")),l.a.createElement("div",{className:"checklistitem"},!1===I?1===a.PCComplete?l.a.createElement(le.a,{icon:ie.b,className:"opgreencheck"}):l.a.createElement(le.a,{icon:ie.i}):l.a.createElement("input",{type:"checkbox",checked:null===Q.PCComplete?1===a.PCComplete:Q.PCComplete,onClick:function(e){null!==Q.PCComplete?A(Object(c.a)({},Q,{PCComplete:!Q.PCComplete,PCCompleteBool:!0===Q.PCComplete?0:1})):1===a.PCComplete?A(Object(c.a)({},Q,{PCComplete:!1,PCCompleteBool:0})):0!==a.PCComplete&&null!=a.PCComplete||A(Object(c.a)({},Q,{PCComplete:!0,PCCompleteBool:1}))}}),l.a.createElement("p",{className:"opcontract"},"Purchase Contract")),l.a.createElement("p",{style:{marginTop:"1rem"}},"INCOTERMS"),l.a.createElement("div",{className:"checklistitem incoitem"},l.a.createElement("p",null,"Purchase: "),!0===I?l.a.createElement("input",{className:"opincoterms",type:"text",value:Q.pincoterms,onChange:function(e){return A(Object(c.a)({},Q,{pincoterms:e.target.value}))}}):l.a.createElement("p",null,a.pincoterms)),l.a.createElement("div",{className:"checklistitem incoitem"},l.a.createElement("p",null,"Sales: "),!0===I?l.a.createElement("input",{className:"opincoterms",type:"text",value:Q.incoterms,onChange:function(e){return A(Object(c.a)({},Q,{incoterms:e.target.value}))}}):l.a.createElement("p",null,a.incoterms))),l.a.createElement("div",{className:"opchecklist"},l.a.createElement("div",{className:"checklistitem"},!1===I?1===a.bookingComplete?l.a.createElement(le.a,{icon:ie.b,className:"opgreencheck"}):l.a.createElement(le.a,{icon:ie.i}):l.a.createElement("input",{type:"checkbox",checked:null===Q.bookingComplete?1===a.bookingComplete:Q.bookingComplete,onClick:function(e){null!==Q.bookingComplete?A(Object(c.a)({},Q,{bookingComplete:!Q.bookingComplete,bookingCompleteBool:!0===Q.bookingComplete?0:1})):1===a.bookingComplete?A(Object(c.a)({},Q,{bookingComplete:!1,bookingCompleteBool:0})):0!==a.bookingComplete&&null!=a.bookingComplete||A(Object(c.a)({},Q,{bookingComplete:!0,bookingCompleteBool:1}))}}),l.a.createElement("p",null,"Booking")),!0===I&&!0===Q.bookingComplete?l.a.createElement("div",{className:"bookinginputs"}," ",l.a.createElement("input",{type:"text",className:"bookinginfo",placeholder:"booking#",value:Q.bookingnumber,onChange:function(e){return A(Object(c.a)({},Q,{bookingnumber:e.target.value}))}}),l.a.createElement("input",{type:"text",className:"bookinginfo",placeholder:"vesselName",value:Q.vesselName,onChange:function(e){return A(Object(c.a)({},Q,{vesselName:e.target.value}))}}),l.a.createElement("input",{type:"text",className:"bookinginfo",placeholder:"freightCompany",value:Q.freightCompany,onChange:function(e){return A(Object(c.a)({},Q,{freightCompany:e.target.value}))}})):l.a.createElement(l.a.Fragment,null," ",l.a.createElement("p",{className:"setbookinginfo"},a.bookingnumber),l.a.createElement("p",{className:"setbookinginfo"},a.vesselName),l.a.createElement("p",{className:"setbookinginfo"},a.freightCompany)),l.a.createElement("div",{className:"opETDETA"},l.a.createElement("div",{className:!1===I?"checklistitem opETDETAitem":"checklistitem opETDETAitem1"},l.a.createElement("p",null,"ETD: "),!0===I&&!0===Q.bookingComplete?l.a.createElement("input",{type:"date",value:Q.ETS,className:"bookingdateinfo",onChange:function(e){A(Object(c.a)({},Q,{ETS:e.target.value}))}}):l.a.createElement("p",null,a.ETS?oe()(a.ETS).format("MMM DD"):"")),l.a.createElement("div",{className:!1===I?"checklistitem opETDETAitem":"checklistitem opETDETAitem1"},l.a.createElement("p",null,"ETA: "),!0===I&&!0===Q.bookingComplete?l.a.createElement("input",{type:"date",value:Q.ETA,className:"bookingdateinfo",onChange:function(e){A(Object(c.a)({},Q,{ETA:e.target.value}))}}):l.a.createElement("p",null,a.ETA?oe()(a.ETA).format("MMM DD"):"")))),l.a.createElement("div",{className:"opchecklist"},l.a.createElement("div",{className:"checklistitem"},!1===I?1===a.InsComplete?l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,{icon:ie.b,className:"opgreencheck"}),l.a.createElement("p",null,"Insurance")):l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,{icon:ie.i}),l.a.createElement("p",null,"Insurance")):l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{type:"checkbox",checked:null===Q.InsComplete?1===a.InsComplete:Q.InsComplete,onClick:function(e){null!==Q.InsComplete?A(Object(c.a)({},Q,{InsComplete:!Q.InsComplete,InsCompleteBool:!0===Q.InsComplete?0:1})):1===a.InsComplete?A(Object(c.a)({},Q,{InsComplete:!1,InsCompleteBool:0})):0!==a.InsComplete&&null!==a.InsComplete||A(Object(c.a)({},Q,{InsComplete:!0,InsCompleteBool:1}))}}),l.a.createElement("p",null,"Insurance")))," ",!0===I&&!0===Q.InsComplete?l.a.createElement("input",{type:"text",className:"insuranceinfo",placeholder:"insurance#",value:Q.InsNumber,onChange:function(e){A(Object(c.a)({},Q,{InsNumber:e.target.value}))}}):l.a.createElement("p",null,a.InsNumber),l.a.createElement("div",{className:"checklistitem"},!1===I?1===a.inspection?l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,{icon:ie.b,className:"opgreencheck"}),l.a.createElement("p",null,"Inspection")):l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,{icon:ie.i}),l.a.createElement("p",null,"Inspection")):l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{type:"checkbox",checked:null===Q.inspection?1===a.inspection:Q.inspection,onClick:function(e){null!==Q.inspection?A(Object(c.a)({},Q,{inspection:!Q.inspection,inspectionBool:!0===Q.inspection?0:1})):1===a.inspection?A(Object(c.a)({},Q,{inspection:!1,inspectionBool:0})):0!==a.inspection&&null!==a.inspection||A(Object(c.a)({},Q,{inspection:!0,inspectionBool:1}))}}),l.a.createElement("p",null,"Inspection"))),!0===I&&!0===Q.inspection?l.a.createElement("input",{type:"text",className:"inspectioninfo",placeholder:"ins company",value:Q.inspectionCompany,onChange:function(e){A(Object(c.a)({},Q,{inspectionCompany:e.target.value}))}}):l.a.createElement("p",null,a.inspectionCompany))))},pe=a(95);a(718);function de(){de=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return w()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var fe=function(e){e.reloadnotes,e.setReloadnotes;var t=e.socket,a=Object(o.useContext)(re.a),r=a.opToEdit,c=a.opNotes,i=a.setOpNotes,s=a.activeusers,u=a.opsWithNewNotes1,m=a.setOpsWithNewNotes1,d=JSON.parse(localStorage.getItem("WGusercode")),f=JSON.parse(localStorage.getItem("WGuserID")),h=Object(o.useState)(oe()().format("YYYY-MM-DD")),g=Object(n.a)(h,2),b=(g[0],g[1],Object(o.useState)("")),y=Object(n.a)(b,2),v=y[0],E=y[1],N=Object(o.useState)(),O=Object(n.a)(N,2);O[0],O[1];Object(o.useEffect)(function(){t.on("receivemsg",function(e){i(function(t){return[].concat(Object(ne.a)(t),[e])})})},[t]);var j=function(e){var a=s.replace(f+d,"");if(""!==v&&""!==d){var r={QSID:e,opnote:v,opNoteDate:oe()().format("YYYY-MM-DD HH:mm"),userCode:d,unreadusers:a};p.a.post("/savenewnote",{QSID:e,opNote:v,opNoteDate:oe()().format("YYYY-MM-DD HH:mm"),userCode:d}).then(function(){var e=Object(P.a)(de().mark(function e(a){return de().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.emit("sendmsg",r);case 2:i([].concat(Object(ne.a)(c),[r]));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var n=u.findIndex(function(t){return t.QSID===e});-1===n&&p.a.post("/addQStonewmsglist",{QSID:e,user:d,activeusers:a}).then(m(function(t){return[].concat(Object(ne.a)(t),[{QSID:e,user:d,unreadusers:a}])})),-1!==n&&u[n].unreadusers!==a&&p.a.post("/resetunreadusers",{QSID:e,unreadusers:a}).then(u[n].unreadusers=a)}E("")},x=Object(o.useRef)(null);return Object(o.useEffect)(function(){x.current&&x.current.scrollIntoView({behavior:"smooth"})},[c]),l.a.createElement("div",{className:"operationNotes"},l.a.createElement("div",{className:"opnotes"},c?c.map(function(e,t){if(e.opnote)return l.a.createElement("div",{className:e.userCode===d?"opnotegroup":"opnotegroup otherusermsg"},t===c.length-1?l.a.createElement("p",{ref:x,className:"opnote"},e.opnote):l.a.createElement("p",{className:"opnote"},e.opnote),l.a.createElement("div",{className:"opnotemetadata"},l.a.createElement("p",null,oe()(e.opnotedate).format("MMM DD - HH:mm")),l.a.createElement("p",null,e.userCode)))}):c?l.a.createElement("p",null,c.message):""),l.a.createElement("div",{className:"opnoteinputs"},l.a.createElement("textarea",{value:v,onChange:function(e){return E(e.target.value)},type:"text",placeholder:"type new note",className:"opnoteinput",onKeyDown:function(e){"Enter"===e.key&&j(r)}}),l.a.createElement("button",{className:"opnotepost",onClick:function(e){return j(r)}},"Post")))};a(720),a(722);var he=function(e){var t=e.opToEditFull,a=e.setOpToEditFull,r=e.socket,i=Object(o.useContext)(re.a),s=(i.opToEdit,i.setOpToEdit,i.opNotes,i.setOpNotes,Object(o.useState)(!1)),u=Object(n.a)(s,2),m=u[0],p=u[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"opDetailHeader"},t?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"opDetailQSID"},l.a.createElement("h2",null,"QSID:"),l.a.createElement("h2",null,t.QSID)),l.a.createElement("div",{className:"opDetailMainInfo"},l.a.createElement("div",{className:"opDetailMIItem"},l.a.createElement("h3",null,"Product:")," ",l.a.createElement("h3",null,t.abbreviation)),l.a.createElement("div",{className:"opDetailMIItem"},l.a.createElement("h3",null,"Quantity:")," ",l.a.createElement("h3",null,t.quantity)))):""),l.a.createElement("div",{className:"operationDetail"},l.a.createElement("div",{className:"opDetailSupplyside"},t?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"opDetailItem"},l.a.createElement("p",null,"WGP:"),l.a.createElement("input",{type:"text",value:t.KTP,onChange:function(e){a(Object(c.a)({},t,{KTP:e.target.value}))}})),l.a.createElement("div",{className:"opDetailItem"},l.a.createElement("p",null,"Supplier:"),l.a.createElement("p",{className:"opDItext"},t.supplier))):""),l.a.createElement("div",{className:"opDetailDemandside"},t?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"opDetailItem"},l.a.createElement("p",null,"WGS:"),l.a.createElement("input",{type:"text",value:t.KTS,onChange:function(e){a(Object(c.a)({},t,{KTS:e.target.value}))}})),l.a.createElement("div",{className:"opDetailItem"},l.a.createElement("p",null,"Customer:"),l.a.createElement("p",{className:"opDItext"},t.customer))):""),l.a.createElement(fe,{reloadnotes:m,setReloadnotes:p,socket:r})))};function ge(){ge=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return w()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var be=a(648).a.connect("https://www.wgappdev.com"),ye=function(){var e=Object(o.useContext)(re.a),t=e.opToEdit,a=(e.opNotes,e.setOpNotes,e.activeusers,e.opsWithNewNotes1,e.setOpsWithNewNotes1),r=JSON.parse(localStorage.getItem("role")),c=JSON.parse(localStorage.getItem("WGusercode")),i=JSON.parse(localStorage.getItem("WGuserID")),s=Object(o.useState)(),u=Object(n.a)(s,2),m=u[0],d=u[1],f=Object(o.useState)(),h=Object(n.a)(f,2),g=h[0],b=h[1],y=Object(o.useState)(),v=Object(n.a)(y,2),E=v[0],N=v[1],O=Object(o.useState)(!1),j=Object(n.a)(O,2),x=j[0],w=j[1],S=Object(o.useState)(),C=Object(n.a)(S,2),D=C[0],k=C[1],F=Object(o.useState)(!1),I=Object(n.a)(F,2),L=I[0],B=I[1],T=Object(o.useState)(),q=Object(n.a)(T,2),$=q[0],Q=q[1],A=Object(o.useState)(!1),G=Object(n.a)(A,2),_=G[0],R=G[1],K=Object(o.useRef)(null);Object(o.useEffect)(function(){be.emit("joinmyoperations",123)},[]);Object(o.useEffect)(function(){be.on("receivemsg2",function(e){a(function(t){var a=t.findIndex(function(t){return t.QSID===e.QSID});if(-1!==a){var r=t;return r[a].unreadusers=e.unreadusers,r}if(-1===a)return[].concat(Object(ne.a)(t),[{user:e.user,QSID:e.QSID,unreadusers:e.unreadusers}])})})},[be]),Object(o.useEffect)(function(){if(!0===_){var e=K.current;pe.a.fromTo(e,{x:0},{x:"-120%",display:"block",duration:.2})}if(!1===_){var t=K.current;pe.a.fromTo(t,{x:"-120%"},{x:0,display:"none",duration:.2})}},[_]),Object(o.useEffect)(Object(P.a)(ge().mark(function e(){return ge().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:p.a.post("/trafficmgrs").then(function(e){if(d(e.data),4===r){b(JSON.parse(localStorage.getItem("WGusercode")));var t=e.data.findIndex(function(e){return e.traffic===JSON.parse(localStorage.getItem("WGusercode"))});N(e.data[t].trafficID)}else b(e.data[0].traffic),e.data.findIndex(function(t){return t.traffic===e.data[0].traffic})});case 1:case"end":return e.stop()}},e)})),[]),Object(o.useEffect)(function(){if(m&&g){var e=m.findIndex(function(e){return e.traffic===g});N(m[e].trafficID)}},[m,g]),Object(o.useEffect)(function(){E&&p.a.post("/getmyoperations",{selectedTrafficID:E}).then(function(e){k(e.data),J(e.data)})},[E,L]);var M=Object(o.useState)(""),Y=Object(n.a)(M,2),V=Y[0],W=Y[1],U=Object(o.useState)(),H=Object(n.a)(U,2),z=H[0],J=H[1];Object(o.useEffect)(function(){if(D&&D.length>0){var e=D.filter(function(e){return e.customer.toLowerCase().includes(V.toLowerCase())||e.abbreviation.toLowerCase().includes(V.toLowerCase())||e.supplier.toLowerCase().includes(V.toLowerCase())||e.portOfDestination.toLowerCase().includes(V.toLowerCase())||e.portOfLoad.toLowerCase().includes(V.toLowerCase())||e.QSID.toFixed().includes(V)||e.trader.toLowerCase().includes(V.toLowerCase())||e.traffic.toLowerCase().includes(V.toLowerCase())});J(e),console.log(e)}},[V]),Object(o.useEffect)(function(){p.a.post("/getfulloptoedit",{QSID:t}).then(function(e){Q(e.data[0])})},[t]),Object(o.useEffect)(function(){function e(e){K.current&&!K.current.contains(e.target)&&R(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[K]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"opheader"},l.a.createElement("div",{ref:K,className:"operationdetail"},l.a.createElement(he,{opToEditFull:$,setOpToEditFull:Q,socket:be})),l.a.createElement("div",{className:"trafficbuttons"},m?m.map(function(e){return"na"!==e.traffic?l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:g===e.traffic&&!1===x?"activetrfbtn":"",value:e.traffic,onClick:function(e){w(!1),b(e.target.value),W("")}},e.traffic)):""}):""," ",1==r||2==r||3==r?l.a.createElement("button",{onClick:function(e){var t;w(!0),W(""),t=i,p.a.post("/gettraderoperations",{userID:t}).then(function(e){k(e.data),J(e.data)})},className:!0===x?"traderOpButtonActive":"traderOpButton"}," ",c):""),l.a.createElement("div",{className:"opsearchbar"},l.a.createElement("input",{type:"text",placeholder:"search",value:V,onChange:function(e){return W(e.target.value)}}),""!==V?l.a.createElement("button",{onClick:function(e){return W("")},className:"opsearchclearbtn"},"Clear"):"")),l.a.createElement("div",{className:"operations"},z&&z.length>0?z.map(function(e){var t=[{Date:oe()().format("YYYY-MM-DD"),Detail:"Now"}];null!==e.start&&t.push({Date:oe()(e.start).format("YYYY-MM-DD"),Detail:"From"}),null!==e.end&&t.push({Date:oe()(e.end).format("YYYY-MM-DD"),Detail:"To"}),null!==e.ETS&&t.push({Date:oe()(e.ETS).format("YYYY-MM-DD"),Detail:"ETD"}),null!==e.ETA&&t.push({Date:oe()(e.ETA).format("YYYY-MM-DD"),Detail:"ETA"}),t.sort(function(e,t){return oe()(e.Date)-oe()(t.Date)});var a=oe()(t.slice(-1)[0].Date).diff(t[0].Date,"days"),r=[];return t.forEach(function(e,a){a+1<t.length&&r.push(oe()(t[a+1].Date).diff(t[a].Date,"days"))}),r.push(0),l.a.createElement(me,{key:e.QSID,operation:e,selectedTraffic:g,setReloadops:B,reloadops:L,timeline:t,timelinelength:a,timeintervals:r,setToggleOpDetail:R,toggleOpDetail:_,socket:be})}):l.a.createElement("div",null,"No files assigned to this traffic manager at the moment.")))},ve=function(){var e=Object(o.useContext)(re.a).updateScores,t=Object(o.useState)(),a=Object(n.a)(t,2),r=a[0],c=a[1];return Object(o.useEffect)(function(){p.a.post("/tmcscores").then(function(e){c(e.data)})},[e]),l.a.createElement("div",{className:"logcontainer"},l.a.createElement("div",{className:"lognav"},l.a.createElement(i.b,{className:"myoper",activeClassName:"navbaractive",to:"/logistics/myoperations",exact:!0},"My Operations"),l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/logistics/inprogress",exact:!0},"In Progress"),l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/logistics/matching",exact:!0},"Matching Report"),l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/logistics/chat",exact:!0},"Chat"),l.a.createElement("div",{className:"scores"},l.a.createElement("h4",{style:{marginBottom:"1rem"}},"Scores:"),r?r.map(function(e){return[l.a.createElement("div",{className:"score"},l.a.createElement("p",null,e.tCode)," ",l.a.createElement("p",null,e.totalscore.toFixed(1)))]}):"")),l.a.createElement("div",{className:"gridcontainer loggridcontainer"},l.a.createElement(s.a,{path:"/logistics/myoperations"},l.a.createElement(ye,null)),l.a.createElement(s.a,{path:"/logistics/matching"},l.a.createElement(te.a,null)),l.a.createElement(s.a,{path:"/logistics/inprogress"},l.a.createElement(ae.a,null))))},Ee=a(97),Ne=(a(724),a(78)),Oe=a(227),je=a(108);function xe(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return we(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return we(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,c=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw c}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Se(){Se=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return w()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var Ce=function(){var e=Object(o.useRef)(null),t=Object(o.useState)(!1),a=Object(n.a)(t,2),r=a[0],i=a[1],s=function(){ze("")},m=Object(o.useState)(2023),d=Object(n.a)(m,2),f=d[0];d[1];Object(o.useEffect)(function(){var t=e.current;pe.a.fromTo(t,{opacity:1},{opacity:0,duration:2,ease:"power1.inOut",onComplete:s})},[r]);var h=Object(o.useRef)(null);Object(o.useEffect)(function(){var e=h.current;pe.a.fromTo(e,{opacity:1},{opacity:0,duration:15,ease:"power1.inOut"})},[on]);var g=Object(o.useState)(),b=Object(n.a)(g,2),y=b[0],v=b[1],E=Object(o.useRef)(null);Object(o.useEffect)(function(){p.a.post("/budgetprodNames").then(function(e){v(e.data),q(e.data)})},[]);var N=Object(o.useState)(!1),O=Object(n.a)(N,2),j=O[0],x=O[1],w=function(){var e=Object(P.a)(Se().mark(function e(){return Se().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,t){x(!j),e()});case 2:!1===j&&E.current.focus(),I("");case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),S=[],C=[],D=Object(o.useState)(),k=Object(n.a)(D,2),F=k[0],I=k[1],L=Object(o.useState)(),B=Object(n.a)(L,2),T=B[0],q=B[1];Object(o.useEffect)(function(){if(y)if(F&&""!==F){var e=y.filter(function(e){if(F&&""!==F)return e.abbreviation.toLowerCase().includes(F.toLowerCase())});q(e)}else q(y)},[F]);var $=Object(o.useState)(!1),Q=Object(n.a)($,2),A=Q[0],G=Q[1],_=Object(o.useState)(),R=Object(n.a)(_,2),K=R[0],M=R[1],Y=Object(o.useState)(),V=Object(n.a)(Y,2),W=V[0],U=V[1],H=Object(o.useState)(),z=Object(n.a)(H,2),J=z[0],Z=z[1],X=Object(o.useState)(4),ee=Object(n.a)(X,2),te=ee[0],ae=(ee[1],Object(o.useState)(2)),re=Object(n.a)(ae,2),ce=re[0],oe=(re[1],Object(o.useState)(-1)),se=Object(n.a)(oe,2),ue=se[0],me=se[1],de=Object(o.useState)(-1),fe=Object(n.a)(de,2),he=fe[0],ge=fe[1],be=Object(o.useState)(!1),ye=Object(n.a)(be,2),ve=(ye[0],ye[1]),Ee=Object(o.useState)(!1),we=Object(n.a)(Ee,2),Ce=we[0],De=we[1],ke=Object(o.useState)([]),Fe=Object(n.a)(ke,2),Ie=(Fe[0],Fe[1],Object(o.useRef)()),Le=Object(o.useRef)([]),Be=Object(o.useRef)([]),Pe=function(e,t,a,r,n){Ka(Object(c.a)({},Ra,Object(u.a)({},t,Object(c.a)({},Ra[t],Object(u.a)({},a,Object(c.a)({},Ra[t][a],Object(u.a)({},r,Object(c.a)({},Ra[t][a][r],Object(u.a)({},n,Number(e.target.value))))))))))},Te=Object(o.useState)(!1),qe=Object(n.a)(Te,2),$e=qe[0],Qe=qe[1],Ae=Object(o.useState)({}),Ge=Object(n.a)(Ae,2),_e=Ge[0],Re=Ge[1],Ke=Object(o.useState)(),Me=Object(n.a)(Ke,2),Ye=Me[0],Ve=Me[1];Object(o.useEffect)(function(){p.a.post("/yearbudgetdata",{year:f}).then(function(e){hr(e.data),Re(gr(e.data))}),p.a.post("/budgetgroupbtns",{year:f}).then(function(e){M(e.data)}),p.a.post("/budgetfilterbtns",{year:f}).then(function(e){U(e.data)}),p.a.post("/bdgtregiondata",{year:f}).then(function(e){Ve(e.data)})},[$e]),Object(o.useEffect)(function(){p.a.post("/budgetfilterbtns",{year:f}).then(function(e){U(e.data)})},[A]);var We=Object(o.useState)(),Ue=Object(n.a)(We,2),He=Ue[0],ze=Ue[1],Je=function(e,t,a,r,n,c){var o=Number(e.target.value);o!==Number(Va[a][r][n][c])&&o!==Number(za[a][r][n][c])&&p.a.post("/savebdgteconfig",{year:f,item:c,value:o,prod:va[a],cty:ha[n]}).then(function(e){ze(e.data.msg),Ja(Ra),Qe(!$e)}),o===Number(Va[a][r][n][c])&&Number(za[a][r][n][c])!==Number(Va[a][r][n][c])&&p.a.post("/savebdgteconfig",{year:f,item:c,value:o,prod:va[a],cty:ha[n]}).then(function(e){ze(e.data.msg),Ja(Ra),Qe(!$e)})},Ze=Object(o.useCallback)(function(e){Ie.current&&Ie.current.contains(e.target)?"cell-input"===e.target.className&&(ve(!0),De(!0)):ve(!1)},[Ie,ve]),Xe=Object(o.useState)(!1),et=Object(n.a)(Xe,2),tt=et[0],at=et[1],rt=Object(o.useState)(!1),nt=Object(n.a)(rt,2),ct=nt[0],ot=nt[1],lt=Object(o.useCallback)(function(e){if(tt)switch(e.key){case"ArrowUp":ue>=te&&me(ue-te);break;case"ArrowDown":ue<te*J-te&&me(ue+te);break;case"ArrowRight":ue<J*te-1&&me(ue+1);break;case"ArrowLeft":ue>0&&me(ue-1)}if(ct)switch(e.key){case"ArrowUp":he>=ce&&ge(he-ce);break;case"ArrowDown":he<ce*J-ce&&ge(he+ce);break;case"ArrowRight":he<J*ce-1&&ge(he+1);break;case"ArrowLeft":he>0&&ge(he-1)}});Object(o.useEffect)(function(){return window.addEventListener("mousedown",Ze),window.addEventListener("keydown",lt),function(){window.removeEventListener("mousedown",Ze),window.removeEventListener("keydown",lt)}},[Ze,lt]);var it=Object(o.useCallback)(function(){if(ue>=0&&ue<J*te){var e=Le.current[ue];e&&(Ce?e.focus():e.blur())}},[ue,Ce,Le,J,te]);Object(o.useEffect)(it,[ue,it]);var st=Object(o.useCallback)(function(){if(he>=0&&he<J*ce){var e=Be.current[he];e&&(Ce?e.focus():e.blur())}},[he,Ce,Be,J,ce]);Object(o.useEffect)(st,[he,st]);var ut=Object(o.useState)(),mt=Object(n.a)(ut,2),pt=mt[0],dt=mt[1],ft=Object(o.useState)(),ht=Object(n.a)(ft,2),gt=ht[0],bt=ht[1],yt=Object(o.useState)(1),vt=Object(n.a)(yt,2),Et=vt[0],Nt=vt[1],Ot=Object(o.useState)(5),jt=Object(n.a)(Ot,2),xt=jt[0],wt=jt[1],St=Object(o.useState)(1),Ct=Object(n.a)(St,2),Dt=Ct[0],kt=Ct[1],Ft=Object(o.useState)(),It=Object(n.a)(Ft,2),Lt=It[0],Bt=It[1],Pt=Object(o.useState)(),Tt=Object(n.a)(Pt,2);Tt[0],Tt[1];Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var qt=Object(o.useState)(),$t=Object(n.a)(qt,2),Qt=$t[0],At=$t[1],Gt=Object(o.useState)(),_t=Object(n.a)(Gt,2),Rt=(_t[0],_t[1],Object(o.useState)()),Kt=Object(n.a)(Rt,2),Mt=(Kt[0],Kt[1],Object(o.useState)()),Yt=Object(n.a)(Mt,2),Vt=(Yt[0],Yt[1],Object(o.useState)({})),Wt=Object(n.a)(Vt,2),Ut=Wt[0],Ht=Wt[1],zt=Object(o.useState)({}),Jt=Object(n.a)(zt,2),Zt=Jt[0],Xt=Jt[1],ea=function(e){var t={},a={},r={},n={},c={},o={},l={},i={},s={},u={};return Object.entries(e.groupBy("abbreviation")).forEach(function(e){var m=e[0],p=Object.entries(e[1].groupBy("region"));u[m]=!1,p.forEach(function(e){var n=e[0];c[n]=!1,Object.entries(e[1].groupBy("country")).forEach(function(e){var r=e[0];l[r]=!1,e[1].forEach(function(e,a){t[a]=e.quantity}),a[r]=t,t={}}),o[m]=c,i[n]=l,l={},nr(o),r[n]=a,a={}}),s[m]=i,i={},c={},n[m]=r,r={}}),Ht(s),Xt(u),n},ta=Object(o.useState)(),aa=Object(n.a)(ta,2),ra=aa[0],na=aa[1],ca=Object(o.useState)(),oa=Object(n.a)(ca,2),la=oa[0],ia=oa[1],sa=Object(o.useState)(),ua=Object(n.a)(sa,2),ma=ua[0],pa=ua[1],da=Object(o.useState)(),fa=Object(n.a)(da,2),ha=fa[0],ga=fa[1],ba=Object(o.useState)(),ya=Object(n.a)(ba,2),va=ya[0],Ea=ya[1],Na=Object(o.useState)(),Oa=Object(n.a)(Na,2),ja=(Oa[0],Oa[1],Object(o.useState)({})),xa=Object(n.a)(ja,2),wa=xa[0],Sa=xa[1],Ca=function(e){p.a.post("/addbdgtcty",{countries:Object.keys(wa[e]),pname:va[e],pcatname:Fa,year:f}).then(function(){Ta(!Pa)})},Da=Object(o.useState)(),ka=Object(n.a)(Da,2),Fa=ka[0],Ia=ka[1],La=Object(o.useState)(!1),Ba=Object(n.a)(La,2),Pa=Ba[0],Ta=Ba[1],qa=Object(o.useState)({}),$a=Object(n.a)(qa,2),Qa=$a[0],Aa=$a[1],Ga=Object(o.useState)({}),_a=Object(n.a)(Ga,2),Ra=_a[0],Ka=_a[1],Ma=Object(o.useState)({}),Ya=Object(n.a)(Ma,2),Va=Ya[0],Wa=Ya[1],Ua=Object(o.useState)({}),Ha=Object(n.a)(Ua,2),za=Ha[0],Ja=Ha[1],Za=function(e){var t={},a={},r={},n=0,c=0,o=0;return Object.entries(e.groupBy("abbreviation")).forEach(function(e){var l=e[0];Object.entries(e[1].groupBy("region")).forEach(function(e){var r=e[0];Object.entries(e[1].groupBy("country")).forEach(function(e){var a=e[0];e[1].forEach(function(e){n+=e.quantity,c+=e.quantity*e.price,o+=e.quantity*e.profit}),t[a]={price:0===n||0===c?0:c/n,profit:0===n||0===o?0:o/n,quantity:n},n=0,c=0,o=0}),a[r]=t,t={}}),r[l]=a,a={}}),r};Object(o.useEffect)(function(){Fa&&""!==Fa&&(p.a.post("/getbudgetdata",{prodcat:Fa,year:f}).then(function(e){At(e.data),Z(e.data.length/4),na(ea(e.data)),ia(ea(e.data)),pa(ea(e.data)),function(e){var t=Object(ne.a)(new Set(e.map(function(e){return e.country}))),a=Object(ne.a)(new Set(e.map(function(e){return e.countryID}))),r={};t.forEach(function(e,t){return r[e]=a[t]}),ga(r);var n=Object(ne.a)(new Set(e.map(function(e){return e.abbreviation}))),c=Object(ne.a)(new Set(e.map(function(e){return e.prodNameID}))),o={};n.forEach(function(e,t){return o[e]=c[t]}),Ea(o)}(e.data),Ka(Za(e.data)),Wa(Za(e.data)),Ja(Za(e.data))}),p.a.post("/budgetlyearsales",{year:f,prodcat:Fa}).then(function(e){Aa(function(e){var t={},a={},r={};return Object.entries(e.groupBy("abbreviation")).forEach(function(e){var n=e[0];Object.entries(e[1].groupBy("region")).forEach(function(e){var r=e[0];e[1].forEach(function(e){t[e.country]={quantity:Number(e.quantity),avgprice:Number(e.avgprice.replace(/,/g,"")),avgprofit:Number(e.avgprofit.replace(/,/g,""))}}),a[r]=t,t={}}),r[n]=a,a={}}),r}(e.data))}))},[Fa,Pa]);var Xa=0,er=0,tr=Object(o.useState)(),ar=Object(n.a)(tr,2),rr=ar[0],nr=ar[1],cr=Object(o.useState)(),or=Object(n.a)(cr,2),lr=or[0],ir=or[1],sr=Object(o.useState)(),ur=Object(n.a)(sr,2),mr=ur[0],pr=ur[1];Object(o.useEffect)(function(){p.a.post("/bdgtfullcountrylist").then(function(e){pr(e.data)})},[]);var dr=Object(o.useState)(),fr=Object(n.a)(dr,2),hr=(fr[0],fr[1]),gr=function(e){var t=0,a=0,r=0,n={};return Object.entries(e.groupBy("year")).forEach(function(e){var c=e[0];e[1].forEach(function(e){t+=e.quantity,a+=e.revenue,r+=e.totalprofit}),n[c]={quantity:t,revenue:a,totalprofit:r},t=0,a=0,r=0}),n},br=Object(o.useState)("region"),yr=Object(n.a)(br,2),vr=yr[0],Er=yr[1],Nr=Object(o.useState)("country"),Or=Object(n.a)(Nr,2),jr=Or[0],xr=Or[1],wr=Object(o.useState)("quantity"),Sr=Object(n.a)(wr,2),Cr=Sr[0],Dr=Sr[1],kr=Object(o.useState)(),Fr=Object(n.a)(kr,2),Ir=(Fr[0],Fr[1]);Object(o.useEffect)(function(){p.a.post("/bdgtlyearsalestotals",{year:f}).then(function(e){Ir(e.data)})},[]);var Lr=0,Br=0,Pr=0,Tr=0,qr=0,$r=0,Qr=0,Ar=0,Gr=0,_r=0,Rr=0,Kr=0,Mr=function(e,t){var a,r=0,n=xe(e);try{for(n.s();!(a=n.n()).done;)r+=a.value[t]}catch(c){n.e(c)}finally{n.f()}return r},Yr=function(e,t,a){var r,n=0,c=0,o=xe(e);try{for(o.s();!(r=o.n()).done;){var l=r.value;n+=l[t],c+=l[a]}}catch(i){o.e(i)}finally{o.f()}return 0!==n&&0!==c?n/c:0},Vr=Object(o.useState)(),Wr=Object(n.a)(Vr,2),Ur=Wr[0],Hr=Wr[1],zr=Object(o.useState)(),Jr=Object(n.a)(zr,2),Zr=Jr[0],Xr=Jr[1],en=Object(o.useState)(),tn=Object(n.a)(en,2),an=tn[0],rn=tn[1],nn=Object(o.useState)(!1),cn=Object(n.a)(nn,2),on=cn[0],ln=cn[1];return l.a.createElement("div",null,l.a.createElement("div",{className:"bdgttitles"},l.a.createElement("h2",{className:"bdgttitle"},f," Budget"),l.a.createElement("div",{className:"addprodgroup"},l.a.createElement("button",{className:"addprodbutton",onClick:function(e){w()}},"Add Product"),j?l.a.createElement("div",{className:"addprodpane"},l.a.createElement("input",{ref:E,value:F,onChange:function(e){I(e.target.value)},placeholder:"Search Product Name",type:"text"}),l.a.createElement("ul",null,T?T.map(function(e){return[l.a.createElement("div",{className:"addprodrow"},l.a.createElement("input",{type:"checkbox",name:e.prodNameID,id:e.prodNameID,value:e.prodNameID,onClick:function(t){if(t.target.checked)S.push(e.prodNameID),C.push(e.prodCatNameID);else for(var a=0;a<S.length;a++)S[a]===e.prodNameID&&S.splice(a,1),C[a]===e.prodCatNameID&&C.splice(a,1)}})," ",l.a.createElement("label",{for:e.prodNameID},e.abbreviation))]}):"Please add a product."),l.a.createElement("div",{className:"addprodcanceladd"},l.a.createElement("button",{className:"cancelprodbutton",onClick:function(e){x(!1),I("")}},"Cancel"),l.a.createElement("button",{onClick:function(e){p.a.post("/addprodbudget",{prodstoadd:S,prodscattoadd:C,year:f}).then(function(e){console.log(e),G(!A)}),x(!1)},className:"addprodbutton"},"Confirm"))):""),l.a.createElement(Oe.a,{csvData:Ye,fileName:"budget2023"}),l.a.createElement("form",null,l.a.createElement("label",{htmlFor:"upload",className:"budgetselectfilebutton"},"Select File to Load:"),l.a.createElement("input",{type:"file",name:"upload",id:"upload",onChange:function(e){if(e.preventDefault(),Xr(e.target.files[0].name),e.target.files){var t=new FileReader;t.onload=function(e){var t=e.target.result,a=je.read(t,{type:"array"}),r=a.SheetNames[0],n=a.Sheets[r],c=je.utils.sheet_to_json(n);Hr(c)},t.readAsArrayBuffer(e.target.files[0])}}}),l.a.createElement("input",{className:"bdgtloadfileinput",value:Zr}),l.a.createElement("button",{className:Zr?"bdgtloadbtn showloadbutton":"bdgtloadbtn hideloadbutton",onClick:function(e){e.preventDefault(),p.a.post("/loadbudgetfile",{data:Ur}).then(function(e){console.log(e),Xr(""),rn(e.data.msg),ln(!on)})}},"Load File"),l.a.createElement("span",{ref:h,className:"loadmsg"},an))),l.a.createElement("div",{className:"bdgttotals"},l.a.createElement("ul",{className:"bdgttotalsul"},l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},_e&&_e[f]&&_e[f].quantity?_e[f].quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0," ","mt"),l.a.createElement("p",{className:"bdgttyearname"},"Quantity"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Budget:"),l.a.createElement("p",null,_e&&_e[f-1]&&_e[f-1].quantity?_e[f-1].quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0," ","mt")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-2," Budget:"),l.a.createElement("p",null,"152,915 mt"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},_e&&_e[f]&&_e[f].revenue?"$"+_e[f].revenue.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0),l.a.createElement("p",{className:"bdgttyearname"},"Revenue"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Budget:"),l.a.createElement("p",null,_e&&_e[f-1]&&_e[f-1].revenue?"$"+_e[f-1].revenue.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-2," Revenue:"),l.a.createElement("p",null,"$98,083,156"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},_e&&_e[f]&&_e[f].totalprofit?"$"+_e[f].totalprofit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0),l.a.createElement("p",{className:"bdgttyearname"},"Profit"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Budget:"),l.a.createElement("p",null,_e&&_e[f-1]&&_e[f-1].totalprofit?"$"+_e[f-1].totalprofit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-2," Budget:"),l.a.createElement("p",null,"$4,007,228"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},_e&&_e[f]&&_e[f].totalprofit?"$"+(_e[f].totalprofit/_e[f].quantity).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0),l.a.createElement("p",{className:"bdgttyearname"},"Avg Profit"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Budget:"),l.a.createElement("p",null,_e&&_e[f-1]&&_e[f-1].totalprofit?"$"+(_e[f-1].totalprofit/_e[f].quantity).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-2," Budget:"),l.a.createElement("p",null,"$26"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},_e&&_e[f]&&_e[f].totalprofit?(_e[f].totalprofit/_e[f].revenue*100).toFixed(1)+"%":0),l.a.createElement("p",{className:"bdgttyearname"},"Margin"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-1," Budget:"),l.a.createElement("p",null,_e&&_e[f-1]&&_e[f-1].totalprofit?(_e[f-1].totalprofit/_e[f].revenue*100).toFixed(1)+"%":"0.0%")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,f-2," Margin:"),l.a.createElement("p",null,"4.1%"))))),l.a.createElement("div",{className:"budgetfilterbuttons"},l.a.createElement("div",{className:"pgroupfbtns"},l.a.createElement("p",null,"Product Groups:"),K?K.map(function(e,t){return l.a.createElement("button",{key:t,onClick:function(a){return function(e,t,a){e.preventDefault(),dt(t),bt(a)}(a,t,e.productGroup)},className:t===pt?"budgetfilterbutton budgetfilterbuttonactive":"budgetfilterbutton"},l.a.createElement("div",null,l.a.createElement("p",{className:"bdgtbtntitle"},e.productGroup),l.a.createElement("p",null,e.quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")+" mt"),l.a.createElement("p",null,"$ "+e.profit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","))))}):"Please add a product."),l.a.createElement("div",{className:"pnamefbtns"},l.a.createElement("p",null,"Product Name:"),W?W.map(function(e,t){if(e.productGroup===gt)return l.a.createElement("button",{key:t,onClick:function(a){!function(e,t,a){e.preventDefault(),Bt(t),Ia(a.prodCatNameID)}(a,t,e)},className:t===Lt?"pnamebutton pnamebuttonactive":"pnamebutton"},l.a.createElement("div",null,l.a.createElement("p",{className:"bdgtbtntitle"},e.prodCatName),l.a.createElement("p",null,e.quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")+" mt"),l.a.createElement("p",null,"$ "+e.profit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","))))}):"Please add a product.")),l.a.createElement("div",{className:"budgetprepdata"},l.a.createElement("div",{className:"bdgtleftbottompanel"},l.a.createElement("div",{className:"budgettablesandresponse"},l.a.createElement("div",{className:"budgettables",ref:Ie},ra?Object.keys(ra).map(function(e,t){var a=0,n=0,o=0,s=0,m=0,d=0;return[l.a.createElement("div",{className:"bdgtpnametable"},l.a.createElement("div",{className:"bdgtpnametabletitle"},l.a.createElement("h3",null,"2023 ",e," Budget"),l.a.createElement(le.a,{icon:ie.j,onClick:function(t){Xt(Object(c.a)({},Zt,Object(u.a)({},e,!Zt[e])))}}),l.a.createElement("div",{className:Zt&&Zt[e]?"bdgtselectallcty showbdgtpane":"bdgtselectallcty hidebdgtpane"},l.a.createElement("h4",null,"Select countries to add."),l.a.createElement("div",{className:"bdgtselectctycty"},mr?mr.map(function(t){return l.a.createElement("div",{className:"addctyrow"},l.a.createElement("input",{type:"checkbox",name:t.countryID,onClick:function(a){a.target.checked&&wa?Sa(Object(c.a)({},wa,Object(u.a)({},e,Object(c.a)({},wa[e],Object(u.a)({},t.countryID,t.country))))):Sa(function(a){var r=Object(c.a)({},a);return delete r[e][t.countryID],r})}}),l.a.createElement("label",{for:t.countyID},t.country))}):""),l.a.createElement("div",{className:"addprodcanceladd"},l.a.createElement("button",{className:"cancelprodbutton",onClick:function(t){Xt(Object(c.a)({},Zt,Object(u.a)({},e,!1)))}},"Cancel"),l.a.createElement("button",{className:"addprodbutton",onClick:function(t){Ca(e)}},"Confirm")))),l.a.createElement("div",{className:"board"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"countrycol"},"Country"),l.a.createElement("td",{className:"bdgtdatacol"},"Q1"),l.a.createElement("td",{className:"bdgtdatacol"},"Q2"),l.a.createElement("td",{className:"bdgtdatacol"},"Q3"),l.a.createElement("td",{className:"bdgtdatacol"},"Q4"),l.a.createElement("td",{className:"bdgtdatacol"},"Total"),l.a.createElement("td",{className:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgtdatacol"},"Price"),l.a.createElement("td",{className:"bdgtdatacol"},"Profit"),l.a.createElement("td",{className:"bdgtdatacol"},"Ttl Profit"),l.a.createElement("td",{className:"bdgtdatacol"},"% Mgn"))),l.a.createElement("tbody",null,Object.keys(ra[e]).map(function(t,h){var g=0,b=0,y=0,v=0,E=0,N=0;Object.keys(ra[e][t]).forEach(function(a){g+=ra[e][t][a][0],b+=ra[e][t][a][1],y+=ra[e][t][a][2],v+=ra[e][t][a][3],Ra&&Ra[e]&&Ra[e][t]&&Ra[e][t][a]&&Ra[e][t][a].price&&(E+=Ra[e][t][a].price*(ra[e][t][a][0]+ra[e][t][a][1]+ra[e][t][a][2]+ra[e][t][a][3])),Ra&&Ra[e]&&Ra[e][t]&&Ra[e][t][a]&&Ra[e][t][a].profit&&(N+=Ra[e][t][a].profit*(ra[e][t][a][0]+ra[e][t][a][1]+ra[e][t][a][2]+ra[e][t][a][3]))}),a+=g,n+=b,o+=y,s+=v;var O=0===E?0:E/(g+b+y+v),j=0===N?0:N/(g+b+y+v);return m+=E,d+=N,[l.a.createElement("tr",{className:"bdgtregionrow"},l.a.createElement("td",{className:"bdgtregioncol"},l.a.createElement(le.a,{className:"bdgtctyrowadd",icon:ie.j,onClick:function(a){nr(Object(c.a)({},rr,Object(u.a)({},e,Object(c.a)({},rr[e],Object(u.a)({},t,!rr[e][t]))))),function(e){p.a.post("/bdgtloadregcty",{reg:e}).then(function(t){ir(Object(c.a)({},lr,Object(u.a)({},e,[t.data])))})}(t)}}),"Latin America"===t?"L. America":t,l.a.createElement("div",{className:rr&&rr[e]?rr[e][t]?"bdgtselectcty showbdgtpane":"bdgtselectcty hidebdgtpane":""},l.a.createElement("h4",null,"Select countries to add in ",t),l.a.createElement("div",{className:"bdgtselectctycty"},lr&&lr[t]?lr[t][0].map(function(t){return l.a.createElement("div",{className:"addctyrow"},l.a.createElement("input",{type:"checkbox",name:t.countryID,value:e,onClick:function(a){a.target.checked&&wa?Sa(Object(c.a)({},wa,Object(u.a)({},e,Object(c.a)({},wa[e],Object(u.a)({},t.countryID,t.country))))):Sa(function(a){var r=Object(c.a)({},a);return delete r[e][t.countryID],r})}}),l.a.createElement("label",{for:t.countryID},t.country))}):""),l.a.createElement("div",{className:"addprodcanceladd"},l.a.createElement("button",{className:"cancelprodbutton",onClick:function(a){nr(Object(c.a)({},rr,Object(u.a)({},e,Object(c.a)({},rr[e],Object(u.a)({},t,!rr[e][t])))))}},"Cancel"),l.a.createElement("button",{className:"addprodbutton",onClick:function(t){Ca(e)}},"Confirm")))),l.a.createElement("td",{className:"bdgtregioncolttl"},g),l.a.createElement("td",{className:"bdgtregioncolttl"},b),l.a.createElement("td",{className:"bdgtregioncolttl"},y),l.a.createElement("td",{className:"bdgtregioncolttl"},v),l.a.createElement("td",{className:"bdgtregioncolttl"},g+b+y+v),l.a.createElement("td",{className:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgtregioncolttl"},"$"+O.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgtregioncolttl"},"$"+j.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgtregioncolttl"},"$"+(j*(g+b+y+v)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgtregioncolttl"},0===j||0===O?"0%":(j/O*100).toFixed(1)+"%")),Object.keys(ra[e][t]).map(function(a){var n=er;return er+=2,[l.a.createElement("tr",null,l.a.createElement("td",{className:"countrycol"},"Dominican Republic"===a?"Dom Rep":a),Object.keys(ra[e][t][a]).map(function(n){var o=Xa;return Xa+=1,[l.a.createElement("td",{className:"bdgtdatacol"},l.a.createElement("div",{className:"tile ".concat(ue===o?"active":"")},l.a.createElement("input",{value:ra[e][t][a][n],onChange:function(r){!function(e,t,a,r,n){na(Object(c.a)({},ra,Object(u.a)({},t,Object(c.a)({},ra[t],Object(u.a)({},a,Object(c.a)({},ra[t][a],Object(u.a)({},r,Object(c.a)({},ra[t][a][r],Object(u.a)({},n,Number(e.target.value))))))))))}(r,e,t,a,n)},className:"cell-input",onFocus:function(e){me(o),e.target.select(),at(!0),ot(!1)},ref:function(e){return Le.current[o]=e},onBlur:function(c){!function(e,t,a,r,n,c){var o=Number(e.target.value);o!==Number(la[a][r][n][c])&&o!==Number(ma[a][r][n][c])&&p.a.post("/savebdgtqty",{newqty:o,entryID:Qt[t].budgetentryID}).then(function(e){ze(e.data.msg),pa(ra),Qe(!$e)}),o===Number(la[a][r][n][c])&&Number(ma[a][r][n][c])!==Number(la[a][r][n][c])&&p.a.post("/savebdgtqty",{newqty:o,entryID:Qt[t].budgetentryID}).then(function(e){ze(e.data.msg),pa(ra),Qe(!$e)})}(c,o,e,t,a,n),i(!r)}})))]}),l.a.createElement("td",{className:"bdgtcountrytotals"},ra[e][t][a][0]+ra[e][t][a][1]+ra[e][t][a][2]+ra[e][t][a][3]),l.a.createElement("td",{className:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgtctyeconomics"},l.a.createElement("input",{className:"cell-input",value:Ra&&Ra[e]&&Ra[e][t]&&Ra[e][t][a]&&null!==Ra[e][t][a].price?Ra[e][t][a].price:"na",onChange:function(r){Pe(r,e,t,a,"price")},onFocus:function(e){ge(n),e.target.select(),at(!1),ot(!0),me(-1)},ref:function(e){return Be.current[n]=e},onBlur:function(n){Je(n,0,e,t,a,"price"),i(!r)}})),l.a.createElement("td",{className:"bdgtctyeconomics"},l.a.createElement("input",{className:"cell-input",value:Ra&&Ra[e]&&Ra[e][t]&&Ra[e][t][a]&&null!==Ra[e][t][a].profit?Ra[e][t][a].profit:"na",onChange:function(r){Pe(r,e,t,a,"profit")},onFocus:function(e){ge(n+1),e.target.select(),at(!1),ot(!0),me(-1)},ref:function(e){return Be.current[n+1]=e},onBlur:function(n){Je(n,0,e,t,a,"profit"),i(!r)}})),l.a.createElement("td",{className:"bdgtctyeconomics"},Ra&&ra&&Ra[e]&&ra[e]&&Ra[e][t]&&ra[e][t]&&Ra[e][t][a]&&ra[e][t][a]&&null!==Ra[e][t][a].profit?(Ra[e][t][a].profit*(ra[e][t][a][0]+ra[e][t][a][1]+ra[e][t][a][2]+ra[e][t][a][3])).toFixed(0):0),l.a.createElement("td",{className:"bdgtctyeconomics"},Ra&&Ra[e]&&Ra[e][t]&&Ra[e][t][a]&&null!==Ra[e][t][a].profit&&0!==Ra[e][t][a].price?(Ra[e][t][a].profit/Ra[e][t][a].price*100).toFixed(1)+"%":"0%"),l.a.createElement(le.a,{className:"bdgtctydelete",icon:ie.i,onClick:function(r){Ht(Object(c.a)({},Ut,Object(u.a)({},e,Object(c.a)({},Ut[e],Object(u.a)({},t,Object(c.a)({},Ut[e][t],Object(u.a)({},a,!Ut[e][t][a])))))))}}),l.a.createElement("button",{className:Ut&&Ut[e]&&!0===Ut[e][t][a]?"bdgtctydeletebtn showbdgtpane":"bdgtctydeletebtn hidebdgtpane",onClick:function(t){var r,n;r=e,n=a,p.a.post("/bdgtdelctyrow",{pname:va[r],countryid:ha[n],year:f}).then(function(e){Ta(!Pa)})}},"Delete"))]})]}),l.a.createElement("tr",null,l.a.createElement("td",{className:"bdgttotal"},"Total"),l.a.createElement("td",{className:"bdgttotalqty"},a),l.a.createElement("td",{className:"bdgttotalqty"},n),l.a.createElement("td",{className:"bdgttotalqty"},o),l.a.createElement("td",{className:"bdgttotalqty"},s),l.a.createElement("td",{className:"bdgttotalqty"},a+n+o+s),l.a.createElement("td",{class:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgttotalqty"},0===m||a+n+o+s===0?0:"$"+(m/(a+n+o+s)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgttotalqty"},0===d||a+n+o+s===0?0:"$"+(d/(a+n+o+s)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgttotalqty"},0===d?0:"$"+d.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgttotalqty"},0===d||0==m?0:(d/m*100).toFixed(1)+"%"))))))]}):""),l.a.createElement("span",{className:"bdgtresponsemsg",ref:e},He)),l.a.createElement("div",{className:"lyearfigures"},ra&&Qa?Object.keys(ra).map(function(e){var t=0,a=0,r=0;return[l.a.createElement("h3",null,f-1," ",e," Sales Figures"),l.a.createElement("table",{className:"lyeartable"},l.a.createElement("thead",{className:"lyearhead"},l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearcountrycol"},"Country"),l.a.createElement("td",{className:"lyeardatah"},"Qty"),l.a.createElement("td",{className:"lyeardatah"},"Price"),l.a.createElement("td",{className:"lyeardatah"},"Profit"))),l.a.createElement("tbody",null,Object.keys(ra[e]).map(function(n){var c=0,o=0,i=0;return Object.keys(ra[e][n]).forEach(function(t){Qa&&Qa[e]&&Qa[e][n]&&Qa[e][n][t]&&Qa[e][n][t].quantity&&Qa[e][n][t].avgprice&&Qa[e][n][t].avgprofit&&(c+=Qa[e][n][t].quantity,o+=Qa[e][n][t].quantity*Qa[e][n][t].avgprice,i+=Qa[e][n][t].quantity*Qa[e][n][t].avgprofit)}),[l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearregrow lyearcountrycol"},"Latin America"===n?"L. America":n),l.a.createElement("td",{className:"lyearregrowdata"},c),l.a.createElement("td",{className:"lyearregrowdata"},0===c?0:"$ "+(o/c).toFixed(0)),l.a.createElement("td",{className:"lyearregrowdata"},0===c?0:"$ "+(i/c).toFixed(0))),Object.keys(ra[e][n]).map(function(c){return Qa&&Qa[e]&&Qa[e][n]&&Qa[e][n][c]&&Qa[e][n][c].quantity&&(t+=Qa[e][n][c].quantity),Qa&&Qa[e]&&Qa[e][n]&&Qa[e][n][c]&&Qa[e][n][c].quantity&&Qa[e][n][c].avgprice&&(a+=Qa[e][n][c].avgprice*Qa[e][n][c].quantity),Qa&&Qa[e]&&Qa[e][n]&&Qa[e][n][c]&&Qa[e][n][c].quantity&&Qa[e][n][c].avgprofit&&(r+=Qa[e][n][c].avgprofit*Qa[e][n][c].quantity),[l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearcountrycol"},"Dominican Republic"===c?"Dom Rep":c),l.a.createElement("td",{className:"lyeardata"},Qa&&Qa[e]&&Qa[e][n]&&Qa[e][n][c]&&Qa[e][n][c].quantity?Qa[e][n][c].quantity:0),l.a.createElement("td",{className:"lyeardata"},Qa&&Qa[e]&&Qa[e][n]&&Qa[e][n][c]&&Qa[e][n][c].avgprice?"$ "+Qa[e][n][c].avgprice:0),l.a.createElement("td",{className:"lyeardata"},Qa&&Qa[e]&&Qa[e][n]&&Qa[e][n][c]&&Qa[e][n][c].avgprofit?"$ "+Qa[e][n][c].avgprofit:0))]})]}),l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearcountrycolttl"},"Total"),l.a.createElement("td",{className:"lyeardatattl"},t),l.a.createElement("td",{className:"lyeardatattl"},0===t?0:"$ "+(a/t).toFixed(0)),l.a.createElement("td",{className:"lyeardatattl"},0===t?0:"$ "+(r/t).toFixed(0)))))]}):"")),l.a.createElement("div",{className:"budgetbyprod"},l.a.createElement("h4",null,"Budget Summary Figures 2023"),l.a.createElement("div",{className:"bdgtsummarybuttons1"},l.a.createElement("p",null,"Level 1:"),l.a.createElement("button",{onClick:function(e){Er("region"),Nt(1)},className:1===Et?"bdgtlvl1active":""},"Region"),l.a.createElement("button",{onClick:function(e){Er("productGroup"),Nt(2)},className:2===Et?"bdgtlvl1active":""},"Group"),l.a.createElement("button",{onClick:function(e){Er("prodCatName"),Nt(3)},className:3===Et?"bdgtlvl1active":""},"Category"),l.a.createElement("button",{onClick:function(e){Er("abbreviation"),Nt(4)},className:4===Et?"bdgtlvl1active":""},"Name"),l.a.createElement("button",{onClick:function(e){Er("country"),Nt(5)},className:5===Et?"bdgtlvl1active":""},"Country")),l.a.createElement("div",{className:"bdgtsummarybuttons2"},l.a.createElement("p",null,"Level 2:"),l.a.createElement("button",{onClick:function(e){xr("region"),wt(1)},className:1===xt?"bdgtlvl2active":""},"Region"),l.a.createElement("button",{onClick:function(e){xr("productGroup"),wt(2)},className:2===xt?"bdgtlvl2active":""},"Group"),l.a.createElement("button",{onClick:function(e){xr("prodCatName"),wt(3)},className:3===xt?"bdgtlvl2active":""},"Category"),l.a.createElement("button",{onClick:function(e){xr("abbreviation"),wt(4)},className:4===xt?"bdgtlvl2active":""},"Name"),l.a.createElement("button",{onClick:function(e){xr("country"),wt(5)},className:5===xt?"bdgtlvl2active":""},"Country")),l.a.createElement("div",{className:"bdgtsummarybuttons"},l.a.createElement("p",null,"Show:"),l.a.createElement("button",{onClick:function(e){Dr("quantity"),kt(1)},className:1===Dt?"bdgtlvl3active":""},"Quantity (mt)"),l.a.createElement("button",{onClick:function(e){Dr("profit"),kt(2)},className:2===Dt?"bdgtlvl3active":""},"Profit ($)"),l.a.createElement("button",{onClick:function(e){Dr("avgprofit"),kt(3)},className:3===Dt?"bdgtlvl3active":""},"Avg. Profit ($)"),l.a.createElement("button",{onClick:function(e){Dr("margin"),kt(4)},className:4===Dt?"bdgtlvl3active":""},"Margin (%)")),l.a.createElement("ul",{className:"bdgtsummarytable"},l.a.createElement("li",{className:"stblrow stblheader"},l.a.createElement("p",{className:"stblcollarge"},"Country"),l.a.createElement("p",{className:"stblfig"},"Q1"),l.a.createElement("p",{className:"stblfig"},"Q2"),l.a.createElement("p",{className:"stblfig"},"Q3"),l.a.createElement("p",{className:"stblfig"},"Q4"),l.a.createElement("p",{className:"stblfig"},"Total")),l.a.createElement("div",{className:"bdgtsummarydata"},Ye?Object.entries(Ye.groupBy(vr)).sort(function(e,t){var a=Object(n.a)(e,2)[1],r=Object(n.a)(t,2)[1];return"quantity"===Cr||"profit"===Cr?Mr(r,Cr)-Mr(a,Cr):"avgprofit"===Cr?Yr(r,"profit","quantity")-Yr(a,"profit","quantity"):"margin"===Cr?Yr(r,"profit","revenue")-Yr(a,"profit","revenue"):void 0}).map(function(e,t){var a=0,r=0,c=0,o=0,i=0,s=0,u=0,m=0,p=0,d=0,f=0,h=0;return e[1].forEach(function(e){1===e.quarter&&(a+=e.quantity,i+=e.profit,p+=e.revenue),2===e.quarter&&(r+=e.quantity,s+=e.profit,d+=e.revenue),3===e.quarter&&(c+=e.quantity,u+=e.profit,f+=e.revenue),4===e.quarter&&(o+=e.quantity,m+=e.profit,h+=e.revenue)}),[l.a.createElement(Ne.a,{className:"bdgtacc",allowZeroExpanded:!0},l.a.createElement(Ne.b,{style:{border:"none"}},l.a.createElement(Ne.d,null,l.a.createElement(Ne.c,{className:"bsummaccordion_button"},l.a.createElement("li",{className:"stblrow"},l.a.createElement("p",{className:"stblcollarge"},"Latin America"===e[0]?"L. America":"Dominican Republic"===e[0]?"Dom Rep":e[0]),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?a.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$"+i.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==i&&0!==a&&"avgprofit"===Cr?"$"+(i/a).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==i&&0!==a&&"margin"===Cr?(i/p*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?r.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+s.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==s&&0!==r&&"avgprofit"===Cr?"$"+(s/r).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==s&&0!==r&&"margin"===Cr?(s/d*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?c.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+u.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==u&&0!==c&&"avgprofit"===Cr?"$"+(u/c).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==u&&0!==c&&"margin"===Cr?(u/f*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?o.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+m.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==m&&0!==o&&"avgprofit"===Cr?"$"+(m/o).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==m&&0!==o&&"margin"===Cr?(m/h*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===Cr?(a+r+c+o).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+(i+s+u+m).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):i+s+u+m!==0&&a+r+c+o!==0&&"avgprofit"===Cr?"$"+((i+s+u+m)/(a+r+c+o)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):i+s+u+m!==0&&p+d+f+h!==0&&"margin"===Cr?((i+s+u+m)/(p+d+f+h)*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-")))),l.a.createElement(Ne.e,{className:"bdgtaccpanel"},Object.entries(e[1].groupBy(jr)).sort(function(e,t){var a=Object(n.a)(e,2)[1],r=Object(n.a)(t,2)[1];return"quantity"===Cr||"profit"===Cr?Mr(r,Cr)-Mr(a,Cr):"avgprofit"===Cr?Yr(r,"profit","quantity")-Yr(a,"profit","quantity"):"margin"===Cr?Yr(r,"profit","revenue")-Yr(a,"profit","revenue"):void 0}).map(function(e){var t=0,a=0,r=0,n=0,c=0,o=0,i=0,s=0,u=0,m=0,p=0,d=0;return e[1].forEach(function(e){1===e.quarter&&(t+=e.quantity,c+=e.profit,u+=e.revenue,Lr+=e.quantity,qr+=e.profit,Gr+=e.revenue),2===e.quarter&&(a+=e.quantity,o+=e.profit,m+=e.revenue,Br+=e.quantity,$r+=e.profit,_r+=e.revenue),3===e.quarter&&(r+=e.quantity,i+=e.profit,p+=e.revenue,Pr+=e.quantity,Qr+=e.profit,Rr+=e.revenue),4===e.quarter&&(n+=e.quantity,s+=e.profit,d+=e.revenue,Tr+=e.quantity,Ar+=e.profit,Kr+=e.revenue)}),l.a.createElement("li",{className:"stblrow"},l.a.createElement("p",{className:"stblcollarge"},"Dominican Republic"===e[0]?"Dom Rep":"Latin America"===e[0]?"L. America":e[0]),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?t.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+c.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==c&&0!==t&&"avgprofit"===Cr?"$ "+(c/t).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==c&&0!==u&&"margin"===Cr?(c/u*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?a.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+o.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==o&&0!==a&&"avgprofit"===Cr?"$ "+(o/a).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==o&&0!==m&&"margin"===Cr?(o/m*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?r.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+i.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==i&&0!==r&&"avgprofit"===Cr?"$ "+(i/r).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==i&&0!==p&&"margin"===Cr?(i/p*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===Cr?n.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+s.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==s&&0!==n&&"avgprofit"===Cr?"$ "+(s/n).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==s&&0!==d&&"margin"===Cr?(s/d*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===Cr?(t+a+r+n).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+(c+o+i+s).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):c+o+i+s!==0&&t+a+r+n!==0&&"avgprofit"===Cr?"$ "+((c+o+i+s)/(t+a+r+n)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):c+o+i+s!==0&&u+m+p+d!==0&&"margin"===Cr?((c+o+i+s)/(u+m+p+d)*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"))}))))]}):"",l.a.createElement("li",{className:"stblrow stblfooter"},l.a.createElement("p",{className:"stblcollarge  stbltotal"},"TOTAL"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===Cr?Lr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+qr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==Lr&&0!==qr&&"avgprofit"===Cr?"$"+(qr/Lr).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==Lr&&0!==Gr&&"margin"===Cr?(qr/Gr*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===Cr?Br.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+$r.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==Br&&0!==$r&&"avgprofit"===Cr?"$"+($r/Br).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==_r&&0!==$r&&"margin"===Cr?($r/_r*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===Cr?Pr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+Qr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==Pr&&0!==Qr&&"avgprofit"===Cr?"$"+(Qr/Pr).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==Rr&&0!==Qr&&"margin"===Cr?(Qr/Rr*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===Cr?Tr.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+Ar.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==Tr&&0!==Ar&&"avgprofit"===Cr?"$"+(Ar/Tr).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==Kr&&0!==Ar&&"margin"===Cr?(Ar/Kr*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===Cr?(Lr+Br+Pr+Tr).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===Cr?"$ "+(qr+$r+Qr+Ar).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):Lr+Br+Pr+Tr!==0&&qr+$r+Qr+Ar!==0&&"avgprofit"===Cr?"$"+((qr+$r+Qr+Ar)/(Lr+Br+Pr+Tr)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):Gr+_r+Rr+Kr!==0&&qr+$r+Qr+Ar!==0&&"margin"===Cr?((qr+$r+Qr+Ar)/(Gr+_r+Rr+Kr)*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-")))))))},De=function(){var e=Object(o.useState)(!1),t=Object(n.a)(e,2),a=t[0],r=t[1],c=Object(o.useState)({x:0,y:0}),l=Object(n.a)(c,2);return{clicked:a,setClicked:r,points:l[0],setPoints:l[1]}};a(726);function ke(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Fe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Fe(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,c=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw c}}}}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Ie(){Ie=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof m?t:m,c=Object.create(n.prototype),o=new j(r||[]);return c._invoke=function(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return w()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=s(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),c}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var u={};function m(){}function p(){}function d(){}var f={};l(f,n,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,n)&&(f=g);var b=d.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function v(e,t){var r;this._invoke=function(n,c){function o(){return new t(function(r,o){!function r(n,c,o,l){var i=s(e[n],e,c);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,l)})}l(i.arg)}(n,c,r,o)})}return r=r?r.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,c=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),l(v.prototype,c,function(){return this}),e.AsyncIterator=v,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new v(i(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(b),l(b,o,"Generator"),l(b,n,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var Le=function(){var e=De(),t=e.clicked,a=e.setClicked,r=(e.points,e.setPoints),i=Object(o.useState)(""),s=Object(n.a)(i,2),m=s[0],d=s[1],f=JSON.parse(localStorage.getItem("WGusercode")),h=Object(o.useRef)(null),g=Object(o.useRef)(null),b=Object(o.useState)(!1),y=Object(n.a)(b,2),v=y[0],E=y[1],N=function(){lt("")},O=Object(o.useState)(2024),j=Object(n.a)(O,2),x=j[0];j[1];Object(o.useEffect)(function(){var e=g.current;pe.a.fromTo(e,{opacity:1},{opacity:0,duration:2,ease:"power1.inOut",onComplete:N})},[v]);var w=Object(o.useRef)(null);Object(o.useEffect)(function(){var e=w.current;pe.a.fromTo(e,{opacity:1},{opacity:0,duration:15,ease:"power1.inOut"})},[kn]);var S=Object(o.useState)(),C=Object(n.a)(S,2),D=C[0],k=C[1],F=Object(o.useRef)(null);Object(o.useEffect)(function(){p.a.post("/budgetprodNames").then(function(e){k(e.data),V(e.data)})},[]);var I=Object(o.useState)(!1),L=Object(n.a)(I,2),B=L[0],T=L[1],q=function(){var e=Object(P.a)(Ie().mark(function e(){return Ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,t){T(!B),e()});case 2:!1===B&&F.current.focus(),R("");case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),$=[],Q=[],A=Object(o.useState)(),G=Object(n.a)(A,2),_=G[0],R=G[1],K=Object(o.useState)(),M=Object(n.a)(K,2),Y=M[0],V=M[1];Object(o.useEffect)(function(){if(D)if(_&&""!==_){var e=D.filter(function(e){if(_&&""!==_)return e.abbreviation.toLowerCase().includes(_.toLowerCase())});V(e)}else V(D)},[_]);var W=Object(o.useState)(!1),U=Object(n.a)(W,2),H=U[0],z=U[1],J=Object(o.useState)(),Z=Object(n.a)(J,2),X=Z[0],ee=Z[1],te=Object(o.useState)(),ae=Object(n.a)(te,2),re=ae[0],ce=ae[1],se=Object(o.useState)(),ue=Object(n.a)(se,2),me=ue[0],de=ue[1],fe=Object(o.useState)(4),he=Object(n.a)(fe,2),ge=he[0],be=(he[1],Object(o.useState)(2)),ye=Object(n.a)(be,2),ve=ye[0],Ee=(ye[1],Object(o.useState)(-1)),je=Object(n.a)(Ee,2),xe=je[0],we=je[1],Se=Object(o.useState)(-1),Ce=Object(n.a)(Se,2),Fe=Ce[0],Le=Ce[1],Be=Object(o.useState)(!1),Pe=Object(n.a)(Be,2),Te=(Pe[0],Pe[1]),qe=Object(o.useState)(!1),$e=Object(n.a)(qe,2),Qe=$e[0],Ae=$e[1],Ge=Object(o.useState)([]),_e=Object(n.a)(Ge,2),Re=(_e[0],_e[1],Object(o.useRef)()),Ke=Object(o.useRef)([]),Me=Object(o.useRef)([]),Ye=function(e,t,a,r,n){tr(Object(c.a)({},er,Object(u.a)({},t,Object(c.a)({},er[t],Object(u.a)({},a,Object(c.a)({},er[t][a],Object(u.a)({},r,Object(c.a)({},er[t][a][r],Object(u.a)({},n,Number(e.target.value))))))))))},Ve=Object(o.useState)(!1),We=Object(n.a)(Ve,2),Ue=We[0],He=We[1],ze=Object(o.useState)({}),Je=Object(n.a)(ze,2),Ze=Je[0],Xe=Je[1],et=Object(o.useState)(),tt=Object(n.a)(et,2),at=tt[0],rt=tt[1];Object(o.useEffect)(function(){p.a.post("/yearbudgetdata",{year:x}).then(function(e){Kr(e.data),Xe(Mr(e.data))}),p.a.post("/budgetgroupbtns",{year:x}).then(function(e){ee(e.data)}),p.a.post("/budgetfilterbtns",{year:x}).then(function(e){ce(e.data)}),p.a.post("/bdgtregiondata",{year:x}).then(function(e){rt(e.data)})},[Ue]),Object(o.useEffect)(function(){p.a.post("/budgetfilterbtns",{year:x}).then(function(e){ce(e.data)})},[H]);var nt=Object(o.useState)(),ct=Object(n.a)(nt,2),ot=ct[0],lt=ct[1],it=function(e,t,a,r,n,c){var o=Number(e.target.value);o!==Number(nr[a][r][n][c])&&o!==Number(ir[a][r][n][c])&&p.a.post("/savebdgteconfig",{year:x,item:c,value:o,prod:Fa[a],cty:Sa[n]}).then(function(e){lt(e.data.msg),sr(er),He(!Ue)}),o===Number(nr[a][r][n][c])&&Number(ir[a][r][n][c])!==Number(nr[a][r][n][c])&&p.a.post("/savebdgteconfig",{year:x,item:c,value:o,prod:Fa[a],cty:Sa[n]}).then(function(e){lt(e.data.msg),sr(er),He(!Ue)})},st=Object(o.useCallback)(function(e){Re.current&&Re.current.contains(e.target)?"cell-input"===e.target.className&&(Te(!0),Ae(!0)):Te(!1)},[Re,Te]),ut=Object(o.useState)(!1),mt=Object(n.a)(ut,2),pt=mt[0],dt=mt[1],ft=Object(o.useState)(!1),ht=Object(n.a)(ft,2),gt=ht[0],bt=ht[1],yt=Object(o.useCallback)(function(e){if(pt)switch(e.key){case"ArrowUp":xe>=ge&&we(xe-ge);break;case"ArrowDown":xe<ge*me-ge&&we(xe+ge);break;case"ArrowRight":xe<me*ge-1&&we(xe+1);break;case"ArrowLeft":xe>0&&we(xe-1)}if(gt)switch(e.key){case"ArrowUp":Fe>=ve&&Le(Fe-ve);break;case"ArrowDown":Fe<ve*me-ve&&Le(Fe+ve);break;case"ArrowRight":Fe<me*ve-1&&Le(Fe+1);break;case"ArrowLeft":Fe>0&&Le(Fe-1)}});Object(o.useEffect)(function(){return window.addEventListener("mousedown",st),window.addEventListener("keydown",yt),function(){window.removeEventListener("mousedown",st),window.removeEventListener("keydown",yt)}},[st,yt]);var vt=Object(o.useCallback)(function(){if(xe>=0&&xe<me*ge){var e=Ke.current[xe];e&&(Qe?e.focus():e.blur())}},[xe,Qe,Ke,me,ge]);Object(o.useEffect)(vt,[xe,vt]);var Et=Object(o.useCallback)(function(){if(Fe>=0&&Fe<me*ve){var e=Me.current[Fe];e&&(Qe?e.focus():e.blur())}},[Fe,Qe,Me,me,ve]);Object(o.useEffect)(Et,[Fe,Et]);var Nt=Object(o.useState)(),Ot=Object(n.a)(Nt,2),jt=Ot[0],xt=Ot[1],wt=Object(o.useState)(),St=Object(n.a)(wt,2),Ct=St[0],Dt=St[1],kt=Object(o.useState)(1),Ft=Object(n.a)(kt,2),It=Ft[0],Lt=Ft[1],Bt=Object(o.useState)(5),Pt=Object(n.a)(Bt,2),Tt=Pt[0],qt=Pt[1],$t=Object(o.useState)(1),Qt=Object(n.a)($t,2),At=Qt[0],Gt=Qt[1],_t=Object(o.useState)(),Rt=Object(n.a)(_t,2),Kt=Rt[0],Mt=Rt[1],Yt=Object(o.useState)(),Vt=Object(n.a)(Yt,2);Vt[0],Vt[1];Array.prototype.groupBy=function(e){return this.reduce(function(t,a){var r=a[e];return t[r]=t[r]||[],t[r].push(a),t},{})};var Wt=Object(o.useState)(),Ut=Object(n.a)(Wt,2),Ht=Ut[0],zt=Ut[1],Jt=Object(o.useState)(),Zt=Object(n.a)(Jt,2),Xt=(Zt[0],Zt[1],Object(o.useState)()),ea=Object(n.a)(Xt,2),ta=(ea[0],ea[1],Object(o.useState)()),aa=Object(n.a)(ta,2),ra=(aa[0],aa[1],Object(o.useState)({})),na=Object(n.a)(ra,2),ca=na[0],oa=na[1],la=Object(o.useState)({}),ia=Object(n.a)(la,2),sa=ia[0],ua=ia[1],ma=function(e){var t={},a={},r={},n={},c={},o={},l={},i={},s={},u={};return Object.entries(e.groupBy("abbreviation")).forEach(function(e){var m=e[0],p=Object.entries(e[1].groupBy("region"));u[m]=!1,p.forEach(function(e){var n=e[0];c[n]=!1,Object.entries(e[1].groupBy("country")).forEach(function(e){var r=e[0];l[r]=!1,e[1].forEach(function(e,a){t[a]=e.quantity}),a[r]=t,t={}}),o[m]=c,i[n]=l,l={},Lr(o),r[n]=a,a={}}),s[m]=i,i={},c={},n[m]=r,r={}}),oa(s),ua(u),n},pa=Object(o.useState)(),da=Object(n.a)(pa,2),fa=da[0],ha=da[1],ga=Object(o.useState)(),ba=Object(n.a)(ga,2),ya=ba[0],va=ba[1],Ea=Object(o.useState)(),Na=Object(n.a)(Ea,2),Oa=Na[0],ja=Na[1],xa=Object(o.useState)(),wa=Object(n.a)(xa,2),Sa=wa[0],Ca=wa[1],Da=Object(o.useState)(),ka=Object(n.a)(Da,2),Fa=ka[0],Ia=ka[1],La=Object(o.useState)(),Ba=Object(n.a)(La,2),Pa=(Ba[0],Ba[1],Object(o.useState)({})),Ta=Object(n.a)(Pa,2),qa=Ta[0],$a=Ta[1],Qa=function(e){p.a.post("/addbdgtcty",{countries:Object.keys(qa[e]),pname:Fa[e],pcatname:_a,year:x}).then(function(){Va(!Ya)})},Aa=Object(o.useState)(),Ga=Object(n.a)(Aa,2),_a=Ga[0],Ra=Ga[1],Ka=Object(o.useState)(!1),Ma=Object(n.a)(Ka,2),Ya=Ma[0],Va=Ma[1],Wa=Object(o.useState)({}),Ua=Object(n.a)(Wa,2),Ha=Ua[0],za=Ua[1],Ja=function(e){if(Array.isArray(e)){var t={},a={},r={};return Object.entries(e.groupBy("abbreviation")).forEach(function(e){var n=e[0];Object.entries(e[1].groupBy("region")).forEach(function(e){var r=e[0];e[1].forEach(function(e){t[e.country]={quantity:Number(e.quantity.toFixed(0)),avgprice:e.avgprice?Number(e.avgprice.replace(/,/g,"")):0,avgprofit:e.avgprofit?Number(e.avgprofit.replace(/,/g,"")):0,totalprofit:e.totalprofit?Number(e.totalprofit.replace(/,/g,"")):0}}),a[r]=t,t={}}),r[n]=a,a={}}),r}},Za=Object(o.useState)({}),Xa=Object(n.a)(Za,2),er=Xa[0],tr=Xa[1],ar=Object(o.useState)({}),rr=Object(n.a)(ar,2),nr=rr[0],cr=rr[1],or=Object(o.useState)({}),lr=Object(n.a)(or,2),ir=lr[0],sr=lr[1],ur=function(e){var t={},a={},r={},n=0,c=0,o=0;return Object.entries(e.groupBy("abbreviation")).forEach(function(e){var l=e[0];Object.entries(e[1].groupBy("region")).forEach(function(e){var r=e[0];Object.entries(e[1].groupBy("country")).forEach(function(e){var a=e[0];e[1].forEach(function(e){n+=e.quantity,c+=e.quantity*e.price,o+=e.quantity*e.profit}),t[a]={price:0===n||0===c?0:c/n,profit:0===n||0===o?0:o/n,quantity:n},n=0,c=0,o=0}),a[r]=t,t={}}),r[l]=a,a={}}),r},mr=Object(o.useState)(),pr=Object(n.a)(mr,2),dr=pr[0],fr=pr[1],hr=Object(o.useState)(),gr=Object(n.a)(hr,2),br=gr[0],yr=gr[1],vr=Object(o.useState)(),Er=Object(n.a)(vr,2),Nr=Er[0],Or=Er[1];Object(o.useEffect)(function(){_a&&""!==_a&&(p.a.post("/getbudgetdata",{prodcat:_a,year:x}).then(function(e){zt(e.data),de(e.data.length/4),ha(ma(e.data)),va(ma(e.data)),ja(ma(e.data)),function(e){var t=Object(ne.a)(new Set(e.map(function(e){return e.country}))),a=Object(ne.a)(new Set(e.map(function(e){return e.countryID}))),r={};t.forEach(function(e,t){return r[e]=a[t]}),Ca(r);var n=Object(ne.a)(new Set(e.map(function(e){return e.abbreviation}))),c=Object(ne.a)(new Set(e.map(function(e){return e.prodNameID}))),o={};n.forEach(function(e,t){return o[e]=c[t]}),Ia(o)}(e.data),tr(ur(e.data)),cr(ur(e.data)),sr(ur(e.data))}),p.a.post("/budgetlyearsales",{year:x,prodcat:_a}).then(function(e){za(Ja(e.data))}),p.a.post("/bdgtlyearbdgt",{prodcat:_a,year:x}).then(function(e){fr(Ja(e.data))}))},[_a,Ya]);var jr=Object(o.useState)(!1),xr=Object(n.a)(jr,2),wr=xr[0],Sr=xr[1];Object(o.useEffect)(function(){p.a.post("/getbdgtcomments",{prodcat:_a,year:x}).then(function(e){if(yr(e.data),Array.isArray(e.data)){var t=Object(ne.a)(new Set(e.data.map(function(e){return e.budgetEntryID})));Or(t)}else Or([])})},[_a,Ya,wr]);var Cr=0,Dr=0,kr=Object(o.useState)(),Fr=Object(n.a)(kr,2),Ir=Fr[0],Lr=Fr[1],Br=Object(o.useState)(),Pr=Object(n.a)(Br,2),Tr=Pr[0],qr=Pr[1],$r=Object(o.useState)(),Qr=Object(n.a)($r,2),Ar=Qr[0],Gr=Qr[1];Object(o.useEffect)(function(){p.a.post("/bdgtfullcountrylist").then(function(e){Gr(e.data)})},[]);var _r=Object(o.useState)(),Rr=Object(n.a)(_r,2),Kr=(Rr[0],Rr[1]),Mr=function(e){var t=0,a=0,r=0,n={};return Object.entries(e.groupBy("year")).forEach(function(e){var c=e[0];e[1].forEach(function(e){t+=e.quantity,a+=e.revenue,r+=e.totalprofit}),n[c]={quantity:t,revenue:a,totalprofit:r},t=0,a=0,r=0}),n},Yr=Object(o.useState)("region"),Vr=Object(n.a)(Yr,2),Wr=Vr[0],Ur=Vr[1],Hr=Object(o.useState)("country"),zr=Object(n.a)(Hr,2),Jr=zr[0],Zr=zr[1],Xr=Object(o.useState)("quantity"),en=Object(n.a)(Xr,2),tn=en[0],an=en[1],rn=Object(o.useState)(),nn=Object(n.a)(rn,2),cn=(nn[0],nn[1]);Object(o.useEffect)(function(){p.a.post("/bdgtlyearsalestotals",{year:x}).then(function(e){cn(e.data)})},[]);var on=0,ln=0,sn=0,un=0,mn=0,pn=0,dn=0,fn=0,hn=0,gn=0,bn=0,yn=0,vn=function(e,t){var a,r=0,n=ke(e);try{for(n.s();!(a=n.n()).done;)r+=a.value[t]}catch(c){n.e(c)}finally{n.f()}return r},En=function(e,t,a){var r,n=0,c=0,o=ke(e);try{for(o.s();!(r=o.n()).done;){var l=r.value;n+=l[t],c+=l[a]}}catch(i){o.e(i)}finally{o.f()}return 0!==n&&0!==c?n/c:0},Nn=Object(o.useState)(),On=Object(n.a)(Nn,2),jn=(On[0],On[1],Object(o.useState)()),xn=Object(n.a)(jn,2),wn=(xn[0],xn[1],Object(o.useState)()),Sn=Object(n.a)(wn,2),Cn=(Sn[0],Sn[1],Object(o.useState)(!1)),Dn=Object(n.a)(Cn,2),kn=Dn[0];Dn[1];return l.a.createElement("div",null,l.a.createElement("div",{className:"bdgttitles"},l.a.createElement("h2",{className:"bdgttitle"},x," Budget"),l.a.createElement("div",{className:"addprodgroup"},l.a.createElement("button",{className:"addprodbutton",onClick:function(e){q()}},"Add Product"),B?l.a.createElement("div",{className:"addprodpane"},l.a.createElement("input",{ref:F,value:_,onChange:function(e){R(e.target.value)},placeholder:"Search Product Name",type:"text"}),l.a.createElement("ul",null,Y?Y.map(function(e){return[l.a.createElement("div",{className:"addprodrow"},l.a.createElement("input",{type:"checkbox",name:e.prodNameID,id:e.prodNameID,value:e.prodNameID,onClick:function(t){if(t.target.checked)$.push(e.prodNameID),Q.push(e.prodCatNameID);else for(var a=0;a<$.length;a++)$[a]===e.prodNameID&&$.splice(a,1),Q[a]===e.prodCatNameID&&Q.splice(a,1)}})," ",l.a.createElement("label",{for:e.prodNameID},e.abbreviation))]}):"Please add a product."),l.a.createElement("div",{className:"addprodcanceladd"},l.a.createElement("button",{className:"cancelprodbutton",onClick:function(e){T(!1),R("")}},"Cancel"),l.a.createElement("button",{onClick:function(e){p.a.post("/addprodbudget",{prodstoadd:$,prodscattoadd:Q,year:x}).then(function(e){z(!H)}),T(!1)},className:"addprodbutton"},"Confirm"))):""),l.a.createElement(Oe.a,{csvData:at,fileName:"budget2024"})),l.a.createElement("div",{className:"bdgttotals"},l.a.createElement("ul",{className:"bdgttotalsul"},l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},Ze&&Ze[x]&&Ze[x].quantity?Ze[x].quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0," ","mt"),l.a.createElement("p",{className:"bdgttyearname"},"Quantity"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,x-1," Budget:"),l.a.createElement("p",null,Ze&&Ze[x-1]&&Ze[x-1].quantity?Ze[x-1].quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0," ","mt")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,x-2," Budget:"),l.a.createElement("p",null,"115,479 mt"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},Ze&&Ze[x]&&Ze[x].revenue?"$"+Ze[x].revenue.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0),l.a.createElement("p",{className:"bdgttyearname"},"Revenue"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,x-1," Budget:"),l.a.createElement("p",null,Ze&&Ze[x-1]&&Ze[x-1].revenue?"$"+Ze[x-1].revenue.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,x-2," Revenue:"),l.a.createElement("p",null,"$91,611,788"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},Ze&&Ze[x]&&Ze[x].totalprofit?"$"+Ze[x].totalprofit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0),l.a.createElement("p",{className:"bdgttyearname"},"Profit"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,x-1," Budget:"),l.a.createElement("p",null,Ze&&Ze[x-1]&&Ze[x-1].totalprofit?"$"+Ze[x-1].totalprofit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,x-2," Budget:"),l.a.createElement("p",null,"$8,195,715"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},Ze&&Ze[x]&&Ze[x].totalprofit?"$"+(Ze[x].totalprofit/Ze[x].quantity).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0),l.a.createElement("p",{className:"bdgttyearname"},"Avg Profit"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,x-1," Budget:"),l.a.createElement("p",null,Ze&&Ze[x-1]&&Ze[x-1].totalprofit?"$"+(Ze[x-1].totalprofit/Ze[x-1].quantity).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$0")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,x-2," Budget:"),l.a.createElement("p",null,"$53"))),l.a.createElement("li",null,l.a.createElement("p",{className:"bdgttyearfig"},Ze&&Ze[x]&&Ze[x].totalprofit?(Ze[x].totalprofit/Ze[x].revenue*100).toFixed(1)+"%":0),l.a.createElement("p",{className:"bdgttyearname"},"Margin"),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,x-1," Budget:"),l.a.createElement("p",null,Ze&&Ze[x-1]&&Ze[x-1].totalprofit?(Ze[x-1].totalprofit/Ze[x-1].revenue*100).toFixed(1)+"%":"0.0%")),l.a.createElement("div",{className:"bdgtlyearfigs"},l.a.createElement("p",null,x-2," Margin:"),l.a.createElement("p",null,"5.3%"))))),l.a.createElement("div",{className:"budgetfilterbuttons"},l.a.createElement("div",{className:"pgroupfbtns"},l.a.createElement("p",null,"Product Groups:"),X?X.map(function(e,t){return l.a.createElement("button",{key:t,onClick:function(a){return function(e,t,a){e.preventDefault(),xt(t),Dt(a)}(a,t,e.productGroup)},className:t===jt?"budgetfilterbutton budgetfilterbuttonactive":"budgetfilterbutton"},l.a.createElement("div",null,l.a.createElement("p",{className:"bdgtbtntitle"},e.productGroup),l.a.createElement("p",null,e.quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")+" mt"),l.a.createElement("p",null,"$ "+e.profit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","))))}):"Please add a product."),l.a.createElement("div",{className:"pnamefbtns"},l.a.createElement("p",null,"Product Name:"),re?re.map(function(e,t){if(e.productGroup===Ct)return l.a.createElement("button",{key:t,onClick:function(a){!function(e,t,a){e.preventDefault(),Mt(t),Ra(a.prodCatNameID)}(a,t,e)},className:t===Kt?"pnamebutton pnamebuttonactive":"pnamebutton"},l.a.createElement("div",null,l.a.createElement("p",{className:"bdgtbtntitle"},e.prodCatName),l.a.createElement("p",null,e.quantity.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")+" mt"),l.a.createElement("p",null,"$ "+e.profit.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","))))}):"Please add a product.")),l.a.createElement("div",{className:"budgetprepdata"},l.a.createElement("div",{className:"bdgtleftbottompanel"},l.a.createElement("div",{className:"budgettablesandresponse"},l.a.createElement("div",{className:"budgettables",ref:Re},fa?Object.keys(fa).map(function(e,n){var o=0,i=0,s=0,g=0,b=0,y=0;return[l.a.createElement("div",{className:"bdgtpnametable"},l.a.createElement("div",{className:"bdgtpnametabletitle"},l.a.createElement("h3",null,"2024 ",e," Budget"),l.a.createElement(le.a,{icon:ie.j,onClick:function(t){ua(Object(c.a)({},sa,Object(u.a)({},e,!sa[e])))}}),l.a.createElement("div",{className:sa&&sa[e]?"bdgtselectallcty showbdgtpane":"bdgtselectallcty hidebdgtpane"},l.a.createElement("h4",null,"Select countries to add."),l.a.createElement("div",{className:"bdgtselectctycty"},Ar?Ar.map(function(t){return l.a.createElement("div",{className:"addctyrow"},l.a.createElement("input",{type:"checkbox",name:t.countryID,onClick:function(a){a.target.checked&&qa?$a(Object(c.a)({},qa,Object(u.a)({},e,Object(c.a)({},qa[e],Object(u.a)({},t.countryID,t.country))))):$a(function(a){var r=Object(c.a)({},a);return delete r[e][t.countryID],r})}}),l.a.createElement("label",{for:t.countyID},t.country))}):""),l.a.createElement("div",{className:"addprodcanceladd"},l.a.createElement("button",{className:"cancelprodbutton",onClick:function(t){ua(Object(c.a)({},sa,Object(u.a)({},e,!1)))}},"Cancel"),l.a.createElement("button",{className:"addprodbutton",onClick:function(t){Qa(e)}},"Confirm")))),l.a.createElement("div",{className:"board"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"countrycol"},"Country"),l.a.createElement("td",{className:"bdgtdatacol"},"Q1"),l.a.createElement("td",{className:"bdgtdatacol"},"Q2"),l.a.createElement("td",{className:"bdgtdatacol"},"Q3"),l.a.createElement("td",{className:"bdgtdatacol"},"Q4"),l.a.createElement("td",{className:"bdgtdatacol"},"Total"),l.a.createElement("td",{className:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgtdatacol"},"Price"),l.a.createElement("td",{className:"bdgtdatacol"},"Profit"),l.a.createElement("td",{className:"bdgtdatacol"},"Ttl Profit"),l.a.createElement("td",{className:"bdgtdatacol"},"% Mgn"))),l.a.createElement("tbody",null,Object.keys(fa[e]).map(function(n,N){var O=0,j=0,w=0,S=0,C=0,D=0;Object.keys(fa[e][n]).forEach(function(t){O+=fa[e][n][t][0],j+=fa[e][n][t][1],w+=fa[e][n][t][2],S+=fa[e][n][t][3],er&&er[e]&&er[e][n]&&er[e][n][t]&&er[e][n][t].price&&(C+=er[e][n][t].price*(fa[e][n][t][0]+fa[e][n][t][1]+fa[e][n][t][2]+fa[e][n][t][3])),er&&er[e]&&er[e][n]&&er[e][n][t]&&er[e][n][t].profit&&(D+=er[e][n][t].profit*(fa[e][n][t][0]+fa[e][n][t][1]+fa[e][n][t][2]+fa[e][n][t][3]))}),o+=O,i+=j,s+=w,g+=S;var k=0===C?0:C/(O+j+w+S),F=0===D?0:D/(O+j+w+S);return b+=C,y+=D,[l.a.createElement("tr",{className:"bdgtregionrow"},l.a.createElement("td",{className:"bdgtregioncol"},l.a.createElement(le.a,{className:"bdgtctyrowadd",icon:ie.j,onClick:function(t){Lr(Object(c.a)({},Ir,Object(u.a)({},e,Object(c.a)({},Ir[e],Object(u.a)({},n,!Ir[e][n]))))),function(e){p.a.post("/bdgtloadregcty",{reg:e}).then(function(t){qr(Object(c.a)({},Tr,Object(u.a)({},e,[t.data])))})}(n)}}),"Latin America"===n?"L. America":n,l.a.createElement("div",{className:Ir&&Ir[e]?Ir[e][n]?"bdgtselectcty showbdgtpane":"bdgtselectcty hidebdgtpane":""},l.a.createElement("h4",null,"Select countries to add in ",n),l.a.createElement("div",{className:"bdgtselectctycty"},Tr&&Tr[n]?Tr[n][0].map(function(t){return l.a.createElement("div",{className:"addctyrow"},l.a.createElement("input",{type:"checkbox",name:t.countryID,value:e,onClick:function(a){a.target.checked&&qa?$a(Object(c.a)({},qa,Object(u.a)({},e,Object(c.a)({},qa[e],Object(u.a)({},t.countryID,t.country))))):$a(function(a){var r=Object(c.a)({},a);return delete r[e][t.countryID],r})}}),l.a.createElement("label",{for:t.countryID},t.country))}):""),l.a.createElement("div",{className:"addprodcanceladd"},l.a.createElement("button",{className:"cancelprodbutton",onClick:function(t){Lr(Object(c.a)({},Ir,Object(u.a)({},e,Object(c.a)({},Ir[e],Object(u.a)({},n,!Ir[e][n])))))}},"Cancel"),l.a.createElement("button",{className:"addprodbutton",onClick:function(t){Qa(e)}},"Confirm")))),l.a.createElement("td",{className:"bdgtregioncolttl"},O),l.a.createElement("td",{className:"bdgtregioncolttl"},j),l.a.createElement("td",{className:"bdgtregioncolttl"},w),l.a.createElement("td",{className:"bdgtregioncolttl"},S),l.a.createElement("td",{className:"bdgtregioncolttl"},O+j+w+S),l.a.createElement("td",{className:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgtregioncolttl"},"$"+k.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgtregioncolttl"},"$"+F.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgtregioncolttl"},"$"+(F*(O+j+w+S)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgtregioncolttl"},0===F||0===k?"0%":(F/k*100).toFixed(1)+"%")),Object.keys(fa[e][n]).map(function(o){var i=Dr;return Dr+=2,[l.a.createElement("tr",null,l.a.createElement("td",{className:"countrycol"},"Dominican Republic"===o?"Dom Rep":o),Object.keys(fa[e][n][o]).map(function(i){var s=Cr;return Cr+=1,[l.a.createElement("td",{onContextMenu:function(){var e=Object(P.a)(Ie().mark(function e(t){return Ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,new Promise(function(e,t){a(!0),e(!0)});case 3:!0===e.sent&&h.current.focus(),r({x:t.pageX,y:t.pageY});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),className:Ht&&Ht[s]?Nr&&Nr.includes(Ht[s].budgetentryID)?"bdgtdatacol cellwithcomment":"bdgtdatacol":""},l.a.createElement("div",{style:{position:"relative"},className:"tile ".concat(xe===s?"active":""," ").concat(Ht&&Ht[s]&&Nr&&Nr.includes(Ht[s].budgetentryID)?"cellwithcomment":"")},l.a.createElement("input",{value:fa[e][n][o][i],onChange:function(t){!function(e,t,a,r,n){RegExp("^[0-9.%]+$").test(e.target.value)&&ha(Object(c.a)({},fa,Object(u.a)({},t,Object(c.a)({},fa[t],Object(u.a)({},a,Object(c.a)({},fa[t][a],Object(u.a)({},r,Object(c.a)({},fa[t][a][r],Object(u.a)({},n,Number(e.target.value))))))))))}(t,e,n,o,i)},className:Ht&&Ht[s]?Nr&&Nr.includes(Ht[s].budgetentryID)?"cell-input cellwithcomment":"cell-input":"",onFocus:function(e){we(s),e.target.select(),dt(!0),bt(!1),a(!1),d("")},ref:function(e){return Ke.current[s]=e},onBlur:function(t){!function(e,t,a,r,n,c){var o=Number(e.target.value);o!==Number(ya[a][r][n][c])&&o!==Number(Oa[a][r][n][c])&&p.a.post("/savebdgtqty",{newqty:o,entryID:Ht[t].budgetentryID}).then(function(e){lt(e.data.msg),ja(fa),He(!Ue)}),o===Number(ya[a][r][n][c])&&Number(Oa[a][r][n][c])!==Number(ya[a][r][n][c])&&p.a.post("/savebdgtqty",{newqty:o,entryID:Ht[t].budgetentryID}).then(function(e){lt(e.data.msg),ja(fa),He(!Ue)})}(t,s,e,n,o,i),E(!v)},id:Ht&&Ht[s]?Ht[s].budgetentryID:""}),t&&xe===s&&l.a.createElement("div",{className:"contextMenu",style:{zIndex:10}},l.a.createElement("ul",null,l.a.createElement("li",{className:"bdgtcomment"},br&&Array.isArray(br)?br.map(function(e){if(e.budgetEntryID===Ht[s].budgetentryID)return l.a.createElement("p",null,e.user+": "+e.bdgtComment)}):""),l.a.createElement("li",null,l.a.createElement("textarea",{ref:h,maxLength:200,onChange:function(e){d(e.target.value)},type:"textarea",value:m})),l.a.createElement("li",null,l.a.createElement("button",{onClick:function(e){var t,r;e.preventDefault(),t=Ht[s].budgetentryID,r=Ht[s].prodCatNameID,""!==m&&p.a.post("/savenewbudgetcomment",{id:t,commentdate:oe()().format("YYYY-MM-DD HH:mm"),newcomment:m,user:f,prodCatNameID:r,bdgtyear:x}).then(function(e){d(""),a(!1),Sr(!wr)})}},"Add Comment"))))))]}),l.a.createElement("td",{className:"bdgtcountrytotals"},fa[e][n][o][0]+fa[e][n][o][1]+fa[e][n][o][2]+fa[e][n][o][3]),l.a.createElement("td",{className:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgtctyeconomics"},l.a.createElement("input",{className:"cell-input",value:er&&er[e]&&er[e][n]&&er[e][n][o]&&null!==er[e][n][o].price?er[e][n][o].price:"na",onChange:function(t){Ye(t,e,n,o,"price")},onFocus:function(e){Le(i),e.target.select(),dt(!1),bt(!0),we(-1)},ref:function(e){return Me.current[i]=e},onBlur:function(t){it(t,0,e,n,o,"price"),E(!v)}})),l.a.createElement("td",{className:"bdgtctyeconomics"},l.a.createElement("input",{className:"cell-input",value:er&&er[e]&&er[e][n]&&er[e][n][o]&&null!==er[e][n][o].profit?er[e][n][o].profit:"na",onChange:function(t){Ye(t,e,n,o,"profit")},onFocus:function(e){Le(i+1),e.target.select(),dt(!1),bt(!0),we(-1)},ref:function(e){return Me.current[i+1]=e},onBlur:function(t){it(t,0,e,n,o,"profit"),E(!v)}})),l.a.createElement("td",{className:"bdgtctyeconomics"},er&&fa&&er[e]&&fa[e]&&er[e][n]&&fa[e][n]&&er[e][n][o]&&fa[e][n][o]&&null!==er[e][n][o].profit?(er[e][n][o].profit*(fa[e][n][o][0]+fa[e][n][o][1]+fa[e][n][o][2]+fa[e][n][o][3])).toFixed(0):0),l.a.createElement("td",{className:"bdgtctyeconomics"},er&&er[e]&&er[e][n]&&er[e][n][o]&&null!==er[e][n][o].profit&&0!==er[e][n][o].price?(er[e][n][o].profit/er[e][n][o].price*100).toFixed(1)+"%":"0%"),l.a.createElement(le.a,{className:"bdgtctydelete",icon:ie.i,onClick:function(t){oa(Object(c.a)({},ca,Object(u.a)({},e,Object(c.a)({},ca[e],Object(u.a)({},n,Object(c.a)({},ca[e][n],Object(u.a)({},o,!ca[e][n][o])))))))}}),l.a.createElement("button",{className:ca&&ca[e]&&!0===ca[e][n][o]?"bdgtctydeletebtn showbdgtpane":"bdgtctydeletebtn hidebdgtpane",onClick:function(t){var a,r;a=e,r=o,p.a.post("/bdgtdelctyrow",{pname:Fa[a],countryid:Sa[r],year:x}).then(function(e){Va(!Ya)})}},"Delete"))]})]}),l.a.createElement("tr",null,l.a.createElement("td",{className:"bdgttotal"},"Total"),l.a.createElement("td",{className:"bdgttotalqty"},o),l.a.createElement("td",{className:"bdgttotalqty"},i),l.a.createElement("td",{className:"bdgttotalqty"},s),l.a.createElement("td",{className:"bdgttotalqty"},g),l.a.createElement("td",{className:"bdgttotalqty"},o+i+s+g),l.a.createElement("td",{class:"bdgtcolseparation"}),l.a.createElement("td",{className:"bdgttotalqty"},0===b||o+i+s+g===0?0:"$"+(b/(o+i+s+g)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgttotalqty"},0===y||o+i+s+g===0?0:"$"+(y/(o+i+s+g)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgttotalqty"},0===y?0:"$"+y.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"bdgttotalqty"},0===y||0==b?0:(y/b*100).toFixed(1)+"%"))))))]}):""),l.a.createElement("span",{className:"bdgtresponsemsg",ref:g},ot)),l.a.createElement("div",{className:"lyearfigures"},fa&&Ha?Object.keys(fa).map(function(e){var t=0,a=0,r=0;return[l.a.createElement("h3",null,x-1," ",e," Sales Figures"),l.a.createElement("table",{className:"lyeartable"},l.a.createElement("thead",{className:"lyearhead"},l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearcountrycol"},"Country"),l.a.createElement("td",{className:"lyeardatah"},"Qty"),l.a.createElement("td",{className:"lyeardatah"},"Price"),l.a.createElement("td",{className:"lyeardatah"},"Profit"),l.a.createElement("td",{className:"lyeardatah"},"Ttl Profit"),l.a.createElement("td",{className:"lyeardatah"},"Margin"))),l.a.createElement("tbody",null,Object.keys(fa[e]).map(function(n){var c=0,o=0,i=0;return Object.keys(fa[e][n]).forEach(function(t){Ha&&Ha[e]&&Ha[e][n]&&Ha[e][n][t]&&Ha[e][n][t].quantity&&Ha[e][n][t].avgprice&&Ha[e][n][t].avgprofit&&Ha[e][n][t].totalprofit&&(c+=Ha[e][n][t].quantity,o+=Ha[e][n][t].quantity*Ha[e][n][t].avgprice,i+=Ha[e][n][t].quantity*Ha[e][n][t].avgprofit,Ha[e][n][t].totalprofit)}),[l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearregrow lyearcountrycol"},"Latin America"===n?"L. America":n),l.a.createElement("td",{className:"lyearregrowdata"},c),l.a.createElement("td",{className:"lyearregrowdata"},0===c?0:"$ "+(o/c).toFixed(0)),l.a.createElement("td",{className:"lyearregrowdata"},0===c?0:"$ "+(i/c).toFixed(0)),l.a.createElement("td",{className:"lyearregrowdata"},0===c?"$ 0":"$ "+i.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"lyearregrowdata"},0===o?"0%":(i/o*100).toFixed(0)+"%")),Object.keys(fa[e][n]).map(function(c){return Ha&&Ha[e]&&Ha[e][n]&&Ha[e][n][c]&&Ha[e][n][c].quantity&&(t+=Ha[e][n][c].quantity),Ha&&Ha[e]&&Ha[e][n]&&Ha[e][n][c]&&Ha[e][n][c].quantity&&Ha[e][n][c].avgprice&&(a+=Ha[e][n][c].avgprice*Ha[e][n][c].quantity),Ha&&Ha[e]&&Ha[e][n]&&Ha[e][n][c]&&Ha[e][n][c].quantity&&Ha[e][n][c].avgprofit&&(r+=Ha[e][n][c].avgprofit*Ha[e][n][c].quantity),[l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearcountrycol"},"Dominican Republic"===c?"Dom Rep":c),l.a.createElement("td",{className:"lyeardata"},Ha&&Ha[e]&&Ha[e][n]&&Ha[e][n][c]&&Ha[e][n][c].quantity?Ha[e][n][c].quantity:0),l.a.createElement("td",{className:"lyeardata"},Ha&&Ha[e]&&Ha[e][n]&&Ha[e][n][c]&&Ha[e][n][c].avgprice?"$ "+Ha[e][n][c].avgprice:0),l.a.createElement("td",{className:"lyeardata"},Ha&&Ha[e]&&Ha[e][n]&&Ha[e][n][c]&&Ha[e][n][c].avgprofit?"$ "+Ha[e][n][c].avgprofit:0),l.a.createElement("td",{className:"lyeardata",style:{width:"80px"}},Ha&&Ha[e]&&Ha[e][n]&&Ha[e][n][c]&&Ha[e][n][c].avgprofit&&Ha[e][n][c].quantity?"$ "+(Ha[e][n][c].avgprofit*Ha[e][n][c].quantity).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ 0"),l.a.createElement("td",{className:"lyeardata"},Ha&&Ha[e]&&Ha[e][n]&&Ha[e][n][c]&&Ha[e][n][c].avgprofit&&Ha[e][n][c].avgprice?(Ha[e][n][c].avgprofit/Ha[e][n][c].avgprice*100).toFixed(0)+"%":"0%"))]})]}),l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearcountrycolttl",style:{background:"rgb(160, 182, 103)"}},"Total"),l.a.createElement("td",{className:"lyeardatattl",style:{background:"rgb(160, 182, 103)"}},t),l.a.createElement("td",{className:"lyeardatattl",style:{background:"rgb(160, 182, 103)"}},0===t?0:"$ "+(a/t).toFixed(0)),l.a.createElement("td",{className:"lyeardatattl",style:{background:"rgb(160, 182, 103)"}},0===t?0:"$ "+(r/t).toFixed(0)),l.a.createElement("td",{className:"lyeardatattl",style:{background:"rgb(160, 182, 103)"}},0===t?"$ 0":"$ "+r.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"lyeardatattl",style:{background:"rgb(160, 182, 103)"}},0===a?"0%":(r/a*100).toFixed(0)+"%"))))]}):""),l.a.createElement("div",{className:"lyearfigures"},fa&&dr?Object.keys(fa).map(function(e){var t=0,a=0,r=0;return[l.a.createElement("h3",null,x-1," ",e," Budget"),l.a.createElement("table",{className:"lyeartable"},l.a.createElement("thead",{className:"lyearhead"},l.a.createElement("tr",null,l.a.createElement("td",{className:"lyeardatah",style:{background:"rgb(68, 65, 162)"}},"Qty"),l.a.createElement("td",{className:"lyeardatah",style:{background:"rgb(68, 65, 162)"}},"Price"),l.a.createElement("td",{className:"lyeardatah",style:{background:"rgb(68, 65, 162)"}},"Profit"),l.a.createElement("td",{className:"lyeardatah",style:{background:"rgb(68, 65, 162)"}},"Ttl Profit"),l.a.createElement("td",{className:"lyeardatah",style:{background:"rgb(68, 65, 162)"}},"Margin"))),l.a.createElement("tbody",null,Object.keys(fa[e]).map(function(n){var c=0,o=0,i=0;return Object.keys(fa[e][n]).forEach(function(t){dr&&dr[e]&&dr[e][n]&&dr[e][n][t]&&dr[e][n][t].quantity&&dr[e][n][t].avgprice&&dr[e][n][t].avgprofit&&(c+=dr[e][n][t].quantity,o+=dr[e][n][t].quantity*dr[e][n][t].avgprice,i+=dr[e][n][t].quantity*dr[e][n][t].avgprofit)}),[l.a.createElement("tr",null,l.a.createElement("td",{className:"lyearregrowdata"},c),l.a.createElement("td",{className:"lyearregrowdata"},0===c?0:"$ "+(o/c).toFixed(0)),l.a.createElement("td",{className:"lyearregrowdata"},0===c?0:"$ "+(i/c).toFixed(0)),l.a.createElement("td",{className:"lyearregrowdata",style:{width:"80px"}},0===c?"$ 0":"$ "+i.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"lyearregrowdata"},0===o?"0%":(i/o*100).toFixed(0)+"%")),Object.keys(fa[e][n]).map(function(c){return dr&&dr[e]&&dr[e][n]&&dr[e][n][c]&&dr[e][n][c].quantity&&(t+=dr[e][n][c].quantity),dr&&dr[e]&&dr[e][n]&&dr[e][n][c]&&dr[e][n][c].quantity&&dr[e][n][c].avgprice&&(a+=dr[e][n][c].avgprice*dr[e][n][c].quantity),dr&&dr[e]&&dr[e][n]&&dr[e][n][c]&&dr[e][n][c].quantity&&dr[e][n][c].avgprofit&&(r+=dr[e][n][c].avgprofit*dr[e][n][c].quantity),[l.a.createElement("tr",null,l.a.createElement("td",{className:"lyeardata"},dr&&dr[e]&&dr[e][n]&&dr[e][n][c]&&dr[e][n][c].quantity?dr[e][n][c].quantity:0),l.a.createElement("td",{className:"lyeardata"},dr&&dr[e]&&dr[e][n]&&dr[e][n][c]&&dr[e][n][c].avgprice?"$ "+dr[e][n][c].avgprice:0),l.a.createElement("td",{className:"lyeardata"},dr&&dr[e]&&dr[e][n]&&dr[e][n][c]&&dr[e][n][c].avgprofit?"$ "+dr[e][n][c].avgprofit:0),l.a.createElement("td",{className:"lyeardata"},dr&&dr[e]&&dr[e][n]&&dr[e][n][c]&&dr[e][n][c].avgprofit&&dr[e][n][c].quantity?"$ "+(dr[e][n][c].avgprofit*dr[e][n][c].quantity).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"$ 0"),l.a.createElement("td",{className:"lyeardata"},dr&&dr[e]&&dr[e][n]&&dr[e][n][c]&&dr[e][n][c].avgprofit&&dr[e][n][c].avgprice?(dr[e][n][c].avgprofit/dr[e][n][c].avgprice*100).toFixed(0)+"%":"0%"))]})]}),l.a.createElement("tr",null,l.a.createElement("td",{className:"lyeardatattl",style:{background:"rgb(68, 65, 162)"}},t),l.a.createElement("td",{className:"lyeardatattl",style:{background:"rgb(68, 65, 162)"}},0===t?0:"$ "+(a/t).toFixed(0)),l.a.createElement("td",{className:"lyeardatattl",style:{background:"rgb(68, 65, 162)"}},0===t?0:"$ "+(r/t).toFixed(0)),l.a.createElement("td",{className:"lyeardatattl",style:{background:"rgb(68, 65, 162)"}},0===t?"$ 0":"$ "+r.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("td",{className:"lyeardatattl",style:{background:"rgb(68, 65, 162)"}},0===a?"0%":(r/a*100).toFixed(0)+"%"))))]}):"")),l.a.createElement("div",{className:"budgetbyprod"},l.a.createElement("h4",null,"Budget Summary Figures 2024"),l.a.createElement("div",{className:"bdgtsummarybuttons1"},l.a.createElement("p",null,"Level 1:"),l.a.createElement("button",{onClick:function(e){Ur("region"),Lt(1)},className:1===It?"bdgtlvl1active":""},"Region"),l.a.createElement("button",{onClick:function(e){Ur("productGroup"),Lt(2)},className:2===It?"bdgtlvl1active":""},"Group"),l.a.createElement("button",{onClick:function(e){Ur("prodCatName"),Lt(3)},className:3===It?"bdgtlvl1active":""},"Category"),l.a.createElement("button",{onClick:function(e){Ur("abbreviation"),Lt(4)},className:4===It?"bdgtlvl1active":""},"Name"),l.a.createElement("button",{onClick:function(e){Ur("country"),Lt(5)},className:5===It?"bdgtlvl1active":""},"Country")),l.a.createElement("div",{className:"bdgtsummarybuttons2"},l.a.createElement("p",null,"Level 2:"),l.a.createElement("button",{onClick:function(e){Zr("region"),qt(1)},className:1===Tt?"bdgtlvl2active":""},"Region"),l.a.createElement("button",{onClick:function(e){Zr("productGroup"),qt(2)},className:2===Tt?"bdgtlvl2active":""},"Group"),l.a.createElement("button",{onClick:function(e){Zr("prodCatName"),qt(3)},className:3===Tt?"bdgtlvl2active":""},"Category"),l.a.createElement("button",{onClick:function(e){Zr("abbreviation"),qt(4)},className:4===Tt?"bdgtlvl2active":""},"Name"),l.a.createElement("button",{onClick:function(e){Zr("country"),qt(5)},className:5===Tt?"bdgtlvl2active":""},"Country")),l.a.createElement("div",{className:"bdgtsummarybuttons"},l.a.createElement("p",null,"Show:"),l.a.createElement("button",{onClick:function(e){an("quantity"),Gt(1)},className:1===At?"bdgtlvl3active":""},"Quantity (mt)"),l.a.createElement("button",{onClick:function(e){an("profit"),Gt(2)},className:2===At?"bdgtlvl3active":""},"Profit ($)"),l.a.createElement("button",{onClick:function(e){an("avgprofit"),Gt(3)},className:3===At?"bdgtlvl3active":""},"Avg. Profit ($)"),l.a.createElement("button",{onClick:function(e){an("margin"),Gt(4)},className:4===At?"bdgtlvl3active":""},"Margin (%)")),l.a.createElement("ul",{className:"bdgtsummarytable"},l.a.createElement("li",{className:"stblrow stblheader"},l.a.createElement("p",{className:"stblcollarge"},"Country"),l.a.createElement("p",{className:"stblfig"},"Q1"),l.a.createElement("p",{className:"stblfig"},"Q2"),l.a.createElement("p",{className:"stblfig"},"Q3"),l.a.createElement("p",{className:"stblfig"},"Q4"),l.a.createElement("p",{className:"stblfig"},"Total")),l.a.createElement("div",{className:"bdgtsummarydata"},at?Object.entries(at.groupBy(Wr)).sort(function(e,t){var a=Object(n.a)(e,2)[1],r=Object(n.a)(t,2)[1];return"quantity"===tn||"profit"===tn?vn(r,tn)-vn(a,tn):"avgprofit"===tn?En(r,"profit","quantity")-En(a,"profit","quantity"):"margin"===tn?En(r,"profit","revenue")-En(a,"profit","revenue"):void 0}).map(function(e,t){var a=0,r=0,c=0,o=0,i=0,s=0,u=0,m=0,p=0,d=0,f=0,h=0;return e[1].forEach(function(e){1===e.quarter&&(a+=e.quantity,i+=e.profit,p+=e.revenue),2===e.quarter&&(r+=e.quantity,s+=e.profit,d+=e.revenue),3===e.quarter&&(c+=e.quantity,u+=e.profit,f+=e.revenue),4===e.quarter&&(o+=e.quantity,m+=e.profit,h+=e.revenue)}),[l.a.createElement(Ne.a,{className:"bdgtacc",allowZeroExpanded:!0},l.a.createElement(Ne.b,{style:{border:"none"}},l.a.createElement(Ne.d,null,l.a.createElement(Ne.c,{className:"bsummaccordion_button"},l.a.createElement("li",{className:"stblrow"},l.a.createElement("p",{className:"stblcollarge"},"Latin America"===e[0]?"L. America":"Dominican Republic"===e[0]?"Dom Rep":e[0]),l.a.createElement("p",{className:"stblfig"},"quantity"===tn?a.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===tn?"$"+i.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==i&&0!==a&&"avgprofit"===tn?"$"+(i/a).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==i&&0!==a&&"margin"===tn?(i/p*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===tn?r.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===tn?"$ "+s.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==s&&0!==r&&"avgprofit"===tn?"$"+(s/r).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==s&&0!==r&&"margin"===tn?(s/d*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===tn?c.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===tn?"$ "+u.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==u&&0!==c&&"avgprofit"===tn?"$"+(u/c).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==u&&0!==c&&"margin"===tn?(u/f*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===tn?o.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===tn?"$ "+m.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==m&&0!==o&&"avgprofit"===tn?"$"+(m/o).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==m&&0!==o&&"margin"===tn?(m/h*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===tn?(a+r+c+o).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===tn?"$ "+(i+s+u+m).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):i+s+u+m!==0&&a+r+c+o!==0&&"avgprofit"===tn?"$"+((i+s+u+m)/(a+r+c+o)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):i+s+u+m!==0&&p+d+f+h!==0&&"margin"===tn?((i+s+u+m)/(p+d+f+h)*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-")))),l.a.createElement(Ne.e,{className:"bdgtaccpanel"},Object.entries(e[1].groupBy(Jr)).sort(function(e,t){var a=Object(n.a)(e,2)[1],r=Object(n.a)(t,2)[1];return"quantity"===tn||"profit"===tn?vn(r,tn)-vn(a,tn):"avgprofit"===tn?En(r,"profit","quantity")-En(a,"profit","quantity"):"margin"===tn?En(r,"profit","revenue")-En(a,"profit","revenue"):void 0}).map(function(e){var t=0,a=0,r=0,n=0,c=0,o=0,i=0,s=0,u=0,m=0,p=0,d=0;return e[1].forEach(function(e){1===e.quarter&&(t+=e.quantity,c+=e.profit,u+=e.revenue,on+=e.quantity,mn+=e.profit,hn+=e.revenue),2===e.quarter&&(a+=e.quantity,o+=e.profit,m+=e.revenue,ln+=e.quantity,pn+=e.profit,gn+=e.revenue),3===e.quarter&&(r+=e.quantity,i+=e.profit,p+=e.revenue,sn+=e.quantity,dn+=e.profit,bn+=e.revenue),4===e.quarter&&(n+=e.quantity,s+=e.profit,d+=e.revenue,un+=e.quantity,fn+=e.profit,yn+=e.revenue)}),l.a.createElement("li",{className:"stblrow"},l.a.createElement("p",{className:"stblcollarge"},"Dominican Republic"===e[0]?"Dom Rep":"Latin America"===e[0]?"L. America":e[0]),l.a.createElement("p",{className:"stblfig"},"quantity"===tn?t.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===tn?"$ "+c.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==c&&0!==t&&"avgprofit"===tn?"$ "+(c/t).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==c&&0!==u&&"margin"===tn?(c/u*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===tn?a.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===tn?"$ "+o.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==o&&0!==a&&"avgprofit"===tn?"$ "+(o/a).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==o&&0!==m&&"margin"===tn?(o/m*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===tn?r.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===tn?"$ "+i.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==i&&0!==r&&"avgprofit"===tn?"$ "+(i/r).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==i&&0!==p&&"margin"===tn?(i/p*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig"},"quantity"===tn?n.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===tn?"$ "+s.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==s&&0!==n&&"avgprofit"===tn?"$ "+(s/n).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==s&&0!==d&&"margin"===tn?(s/d*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===tn?(t+a+r+n).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===tn?"$ "+(c+o+i+s).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):c+o+i+s!==0&&t+a+r+n!==0&&"avgprofit"===tn?"$ "+((c+o+i+s)/(t+a+r+n)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):c+o+i+s!==0&&u+m+p+d!==0&&"margin"===tn?((c+o+i+s)/(u+m+p+d)*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"))}))))]}):"",l.a.createElement("li",{className:"stblrow stblfooter"},l.a.createElement("p",{className:"stblcollarge  stbltotal"},"TOTAL"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===tn?on.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===tn?"$ "+mn.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==on&&0!==mn&&"avgprofit"===tn?"$"+(mn/on).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==on&&0!==hn&&"margin"===tn?(mn/hn*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===tn?ln.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===tn?"$ "+pn.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==ln&&0!==pn&&"avgprofit"===tn?"$"+(pn/ln).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==gn&&0!==pn&&"margin"===tn?(pn/gn*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===tn?sn.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===tn?"$ "+dn.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==sn&&0!==dn&&"avgprofit"===tn?"$"+(dn/sn).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==bn&&0!==dn&&"margin"===tn?(dn/bn*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===tn?un.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===tn?"$ "+fn.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==un&&0!==fn&&"avgprofit"===tn?"$"+(fn/un).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):0!==yn&&0!==fn&&"margin"===tn?(fn/yn*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-"),l.a.createElement("p",{className:"stblfig stbltotal"},"quantity"===tn?(on+ln+sn+un).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):"profit"===tn?"$ "+(mn+pn+dn+fn).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):on+ln+sn+un!==0&&mn+pn+dn+fn!==0&&"avgprofit"===tn?"$"+((mn+pn+dn+fn)/(on+ln+sn+un)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","):hn+gn+bn+yn!==0&&mn+pn+dn+fn!==0&&"margin"===tn?((mn+pn+dn+fn)/(hn+gn+bn+yn)*100).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"%":"-")))))))},Be=function(){var e=JSON.parse(localStorage.getItem("role"));return l.a.createElement("div",{className:"budgetcontainer"},l.a.createElement("div",{className:"budgetnav"},2===e||1===e?l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/budget/budget2023",exact:!0},"2023"):"",l.a.createElement(i.b,{activeClassName:"navbaractive",to:"/budget/budget2024",exact:!0},"2024")),l.a.createElement("div",{className:"gridcontainer budgetgridcontainer"},2===e||1===e?l.a.createElement(s.a,{path:"/budget/budget2023"},l.a.createElement(Ce,null)):"",l.a.createElement(s.a,{path:"/budget/budget2024"},l.a.createElement(Le,null))))};a.d(t,"a",function(){return Pe});var Pe=Object(o.createContext)(),Te={isAuthenticated:JSON.parse(localStorage.getItem("isAuthenticated"))||!1,user:JSON.parse(localStorage.getItem("user"))||null,accesstoken:null,refreshtoken:JSON.parse(localStorage.getItem("refreshtoken"))||null},qe=function(e,t){switch(t.type){case"LOGIN":return localStorage.setItem("user",JSON.stringify(t.payload.user)),localStorage.setItem("WGusercode",JSON.stringify(t.payload.usercode)),localStorage.setItem("WGuserID",JSON.stringify(t.payload.userID)),localStorage.setItem("refreshtoken",JSON.stringify(t.payload.refreshtoken)),localStorage.setItem("accesstoken",JSON.stringify(t.payload.accesstoken)),localStorage.setItem("isAuthenticated",!0),localStorage.setItem("role",t.payload.role),Object(c.a)({},e,{isAuthenticated:!0,user:t.payload.user,usercode:t.payload.usercode,refreshtoken:t.payload.refreshtoken,accesstoken:t.payload.accesstoken});case"LOGOUT":return localStorage.removeItem("user"),localStorage.removeItem("WGusercode"),localStorage.removeItem("WGuserID"),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("refreshtoken"),localStorage.removeItem("accesstoken"),localStorage.removeItem("role"),localStorage.removeItem("rgl-mgmt"),Object(c.a)({},e,{isAuthenticated:!1,user:null});default:return}};t.b=function(){var e=JSON.parse(localStorage.getItem("role")),t=Object(o.useReducer)(qe,Te),a=Object(n.a)(t,2),r=a[0],c=a[1];return l.a.createElement(Ee.b,null,l.a.createElement(w.b,null,l.a.createElement(Pe.Provider,{value:{state:r,dispatch:c}},l.a.createElement("div",{className:"App"},r.isAuthenticated?l.a.createElement(l.a.Fragment,null,l.a.createElement(O,null),l.a.createElement(i.a,null,l.a.createElement(x,null),l.a.createElement(s.c,null,6===e?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{path:"/"},l.a.createElement(v.a,null))):5===e?l.a.createElement(l.a.Fragment,null," ",l.a.createElement(s.a,{path:"/analysis"},l.a.createElement(ee,null)),l.a.createElement(s.a,{exact:!0,path:"/"},l.a.createElement(j.a,null)),l.a.createElement(s.a,{path:"/sales"},l.a.createElement(v.a,null)),l.a.createElement(s.a,{path:"/logistics"},l.a.createElement(re.b,null,l.a.createElement(ve,null))),l.a.createElement(s.a,{path:"/budget"},l.a.createElement(Be,null))):4===e?l.a.createElement(s.a,{path:"/"},l.a.createElement(re.b,null,l.a.createElement(ve,null))):3===e?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{path:"/analysis"},l.a.createElement(ee,null)),l.a.createElement(s.a,{exact:!0,path:"/"},l.a.createElement(j.a,null)),l.a.createElement(s.a,{path:"/sales"},l.a.createElement(v.a,null)),l.a.createElement(s.a,{path:"/logistics"},l.a.createElement(re.b,null,l.a.createElement(ve,null))),l.a.createElement(s.a,{path:"/budget"},l.a.createElement(Be,null))):2===e?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{path:"/management"},l.a.createElement(B,null)),l.a.createElement(s.a,{path:"/analysis"},l.a.createElement(ee,null)),l.a.createElement(s.a,{exact:!0,path:"/"},l.a.createElement(j.a,null)),l.a.createElement(s.a,{path:"/sales"},l.a.createElement(v.a,null)),l.a.createElement(s.a,{path:"/logistics"},l.a.createElement(re.b,null,l.a.createElement(ve,null))),l.a.createElement(s.a,{path:"/budget"},l.a.createElement(Be,null))):1===e?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{path:"/management"},l.a.createElement(B,null)),l.a.createElement(s.a,{path:"/analysis"},l.a.createElement(ee,null)),l.a.createElement(s.a,{exact:!0,path:"/"},l.a.createElement(j.a,null)),l.a.createElement(s.a,{path:"/sales"},l.a.createElement(v.a,null)),l.a.createElement(s.a,{path:"/logistics"},l.a.createElement(re.b,null,l.a.createElement(ve,null))),l.a.createElement(s.a,{path:"/budget"},l.a.createElement(Be,null)),l.a.createElement(s.a,{path:"/admin"},l.a.createElement(J,null))):""))):l.a.createElement(y,null)))))}}},[[454,3,2]]]);
//# sourceMappingURL=main.1ff61e85.chunk.js.map